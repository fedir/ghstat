HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Nov 2020 21:08:52 GMT
Link: <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fdirectus%2Fdirectus+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fdirectus%2Fdirectus+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
Vary: Accept, Authorization, Cookie, X-GitHub-OTP
Vary: Accept-Encoding, Accept, X-Requested-With
Vary: Accept-Encoding
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D916:BA8B:3C762C9:45E19F2:5FB04763
X-Oauth-Scopes: repo
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 0
X-Ratelimit-Reset: 1605388137
X-Ratelimit-Used: 31
X-Xss-Protection: 1; mode=block

1e98d
{"total_count":1757,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/knex/knex-schema-inspector/issues/23","repository_url":"https://api.github.com/repos/knex/knex-schema-inspector","labels_url":"https://api.github.com/repos/knex/knex-schema-inspector/issues/23/labels{/name}","comments_url":"https://api.github.com/repos/knex/knex-schema-inspector/issues/23/comments","events_url":"https://api.github.com/repos/knex/knex-schema-inspector/issues/23/events","html_url":"https://github.com/knex/knex-schema-inspector/issues/23","id":732347643,"node_id":"MDU6SXNzdWU3MzIzNDc2NDM=","number":23,"title":"Cannot read property 'column_name' of undefined","user":{"login":"MiniDigger","id":2185527,"node_id":"MDQ6VXNlcjIxODU1Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/2185527?v=4","gravatar_id":"","url":"https://api.github.com/users/MiniDigger","html_url":"https://github.com/MiniDigger","followers_url":"https://api.github.com/users/MiniDigger/followers","following_url":"https://api.github.com/users/MiniDigger/following{/other_user}","gists_url":"https://api.github.com/users/MiniDigger/gists{/gist_id}","starred_url":"https://api.github.com/users/MiniDigger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiniDigger/subscriptions","organizations_url":"https://api.github.com/users/MiniDigger/orgs","repos_url":"https://api.github.com/users/MiniDigger/repos","events_url":"https://api.github.com/users/MiniDigger/events{/privacy}","received_events_url":"https://api.github.com/users/MiniDigger/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-10-29T14:09:03Z","updated_at":"2020-10-29T15:04:00Z","closed_at":"2020-10-29T15:03:59Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Using a postgres db, the query should be an insert, but am just a user, I am not sure.\r\n\r\nStacktrace:\r\n```\r\n/directus $ npx -n=\"--trace-warnings\" directus roles create --name Administrator --admin \r\n(node:1094) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'column_name' of undefined\r\n    at Postgres.<anonymous> (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:325:51)\r\n    at step (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:33:23)\r\n    at Object.next (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:14:53)\r\n    at fulfilled (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:5:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n    at emitUnhandledRejectionWarning (internal/process/promises.js:168:15)\r\n    at processPromiseRejections (internal/process/promises.js:247:11)\r\n    at processTicksAndRejections (internal/process/task_queues.js:94:32)\r\n(node:1094) TypeError: Cannot read property 'column_name' of undefined\r\n    at Postgres.<anonymous> (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:325:51)\r\n    at step (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:33:23)\r\n    at Object.next (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:14:53)\r\n    at fulfilled (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:5:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n(node:1094) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n    at emitDeprecationWarning (internal/process/promises.js:180:11)\r\n    at processPromiseRejections (internal/process/promises.js:249:13)\r\n    at processTicksAndRejections (internal/process/task_queues.js:94:32)\r\n^C\r\n```\r\n\r\nfor reference: https://github.com/directus/next/issues/807","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/865","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/865/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/865/comments","events_url":"https://api.github.com/repos/directus/next/issues/865/events","html_url":"https://github.com/directus/next/issues/865","id":735501918,"node_id":"MDU6SXNzdWU3MzU1MDE5MTg=","number":865,"title":"Table creation with non default schema on postgres not working","user":{"login":"MiniDigger","id":2185527,"node_id":"MDQ6VXNlcjIxODU1Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/2185527?v=4","gravatar_id":"","url":"https://api.github.com/users/MiniDigger","html_url":"https://github.com/MiniDigger","followers_url":"https://api.github.com/users/MiniDigger/followers","following_url":"https://api.github.com/users/MiniDigger/following{/other_user}","gists_url":"https://api.github.com/users/MiniDigger/gists{/gist_id}","starred_url":"https://api.github.com/users/MiniDigger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiniDigger/subscriptions","organizations_url":"https://api.github.com/users/MiniDigger/orgs","repos_url":"https://api.github.com/users/MiniDigger/repos","events_url":"https://api.github.com/users/MiniDigger/events{/privacy}","received_events_url":"https://api.github.com/users/MiniDigger/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-11-03T17:19:16Z","updated_at":"2020-11-04T14:58:46Z","closed_at":"2020-11-03T18:41:43Z","author_association":"NONE","active_lock_reason":null,"body":"not sure if this is an issue in directus or knex, but gotta note down my findings somewhere.\r\n\r\nlets start with the error I get:\r\n```\r\n18:02:17 ßšè ¥rror insert into \"directus_collections\" default values - null value in column \"collection\" violates not-null constraint\r\n--\r\nÂ  | error: insert into \"directus_collections\" default values - null value in column \"collection\" violates not-null constraint\r\nÂ  | at Parser.parseErrorMessage (/directus/node_modules/pg-protocol/dist/parser.js:280:15)\r\nÂ  | at Parser.handlePacket (/directus/node_modules/pg-protocol/dist/parser.js:126:29)\r\nÂ  | at Parser.parse (/directus/node_modules/pg-protocol/dist/parser.js:39:38)\r\nÂ  | at Socket.<anonymous> (/directus/node_modules/pg-protocol/dist/index.js:10:42)\r\nÂ  | at Socket.emit (events.js:315:20)\r\nÂ  | at addChunk (_stream_readable.js:309:12)\r\nÂ  | at readableAddChunk (_stream_readable.js:284:9)\r\nÂ  | at Socket.Readable.push (_stream_readable.js:223:10)\r\nÂ  | at TCP.onStreamRead (internal/stream_base_commons.js:188:23)\r\n```\r\n\r\nthat is caused by schema inspector not returning the primary key column here:\r\nhttps://github.com/directus/next/blob/main/api/src/services/items.ts#L52\r\nbecause that particular instance of the inspector (why are there so many?) doesn't have my schema set, so it searches in 'public'.\r\n\r\ntaking one step back, that service (and thus that inspector) is created inside a transaction here:\r\nhttps://github.com/directus/next/blob/main/api/src/services/collections.ts#L57\r\n\r\nits getting passed trx (not this.knex, which would have the schema set), and that doesn't have a schema.\r\n\r\nI noticed that this.knex.transaction allows you to pass a config (https://github.com/knex/knex/blob/master/lib/util/make-knex.js#L125) but I am not sure what to pass there, passing this.knex.client.config blew up horrible.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/876","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/876/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/876/comments","events_url":"https://api.github.com/repos/directus/next/issues/876/events","html_url":"https://github.com/directus/next/issues/876","id":736001223,"node_id":"MDU6SXNzdWU3MzYwMDEyMjM=","number":876,"title":"Continue issue with wait db on bootstrap","user":{"login":"juancarlosjr97","id":36451129,"node_id":"MDQ6VXNlcjM2NDUxMTI5","avatar_url":"https://avatars2.githubusercontent.com/u/36451129?v=4","gravatar_id":"","url":"https://api.github.com/users/juancarlosjr97","html_url":"https://github.com/juancarlosjr97","followers_url":"https://api.github.com/users/juancarlosjr97/followers","following_url":"https://api.github.com/users/juancarlosjr97/following{/other_user}","gists_url":"https://api.github.com/users/juancarlosjr97/gists{/gist_id}","starred_url":"https://api.github.com/users/juancarlosjr97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juancarlosjr97/subscriptions","organizations_url":"https://api.github.com/users/juancarlosjr97/orgs","repos_url":"https://api.github.com/users/juancarlosjr97/repos","events_url":"https://api.github.com/users/juancarlosjr97/events{/privacy}","received_events_url":"https://api.github.com/users/juancarlosjr97/received_events","type":"User","site_admin":false},"labels":[{"id":2253116639,"node_id":"MDU6TGFiZWwyMjUzMTE2NjM5","url":"https://api.github.com/repos/directus/next/labels/DB:%20Postgres","name":"DB: Postgres","color":"d4c5f9","default":false,"description":"Specific to the PostgreSQL vendor"},{"id":2394627545,"node_id":"MDU6TGFiZWwyMzk0NjI3NTQ1","url":"https://api.github.com/repos/directus/next/labels/Docker","name":"Docker","color":"d4c5f9","default":false,"description":"Specific to Docker use"},{"id":2239612565,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY1","url":"https://api.github.com/repos/directus/next/labels/Invalid","name":"Invalid","color":"fef2c0","default":false,"description":"Something doesn't seem right here"}],"state":"closed","locked":false,"assignee":{"login":"WoLfulus","id":412397,"node_id":"MDQ6VXNlcjQxMjM5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/412397?v=4","gravatar_id":"","url":"https://api.github.com/users/WoLfulus","html_url":"https://github.com/WoLfulus","followers_url":"https://api.github.com/users/WoLfulus/followers","following_url":"https://api.github.com/users/WoLfulus/following{/other_user}","gists_url":"https://api.github.com/users/WoLfulus/gists{/gist_id}","starred_url":"https://api.github.com/users/WoLfulus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WoLfulus/subscriptions","organizations_url":"https://api.github.com/users/WoLfulus/orgs","repos_url":"https://api.github.com/users/WoLfulus/repos","events_url":"https://api.github.com/users/WoLfulus/events{/privacy}","received_events_url":"https://api.github.com/users/WoLfulus/received_events","type":"User","site_admin":false},"assignees":[{"login":"WoLfulus","id":412397,"node_id":"MDQ6VXNlcjQxMjM5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/412397?v=4","gravatar_id":"","url":"https://api.github.com/users/WoLfulus","html_url":"https://github.com/WoLfulus","followers_url":"https://api.github.com/users/WoLfulus/followers","following_url":"https://api.github.com/users/WoLfulus/following{/other_user}","gists_url":"https://api.github.com/users/WoLfulus/gists{/gist_id}","starred_url":"https://api.github.com/users/WoLfulus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WoLfulus/subscriptions","organizations_url":"https://api.github.com/users/WoLfulus/orgs","repos_url":"https://api.github.com/users/WoLfulus/repos","events_url":"https://api.github.com/users/WoLfulus/events{/privacy}","received_events_url":"https://api.github.com/users/WoLfulus/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-11-04T10:34:10Z","updated_at":"2020-11-04T15:58:36Z","closed_at":"2020-11-04T15:56:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Related to this fix: https://github.com/directus/next/pull/869\r\n\r\n### Environment:\r\n\r\n* Docker\r\n* PostgreSQL 9\r\n* directus/next:v9.0.0-rc.6\r\n\r\n### Steps to reproduce:\r\n\r\n1. Create `docker-compose.yml`\r\n\r\n```\r\nversion: \"3\"\r\n\r\nnetworks:\r\n  backend:\r\n\r\nservices:\r\n  db:\r\n    image: postgres:9.6-alpine\r\n    env_file: .env\r\n    environment:\r\n      POSTGRES_DB: ${POSTGRES_DB}\r\n      POSTGRES_USER: ${POSTGRES_USER}\r\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\r\n    ports:\r\n      - \"5432:5432\"\r\n    networks:\r\n      - backend\r\n\r\n  backend-directus:\r\n    image: directus/next:v9.0.0-rc.6\r\n    env_file: .env\r\n    ports:\r\n      - \"8055:8055\"\r\n    networks:\r\n      - backend\r\n```\r\n\r\n2. create `.env`\r\n\r\n```\r\n####################################################################################################\r\n## Admin account\r\n\r\nDIRECTUS_ADMIN_EMAIL=\"admin@local.com\"\r\nDIRECTUS_ADMIN_PASSWORD=\"pass\"\r\n\r\n####################################################################################################\r\n## Database\r\n\r\nPOSTGRES_DB=\"directus_local\"\r\nPOSTGRES_USER=\"admin\"\r\nPOSTGRES_PASSWORD=\"pass\"\r\n\r\n####################################################################################################\r\n## General\r\n\r\nPORT=8055\r\nPUBLIC_URL=\"/\"\r\n\r\n####################################################################################################\r\n## Database\r\n\r\nDB_CLIENT=\"pg\"\r\nDB_HOST=\"host.docker.internal\"\r\nDB_PORT=\"5432\"\r\nDB_DATABASE=\"directus_local\"\r\nDB_USER=\"admin\"\r\nDB_PASSWORD=\"pass\"\r\nDB_SSL=\"false\"\r\n\r\n####################################################################################################\r\n## Rate Limiting\r\n\r\nRATE_LIMITER_ENABLED=false\r\nRATE_LIMITER_STORE=memory\r\nRATE_LIMITER_POINTS=25\r\nRATE_LIMITER_DURATION=1\r\n\r\n####################################################################################################\r\n## Cache\r\n\r\nCACHE_ENABLED=false\r\n\r\n####################################################################################################\r\n## File Storage\r\n\r\nSTORAGE_LOCATIONS=\"local\"\r\nSTORAGE_LOCAL_PUBLIC_URL=\"/uploads\"\r\nSTORAGE_LOCAL_DRIVER=\"local\"\r\nSTORAGE_LOCAL_ROOT=\"./uploads\"\r\n\r\n####################################################################################################\r\n## Security\r\n\r\nKEY=\"e891ab56-d5e2-4d92-b844-26098e62797b\"\r\nSECRET=\"E4OhqYHBFKZOv8tmFwiY7XODAsqM5Q7D\"\r\n\r\nACCESS_TOKEN_TTL=\"15m\"\r\nREFRESH_TOKEN_TTL=\"7d\"\r\nREFRESH_TOKEN_COOKIE_SECURE=false\r\nREFRESH_TOKEN_COOKIE_SAME_SITE=\"lax\"\r\n\r\n####################################################################################################\r\n## SSO (OAuth) Providers\r\n\r\nOAUTH_PROVIDERS=\"\"\r\n\r\n####################################################################################################\r\n## Extensions\r\n\r\nEXTENSIONS_PATH=\"./extensions\"\r\n```\r\n\r\n3. Run `docker-compose up` and the following error is still present\r\n\r\n`(node:1) UnhandledPromiseRejectionWarning: error: select * from \"directus_webhooks\" where \"status\" = $1 - relation \"directus_webhooks\" does not exist`\r\n\r\n4. Run `docker-compose up` and it will create the database successfully. \r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/boxybird/laravel-directus-api-wrapper/issues/3","repository_url":"https://api.github.com/repos/boxybird/laravel-directus-api-wrapper","labels_url":"https://api.github.com/repos/boxybird/laravel-directus-api-wrapper/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/boxybird/laravel-directus-api-wrapper/issues/3/comments","events_url":"https://api.github.com/repos/boxybird/laravel-directus-api-wrapper/issues/3/events","html_url":"https://github.com/boxybird/laravel-directus-api-wrapper/issues/3","id":712025591,"node_id":"MDU6SXNzdWU3MTIwMjU1OTE=","number":3,"title":"User cached to same key","user":{"login":"christophrumpel","id":1394539,"node_id":"MDQ6VXNlcjEzOTQ1Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/1394539?v=4","gravatar_id":"","url":"https://api.github.com/users/christophrumpel","html_url":"https://github.com/christophrumpel","followers_url":"https://api.github.com/users/christophrumpel/followers","following_url":"https://api.github.com/users/christophrumpel/following{/other_user}","gists_url":"https://api.github.com/users/christophrumpel/gists{/gist_id}","starred_url":"https://api.github.com/users/christophrumpel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christophrumpel/subscriptions","organizations_url":"https://api.github.com/users/christophrumpel/orgs","repos_url":"https://api.github.com/users/christophrumpel/repos","events_url":"https://api.github.com/users/christophrumpel/events{/privacy}","received_events_url":"https://api.github.com/users/christophrumpel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-30T15:00:27Z","updated_at":"2020-10-01T10:16:14Z","closed_at":"2020-09-30T19:47:05Z","author_association":"NONE","active_lock_reason":null,"body":"Hey,\r\n\r\nI was checking the example for Authentication a directus user and I'm not sure if I got that right.\r\nIt seems that a user gets always cached with the same key `directus_auth_user` in the cache.\r\n\r\n- Key https://github.com/boxybird/laravel-directus-api-wrapper/blob/master/src/Directus/Directus.php#L15\r\n- Caching the user https://github.com/boxybird/laravel-directus-api-wrapper/blob/master/src/Directus/Directus.php#L15\r\n\r\nShouldn't the key be set to a unique session-id? Because currently, every user from every browser session has access to the cached user if you just run `Directus::getUser()`.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/711","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/711/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/711/comments","events_url":"https://api.github.com/repos/directus/next/issues/711/events","html_url":"https://github.com/directus/next/issues/711","id":724398524,"node_id":"MDU6SXNzdWU3MjQzOTg1MjQ=","number":711,"title":"[MSSQL] Does not work on v9.0.0-rc0","user":{"login":"mscbpi","id":28528210,"node_id":"MDQ6VXNlcjI4NTI4MjEw","avatar_url":"https://avatars1.githubusercontent.com/u/28528210?v=4","gravatar_id":"","url":"https://api.github.com/users/mscbpi","html_url":"https://github.com/mscbpi","followers_url":"https://api.github.com/users/mscbpi/followers","following_url":"https://api.github.com/users/mscbpi/following{/other_user}","gists_url":"https://api.github.com/users/mscbpi/gists{/gist_id}","starred_url":"https://api.github.com/users/mscbpi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mscbpi/subscriptions","organizations_url":"https://api.github.com/users/mscbpi/orgs","repos_url":"https://api.github.com/users/mscbpi/repos","events_url":"https://api.github.com/users/mscbpi/events{/privacy}","received_events_url":"https://api.github.com/users/mscbpi/received_events","type":"User","site_admin":false},"labels":[{"id":2239612557,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU3","url":"https://api.github.com/repos/directus/next/labels/Duplicate","name":"Duplicate","color":"CFD8DC","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-19T08:31:42Z","updated_at":"2020-10-19T20:24:40Z","closed_at":"2020-10-19T14:18:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"MSSQL DB does not at all.\r\n\r\n```\r\n08:27:12 ðŸš¨ RequestError select top (@p0) [directus_roles].[id], [directus_roles].[name], [directus_roles].[icon], [directus_roles].[description], [directus_roles].[ip_access], [directus_roles].[enforce_tfa], [directus_roles].[module_list], [directus_roles].[collection_list], [directus_roles].[admin_access], [directus_roles].[app_access] from [directus_roles] where [directus_roles].[id] in ((@p1, @p2)) - Incorrect syntax near ','.\r\n```\r\nSeems duplicate to https://github.com/directus/next/issues/409 but we're now in RC and we can't even login MSSQL.\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/949","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/949/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/949/comments","events_url":"https://api.github.com/repos/directus/next/issues/949/events","html_url":"https://github.com/directus/next/issues/949","id":740737297,"node_id":"MDU6SXNzdWU3NDA3MzcyOTc=","number":949,"title":"Error when filtering on revisions","user":{"login":"jojomillennium","id":6372094,"node_id":"MDQ6VXNlcjYzNzIwOTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6372094?v=4","gravatar_id":"","url":"https://api.github.com/users/jojomillennium","html_url":"https://github.com/jojomillennium","followers_url":"https://api.github.com/users/jojomillennium/followers","following_url":"https://api.github.com/users/jojomillennium/following{/other_user}","gists_url":"https://api.github.com/users/jojomillennium/gists{/gist_id}","starred_url":"https://api.github.com/users/jojomillennium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jojomillennium/subscriptions","organizations_url":"https://api.github.com/users/jojomillennium/orgs","repos_url":"https://api.github.com/users/jojomillennium/repos","events_url":"https://api.github.com/users/jojomillennium/events{/privacy}","received_events_url":"https://api.github.com/users/jojomillennium/received_events","type":"User","site_admin":false},"labels":[{"id":2239612565,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY1","url":"https://api.github.com/repos/directus/next/labels/Invalid","name":"Invalid","color":"fef2c0","default":false,"description":"Something doesn't seem right here"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-11-11T12:41:58Z","updated_at":"2020-11-11T15:36:36Z","closed_at":"2020-11-11T13:54:51Z","author_association":"NONE","active_lock_reason":null,"body":"v9.0.0 - rc12\r\nWhen querying on revisions and filtering on data, I get an error.\r\n\r\n/revisions?filter[collection]=amenities&filter[item]=la_brasserie&filter[data.status]=published&limit=1\r\nError :\r\n`{\r\n    \"errors\": [\r\n        {\r\n            \"message\": \"select \\\"directus_revisions\\\".\\\"id\\\", \\\"directus_revisions\\\".\\\"activity\\\", \\\"directus_revisions\\\".\\\"collection\\\", \\\"directus_revisions\\\".\\\"item\\\", \\\"directus_revisions\\\".\\\"data\\\", \\\"directus_revisions\\\".\\\"delta\\\", \\\"directus_revisions\\\".\\\"parent\\\" from \\\"directus_revisions\\\" where (\\\"directus_revisions\\\".\\\"collection\\\" = $1 and \\\"directus_revisions\\\".\\\"item\\\" = $2 and \\\"directus_revisions\\\".\\\"data\\\".\\\"status\\\" = $3) limit $4 - missing FROM-clause entry for table \\\"data\\\"\",\r\n            \"extensions\": {\r\n                \"code\": \"INTERNAL_SERVER_ERROR\"\r\n            }\r\n        }\r\n    ]\r\n}`","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/807","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/807/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/807/comments","events_url":"https://api.github.com/repos/directus/next/issues/807/events","html_url":"https://github.com/directus/next/issues/807","id":732339476,"node_id":"MDU6SXNzdWU3MzIzMzk0NzY=","number":807,"title":"Can't create (admin) role on fresh instance","user":{"login":"MiniDigger","id":2185527,"node_id":"MDQ6VXNlcjIxODU1Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/2185527?v=4","gravatar_id":"","url":"https://api.github.com/users/MiniDigger","html_url":"https://github.com/MiniDigger","followers_url":"https://api.github.com/users/MiniDigger/followers","following_url":"https://api.github.com/users/MiniDigger/following{/other_user}","gists_url":"https://api.github.com/users/MiniDigger/gists{/gist_id}","starred_url":"https://api.github.com/users/MiniDigger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiniDigger/subscriptions","organizations_url":"https://api.github.com/users/MiniDigger/orgs","repos_url":"https://api.github.com/users/MiniDigger/repos","events_url":"https://api.github.com/users/MiniDigger/events{/privacy}","received_events_url":"https://api.github.com/users/MiniDigger/received_events","type":"User","site_admin":false},"labels":[{"id":2239612565,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY1","url":"https://api.github.com/repos/directus/next/labels/Invalid","name":"Invalid","color":"fef2c0","default":false,"description":"Something doesn't seem right here"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-29T13:59:16Z","updated_at":"2020-10-29T14:08:20Z","closed_at":"2020-10-29T14:03:34Z","author_association":"NONE","active_lock_reason":null,"body":"Running RC3 using Docker and a Postgres db.\r\n\r\nThe install script successfully created my tables and filled some of them, but creating an admin role failed.\r\nhttps://github.com/directus/next/blob/6b345193c120ec058e9c154afd4fc37a483e55f0/.github/actions/build-images/rootfs/directus/images/main/rootfs/usr/bin/entrypoint#L17\r\n\r\nEven if I run that command on cli it fails with the same error\r\n```\r\n/directus $ npx -n=\"--trace-warnings\" directus roles create --name Administrator --admin \r\n(node:1094) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'column_name' of undefined\r\n    at Postgres.<anonymous> (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:325:51)\r\n    at step (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:33:23)\r\n    at Object.next (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:14:53)\r\n    at fulfilled (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:5:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n    at emitUnhandledRejectionWarning (internal/process/promises.js:168:15)\r\n    at processPromiseRejections (internal/process/promises.js:247:11)\r\n    at processTicksAndRejections (internal/process/task_queues.js:94:32)\r\n(node:1094) TypeError: Cannot read property 'column_name' of undefined\r\n    at Postgres.<anonymous> (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:325:51)\r\n    at step (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:33:23)\r\n    at Object.next (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:14:53)\r\n    at fulfilled (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:5:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n(node:1094) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n    at emitDeprecationWarning (internal/process/promises.js:180:11)\r\n    at processPromiseRejections (internal/process/promises.js:249:13)\r\n    at processTicksAndRejections (internal/process/task_queues.js:94:32)\r\n^C\r\n```\r\n\r\nthis also happens with a non standard non admin role\r\n```/directus $ npx directus roles create --name Test\r\n(node:1262) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'column_name' of undefined\r\n    at Postgres.<anonymous> (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:325:51)\r\n    at step (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:33:23)\r\n    at Object.next (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:14:53)\r\n    at fulfilled (/directus/node_modules/knex-schema-inspector/dist/dialects/postgres.js:5:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:1262) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)\r\n(node:1262) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n^C```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/directus/issues/2876","repository_url":"https://api.github.com/repos/directus/directus","labels_url":"https://api.github.com/repos/directus/directus/issues/2876/labels{/name}","comments_url":"https://api.github.com/repos/directus/directus/issues/2876/comments","events_url":"https://api.github.com/repos/directus/directus/issues/2876/events","html_url":"https://github.com/directus/directus/issues/2876","id":729930548,"node_id":"MDU6SXNzdWU3Mjk5MzA1NDg=","number":2876,"title":"How to rearrange fields in directus_user form?","user":{"login":"IlyaPetrovM","id":6277090,"node_id":"MDQ6VXNlcjYyNzcwOTA=","avatar_url":"https://avatars1.githubusercontent.com/u/6277090?v=4","gravatar_id":"","url":"https://api.github.com/users/IlyaPetrovM","html_url":"https://github.com/IlyaPetrovM","followers_url":"https://api.github.com/users/IlyaPetrovM/followers","following_url":"https://api.github.com/users/IlyaPetrovM/following{/other_user}","gists_url":"https://api.github.com/users/IlyaPetrovM/gists{/gist_id}","starred_url":"https://api.github.com/users/IlyaPetrovM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IlyaPetrovM/subscriptions","organizations_url":"https://api.github.com/users/IlyaPetrovM/orgs","repos_url":"https://api.github.com/users/IlyaPetrovM/repos","events_url":"https://api.github.com/users/IlyaPetrovM/events{/privacy}","received_events_url":"https://api.github.com/users/IlyaPetrovM/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-10-26T21:45:11Z","updated_at":"2020-10-26T21:45:39Z","closed_at":"2020-10-26T21:45:39Z","author_association":"NONE","active_lock_reason":null,"body":"Even though the Admin UI doesn't show it, we can force navigate to it by hacking the URL to `admin/#/settings/collections/directus_users` and from there we are able to add fields to users. Some quirks: 1) not able to order the fields ;) 2) must do a full page reload.\r\n\r\nWhat's even more interesting: We can \"unhide\" the token field, and we can set the token directly from the UI when needed for API access, instead of going to the database.\r\n\r\n_Originally posted by @rdsubhas in https://github.com/directus/directus/issues/2274#issuecomment-586374271_","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/673","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/673/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/673/comments","events_url":"https://api.github.com/repos/directus/next/issues/673/events","html_url":"https://github.com/directus/next/issues/673","id":722461848,"node_id":"MDU6SXNzdWU3MjI0NjE4NDg=","number":673,"title":"[MSSQL] SQL connection fails when deploying with npx","user":{"login":"mscbpi","id":28528210,"node_id":"MDQ6VXNlcjI4NTI4MjEw","avatar_url":"https://avatars1.githubusercontent.com/u/28528210?v=4","gravatar_id":"","url":"https://api.github.com/users/mscbpi","html_url":"https://github.com/mscbpi","followers_url":"https://api.github.com/users/mscbpi/followers","following_url":"https://api.github.com/users/mscbpi/following{/other_user}","gists_url":"https://api.github.com/users/mscbpi/gists{/gist_id}","starred_url":"https://api.github.com/users/mscbpi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mscbpi/subscriptions","organizations_url":"https://api.github.com/users/mscbpi/orgs","repos_url":"https://api.github.com/users/mscbpi/repos","events_url":"https://api.github.com/users/mscbpi/events{/privacy}","received_events_url":"https://api.github.com/users/mscbpi/received_events","type":"User","site_admin":false},"labels":[{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2253117066,"node_id":"MDU6TGFiZWwyMjUzMTE3MDY2","url":"https://api.github.com/repos/directus/next/labels/DB:%20SQL%20Server","name":"DB: SQL Server","color":"d4c5f9","default":false,"description":"Specific to the Microsoft SQL Server vendor"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-15T15:55:11Z","updated_at":"2020-11-04T20:57:41Z","closed_at":"2020-11-04T20:57:40Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Steps to reproduce:\r\n`$ npx create-directus-project my-project`\r\nSelect Microsoft SQL Server\r\n\r\nOverride port or re-enter 1433.\r\n\r\n```\r\n(node:21392) UnhandledPromiseRejectionWarning: TypeError: The \"config.options.port\" property must be of type number.\r\n```\r\n\r\nsame as https://github.com/directus/next/issues/363 but this time we are not dealing with ENV (env was corrected).\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/842","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/842/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/842/comments","events_url":"https://api.github.com/repos/directus/next/issues/842/events","html_url":"https://github.com/directus/next/issues/842","id":734548177,"node_id":"MDU6SXNzdWU3MzQ1NDgxNzc=","number":842,"title":"Initial role creation not working on postgresql","user":{"login":"MiniDigger","id":2185527,"node_id":"MDQ6VXNlcjIxODU1Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/2185527?v=4","gravatar_id":"","url":"https://api.github.com/users/MiniDigger","html_url":"https://github.com/MiniDigger","followers_url":"https://api.github.com/users/MiniDigger/followers","following_url":"https://api.github.com/users/MiniDigger/following{/other_user}","gists_url":"https://api.github.com/users/MiniDigger/gists{/gist_id}","starred_url":"https://api.github.com/users/MiniDigger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiniDigger/subscriptions","organizations_url":"https://api.github.com/users/MiniDigger/orgs","repos_url":"https://api.github.com/users/MiniDigger/repos","events_url":"https://api.github.com/users/MiniDigger/events{/privacy}","received_events_url":"https://api.github.com/users/MiniDigger/received_events","type":"User","site_admin":false},"labels":[{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2394627545,"node_id":"MDU6TGFiZWwyMzk0NjI3NTQ1","url":"https://api.github.com/repos/directus/next/labels/Docker","name":"Docker","color":"d4c5f9","default":false,"description":"Specific to Docker use"}],"state":"closed","locked":false,"assignee":{"login":"WoLfulus","id":412397,"node_id":"MDQ6VXNlcjQxMjM5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/412397?v=4","gravatar_id":"","url":"https://api.github.com/users/WoLfulus","html_url":"https://github.com/WoLfulus","followers_url":"https://api.github.com/users/WoLfulus/followers","following_url":"https://api.github.com/users/WoLfulus/following{/other_user}","gists_url":"https://api.github.com/users/WoLfulus/gists{/gist_id}","starred_url":"https://api.github.com/users/WoLfulus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WoLfulus/subscriptions","organizations_url":"https://api.github.com/users/WoLfulus/orgs","repos_url":"https://api.github.com/users/WoLfulus/repos","events_url":"https://api.github.com/users/WoLfulus/events{/privacy}","received_events_url":"https://api.github.com/users/WoLfulus/received_events","type":"User","site_admin":false},"assignees":[{"login":"WoLfulus","id":412397,"node_id":"MDQ6VXNlcjQxMjM5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/412397?v=4","gravatar_id":"","url":"https://api.github.com/users/WoLfulus","html_url":"https://github.com/WoLfulus","followers_url":"https://api.github.com/users/WoLfulus/followers","following_url":"https://api.github.com/users/WoLfulus/following{/other_user}","gists_url":"https://api.github.com/users/WoLfulus/gists{/gist_id}","starred_url":"https://api.github.com/users/WoLfulus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WoLfulus/subscriptions","organizations_url":"https://api.github.com/users/WoLfulus/orgs","repos_url":"https://api.github.com/users/WoLfulus/repos","events_url":"https://api.github.com/users/WoLfulus/events{/privacy}","received_events_url":"https://api.github.com/users/WoLfulus/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-11-02T14:25:12Z","updated_at":"2020-11-03T11:14:58Z","closed_at":"2020-11-02T17:37:29Z","author_association":"NONE","active_lock_reason":null,"body":"Running directus v9 rc4 in docker, its able to properly create the database tables and seed them, but it fails upon trying to create the administrator role:\r\n\r\n```\r\n11:16:04 âœ¨ Database installed\r\n11:16:05 âœ¨ Creating administrator role\r\n(node:458) UnhandledPromiseRejectionWarning: error: insert into \"directus_roles\" (\"id\") values ($1) - null value in column \"name\" violates not-null constraint\r\n    at Parser.parseErrorMessage (/directus/node_modules/pg-protocol/dist/parser.js:278:15)\r\n    at Parser.handlePacket (/directus/node_modules/pg-protocol/dist/parser.js:126:29)\r\n    at Parser.parse (/directus/node_modules/pg-protocol/dist/parser.js:39:38)\r\n    at Socket.<anonymous> (/directus/node_modules/pg-protocol/dist/index.js:10:42)\r\n    at Socket.emit (events.js:315:20)\r\n    at addChunk (_stream_readable.js:309:12)\r\n    at readableAddChunk (_stream_readable.js:284:9)\r\n    at Socket.Readable.push (_stream_readable.js:223:10)\r\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23)\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:458) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode ). (rejection id: 2)\r\n(node:458) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n```\r\n\r\nI first thought there was an additional issue in the schema inspector or that my user doesn't have permission to read certain stuff from the db, but I executed a bunch of queries, including \r\n```sql\r\nselect information_schema.key_column_usage.column_name from information_schema.key_column_usage\r\nleft join information_schema.table_constraints on information_schema.table_constraints.constraint_name = information_schema.key_column_usage.constraint_name\r\nwhere information_schema.table_constraints.constraint_type = 'PRIMARY KEY'\r\nand information_schema.table_constraints.table_name = 'directus_roles'\r\n```\r\nwhich was the issue in https://github.com/knex/knex-schema-inspector/issues/23, but the all returned what I would expect (which is strange since now I don't see how I ran in that issue if the query on the DB with the same user returns something...)\r\n\r\nI don't know how to continue debugging this.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/788","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/788/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/788/comments","events_url":"https://api.github.com/repos/directus/next/issues/788/events","html_url":"https://github.com/directus/next/issues/788","id":730225740,"node_id":"MDU6SXNzdWU3MzAyMjU3NDA=","number":788,"title":"Cannot add required field with no default value (PostgreSQL 11)","user":{"login":"jekuer","id":8572883,"node_id":"MDQ6VXNlcjg1NzI4ODM=","avatar_url":"https://avatars0.githubusercontent.com/u/8572883?v=4","gravatar_id":"","url":"https://api.github.com/users/jekuer","html_url":"https://github.com/jekuer","followers_url":"https://api.github.com/users/jekuer/followers","following_url":"https://api.github.com/users/jekuer/following{/other_user}","gists_url":"https://api.github.com/users/jekuer/gists{/gist_id}","starred_url":"https://api.github.com/users/jekuer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jekuer/subscriptions","organizations_url":"https://api.github.com/users/jekuer/orgs","repos_url":"https://api.github.com/users/jekuer/repos","events_url":"https://api.github.com/users/jekuer/events{/privacy}","received_events_url":"https://api.github.com/users/jekuer/received_events","type":"User","site_admin":false},"labels":[{"id":2239612557,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU3","url":"https://api.github.com/repos/directus/next/labels/Duplicate","name":"Duplicate","color":"CFD8DC","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-27T08:21:34Z","updated_at":"2020-10-27T09:54:40Z","closed_at":"2020-10-27T09:53:56Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This is basically the same as with https://github.com/directus/next/issues/447.\r\nHowever, I am not using SQLite, so the dirty quickfix there would not work.\r\nSetup: V9.rc2, PostgreSQL 11.\r\n\r\nCase: When I create a new field with type slug, set it as required, but do not enter a default value, the following error gets thrown:\r\nðŸš¨ error alter table \"pages\" add column \"slug\" varchar(255) not null - column \"slug\" contains null values\r\nerror: alter table \"pages\" add column \"slug\" varchar(255) not null - column \"slug\" contains null values\r\n     at Parser.parseErrorMessage (/directus/node_modules/pg-protocol/dist/parser.js:278:15)\r\n     at Parser.handlePacket (/directus/node_modules/pg-protocol/dist/parser.js:126:29)\r\n     at Parser.parse (/directus/node_modules/pg-protocol/dist/parser.js:39:38)\r\n     at Socket.<anonymous> (/directus/node_modules/pg-protocol/dist/index.js:10:42)\r\n     at Socket.emit (events.js:315:20)\r\n     at addChunk (_stream_readable.js:309:12)\r\n     at readableAddChunk (_stream_readable.js:284:9)\r\n     at Socket.Readable.push (_stream_readable.js:223:10)\r\n     at TCP.onStreamRead (internal/stream_base_commons.js:188:23)\r\nâœ¨ request errored POST 500 /fields/pages 39ms\r\n\r\nI've tested a little bit and had the same thing with other input types. But from time to time, it then suddenly worked. Best way to reproduce is a clean setup with the slug type. Boolean/Toogle is also a good example.\r\n\r\n_Should be also relevant for https://github.com/directus/next/issues/685, since there is no real UI feedback on the error. Depending on if it should be possible to add a required field without default (I think it should) or if it should not (then we would need proper feedback)._","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/953","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/953/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/953/comments","events_url":"https://api.github.com/repos/directus/next/issues/953/events","html_url":"https://github.com/directus/next/issues/953","id":740950511,"node_id":"MDU6SXNzdWU3NDA5NTA1MTE=","number":953,"title":"Docker initialisation missing creation of admin users on rc.12","user":{"login":"juancarlosjr97","id":36451129,"node_id":"MDQ6VXNlcjM2NDUxMTI5","avatar_url":"https://avatars2.githubusercontent.com/u/36451129?v=4","gravatar_id":"","url":"https://api.github.com/users/juancarlosjr97","html_url":"https://github.com/juancarlosjr97","followers_url":"https://api.github.com/users/juancarlosjr97/followers","following_url":"https://api.github.com/users/juancarlosjr97/following{/other_user}","gists_url":"https://api.github.com/users/juancarlosjr97/gists{/gist_id}","starred_url":"https://api.github.com/users/juancarlosjr97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juancarlosjr97/subscriptions","organizations_url":"https://api.github.com/users/juancarlosjr97/orgs","repos_url":"https://api.github.com/users/juancarlosjr97/repos","events_url":"https://api.github.com/users/juancarlosjr97/events{/privacy}","received_events_url":"https://api.github.com/users/juancarlosjr97/received_events","type":"User","site_admin":false},"labels":[{"id":2239612557,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU3","url":"https://api.github.com/repos/directus/next/labels/Duplicate","name":"Duplicate","color":"CFD8DC","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-11-11T17:42:18Z","updated_at":"2020-11-11T18:12:18Z","closed_at":"2020-11-11T18:05:00Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Steps to reproduce**\r\n\r\n1. Create `docker-compuse.yml`\r\n\r\n```\r\nversion: \"3\"\r\n\r\nnetworks:\r\n  backend:\r\n\r\nservices:\r\n  backend-directus:\r\n    image: directus/next:v9.0.0-rc.12\r\n    env_file: .env\r\n    ports:\r\n      - \"8055:8055\"\r\n    networks:\r\n      - backend\r\n```\r\n\r\n2. Create `.env`\r\n\r\n```\r\n####################################################################################################\r\n## Admin account\r\n\r\nDIRECTUS_ADMIN_EMAIL=\"admin@local.com\"\r\nDIRECTUS_ADMIN_PASSWORD=\"pass\"\r\n\r\n####################################################################################################\r\n## General\r\n\r\nPORT=8055\r\nPUBLIC_URL=\"/\"\r\n\r\n####################################################################################################\r\n## Rate Limiting\r\n\r\nRATE_LIMITER_ENABLED=false\r\nRATE_LIMITER_STORE=memory\r\nRATE_LIMITER_POINTS=25\r\nRATE_LIMITER_DURATION=1\r\n\r\n####################################################################################################\r\n## Cache\r\n\r\nCACHE_ENABLED=false\r\n\r\n####################################################################################################\r\n## File Storage\r\n\r\nSTORAGE_LOCATIONS=\"local\"\r\nSTORAGE_LOCAL_PUBLIC_URL=\"/uploads\"\r\nSTORAGE_LOCAL_DRIVER=\"local\"\r\nSTORAGE_LOCAL_ROOT=\"./uploads\"\r\n\r\n####################################################################################################\r\n## Security\r\n\r\nKEY=\"e891ab56-d5e2-4d92-b844-26098e62797b\"\r\nSECRET=\"E4OhqYHBFKZOv8tmFwiY7XODAsqM5Q7D\"\r\n\r\nACCESS_TOKEN_TTL=\"15m\"\r\nREFRESH_TOKEN_TTL=\"7d\"\r\nREFRESH_TOKEN_COOKIE_SECURE=false\r\nREFRESH_TOKEN_COOKIE_SAME_SITE=\"lax\"\r\n\r\n####################################################################################################\r\n## SSO (OAuth) Providers\r\n\r\nOAUTH_PROVIDERS=\"\"\r\n\r\n####################################################################################################\r\n## Extensions\r\n\r\nEXTENSIONS_PATH=\"./extensions\"\r\n```\r\n\r\n3. Run `docker-compose up`\r\n\r\nThe expected result is to create the admin account using `admin@local.com` and `pass`, however, Directus is installed without any problem but it does not appear to create the admin user.\r\n\r\n4. Run `docker-compose down --rmi all -v` to clean any data created by any previous execution of the image\r\n\r\n5. Change the directus image to `directus/next:v9.0.0-rc.3`\r\n\r\n6. Run `docker-compose up` and the user is created successfully\r\n\r\nNote: I also tested all the other images, the last one to be working apparently is `rc.3`","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/941","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/941/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/941/comments","events_url":"https://api.github.com/repos/directus/next/issues/941/events","html_url":"https://github.com/directus/next/issues/941","id":740212514,"node_id":"MDU6SXNzdWU3NDAyMTI1MTQ=","number":941,"title":"Migration on existing project fails","user":{"login":"Clex1o1","id":15003466,"node_id":"MDQ6VXNlcjE1MDAzNDY2","avatar_url":"https://avatars0.githubusercontent.com/u/15003466?v=4","gravatar_id":"","url":"https://api.github.com/users/Clex1o1","html_url":"https://github.com/Clex1o1","followers_url":"https://api.github.com/users/Clex1o1/followers","following_url":"https://api.github.com/users/Clex1o1/following{/other_user}","gists_url":"https://api.github.com/users/Clex1o1/gists{/gist_id}","starred_url":"https://api.github.com/users/Clex1o1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Clex1o1/subscriptions","organizations_url":"https://api.github.com/users/Clex1o1/orgs","repos_url":"https://api.github.com/users/Clex1o1/repos","events_url":"https://api.github.com/users/Clex1o1/events{/privacy}","received_events_url":"https://api.github.com/users/Clex1o1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-10T20:15:52Z","updated_at":"2020-11-10T20:30:34Z","closed_at":"2020-11-10T20:30:34Z","author_association":"NONE","active_lock_reason":null,"body":"`Error: ER_CANT_CREATE_TABLE: Can't create table `directus`.`directus_fields` (errno: 150 \"Foreign key constraint is incorrectly formed\")\r\n    at Query.Sequence._packetToError (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)\r\n    at Query.ErrorPacket (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/sequences/Query.js:79:18)\r\n    at Protocol._parsePacket (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/Protocol.js:291:23)\r\n    at Parser._parsePacket (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/Parser.js:433:10)\r\n    at Parser.write (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/Parser.js:43:10)\r\n    at Protocol.write (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/Protocol.js:38:16)\r\n    at Socket.<anonymous> (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/Connection.js:88:28)\r\n    at Socket.<anonymous> (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/Connection.js:526:10)\r\n    at Socket.emit (events.js:315:20)\r\n    at addChunk (_stream_readable.js:295:12)\r\n    --------------------\r\n    at Protocol._enqueue (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/protocol/Protocol.js:144:48)\r\n    at Connection.query (/Users/alexanderclassen/Projects/talentine-backend/node_modules/mysql/lib/Connection.js:198:25)\r\n    at /Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/dialects/mysql/index.js:134:18\r\n    at new Promise (<anonymous>)\r\n    at Client_MySQL._query (/Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/dialects/mysql/index.js:128:12)\r\n    at Client_MySQL.query (/Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/client.js:168:17)\r\n    at Runner.query (/Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/runner.js:151:36)\r\n    at Runner.queryArray (/Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/runner.js:248:31)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at async /Users/alexanderclassen/Projects/talentine-backend/node_modules/knex/lib/runner.js:277:18 {\r\n  code: 'ER_CANT_CREATE_TABLE',\r\n  errno: 1005,\r\n  sqlMessage: 'Can\\'t create table `directus`.`directus_fields` (errno: 150 \"Foreign key constraint is incorrectly formed\")',\r\n  sqlState: 'HY000',\r\n  index: 0,\r\n  sql: 'alter table `directus_fields` add constraint `directus_fields_group_foreign` foreign key (`group`) references `directus_fields` (`id`) on update CASCADE on delete SET DEFAULT'\r\n}`\r\n\r\nupdate my existing project via `npm update` try to install my database again via `npm directus database install","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/931","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/931/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/931/comments","events_url":"https://api.github.com/repos/directus/next/issues/931/events","html_url":"https://github.com/directus/next/issues/931","id":739847484,"node_id":"MDU6SXNzdWU3Mzk4NDc0ODQ=","number":931,"title":"Error on database clean install","user":{"login":"lluishi93","id":14786440,"node_id":"MDQ6VXNlcjE0Nzg2NDQw","avatar_url":"https://avatars2.githubusercontent.com/u/14786440?v=4","gravatar_id":"","url":"https://api.github.com/users/lluishi93","html_url":"https://github.com/lluishi93","followers_url":"https://api.github.com/users/lluishi93/followers","following_url":"https://api.github.com/users/lluishi93/following{/other_user}","gists_url":"https://api.github.com/users/lluishi93/gists{/gist_id}","starred_url":"https://api.github.com/users/lluishi93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lluishi93/subscriptions","organizations_url":"https://api.github.com/users/lluishi93/orgs","repos_url":"https://api.github.com/users/lluishi93/repos","events_url":"https://api.github.com/users/lluishi93/events{/privacy}","received_events_url":"https://api.github.com/users/lluishi93/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2253116553,"node_id":"MDU6TGFiZWwyMjUzMTE2NTUz","url":"https://api.github.com/repos/directus/next/labels/DB:%20MySQL","name":"DB: MySQL","color":"d4c5f9","default":false,"description":"Specific to the MySQL vendor"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-10T11:57:23Z","updated_at":"2020-11-10T14:50:56Z","closed_at":"2020-11-10T14:50:55Z","author_association":"NONE","active_lock_reason":null,"body":"Version: 9 RC-8\r\n\r\nSteps to reproduce: clean install using the following script:\r\n\r\n```shell\r\ninstall () {\r\n    local email=\"admin@example.com\"\r\n    local password=\"1234\"\r\n\r\n    npx directus database install\r\n    local role=$(npx directus roles create --name Administrator --admin)\r\n    npx directus users create --email \"${email}\" --password \"${password}\" --role \"${role}\"\r\n\r\n    echo \"Email: ${email}\"\r\n    echo \"Password: ${password}\"\r\n}\r\n\r\ninstall\r\n```\r\n\r\n`sh db-install.sh`\r\n\r\n![image](https://user-images.githubusercontent.com/14786440/98671069-fe431900-2353-11eb-9f53-05f13fdb84a7.png)\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/906","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/906/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/906/comments","events_url":"https://api.github.com/repos/directus/next/issues/906/events","html_url":"https://github.com/directus/next/issues/906","id":737814226,"node_id":"MDU6SXNzdWU3Mzc4MTQyMjY=","number":906,"title":"Circular dependency fails","user":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"assignees":[{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/directus/next/milestones/13","html_url":"https://github.com/directus/next/milestone/13","labels_url":"https://api.github.com/repos/directus/next/milestones/13/labels","id":6075230,"node_id":"MDk6TWlsZXN0b25lNjA3NTIzMA==","number":13,"title":"v9.0.0-rc.9","description":"","creator":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":4,"state":"closed","created_at":"2020-11-05T23:58:10Z","updated_at":"2020-11-10T18:02:15Z","due_on":"2020-11-06T08:00:00Z","closed_at":"2020-11-10T18:02:15Z"},"comments":0,"created_at":"2020-11-06T14:45:30Z","updated_at":"2020-11-06T19:17:41Z","closed_at":"2020-11-06T19:17:40Z","author_association":"MEMBER","active_lock_reason":null,"body":"From https://github.com/directus/next/issues/890#issuecomment-722940381:\r\n\r\nlevel 2 (* . *) are not retrieved when querying level 3 ( * . * . *)\r\nYou can test with the same dump with the two queries below:\r\nhttps://sandboxcms.millennium.ch/items/amenities?fields=*.*&filter[code]=la_brasserie\r\nhttps://sandboxcms.millennium.ch/items/amenities?fields=*.*.*&filter[code]=la_brasserie\r\n\r\nYou will see in the first one, the business_hours is expanded, but with the second one, it is null.\r\n\r\nI would expect * . * . * to retrieve all levels ( 1 + 2 + 3).","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/871","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/871/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/871/comments","events_url":"https://api.github.com/repos/directus/next/issues/871/events","html_url":"https://github.com/directus/next/issues/871","id":735747253,"node_id":"MDU6SXNzdWU3MzU3NDcyNTM=","number":871,"title":"CORS is not enabled by default","user":{"login":"juancarlosjr97","id":36451129,"node_id":"MDQ6VXNlcjM2NDUxMTI5","avatar_url":"https://avatars2.githubusercontent.com/u/36451129?v=4","gravatar_id":"","url":"https://api.github.com/users/juancarlosjr97","html_url":"https://github.com/juancarlosjr97","followers_url":"https://api.github.com/users/juancarlosjr97/followers","following_url":"https://api.github.com/users/juancarlosjr97/following{/other_user}","gists_url":"https://api.github.com/users/juancarlosjr97/gists{/gist_id}","starred_url":"https://api.github.com/users/juancarlosjr97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juancarlosjr97/subscriptions","organizations_url":"https://api.github.com/users/juancarlosjr97/orgs","repos_url":"https://api.github.com/users/juancarlosjr97/repos","events_url":"https://api.github.com/users/juancarlosjr97/events{/privacy}","received_events_url":"https://api.github.com/users/juancarlosjr97/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/directus/next/milestones/10","html_url":"https://github.com/directus/next/milestone/10","labels_url":"https://api.github.com/repos/directus/next/milestones/10/labels","id":6059918,"node_id":"MDk6TWlsZXN0b25lNjA1OTkxOA==","number":10,"title":"v9.0.0-rc.7","description":"","creator":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2020-11-02T14:34:20Z","updated_at":"2020-11-06T14:36:27Z","due_on":"2020-11-04T08:00:00Z","closed_at":"2020-11-05T15:45:22Z"},"comments":2,"created_at":"2020-11-04T01:40:14Z","updated_at":"2020-11-04T14:53:33Z","closed_at":"2020-11-04T14:53:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Steps to reproduce:\r\n\r\n1. Create a new instance of directus `npx create-directus-project testing-directus-locally` and then `npx directus start`\r\n2. Execute the command\r\n\r\n```\r\nfetch('http://localhost:8055/graphql', {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n  },\r\n  body: JSON.stringify({query: \"query allSchemaTypes { __schema { types { name kind description } } }\"})\r\n})\r\n  .then(r => r.json())\r\n  .then(console.log);\r\n```\r\n\r\n3. The result is \"rejected\" and the expected result is \"fulfilled\"\r\n\r\n4. Go to `.env` and add `CORS_ENABLED=\"true\"`\r\n\r\n5. Rerun `npx directus start`\r\n\r\n6. Execute\r\n\r\n```\r\nfetch('http://localhost:8055/graphql', {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n  },\r\n  body: JSON.stringify({query: \"query allSchemaTypes { __schema { types { name kind description } } }\"})\r\n})\r\n  .then(r => r.json())\r\n  .then(console.log);\r\n```\r\n\r\nand the result will be `fulfilled` as it should be expected.\r\n\r\n------\r\n\r\nCORS should be enabled by default which is not enabled by default","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/925","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/925/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/925/comments","events_url":"https://api.github.com/repos/directus/next/issues/925/events","html_url":"https://github.com/directus/next/issues/925","id":739155786,"node_id":"MDU6SXNzdWU3MzkxNTU3ODY=","number":925,"title":"Cannot upload images and files to documents","user":{"login":"adrianhajdin","id":24898559,"node_id":"MDQ6VXNlcjI0ODk4NTU5","avatar_url":"https://avatars2.githubusercontent.com/u/24898559?v=4","gravatar_id":"","url":"https://api.github.com/users/adrianhajdin","html_url":"https://github.com/adrianhajdin","followers_url":"https://api.github.com/users/adrianhajdin/followers","following_url":"https://api.github.com/users/adrianhajdin/following{/other_user}","gists_url":"https://api.github.com/users/adrianhajdin/gists{/gist_id}","starred_url":"https://api.github.com/users/adrianhajdin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrianhajdin/subscriptions","organizations_url":"https://api.github.com/users/adrianhajdin/orgs","repos_url":"https://api.github.com/users/adrianhajdin/repos","events_url":"https://api.github.com/users/adrianhajdin/events{/privacy}","received_events_url":"https://api.github.com/users/adrianhajdin/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2253116553,"node_id":"MDU6TGFiZWwyMjUzMTE2NTUz","url":"https://api.github.com/repos/directus/next/labels/DB:%20MySQL","name":"DB: MySQL","color":"d4c5f9","default":false,"description":"Specific to the MySQL vendor"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-09T16:04:51Z","updated_at":"2020-11-10T19:01:26Z","closed_at":"2020-11-10T19:01:26Z","author_association":"NONE","active_lock_reason":null,"body":"I'm having some trouble with the Directus App. I'm logged in as the admin user, I've created a collection that has a few text inputs and one file and one image input. When I try to create a new document and upload either the file or the image as the admin user, it doesn't let me upload. No errors are visible in the UI, but in the network tab I get: \r\n\"You don't have permission to access this.\", extensions: {code: \"FORBIDDEN\"}. I'm not sure why this is happening as I'm logged in as the Admin user. I'm using MySQL if that helps.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/947","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/947/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/947/comments","events_url":"https://api.github.com/repos/directus/next/issues/947/events","html_url":"https://github.com/directus/next/issues/947","id":740591111,"node_id":"MDU6SXNzdWU3NDA1OTExMTE=","number":947,"title":"Don't redirect to listing page if delete item gives errors","user":{"login":"botzill","id":4686040,"node_id":"MDQ6VXNlcjQ2ODYwNDA=","avatar_url":"https://avatars3.githubusercontent.com/u/4686040?v=4","gravatar_id":"","url":"https://api.github.com/users/botzill","html_url":"https://github.com/botzill","followers_url":"https://api.github.com/users/botzill/followers","following_url":"https://api.github.com/users/botzill/following{/other_user}","gists_url":"https://api.github.com/users/botzill/gists{/gist_id}","starred_url":"https://api.github.com/users/botzill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/botzill/subscriptions","organizations_url":"https://api.github.com/users/botzill/orgs","repos_url":"https://api.github.com/users/botzill/repos","events_url":"https://api.github.com/users/botzill/events{/privacy}","received_events_url":"https://api.github.com/users/botzill/received_events","type":"User","site_admin":false},"labels":[{"id":2253058932,"node_id":"MDU6TGFiZWwyMjUzMDU4OTMy","url":"https://api.github.com/repos/directus/next/labels/App","name":"App","color":"1d76db","default":false,"description":"Related to the App dashboard"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2239612566,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY2","url":"https://api.github.com/repos/directus/next/labels/Question","name":"Question","color":"f9d0c4","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-11T08:59:47Z","updated_at":"2020-11-11T18:42:17Z","closed_at":"2020-11-11T18:42:17Z","author_association":"NONE","active_lock_reason":null,"body":"Currently, if we get an error from the custom webhook about item delete it still redirects us to the listing page, while I think we should stay on the details page? ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/802","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/802/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/802/comments","events_url":"https://api.github.com/repos/directus/next/issues/802/events","html_url":"https://github.com/directus/next/issues/802","id":732218194,"node_id":"MDU6SXNzdWU3MzIyMTgxOTQ=","number":802,"title":"Install breaks using SQLite","user":{"login":"Kinzi","id":6689405,"node_id":"MDQ6VXNlcjY2ODk0MDU=","avatar_url":"https://avatars3.githubusercontent.com/u/6689405?v=4","gravatar_id":"","url":"https://api.github.com/users/Kinzi","html_url":"https://github.com/Kinzi","followers_url":"https://api.github.com/users/Kinzi/followers","following_url":"https://api.github.com/users/Kinzi/following{/other_user}","gists_url":"https://api.github.com/users/Kinzi/gists{/gist_id}","starred_url":"https://api.github.com/users/Kinzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kinzi/subscriptions","organizations_url":"https://api.github.com/users/Kinzi/orgs","repos_url":"https://api.github.com/users/Kinzi/repos","events_url":"https://api.github.com/users/Kinzi/events{/privacy}","received_events_url":"https://api.github.com/users/Kinzi/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"assignees":[{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/directus/next/milestones/7","html_url":"https://github.com/directus/next/milestone/7","labels_url":"https://api.github.com/repos/directus/next/milestones/7/labels","id":6022013,"node_id":"MDk6TWlsZXN0b25lNjAyMjAxMw==","number":7,"title":"v9.0.0-rc.4","description":"","creator":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2020-10-22T17:58:33Z","updated_at":"2020-10-30T22:44:05Z","due_on":"2020-10-30T07:00:00Z","closed_at":"2020-10-30T22:44:05Z"},"comments":5,"created_at":"2020-10-29T11:06:21Z","updated_at":"2020-10-29T21:04:06Z","closed_at":"2020-10-29T21:04:06Z","author_association":"NONE","active_lock_reason":null,"body":"npx and yarn installation breaks for me chosing SQLite:\r\n\r\n```\r\n? Choose your database client SQLite (Beta)\r\n? Database File Path: /Users/ME/Code/directus/data.db\r\nKnex: run\r\n$ npm install sqlite3 --save\r\nCannot find module 'sqlite3'\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/938","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/938/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/938/comments","events_url":"https://api.github.com/repos/directus/next/issues/938/events","html_url":"https://github.com/directus/next/issues/938","id":740170789,"node_id":"MDU6SXNzdWU3NDAxNzA3ODk=","number":938,"title":"Building Directus","user":{"login":"Fusseldieb","id":4715129,"node_id":"MDQ6VXNlcjQ3MTUxMjk=","avatar_url":"https://avatars1.githubusercontent.com/u/4715129?v=4","gravatar_id":"","url":"https://api.github.com/users/Fusseldieb","html_url":"https://github.com/Fusseldieb","followers_url":"https://api.github.com/users/Fusseldieb/followers","following_url":"https://api.github.com/users/Fusseldieb/following{/other_user}","gists_url":"https://api.github.com/users/Fusseldieb/gists{/gist_id}","starred_url":"https://api.github.com/users/Fusseldieb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fusseldieb/subscriptions","organizations_url":"https://api.github.com/users/Fusseldieb/orgs","repos_url":"https://api.github.com/users/Fusseldieb/repos","events_url":"https://api.github.com/users/Fusseldieb/events{/privacy}","received_events_url":"https://api.github.com/users/Fusseldieb/received_events","type":"User","site_admin":false},"labels":[{"id":2239612557,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU3","url":"https://api.github.com/repos/directus/next/labels/Duplicate","name":"Duplicate","color":"CFD8DC","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-10T19:09:20Z","updated_at":"2020-11-10T19:15:48Z","closed_at":"2020-11-10T19:12:35Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nI wanted to try the `next` build on my server and couldn't get it to combine api+app (Basically making \"the suite\"). \r\nAm I missing some crucial step? I already dig through the docs and couldn't find anything related.\r\nIt's not a simple `npm run build`, as it seems. This command just generates a `dist/` with some .js files, but it still isn't the final built version.\r\n\r\nOr am I not supposed to build Directus on my own? :P\r\n\r\nThanks in advance!","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/883","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/883/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/883/comments","events_url":"https://api.github.com/repos/directus/next/issues/883/events","html_url":"https://github.com/directus/next/issues/883","id":736810582,"node_id":"MDU6SXNzdWU3MzY4MTA1ODI=","number":883,"title":"What is the format of the new custom roles access","user":{"login":"botzill","id":4686040,"node_id":"MDQ6VXNlcjQ2ODYwNDA=","avatar_url":"https://avatars3.githubusercontent.com/u/4686040?v=4","gravatar_id":"","url":"https://api.github.com/users/botzill","html_url":"https://github.com/botzill","followers_url":"https://api.github.com/users/botzill/followers","following_url":"https://api.github.com/users/botzill/following{/other_user}","gists_url":"https://api.github.com/users/botzill/gists{/gist_id}","starred_url":"https://api.github.com/users/botzill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/botzill/subscriptions","organizations_url":"https://api.github.com/users/botzill/orgs","repos_url":"https://api.github.com/users/botzill/repos","events_url":"https://api.github.com/users/botzill/events{/privacy}","received_events_url":"https://api.github.com/users/botzill/received_events","type":"User","site_admin":false},"labels":[{"id":2239612566,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY2","url":"https://api.github.com/repos/directus/next/labels/Question","name":"Question","color":"f9d0c4","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-05T10:30:43Z","updated_at":"2020-11-05T15:11:46Z","closed_at":"2020-11-05T15:11:32Z","author_association":"NONE","active_lock_reason":null,"body":"Prev in Directus we had:\r\n\r\n<img width=\"189\" alt=\"Screen Shot 2020-11-05 at 12 29 33\" src=\"https://user-images.githubusercontent.com/4686040/98229442-94e19580-1f62-11eb-9756-1d0855733d0e.png\">\r\n\r\nWhat is the equivalent in Directus Next, I see this:\r\n\r\n<img width=\"611\" alt=\"Screen Shot 2020-11-05 at 12 30 10\" src=\"https://user-images.githubusercontent.com/4686040/98229502-a88cfc00-1f62-11eb-9536-83094b57c866.png\">\r\n\r\nWhat is the format of this data?\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/597","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/597/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/597/comments","events_url":"https://api.github.com/repos/directus/next/issues/597/events","html_url":"https://github.com/directus/next/issues/597","id":718022796,"node_id":"MDU6SXNzdWU3MTgwMjI3OTY=","number":597,"title":"Docs: links for the extension guides in the nav don't match file names","user":{"login":"MiniDigger","id":2185527,"node_id":"MDQ6VXNlcjIxODU1Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/2185527?v=4","gravatar_id":"","url":"https://api.github.com/users/MiniDigger","html_url":"https://github.com/MiniDigger","followers_url":"https://api.github.com/users/MiniDigger/followers","following_url":"https://api.github.com/users/MiniDigger/following{/other_user}","gists_url":"https://api.github.com/users/MiniDigger/gists{/gist_id}","starred_url":"https://api.github.com/users/MiniDigger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiniDigger/subscriptions","organizations_url":"https://api.github.com/users/MiniDigger/orgs","repos_url":"https://api.github.com/users/MiniDigger/repos","events_url":"https://api.github.com/users/MiniDigger/events{/privacy}","received_events_url":"https://api.github.com/users/MiniDigger/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-09T10:08:32Z","updated_at":"2020-10-09T13:54:17Z","closed_at":"2020-10-09T13:54:17Z","author_association":"NONE","active_lock_reason":null,"body":"https://github.com/directus/next/blob/main/docs/nav-app.yaml#L58\r\nvs\r\nhttps://github.com/directus/next/blob/main/docs/guides/extensions/interfaces.md\r\n\r\nif somebody can indicate what the right path should be, I would be able to PR a fix, either fixing the nav, or renaming the files","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/923","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/923/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/923/comments","events_url":"https://api.github.com/repos/directus/next/issues/923/events","html_url":"https://github.com/directus/next/issues/923","id":739036065,"node_id":"MDU6SXNzdWU3MzkwMzYwNjU=","number":923,"title":"Building Directus results in a ton of errors","user":{"login":"Fusseldieb","id":4715129,"node_id":"MDQ6VXNlcjQ3MTUxMjk=","avatar_url":"https://avatars1.githubusercontent.com/u/4715129?v=4","gravatar_id":"","url":"https://api.github.com/users/Fusseldieb","html_url":"https://github.com/Fusseldieb","followers_url":"https://api.github.com/users/Fusseldieb/followers","following_url":"https://api.github.com/users/Fusseldieb/following{/other_user}","gists_url":"https://api.github.com/users/Fusseldieb/gists{/gist_id}","starred_url":"https://api.github.com/users/Fusseldieb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fusseldieb/subscriptions","organizations_url":"https://api.github.com/users/Fusseldieb/orgs","repos_url":"https://api.github.com/users/Fusseldieb/repos","events_url":"https://api.github.com/users/Fusseldieb/events{/privacy}","received_events_url":"https://api.github.com/users/Fusseldieb/received_events","type":"User","site_admin":false},"labels":[{"id":2239612555,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU1","url":"https://api.github.com/repos/directus/next/labels/Documentation","name":"Documentation","color":"455A64","default":false,"description":"Improvements or additions to documentation"},{"id":2239612566,"node_id":"MDU6TGFiZWwyMjM5NjEyNTY2","url":"https://api.github.com/repos/directus/next/labels/Question","name":"Question","color":"f9d0c4","default":false,"description":"Further information is requested"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-11-09T13:37:25Z","updated_at":"2020-11-10T14:50:21Z","closed_at":"2020-11-10T00:17:27Z","author_association":"NONE","active_lock_reason":null,"body":"Hi there,\r\nI wanted to see what v9 looks like and maybe even help on some things, but when I tried to \"npm run dev\", I ran in some trouble.\r\n\r\nI downloaded the ZIP from this repo, installed node v14.15.0, then ran npm install (which succeeded), then tried to \"npm run dev\", which resulted in:\r\n\r\n```\r\nValentino@VALENTINO-PC MINGW64 ~/Desktop/next-main\r\n$ npm run dev\r\n\r\n> directus-monorepo@ dev C:\\Users\\Valentino\\Desktop\\next-main\r\n> lerna run dev --stream --parallel\r\n\r\nlerna notice cli v3.22.1\r\nlerna info Executing command in 4 packages: \"npm run dev\"\r\ndirectus: > directus@9.0.0-rc.8 dev C:\\Users\\Valentino\\Desktop\\next-main\\api\r\ndirectus: > cross-env NODE_ENV=development LOG_LEVEL=trace ts-node-dev --files src/start.ts --respawn --watch \"src/**/*.ts\" --transpile-only\r\n@directus/app: > @directus/app@9.0.0-rc.8 dev C:\\Users\\Valentino\\Desktop\\next-main\\app\r\n@directus/app: > vue-cli-service serve\r\n@directus/docs: > @directus/docs@9.0.0-rc.8 dev C:\\Users\\Valentino\\Desktop\\next-main\\docs\r\n@directus/docs: > npm-watch build\r\n@directus/specs: > @directus/specs@9.0.0-rc.8 dev C:\\Users\\Valentino\\Desktop\\next-main\\packages\\spec\r\n@directus/specs: > npm-watch build\r\ndirectus: [INFO] 10:32:04 ts-node-dev ver. 1.0.0 (using ts-node ver. 9.0.0, typescript ver. 3.9.7)\r\n@directus/app:  INFO  Starting development server...\r\n@directus/docs: Building docs...\r\n@directus/docs: Built docs in 121 ms\r\n@directus/specs: Created dist\\openapi.json from specs/openapi.yaml\r\n@directus/app: Starting type checking service...\r\n@directus/app: Using 1 worker with 2048MB memory limit\r\ndirectus: (node:9860) UnhandledPromiseRejectionWarning: Error: knex: Required configuration option 'client' is missing.\r\ndirectus:     at new Client (C:\\Users\\Valentino\\Desktop\\next-main\\node_modules\\knex\\lib\\client.js:54:11)\r\ndirectus:     at Object.Knex [as default] (C:\\Users\\Valentino\\Desktop\\next-main\\node_modules\\knex\\lib\\knex.js:53:28)\r\ndirectus:     at Object.<anonymous> (C:\\Users\\Valentino\\Desktop\\next-main\\api\\src\\database\\index.ts:47:22)\r\ndirectus:     at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\ndirectus:     at Module._compile (C:\\Users\\Valentino\\Desktop\\next-main\\node_modules\\source-map-support\\source-map-support.js:547:25)\r\ndirectus:     at Module.m._compile (C:\\Users\\VALENT~1\\AppData\\Local\\Temp\\ts-node-dev-hook-8387129263146487.js:57:33)\r\ndirectus:     at Module._extensions..js (internal/modules/cjs/loader.js:1092:10)\r\ndirectus:     at require.extensions.<computed> (C:\\Users\\VALENT~1\\AppData\\Local\\Temp\\ts-node-dev-hook-8387129263146487.js:59:20)\r\ndirectus:     at Object.nodeDevHook [as .ts] (C:\\Users\\Valentino\\Desktop\\next-main\\node_modules\\ts-node-dev\\lib\\hook.js:63:13)\r\ndirectus:     at Module.load (internal/modules/cjs/loader.js:928:32)\r\ndirectus: (Use `node --trace-warnings ...` to show where the warning was created)\r\ndirectus: (node:9860) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)\r\ndirectus: (node:9860) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n@directus/app:  ERROR  Failed to compile with 8 errors10:32:19\r\n@directus/app: This dependency was not found:\r\n@directus/app: * @directus/format-title in ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/components/v-field-template/field-list-item.vue?vue&type=script&lang=ts&, ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/displays/formatted-value/formatted-value.vue?vue&type=script&lang=ts& and 6 others\r\n@directus/app: To install it, you can run: npm install --save @directus/format-title\r\n@directus/app: Type checking in progress...\r\n@directus/app:  WAIT  Compiling...10:32:20\r\n@directus/app: Error from chokidar (C:\\): Error: EBUSY: resource busy or locked, lstat 'C:\\DumpStack.log.tmp'\r\n@directus/app:  ERROR  Failed to compile with 8 errors10:32:24\r\n@directus/app: This dependency was not found:\r\n@directus/app: * @directus/format-title in ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/components/v-field-template/field-list-item.vue?vue&type=script&lang=ts&, ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/displays/formatted-value/formatted-value.vue?vue&type=script&lang=ts& and 6 others\r\n@directus/app: To install it, you can run: npm install --save @directus/format-title\r\n@directus/app: Type checking in progress...\r\n@directus/app:  WAIT  Compiling...10:32:24\r\n@directus/app:  ERROR  Failed to compile with 8 errors10:32:25\r\n@directus/app: This dependency was not found:\r\n@directus/app: * @directus/format-title in ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/components/v-field-template/field-list-item.vue?vue&type=script&lang=ts&, ../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/babel-loader/lib!../node_modules/ts-loader??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib??vue-loader-options!./src/displays/formatted-value/formatted-value.vue?vue&type=script&lang=ts& and 6 others\r\n@directus/app: To install it, you can run: npm install --save @directus/format-title\r\n@directus/app: Type checking in progress...\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/components/v-field-template/field-list-item.vue(25,25):\r\n@directus/app: 25:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     23 | import { defineComponent, PropType } from '@vue/composition-api';\r\n@directus/app:     24 | import { FieldTree } from './types';\r\n@directus/app:   > 25 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     26 |\r\n@directus/app:     27 | export default defineComponent({\r\n@directus/app:     28 |         name: 'field-list-item',\r\n@directus/app: Version: typescript 3.9.7\r\n@directus/app: Time: 14808ms\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/displays/color/color.vue(10,25):\r\n@directus/app: 10:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:      8 | <script lang=\"ts\">\r\n@directus/app:      9 | import { defineComponent, computed, PropType } from '@vue/composition-api';\r\n@directus/app:   > 10 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     11 | import Color from 'color';\r\n@directus/app:     12 | import { isHex } from '@/utils/color';\r\n@directus/app:     13 |\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/displays/formatted-value/formatted-value.vue(11,25):\r\n@directus/app: 11:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:      9 | <script lang=\"ts\">\r\n@directus/app:     10 | import { defineComponent, computed } from '@vue/composition-api';\r\n@directus/app:   > 11 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     12 |\r\n@directus/app:     13 | export default defineComponent({\r\n@directus/app:     14 |         props: {\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/displays/labels/labels.vue(32,25):\r\n@directus/app: 32:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     30 | <script lang=\"ts\">\r\n@directus/app:     31 | import { defineComponent, computed, PropType } from '@vue/composition-api';\r\n@directus/app:   > 32 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     33 |\r\n@directus/app:     34 | type Choice = {\r\n@directus/app:     35 |         value: string;\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/interfaces/code/code.vue(28,25):\r\n@directus/app: 28:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     26 | import 'codemirror/keymap/sublime.js';\r\n@directus/app:     27 |\r\n@directus/app:   > 28 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     29 |\r\n@directus/app:     30 | export default defineComponent({\r\n@directus/app:     31 |         props: {\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/interfaces/icon/icon.vue(51,25):\r\n@directus/app: 51:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     49 | import icons from './icons.json';\r\n@directus/app:     50 | import { defineComponent, ref, computed } from '@vue/composition-api';\r\n@directus/app:   > 51 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     52 |\r\n@directus/app:     53 | export default defineComponent({\r\n@directus/app:     54 |         props: {\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/interfaces/tags/tags.vue(46,25):\r\n@directus/app: 46:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     44 | <script lang=\"ts\">\r\n@directus/app:     45 | import { defineComponent, PropType, ref, computed, watch } from '@vue/composition-api';\r\n@directus/app:   > 46 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:     47 |\r\n@directus/app:     48 | export default defineComponent({\r\n@directus/app:     49 |         props: {\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/stores/collections.ts(7,25):\r\n@directus/app: 7:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:      5 | import { notEmpty } from '@/utils/is-empty/';\r\n@directus/app:      6 | import VueI18n from 'vue-i18n';\r\n@directus/app:   >  7 | import formatTitle from '@directus/format-title';\r\n@directus/app:        |                         ^\r\n@directus/app:      8 | import { notify } from '@/utils/notify';\r\n@directus/app:      9 | import { unexpectedError } from '@/utils/unexpected-error';\r\n@directus/app:     10 |\r\n@directus/app: ERROR in C:/Users/Valentino/Desktop/next-main/app/src/stores/fields.ts(6,25):\r\n@directus/app: 6:25 Cannot find module '@directus/format-title' or its corresponding type declarations.\r\n@directus/app:     4 | import { notEmpty } from '@/utils/is-empty/';\r\n@directus/app:     5 | import { i18n } from '@/lang';\r\n@directus/app:   > 6 | import formatTitle from '@directus/format-title';\r\n@directus/app:       |                         ^\r\n@directus/app:     7 | import { useRelationsStore } from '@/stores/';\r\n@directus/app:     8 | import { Relation, FieldRaw, Field } from '@/types';\r\n@directus/app:     9 | import { merge } from 'lodash';\r\n```\r\n\r\nAny clue on what I'm doing wrong here?\r\n\r\nEDIT: What I'm seeing a lot is:\r\n`Cannot find module '@directus/format-title' or its corresponding type declarations.`\r\nShould I try and install this module(?) separately? And if yes, why doesn't it come specified in package.json (dev-deps) so it gets installed automatically?\r\nI mean, I don't even know if that would solve it. There are a lot of other errors too.\r\n\r\nAlso, if more information is needed, let me know.\r\n\r\nEDIT: `git clone <repo>` instead of downloading the ZIP results in the same errors.\r\n\r\nThanks in advance!!","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/927","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/927/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/927/comments","events_url":"https://api.github.com/repos/directus/next/issues/927/events","html_url":"https://github.com/directus/next/issues/927","id":739747960,"node_id":"MDU6SXNzdWU3Mzk3NDc5NjA=","number":927,"title":"Not able to run dev - invalid properties (redirect & grant) in type Session","user":{"login":"danieljwestman","id":20950568,"node_id":"MDQ6VXNlcjIwOTUwNTY4","avatar_url":"https://avatars1.githubusercontent.com/u/20950568?v=4","gravatar_id":"","url":"https://api.github.com/users/danieljwestman","html_url":"https://github.com/danieljwestman","followers_url":"https://api.github.com/users/danieljwestman/followers","following_url":"https://api.github.com/users/danieljwestman/following{/other_user}","gists_url":"https://api.github.com/users/danieljwestman/gists{/gist_id}","starred_url":"https://api.github.com/users/danieljwestman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danieljwestman/subscriptions","organizations_url":"https://api.github.com/users/danieljwestman/orgs","repos_url":"https://api.github.com/users/danieljwestman/repos","events_url":"https://api.github.com/users/danieljwestman/events{/privacy}","received_events_url":"https://api.github.com/users/danieljwestman/received_events","type":"User","site_admin":false},"labels":[{"id":2253115761,"node_id":"MDU6TGFiZWwyMjUzMTE1NzYx","url":"https://api.github.com/repos/directus/next/labels/Needs%20More%20Info","name":"Needs More Info","color":"fef2c0","default":false,"description":"Requires more information for us to review"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2020-11-10T09:39:12Z","updated_at":"2020-11-11T14:32:30Z","closed_at":"2020-11-10T19:14:46Z","author_association":"NONE","active_lock_reason":null,"body":"Directus v9-rc.8\r\nLatest commit 0bcc2c1d3cd8c55551f9b7a988ee1cb156dac6c6\r\nPG 12\r\nClean and fresh install\r\n\r\nRunning `npm install` in root not possible.\r\n\r\nThe properties `redirect` and `grant` doesn't exist on `Session` type.\r\n\r\n```\r\n> rm -rf dist && tsc --build && copyfiles \"src/**/*.*\" -e \"src/**/*.ts\" -u 1 dist\r\n\r\nsrc/controllers/auth.ts(243,16): error TS2339: Property 'redirect' does not exist on type 'Session | InitializedSession'.\r\n  Property 'redirect' does not exist on type 'Session'.\r\nsrc/controllers/auth.ts(256,33): error TS2339: Property 'redirect' does not exist on type 'Session | InitializedSession'.\r\n  Property 'redirect' does not exist on type 'Session'.\r\nsrc/controllers/auth.ts(271,17): error TS2339: Property 'grant' does not exist on type 'Session | InitializedSession'.\r\n  Property 'grant' does not exist on type 'Session'.\r\n\r\nlerna ERR! npm run build stderr:\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! directus@9.0.0-rc.8 build: `rm -rf dist && tsc --build && copyfiles \"src/**/*.*\" -e \"src/**/*.ts\" -u 1 dist`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the directus@9.0.0-rc.8 build script.\r\n```\r\n![SkaÌˆrmavbild 2020-11-10 kl  10 35 02](https://user-images.githubusercontent.com/20950568/98656226-bb2b7a80-2340-11eb-80b1-8fd6142a3d6a.png)\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/836","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/836/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/836/comments","events_url":"https://api.github.com/repos/directus/next/issues/836/events","html_url":"https://github.com/directus/next/issues/836","id":734322694,"node_id":"MDU6SXNzdWU3MzQzMjI2OTQ=","number":836,"title":"Issue with public url not ending in /","user":{"login":"botzill","id":4686040,"node_id":"MDQ6VXNlcjQ2ODYwNDA=","avatar_url":"https://avatars3.githubusercontent.com/u/4686040?v=4","gravatar_id":"","url":"https://api.github.com/users/botzill","html_url":"https://github.com/botzill","followers_url":"https://api.github.com/users/botzill/followers","following_url":"https://api.github.com/users/botzill/following{/other_user}","gists_url":"https://api.github.com/users/botzill/gists{/gist_id}","starred_url":"https://api.github.com/users/botzill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/botzill/subscriptions","organizations_url":"https://api.github.com/users/botzill/orgs","repos_url":"https://api.github.com/users/botzill/repos","events_url":"https://api.github.com/users/botzill/events{/privacy}","received_events_url":"https://api.github.com/users/botzill/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/directus/next/milestones/11","html_url":"https://github.com/directus/next/milestone/11","labels_url":"https://api.github.com/repos/directus/next/milestones/11/labels","id":6062440,"node_id":"MDk6TWlsZXN0b25lNjA2MjQ0MA==","number":11,"title":"v9.0.0-rc.5","description":"","creator":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":11,"state":"closed","created_at":"2020-11-02T22:02:41Z","updated_at":"2020-11-03T22:58:00Z","due_on":"2020-11-02T08:00:00Z","closed_at":"2020-11-02T22:02:44Z"},"comments":1,"created_at":"2020-11-02T09:01:20Z","updated_at":"2020-11-02T22:04:13Z","closed_at":"2020-11-02T14:24:04Z","author_association":"NONE","active_lock_reason":null,"body":"Currently, if the public URL does not end in `/` then I get an error when I access the page:\r\n\r\n<img width=\"232\" alt=\"Screen Shot 2020-11-02 at 11 00 01\" src=\"https://user-images.githubusercontent.com/4686040/97848866-63669100-1cfa-11eb-80b3-65ba469372e5.png\">\r\n\r\nand it tries to access:\r\n\r\n```\r\nRequest URL: https://mydomian.comadmin/css/app.c8867b04.css\r\n```\r\n\r\nIf I set the ending `/` then when I get the email invite link, it contains 2 slashes:\r\n\r\n```\r\nYou have been invited to Directus. Please click the link below to join:https://mydomain.com//admin/accept-invite?\r\n--\r\n```\r\n\r\nwhich is not a valid path. \r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/928","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/928/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/928/comments","events_url":"https://api.github.com/repos/directus/next/issues/928/events","html_url":"https://github.com/directus/next/issues/928","id":739765904,"node_id":"MDU6SXNzdWU3Mzk3NjU5MDQ=","number":928,"title":"Not able to run migrations on other PG schemas than public","user":{"login":"danieljwestman","id":20950568,"node_id":"MDQ6VXNlcjIwOTUwNTY4","avatar_url":"https://avatars1.githubusercontent.com/u/20950568?v=4","gravatar_id":"","url":"https://api.github.com/users/danieljwestman","html_url":"https://github.com/danieljwestman","followers_url":"https://api.github.com/users/danieljwestman/followers","following_url":"https://api.github.com/users/danieljwestman/following{/other_user}","gists_url":"https://api.github.com/users/danieljwestman/gists{/gist_id}","starred_url":"https://api.github.com/users/danieljwestman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danieljwestman/subscriptions","organizations_url":"https://api.github.com/users/danieljwestman/orgs","repos_url":"https://api.github.com/users/danieljwestman/repos","events_url":"https://api.github.com/users/danieljwestman/events{/privacy}","received_events_url":"https://api.github.com/users/danieljwestman/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612550,"node_id":"MDU6TGFiZWwyMjM5NjEyNTUw","url":"https://api.github.com/repos/directus/next/labels/Bug","name":"Bug","color":"d93f0b","default":false,"description":"Something isn't working"},{"id":2253116639,"node_id":"MDU6TGFiZWwyMjUzMTE2NjM5","url":"https://api.github.com/repos/directus/next/labels/DB:%20Postgres","name":"DB: Postgres","color":"d4c5f9","default":false,"description":"Specific to the PostgreSQL vendor"},{"id":2253084709,"node_id":"MDU6TGFiZWwyMjUzMDg0NzA5","url":"https://api.github.com/repos/directus/next/labels/New%20Feature","name":"New Feature","color":"0e8a16","default":false,"description":"Approved feature requests (Only submit via Discussions!)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-10T10:03:04Z","updated_at":"2020-11-11T17:04:21Z","closed_at":"2020-11-11T15:57:37Z","author_association":"NONE","active_lock_reason":null,"body":"Directus v9-rc.8\r\nLatest commit 0bcc2c1\r\nPG 12\r\nClean and fresh install\r\n\r\nNot possible to run migrations if the schema (search_path) isn't \"public\".\r\n\r\n`npx directus database migration:latest`\r\n\r\nThrows error:\r\n\r\n```\r\nâ ‹ Running migrations...error: alter table \"directus_fields\" drop constraint \"directus_fields_collection_foreign\" - constraint \"directus_fields_collection_foreign\" of relation \"directus_fields\" does not exist\r\n    at Parser.parseErrorMessage (/api/node_modules/pg-protocol/dist/parser.js:278:15)\r\n    at Parser.handlePacket (/api/node_modules/pg-protocol/dist/parser.js:126:29)\r\n    at Parser.parse (/api/node_modules/pg-protocol/dist/parser.js:39:38)\r\n    at Socket.<anonymous> (/api/node_modules/pg-protocol/dist/index.js:10:42)\r\n    at Socket.emit (events.js:314:20)\r\n    at addChunk (_stream_readable.js:307:12)\r\n    at readableAddChunk (_stream_readable.js:282:9)\r\n    at Socket.Readable.push (_stream_readable.js:221:10)\r\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {\r\n  length: 162,\r\n  severity: 'ERROR',\r\n  code: '42704',\r\n  detail: undefined,\r\n  hint: undefined,\r\n  position: undefined,\r\n  internalPosition: undefined,\r\n  internalQuery: undefined,\r\n  where: undefined,\r\n  schema: undefined,\r\n  table: undefined,\r\n  column: undefined,\r\n  dataType: undefined,\r\n  constraint: undefined,\r\n  file: 'tablecmds.c',\r\n  line: '10179',\r\n  routine: 'ATExecDropConstraint'\r\n}\r\n\r\n```\r\n\r\nBut it works when I change the search_path to \"public\" in env.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/840","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/840/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/840/comments","events_url":"https://api.github.com/repos/directus/next/issues/840/events","html_url":"https://github.com/directus/next/issues/840","id":734532410,"node_id":"MDU6SXNzdWU3MzQ1MzI0MTA=","number":840,"title":"No permissions to update items with role with update permissions","user":{"login":"maartenvn","id":6013068,"node_id":"MDQ6VXNlcjYwMTMwNjg=","avatar_url":"https://avatars0.githubusercontent.com/u/6013068?v=4","gravatar_id":"","url":"https://api.github.com/users/maartenvn","html_url":"https://github.com/maartenvn","followers_url":"https://api.github.com/users/maartenvn/followers","following_url":"https://api.github.com/users/maartenvn/following{/other_user}","gists_url":"https://api.github.com/users/maartenvn/gists{/gist_id}","starred_url":"https://api.github.com/users/maartenvn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maartenvn/subscriptions","organizations_url":"https://api.github.com/users/maartenvn/orgs","repos_url":"https://api.github.com/users/maartenvn/repos","events_url":"https://api.github.com/users/maartenvn/events{/privacy}","received_events_url":"https://api.github.com/users/maartenvn/received_events","type":"User","site_admin":false},"labels":[{"id":2253059590,"node_id":"MDU6TGFiZWwyMjUzMDU5NTkw","url":"https://api.github.com/repos/directus/next/labels/API","name":"API","color":"5319e7","default":false,"description":"Related to the API"},{"id":2239612557,"node_id":"MDU6TGFiZWwyMjM5NjEyNTU3","url":"https://api.github.com/repos/directus/next/labels/Duplicate","name":"Duplicate","color":"CFD8DC","default":false,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/directus/next/milestones/11","html_url":"https://github.com/directus/next/milestone/11","labels_url":"https://api.github.com/repos/directus/next/milestones/11/labels","id":6062440,"node_id":"MDk6TWlsZXN0b25lNjA2MjQ0MA==","number":11,"title":"v9.0.0-rc.5","description":"","creator":{"login":"rijkvanzanten","id":9141017,"node_id":"MDQ6VXNlcjkxNDEwMTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9141017?v=4","gravatar_id":"","url":"https://api.github.com/users/rijkvanzanten","html_url":"https://github.com/rijkvanzanten","followers_url":"https://api.github.com/users/rijkvanzanten/followers","following_url":"https://api.github.com/users/rijkvanzanten/following{/other_user}","gists_url":"https://api.github.com/users/rijkvanzanten/gists{/gist_id}","starred_url":"https://api.github.com/users/rijkvanzanten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rijkvanzanten/subscriptions","organizations_url":"https://api.github.com/users/rijkvanzanten/orgs","repos_url":"https://api.github.com/users/rijkvanzanten/repos","events_url":"https://api.github.com/users/rijkvanzanten/events{/privacy}","received_events_url":"https://api.github.com/users/rijkvanzanten/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":11,"state":"closed","created_at":"2020-11-02T22:02:41Z","updated_at":"2020-11-03T22:58:00Z","due_on":"2020-11-02T08:00:00Z","closed_at":"2020-11-02T22:02:44Z"},"comments":1,"created_at":"2020-11-02T14:03:35Z","updated_at":"2020-11-02T22:03:56Z","closed_at":"2020-11-02T14:36:21Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Environment\r\n\r\n- **Directus**: 9.0.0-rc.4\r\n- **Postgres**: 13\r\n\r\n### Bug\r\nRoles with the \"Update\" permission set to allow get an error 403 when updating an item.\r\n\r\n### Stacktrace\r\n```json\r\n{\r\n\t\"errors\": [\r\n\t\t{\r\n\t\t\t\"message\": \"You're not allowed to update item \\\"3\\\" in collection \\\"article\\\".\",\r\n\t\t\t\"extensions\": {\r\n\t\t\t\t\"collection\": \"article\",\r\n\t\t\t\t\"item\": [\r\n\t\t\t\t\t\"3\"\r\n\t\t\t\t],\r\n\t\t\t\t\"action\": \"update\",\r\n\t\t\t\t\"code\": \"FORBIDDEN\"\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n}```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/873","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/873/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/873/comments","events_url":"https://api.github.com/repos/directus/next/issues/873/events","html_url":"https://github.com/directus/next/issues/873","id":735812910,"node_id":"MDU6SXNzdWU3MzU4MTI5MTA=","number":873,"title":"Visible json object in collections when user preference language is not english","user":{"login":"TheAzack9","id":2140448,"node_id":"MDQ6VXNlcjIxNDA0NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/2140448?v=4","gravatar_id":"","url":"https://api.github.com/users/TheAzack9","html_url":"https://github.com/TheAzack9","followers_url":"https://api.github.com/users/TheAzack9/followers","following_url":"https://api.github.com/users/TheAzack9/following{/other_user}","gists_url":"https://api.github.com/users/TheAzack9/gists{/gist_id}","starred_url":"https://api.github.com/users/TheAzack9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheAzack9/subscriptions","organizations_url":"https://api.github.com/users/TheAzack9/orgs","repos_url":"https://api.github.com/users/TheAzack9/repos","events_url":"https://api.github.com/users/TheAzack9/events{/privacy}","received_events_url":"https://api.github.com/users/TheAzack9/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-04T05:02:10Z","updated_at":"2020-11-04T14:54:24Z","closed_at":"2020-11-04T14:54:18Z","author_association":"NONE","active_lock_reason":null,"body":"### Project details\r\nDirectus Version: 9.0.0-rc.6\r\nEnvironment: production\r\nOS: Linux 4.15.0-112-generic\r\nNode: 14.15.0\r\n\t\t\t\r\n\r\nWhen i changed the language preference on my user i noticed a json object appearing on all collections. See image for reference :) \r\n\r\n![image](https://user-images.githubusercontent.com/2140448/98071193-2f5aaf80-1e63-11eb-99ff-9b076d64da9f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/2140448/98071164-194cef00-1e63-11eb-9a5c-1da27153c554.png)\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/app/issues/2996","repository_url":"https://api.github.com/repos/directus/app","labels_url":"https://api.github.com/repos/directus/app/issues/2996/labels{/name}","comments_url":"https://api.github.com/repos/directus/app/issues/2996/comments","events_url":"https://api.github.com/repos/directus/app/issues/2996/events","html_url":"https://github.com/directus/app/issues/2996","id":721053469,"node_id":"MDU6SXNzdWU3MjEwNTM0Njk=","number":2996,"title":"Block admin portal over internet; but allow collection APIs in read mode","user":{"login":"viclix10","id":8381296,"node_id":"MDQ6VXNlcjgzODEyOTY=","avatar_url":"https://avatars2.githubusercontent.com/u/8381296?v=4","gravatar_id":"","url":"https://api.github.com/users/viclix10","html_url":"https://github.com/viclix10","followers_url":"https://api.github.com/users/viclix10/followers","following_url":"https://api.github.com/users/viclix10/following{/other_user}","gists_url":"https://api.github.com/users/viclix10/gists{/gist_id}","starred_url":"https://api.github.com/users/viclix10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viclix10/subscriptions","organizations_url":"https://api.github.com/users/viclix10/orgs","repos_url":"https://api.github.com/users/viclix10/repos","events_url":"https://api.github.com/users/viclix10/events{/privacy}","received_events_url":"https://api.github.com/users/viclix10/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-14T00:59:36Z","updated_at":"2020-10-17T04:42:08Z","closed_at":"2020-10-17T04:42:08Z","author_association":"NONE","active_lock_reason":null,"body":"Wondering if we have an easy method to block UI & admin APIs (login etc) to be called over public IP, but still allow limited (example read-only access) to the collection for better security. ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/directus/next/issues/958","repository_url":"https://api.github.com/repos/directus/next","labels_url":"https://api.github.com/repos/directus/next/issues/958/labels{/name}","comments_url":"https://api.github.com/repos/directus/next/issues/958/comments","events_url":"https://api.github.com/repos/directus/next/issues/958/events","html_url":"https://github.com/directus/next/issues/958","id":741083533,"node_id":"MDU6SXNzdWU3NDEwODM1MzM=","number":958,"title":"Presets are not applied to roles","user":{"login":"botzill","id":4686040,"node_id":"MDQ6VXNlcjQ2ODYwNDA=","avatar_url":"https://avatars3.githubusercontent.com/u/4686040?v=4","gravatar_id":"","url":"https://api.github.com/users/botzill","html_url":"https://github.com/botzill","followers_url":"https://api.github.com/users/botzill/followers","following_url":"https://api.github.com/users/botzill/following{/other_user}","gists_url":"https://api.github.com/users/botzill/gists{/gist_id}","starred_url":"https://api.github.com/users/botzill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/botzill/subscriptions","organizations_url":"https://api.github.com/users/botzill/orgs","repos_url":"https://api.github.com/users/botzill/repos","events_url":"https://api.github.com/users/botzill/events{/privacy}","received_events_url":"https://api.github.com/users/botzill/received_events","type":"User","site_admin":false},"labels":[{"id":2253115761,"node_id":"MDU6TGFiZWwyMjUzMTE1NzYx","url":"https://api.github.com/repos/directus/next/labels/Needs%20More%20Info","name":"Needs More Info","color":"fef2c0","default":false,"description":"Requires more information for us to review"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-11T21:30:05Z","updated_at":"2020-11-11T23:14:46Z","closed_at":"2020-11-11T23:14:45Z","author_association":"NONE","active_lock_reason":null,"body":"I created a specific preset with a custom fields order, but when I connect with those users, having that roles I still see the fields layout default:\r\n\r\n<img width=\"891\" alt=\"Screen Shot 2020-11-11 at 23 26 03\" src=\"https://user-images.githubusercontent.com/4686040/98866398-8836d300-2475-11eb-9392-f1d0db3c0ee2.png\">\r\n\r\nwhile in Preset that layout is different:\r\n\r\n<img width=\"670\" alt=\"Screen Shot 2020-11-11 at 23 28 55\" src=\"https://user-images.githubusercontent.com/4686040/98866464-a7356500-2475-11eb-9471-167622ee2a16.png\">\r\n\r\nThis role has access to presets:\r\n\r\n<img width=\"697\" alt=\"Screen Shot 2020-11-11 at 23 29 54\" src=\"https://user-images.githubusercontent.com/4686040/98866548-c9c77e00-2475-11eb-80b9-5a7404da2054.png\">\r\n\r\nAny idea why is that? ","performed_via_github_app":null,"score":1.0}]}
0

