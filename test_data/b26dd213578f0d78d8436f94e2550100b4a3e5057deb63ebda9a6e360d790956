HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Apr 2018 20:19:38 GMT
Link: <https://api.github.com/search/issues?q=repo%3Aweb2py%2Fweb2py+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Aweb2py%2Fweb2py+type%3Aissue+state%3Aclosed&page=18>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: C96C:148C:22B869C:46A291D:5AD26259
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 8
X-Ratelimit-Reset: 1523737215
X-Runtime-Rack: 0.440923
X-Xss-Protection: 1; mode=block

8000
{"total_count":539,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/web2py/web2py/issues/1894","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1894/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1894/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1894/events","html_url":"https://github.com/web2py/web2py/issues/1894","id":313409243,"number":1894,"title":"db.parse_as_rest don't work on python 3","user":{"login":"JusticeN","id":10181423,"avatar_url":"https://avatars3.githubusercontent.com/u/10181423?v=4","gravatar_id":"","url":"https://api.github.com/users/JusticeN","html_url":"https://github.com/JusticeN","followers_url":"https://api.github.com/users/JusticeN/followers","following_url":"https://api.github.com/users/JusticeN/following{/other_user}","gists_url":"https://api.github.com/users/JusticeN/gists{/gist_id}","starred_url":"https://api.github.com/users/JusticeN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JusticeN/subscriptions","organizations_url":"https://api.github.com/users/JusticeN/orgs","repos_url":"https://api.github.com/users/JusticeN/repos","events_url":"https://api.github.com/users/JusticeN/events{/privacy}","received_events_url":"https://api.github.com/users/JusticeN/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-11T17:00:09Z","updated_at":"2018-04-12T08:29:41Z","closed_at":"2018-04-12T08:29:41Z","author_association":"NONE","body":"\r\ni am using python3.6 on windows 7 with the web2py last master branch.\r\nwhen i try to build a restful API with **db.parse_as_rest** Web2py throw me a NameError exception\r\n\r\nmy code look like this\r\n`@request.restful()\r\ndef api():\r\n    response.view = 'generic.json'\r\n\r\n    def GET(*args,**vars):\r\n        patterns = [\r\n            \"/Contact[Contact]\",\r\n            \"/Contact/{Contact.first_name.startswith}\",\r\n            \"/Contact/{Contact.first_name}/:field\"\r\n            ]\r\n        parser = db.parse_as_rest(patterns, args, vars)\r\n        if parser.status == 200:\r\n            return dict(content=parser.response)\r\n        else:\r\n            raise HTTP(parser.status, parser.error)`\r\n\r\nthe error look like this: \r\n\r\n>   File \"D:\\Program_Files\\web2py\\gluon\\packages\\dal\\pydal\\helpers\\rest.py\", line 289, in parse\r\n    offset = long(vars.get('offset', None) or 0) class 'NameError' name 'long' is not defined\r\n\r\nin python3 there is no long function anymore. is it better to use int instead ?\r\n\r\n[see here for explanation](https://stackoverflow.com/questions/2104884/how-does-python-manage-int-and-long#2104947)","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1886","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1886/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1886/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1886/events","html_url":"https://github.com/web2py/web2py/issues/1886","id":308057585,"number":1886,"title":"navbar toggle error and correction","user":{"login":"pwoolf","id":4853439,"avatar_url":"https://avatars1.githubusercontent.com/u/4853439?v=4","gravatar_id":"","url":"https://api.github.com/users/pwoolf","html_url":"https://github.com/pwoolf","followers_url":"https://api.github.com/users/pwoolf/followers","following_url":"https://api.github.com/users/pwoolf/following{/other_user}","gists_url":"https://api.github.com/users/pwoolf/gists{/gist_id}","starred_url":"https://api.github.com/users/pwoolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwoolf/subscriptions","organizations_url":"https://api.github.com/users/pwoolf/orgs","repos_url":"https://api.github.com/users/pwoolf/repos","events_url":"https://api.github.com/users/pwoolf/events{/privacy}","received_events_url":"https://api.github.com/users/pwoolf/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-23T14:46:04Z","updated_at":"2018-04-02T15:31:58Z","closed_at":"2018-04-02T15:31:58Z","author_association":"NONE","body":"The toggle for the navbar in layout.html doesn't work properly out of the box.  When the window is made narrow or web2py is on a phone the collapsed menu is not responsive.  This is because the div needs an id specification.\r\n\r\nIn the header, just after the navbar-brand it curretnly has:\r\n`<div class=\"collapse navbar-collapse\"  >`\r\n\r\nIt should be:\r\n`<div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\" >`\r\n\r\nWith this change it works for me.\r\nThanks!\r\n--Peter\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1883","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1883/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1883/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1883/events","html_url":"https://github.com/web2py/web2py/issues/1883","id":306224571,"number":1883,"title":"Pluralizaiton UnicodeDecodeError","user":{"login":"Nbushkov","id":8807016,"avatar_url":"https://avatars2.githubusercontent.com/u/8807016?v=4","gravatar_id":"","url":"https://api.github.com/users/Nbushkov","html_url":"https://github.com/Nbushkov","followers_url":"https://api.github.com/users/Nbushkov/followers","following_url":"https://api.github.com/users/Nbushkov/following{/other_user}","gists_url":"https://api.github.com/users/Nbushkov/gists{/gist_id}","starred_url":"https://api.github.com/users/Nbushkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nbushkov/subscriptions","organizations_url":"https://api.github.com/users/Nbushkov/orgs","repos_url":"https://api.github.com/users/Nbushkov/repos","events_url":"https://api.github.com/users/Nbushkov/events{/privacy}","received_events_url":"https://api.github.com/users/Nbushkov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-18T09:13:13Z","updated_at":"2018-03-22T12:24:21Z","closed_at":"2018-03-22T12:24:21Z","author_association":"NONE","body":"in apps welcome (python 2.7)\r\nin models/db.py add\r\n\r\n`T.force('ru')`\r\n\r\ngo admin db\r\n\r\n`../welcome/appadmin/select/db?query=db.auth_user.id>0`\r\n\r\nerror\r\n\r\n**<type 'exceptions.UnicodeDecodeError'> 'ascii' codec can't decode byte 0xd0 in position 0: ordinal not in range(128)**\r\n\r\n> Function argument list\r\n> (self=<gluon.languages.translator object>, message='%{!\\xd0\\xb2\\xd1\\x8b\\xd0\\xb1\\xd1\\x80\\xd0\\xb0\\xd0\\xbd\\xd0\\xb0[0]} 1 %{\\xd0\\xb7\\xd0\\xb0\\xd0\\xbf\\xd0\\xb8\\xd1\\x81\\xd1\\x8c[0]}', symbols=(1,))\r\n\r\n`394.   message = regex_plural.sub(sub_plural, message)`\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1866","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1866/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1866/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1866/events","html_url":"https://github.com/web2py/web2py/issues/1866","id":298157384,"number":1866,"title":"Cache size on appadmin: guppy ImportError","user":{"login":"dartg","id":6503980,"avatar_url":"https://avatars1.githubusercontent.com/u/6503980?v=4","gravatar_id":"","url":"https://api.github.com/users/dartg","html_url":"https://github.com/dartg","followers_url":"https://api.github.com/users/dartg/followers","following_url":"https://api.github.com/users/dartg/following{/other_user}","gists_url":"https://api.github.com/users/dartg/gists{/gist_id}","starred_url":"https://api.github.com/users/dartg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dartg/subscriptions","organizations_url":"https://api.github.com/users/dartg/orgs","repos_url":"https://api.github.com/users/dartg/repos","events_url":"https://api.github.com/users/dartg/events{/privacy}","received_events_url":"https://api.github.com/users/dartg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-19T04:17:32Z","updated_at":"2018-02-24T20:32:19Z","closed_at":"2018-02-24T20:32:19Z","author_association":"CONTRIBUTOR","body":"The `ccache` function inside `appadmin.py` (http://127.0.0.1:8000/yourapp/appadmin/ccache) uses [guppy](https://pypi.python.org/pypi/guppy/) (if available) to show the memory used by `cache.ram`. But once installed (and if there's something stored in the RAM cache) it will fail with the following traceback:\r\n\r\n> <type 'exceptions.ImportError'> (ImportError(\"Cannot import module 'applications.[appname].modules.guppy'\",), <traceback object at 0x0907F968>)\r\n\r\nThe exception is started at [`appadmin.py:455`](https://github.com/web2py/web2py/blob/82cf2eb44db907a3ca20c29ee8116f95ef77bb5a/applications/welcome/controllers/appadmin.py#L455):\r\n\r\n`                ram['bytes'] += hp.iso(value[1]).size`\r\n\r\nAnd specifically raised at `guppy/etc/Glue.py:250` where `__import__` is used. Seems like this somewhat conflicts with the web2py import system.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1865","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1865/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1865/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1865/events","html_url":"https://github.com/web2py/web2py/issues/1865","id":297817838,"number":1865,"title":"virtual field issue after upgrade fro V 14 to V16.5","user":{"login":"sbourgeois1","id":6387584,"avatar_url":"https://avatars0.githubusercontent.com/u/6387584?v=4","gravatar_id":"","url":"https://api.github.com/users/sbourgeois1","html_url":"https://github.com/sbourgeois1","followers_url":"https://api.github.com/users/sbourgeois1/followers","following_url":"https://api.github.com/users/sbourgeois1/following{/other_user}","gists_url":"https://api.github.com/users/sbourgeois1/gists{/gist_id}","starred_url":"https://api.github.com/users/sbourgeois1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbourgeois1/subscriptions","organizations_url":"https://api.github.com/users/sbourgeois1/orgs","repos_url":"https://api.github.com/users/sbourgeois1/repos","events_url":"https://api.github.com/users/sbourgeois1/events{/privacy}","received_events_url":"https://api.github.com/users/sbourgeois1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-16T15:15:41Z","updated_at":"2018-02-25T02:21:03Z","closed_at":"2018-02-25T02:21:03Z","author_association":"NONE","body":"Hello,\r\nI had to remove the virtual field to work around the issue. \r\nExample:\r\ncode working with v 14\r\n...\r\n    db_txp.t_txp_company.id.readable = False\r\n    db_txp.t_txp_company.id.writable = False\r\n# now we want to add a virtual field to select the corresponding cny.\r\n    db_txp.t_txp_company.select = Field.Virtual('select', lambda row: A(SPAN(IMG(_src=URL(str('static/images'), str('select.png')),  _width = 20, _class = str(\"button btn btn-default\")), str(' '), row.t_txp_company.f_company), _href = URL(str('store_cny_id'), args = [str(row.t_txp_company.id), str(row.t_txp_company.f_address_country_code), row.t_txp_company.f_company], vars = request._get_vars)))  \r\n    form = SQLFORM.smartgrid(db_txp.t_txp_company,\r\n                             fields = [db_txp.t_txp_company.id, db_txp.t_txp_company.f_company, db_txp.t_txp_company.f_address_country_code  ],\r\n...\r\nwork around:\r\n    ...\r\n    db_txp.t_txp_company.id.label = T('Select')\r\n    db_txp.t_txp_company.id.represent = lambda val, row: A(SPAN(IMG(_src=URL(str('static/images'), str('select.png')),  _width = 20, _class = str(\"button btn btn-default\")), str(' '), row.f_company), _href = URL(str('store_cny_id'), args = [str(row.id), str(row.f_address_country_code), row.f_company], vars = request._get_vars))\r\n    form = SQLFORM.smartgrid(db_txp.t_txp_company,\r\n                             fields = [db_txp.t_txp_company.id, db_txp.t_txp_company.f_company, db_txp.t_txp_company.f_address_country_code  ],\r\n    ...\r\nThe error file is here attached.\r\n[error.txt](https://github.com/web2py/web2py/files/1731767/error.txt)\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1863","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1863/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1863/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1863/events","html_url":"https://github.com/web2py/web2py/issues/1863","id":297407291,"number":1863,"title":"SQLFORM  : two translation issues","user":{"login":"sbourgeois1","id":6387584,"avatar_url":"https://avatars0.githubusercontent.com/u/6387584?v=4","gravatar_id":"","url":"https://api.github.com/users/sbourgeois1","html_url":"https://github.com/sbourgeois1","followers_url":"https://api.github.com/users/sbourgeois1/followers","following_url":"https://api.github.com/users/sbourgeois1/following{/other_user}","gists_url":"https://api.github.com/users/sbourgeois1/gists{/gist_id}","starred_url":"https://api.github.com/users/sbourgeois1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbourgeois1/subscriptions","organizations_url":"https://api.github.com/users/sbourgeois1/orgs","repos_url":"https://api.github.com/users/sbourgeois1/repos","events_url":"https://api.github.com/users/sbourgeois1/events{/privacy}","received_events_url":"https://api.github.com/users/sbourgeois1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-15T11:08:33Z","updated_at":"2018-03-06T09:20:51Z","closed_at":"2018-03-06T09:20:51Z","author_association":"NONE","body":"1) First issue: \r\nupload widget: following fields are never translated. \r\n'Choose File'\r\n'No file chosen'\r\n'file'\r\n2) Second issue. \r\nIn smartgrid, on the '+' button of the top left of the form, the standard title is 'Add record to database'. If you change this title for instance to 'your own title', the translation always refers to 'Add record to database'  and not to 'your own title'.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1861","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1861/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1861/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1861/events","html_url":"https://github.com/web2py/web2py/issues/1861","id":296551062,"number":1861,"title":"UnicodeDecode error setting up session","user":{"login":"bnmnetp","id":51115,"avatar_url":"https://avatars2.githubusercontent.com/u/51115?v=4","gravatar_id":"","url":"https://api.github.com/users/bnmnetp","html_url":"https://github.com/bnmnetp","followers_url":"https://api.github.com/users/bnmnetp/followers","following_url":"https://api.github.com/users/bnmnetp/following{/other_user}","gists_url":"https://api.github.com/users/bnmnetp/gists{/gist_id}","starred_url":"https://api.github.com/users/bnmnetp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnmnetp/subscriptions","organizations_url":"https://api.github.com/users/bnmnetp/orgs","repos_url":"https://api.github.com/users/bnmnetp/repos","events_url":"https://api.github.com/users/bnmnetp/events{/privacy}","received_events_url":"https://api.github.com/users/bnmnetp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2018-02-12T22:42:50Z","updated_at":"2018-02-24T18:34:43Z","closed_at":"2018-02-24T18:34:43Z","author_association":"NONE","body":"Hi,\r\n\r\nExcited to see all the progress on python3.  I decided to setup a fresh install of Ubuntu 17.10 and give my app a try against master.  I get this traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/bmiller/Runestone/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/home/bmiller/Runestone/web2py/applications/runestone/models/db.py\", line 24, in <module>\r\n    session.connect(request, response, masterapp='runestone', db=db, migrate='runestone_web2py_sessions.table')\r\n  File \"/home/bmiller/Runestone/web2py/gluon/globals.py\", line 965, in connect\r\n    row = table(record_id, unique_key=unique_key)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/objects.py\", line 573, in __call__\r\n    orderby_on_limitby=False).first()\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/objects.py\", line 2254, in select\r\n    return adapter.select(self.query, fields, attributes)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 762, in select\r\n    return self._select_aux(sql, fields, attributes, colnames)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 741, in _select_aux\r\n    return processor(rows, fields, colnames, cacheable=cacheable)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 305, in parse\r\n    for row in rows\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 305, in <listcomp>\r\n    for row in rows\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 231, in _parse\r\n    value = self.parse_value(value, fit, ft, blob_decode)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 198, in parse_value\r\n    return self.parser.parse(value, field_itype, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 101, in parse\r\n    return self.registered[field_itype](value, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 76, in __call__\r\n    return self.call(value, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 73, in _call\r\n    return self.f(self.parser, value)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/base.py\", line 37, in _blob\r\n    return to_native(b64decode(to_bytes(value)))\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/_compat.py\", line 82, in to_native\r\n    return obj.decode(charset, errors)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position 0: invalid start byte\r\n```\r\n\r\nThe sessions table is created and is there from a separate script I run to initialize the database.  there is even one row in the table.  Let me know what else I can get to help debug.\r\n\r\nBrad","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1856","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1856/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1856/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1856/events","html_url":"https://github.com/web2py/web2py/issues/1856","id":296031412,"number":1856,"title":"SPAN.flatten() raises UnicodeDecodeError with T-components","user":{"login":"nursix","id":1257183,"avatar_url":"https://avatars1.githubusercontent.com/u/1257183?v=4","gravatar_id":"","url":"https://api.github.com/users/nursix","html_url":"https://github.com/nursix","followers_url":"https://api.github.com/users/nursix/followers","following_url":"https://api.github.com/users/nursix/following{/other_user}","gists_url":"https://api.github.com/users/nursix/gists{/gist_id}","starred_url":"https://api.github.com/users/nursix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nursix/subscriptions","organizations_url":"https://api.github.com/users/nursix/orgs","repos_url":"https://api.github.com/users/nursix/repos","events_url":"https://api.github.com/users/nursix/events{/privacy}","received_events_url":"https://api.github.com/users/nursix/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-09T22:25:48Z","updated_at":"2018-02-24T16:57:21Z","closed_at":"2018-02-24T16:57:21Z","author_association":"CONTRIBUTOR","body":"Code like this crashes in Py2.7 with UnicodeDecodeError for T-languages where translate produces multi-byte utf-8 encoded strings (e.g. Japanese, Korean, etc.):\r\n```\r\nelem = SPAN(T(\"Complete\"))\r\ntext = elem.flatten()\r\n```\r\nThe problem could be here:\r\nhttps://github.com/web2py/web2py/blob/master/gluon/languages.py#L433\r\nThis should probably not str(self).encode() (as it seems normal that lazyT.__str__() returns an utf-8 encoded str)?\r\n\r\nOr maybe this:\r\nhttps://github.com/web2py/web2py/blob/master/gluon/_compat.py#L72\r\n...could try to use the __str__ method first when obj is neither a str nor a unicode?\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1848","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1848/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1848/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1848/events","html_url":"https://github.com/web2py/web2py/issues/1848","id":294978813,"number":1848,"title":"'str' object has no attribute 'decode' in welcome app when requesting password reset with py3","user":{"login":"bjquinn","id":8106438,"avatar_url":"https://avatars3.githubusercontent.com/u/8106438?v=4","gravatar_id":"","url":"https://api.github.com/users/bjquinn","html_url":"https://github.com/bjquinn","followers_url":"https://api.github.com/users/bjquinn/followers","following_url":"https://api.github.com/users/bjquinn/following{/other_user}","gists_url":"https://api.github.com/users/bjquinn/gists{/gist_id}","starred_url":"https://api.github.com/users/bjquinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjquinn/subscriptions","organizations_url":"https://api.github.com/users/bjquinn/orgs","repos_url":"https://api.github.com/users/bjquinn/repos","events_url":"https://api.github.com/users/bjquinn/events{/privacy}","received_events_url":"https://api.github.com/users/bjquinn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-02-07T01:52:37Z","updated_at":"2018-02-24T16:57:21Z","closed_at":"2018-02-24T16:57:21Z","author_association":"NONE","body":"web2py version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\nPython 3.6.4\r\n\r\ngetting the following error in the welcome app when trying to click the forgot password link:\r\n\r\n```\r\n<class 'AttributeError'> 'str' object has no attribute 'decode'\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/web-apps/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/opt/web-apps/web2py/applications/buyerbound_dms/controllers/default.py\", line 66, in <module>\r\n  File \"/opt/web-apps/web2py/gluon/globals.py\", line 419, in <lambda>\r\n    self._caller = lambda f: f()\r\n  File \"/opt/web-apps/web2py/applications/buyerbound_dms/controllers/default.py\", line 55, in user\r\n    return dict(form=auth())\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 1925, in __call__\r\n    return getattr(self, args[0])()\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 3613, in request_reset_password\r\n    if self.email_reset_password(user):\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 3637, in email_reset_password\r\n    message=self.messages.reset_password % d):\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 748, in send\r\n    payload['Subject'] = encoded_or_raw(to_unicode(subject, encoding))\r\n  File \"/opt/web-apps/web2py/gluon/_compat.py\", line 158, in to_unicode\r\n    return obj.decode(charset, errors)\r\n  File \"/opt/web-apps/web2py/gluon/languages.py\", line 437, in decode\r\n    return str(self).decode(*a, **b)\r\nAttributeError: 'str' object has no attribute 'decode'\r\n```\r\n\r\nsimply changing the following in languages.py:\r\n\r\n```\r\n    def decode(self, *a, **b):\r\n        return str(self).decode(*a, **b)\r\n```\r\n\r\nto the following:\r\n\r\n```\r\n    def decode(self, *a, **b):\r\n        if PY2:\r\n            return str(self).decode(*a, **b)\r\n```\r\n\r\nseems to fix it.  I don't know if there are other side effects that I'd be causing with this fix, but I thought I'd report the error and a potential fix.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1842","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1842/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1842/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1842/events","html_url":"https://github.com/web2py/web2py/issues/1842","id":292570250,"number":1842,"title":"request_password vs request_reset_password","user":{"login":"liuyigh","id":5641850,"avatar_url":"https://avatars0.githubusercontent.com/u/5641850?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyigh","html_url":"https://github.com/liuyigh","followers_url":"https://api.github.com/users/liuyigh/followers","following_url":"https://api.github.com/users/liuyigh/following{/other_user}","gists_url":"https://api.github.com/users/liuyigh/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyigh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyigh/subscriptions","organizations_url":"https://api.github.com/users/liuyigh/orgs","repos_url":"https://api.github.com/users/liuyigh/repos","events_url":"https://api.github.com/users/liuyigh/events{/privacy}","received_events_url":"https://api.github.com/users/liuyigh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-01-29T21:39:27Z","updated_at":"2018-02-17T08:21:14Z","closed_at":"2018-02-17T08:21:14Z","author_association":"CONTRIBUTOR","body":"Is this a bug? I am using 2.16.1 Apparently `request_password` function as subitem 'Lost Password' in the top menu leads to 404 not found.\r\n\r\nThe `request_reset_password` function as button 'Lost Password' on the login page is fine.\r\n\r\nUpdate: `retrieve_password` also works\r\n\r\ntemporary fix:\r\nin def user()\r\n```\r\ndef user()\r\n    elif request.args(0)=='request_password':\r\n        redirect(URL('user','retrieve_password'))\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1841","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1841/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1841/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1841/events","html_url":"https://github.com/web2py/web2py/issues/1841","id":292058042,"number":1841,"title":"urllib issue running on python 3","user":{"login":"liuyigh","id":5641850,"avatar_url":"https://avatars0.githubusercontent.com/u/5641850?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyigh","html_url":"https://github.com/liuyigh","followers_url":"https://api.github.com/users/liuyigh/followers","following_url":"https://api.github.com/users/liuyigh/following{/other_user}","gists_url":"https://api.github.com/users/liuyigh/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyigh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyigh/subscriptions","organizations_url":"https://api.github.com/users/liuyigh/orgs","repos_url":"https://api.github.com/users/liuyigh/repos","events_url":"https://api.github.com/users/liuyigh/events{/privacy}","received_events_url":"https://api.github.com/users/liuyigh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-01-26T23:04:00Z","updated_at":"2018-02-09T18:27:31Z","closed_at":"2018-02-09T18:27:31Z","author_association":"CONTRIBUTOR","body":"I am really happy with how much progress been made for python 3 compatibility.\r\n\r\nHere I report an issue due to urllib. May be related to this one issue #1236 .\r\n\r\n```\r\nTicket ID\r\n\r\n127.0.0.1.2018-01-26.14-56-13.3219f101-137f-44b5-8bd8-bdab6eb591d3\r\n<class 'AttributeError'> module 'urllib' has no attribute 'urlencode'\r\nVersion\r\nweb2pyâ„¢ \tVersion 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\nTraceback\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/.../web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\nAttributeError: module 'urllib' has no attribute 'urlencode'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/.../web2py/gluon/restricted.py\", line 141, in __init__\r\n    self.traceback = traceback.format_exc()\r\nAttributeError: 'NoneType' object has no attribute 'strip'\r\n\r\nIn file: /Users/.../web2py/applications/.../controllers/default.py\r\n\r\n1.\r\n<code object <module> at 0x1050a8e40, file \"/Users/.../controllers/default.py\", line 3>\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1838","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1838/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1838/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1838/events","html_url":"https://github.com/web2py/web2py/issues/1838","id":291412572,"number":1838,"title":"Can't insert 4-byte characters using web2py/PyMySQL","user":{"login":"hyanwong","id":4699014,"avatar_url":"https://avatars3.githubusercontent.com/u/4699014?v=4","gravatar_id":"","url":"https://api.github.com/users/hyanwong","html_url":"https://github.com/hyanwong","followers_url":"https://api.github.com/users/hyanwong/followers","following_url":"https://api.github.com/users/hyanwong/following{/other_user}","gists_url":"https://api.github.com/users/hyanwong/gists{/gist_id}","starred_url":"https://api.github.com/users/hyanwong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyanwong/subscriptions","organizations_url":"https://api.github.com/users/hyanwong/orgs","repos_url":"https://api.github.com/users/hyanwong/repos","events_url":"https://api.github.com/users/hyanwong/events{/privacy}","received_events_url":"https://api.github.com/users/hyanwong/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-25T00:47:40Z","updated_at":"2018-02-07T16:02:30Z","closed_at":"2018-02-07T16:02:30Z","author_association":"NONE","body":"With the latest (0.8.0) version of PyMySQL, and setting the table and column collations to utf8mb4_unicode_ci, I can insert full utf8 characters like ðŸ’© (see https://mathiasbynens.be/notes/mysql-utf8mb4) on the python command line, e.g.\r\n\r\n```\r\ndb_curs.execute(u\"INSERT INTO mytable (x) VALUES (%s);\", (u'ðŸ’©',))\r\n```\r\n\r\nbut when I try to do the same using the web2py 
8000
DAL (web2py 2.16.1-stable), it fails, and inserts \"????\" instead:\r\n\r\n```\r\ndb.mytable.insert(x=u'ðŸ’©')\r\n\r\n> /usr/local/lib/python2.7/site-packages/pymysql/cursors.py:16â€Œâ€‹5: Warning: (1300, u\"Invalid utf8 character string: 'F09F92'\") result = self._query(query) \r\n> /usr/local/lib/python2.7/site-packages/pymysql/cursors.py:16â€Œâ€‹5: Warning: (1366, u\"Incorrect string value: '\\\\xF0\\\\x9F\\\\x92\\\\xA9' for column 'x' at row 1\")\r\n```\r\n\r\nThe same failure happens if I try to insert the character via `db.executesql()`. It seems to me as if this is a bug in the interaction between web2py and PyMySQL.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1835","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1835/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1835/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1835/events","html_url":"https://github.com/web2py/web2py/issues/1835","id":286599559,"number":1835,"title":"SCRIPT.xml and STYLE.xml return str bug","user":{"login":"pearu","id":402156,"avatar_url":"https://avatars3.githubusercontent.com/u/402156?v=4","gravatar_id":"","url":"https://api.github.com/users/pearu","html_url":"https://github.com/pearu","followers_url":"https://api.github.com/users/pearu/followers","following_url":"https://api.github.com/users/pearu/following{/other_user}","gists_url":"https://api.github.com/users/pearu/gists{/gist_id}","starred_url":"https://api.github.com/users/pearu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pearu/subscriptions","organizations_url":"https://api.github.com/users/pearu/orgs","repos_url":"https://api.github.com/users/pearu/repos","events_url":"https://api.github.com/users/pearu/events{/privacy}","received_events_url":"https://api.github.com/users/pearu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-01-07T21:14:20Z","updated_at":"2018-02-09T18:27:03Z","closed_at":"2018-02-09T18:27:03Z","author_association":"NONE","body":"The `xml()` methods of `SCRIPT` and `STYLE` instances return `str` object but should return `bytes` according to the implementation of all other `xml()` methods defined in `gluon/html.py`. This inconsistency leads to `TypeError` when using Python 3.x. Example:\r\n```\r\n>>> from gluon.html import SCRIPT, DIV\r\n>>> SCRIPT(';').xml() + DIV().xml()\r\nTypeError: must be str, not bytes\r\n```\r\nUsers can use the following workaround (or only this):\r\n```\r\n>>> (SCRIPT(';') + DIV()).xml()\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1831","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1831/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1831/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1831/events","html_url":"https://github.com/web2py/web2py/issues/1831","id":285997854,"number":1831,"title":"Date and datetime widget broken","user":{"login":"cccaballero","id":3727802,"avatar_url":"https://avatars3.githubusercontent.com/u/3727802?v=4","gravatar_id":"","url":"https://api.github.com/users/cccaballero","html_url":"https://github.com/cccaballero","followers_url":"https://api.github.com/users/cccaballero/followers","following_url":"https://api.github.com/users/cccaballero/following{/other_user}","gists_url":"https://api.github.com/users/cccaballero/gists{/gist_id}","starred_url":"https://api.github.com/users/cccaballero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccaballero/subscriptions","organizations_url":"https://api.github.com/users/cccaballero/orgs","repos_url":"https://api.github.com/users/cccaballero/repos","events_url":"https://api.github.com/users/cccaballero/events{/privacy}","received_events_url":"https://api.github.com/users/cccaballero/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-04T14:13:04Z","updated_at":"2018-01-10T17:46:30Z","closed_at":"2018-01-10T17:46:30Z","author_association":"CONTRIBUTOR","body":"In 2.16.1 version (and current master branch) date and datetime widgets are broken, you can see in the picture the behavior\r\n![captura de pantalla de 2018-01-03 12-15-56](https://user-images.githubusercontent.com/3727802/34567237-6b2a202c-f12f-11e7-99e5-473e8a627ce7.png)\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1828","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1828/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1828/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1828/events","html_url":"https://github.com/web2py/web2py/issues/1828","id":284320869,"number":1828,"title":"layout.html - missing id required for showing collapsed menu ","user":{"login":"carpaIdea","id":3496662,"avatar_url":"https://avatars3.githubusercontent.com/u/3496662?v=4","gravatar_id":"","url":"https://api.github.com/users/carpaIdea","html_url":"https://github.com/carpaIdea","followers_url":"https://api.github.com/users/carpaIdea/followers","following_url":"https://api.github.com/users/carpaIdea/following{/other_user}","gists_url":"https://api.github.com/users/carpaIdea/gists{/gist_id}","starred_url":"https://api.github.com/users/carpaIdea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carpaIdea/subscriptions","organizations_url":"https://api.github.com/users/carpaIdea/orgs","repos_url":"https://api.github.com/users/carpaIdea/repos","events_url":"https://api.github.com/users/carpaIdea/events{/privacy}","received_events_url":"https://api.github.com/users/carpaIdea/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-23T18:49:26Z","updated_at":"2018-02-09T18:29:22Z","closed_at":"2018-02-09T18:29:22Z","author_association":"CONTRIBUTOR","body":"Clicking the toggler button doesn't show collapsed menu.\r\n\r\nThe correction should be simple:\r\nin the layout.html file we need to add the id on the navbar-collapse\r\n\r\n`<div id=\"navbarNavDropdown\" class=\"collapse navbar-collapse\">`\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1827","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1827/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1827/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1827/events","html_url":"https://github.com/web2py/web2py/issues/1827","id":284173139,"number":1827,"title":"is this a super bug in scheduler in version web2py.2.14.6 ?","user":{"login":"liuzhijun","id":329546,"avatar_url":"https://avatars0.githubusercontent.com/u/329546?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzhijun","html_url":"https://github.com/liuzhijun","followers_url":"https://api.github.com/users/liuzhijun/followers","following_url":"https://api.github.com/users/liuzhijun/following{/other_user}","gists_url":"https://api.github.com/users/liuzhijun/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzhijun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzhijun/subscriptions","organizations_url":"https://api.github.com/users/liuzhijun/orgs","repos_url":"https://api.github.com/users/liuzhijun/repos","events_url":"https://api.github.com/users/liuzhijun/events{/privacy}","received_events_url":"https://api.github.com/users/liuzhijun/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-22T14:14:54Z","updated_at":"2017-12-23T01:24:09Z","closed_at":"2017-12-23T01:24:09Z","author_association":"NONE","body":"Traceback (most recent call last):\r\n  File \"/home/www-data/web2py2000/gluon/restricted.py\", line 227, in restricted\r\n    exec ccode in environment\r\n  File \"applications/player/models/0.py\", line 83, in <module>\r\n    scheduler = Scheduler(session_service.db, migrate=False)\r\n  File \"/home/www-data/web2py2000/gluon/scheduler.py\", line 585, in __init__\r\n    self.define_tables(db, migrate=migrate)\r\n  File \"/home/www-data/web2py2000/gluon/scheduler.py\", line 653, in define_tables\r\n    migrate=self.__get_migrate('scheduler_task', migrate),\r\n  File \"/home/www-data/web2py2000/gluon/packages/dal/pydal/base.py\", line 819, in define_table\r\n    raise SyntaxError('table already defined: %s' % tablename)\r\nSyntaxError: table already defined: scheduler_task","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1822","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1822/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1822/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1822/events","html_url":"https://github.com/web2py/web2py/issues/1822","id":280804670,"number":1822,"title":"python3.5 : AttributeError: module 'urllib' has no attribute 'quote_plus'","user":{"login":"veiko99","id":24289232,"avatar_url":"https://avatars0.githubusercontent.com/u/24289232?v=4","gravatar_id":"","url":"https://api.github.com/users/veiko99","html_url":"https://github.com/veiko99","followers_url":"https://api.github.com/users/veiko99/followers","following_url":"https://api.github.com/users/veiko99/following{/other_user}","gists_url":"https://api.github.com/users/veiko99/gists{/gist_id}","starred_url":"https://api.github.com/users/veiko99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/veiko99/subscriptions","organizations_url":"https://api.github.com/users/veiko99/orgs","repos_url":"https://api.github.com/users/veiko99/repos","events_url":"https://api.github.com/users/veiko99/events{/privacy}","received_events_url":"https://api.github.com/users/veiko99/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-10T12:13:54Z","updated_at":"2018-03-06T20:38:06Z","closed_at":"2018-01-08T00:34:44Z","author_association":"NONE","body":"python 3.5, web2py version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n\r\n```\r\nERROR:Rocket.Errors.Thread-4:Traceback (most recent call last):\r\n\r\n  File \"/home/web2py/gluon/rocket.py\", line 1319, in run\r\n    self.run_app(conn)\r\n\r\n  File \"/home/web2py/gluon/rocket.py\", line 1820, in run_app\r\n    output = self.app(environ, self.start_response)\r\n\r\n  File \"/home/web2py/gluon/main.py\", line 650, in app_with_logging\r\n    ret[0] = wsgiapp(environ, responder2)\r\n\r\n  File \"/home/web2py/gluon/main.py\", line 559, in wsgibase\r\n    http_response, request, environ, ticket)\r\n\r\n  File \"/home/web2py/gluon/rewrite.py\", line 238, in try_rewrite_on_error\r\n    (status, ticket, urllib.quote_plus(\r\n\r\nAttributeError: module 'urllib' has no attribute 'quote_plus'\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1820","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1820/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1820/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1820/events","html_url":"https://github.com/web2py/web2py/issues/1820","id":278965984,"number":1820,"title":"AttributeError: 'NoneType' object has no attribute 'startswith'","user":{"login":"dburba","id":6642423,"avatar_url":"https://avatars2.githubusercontent.com/u/6642423?v=4","gravatar_id":"","url":"https://api.github.com/users/dburba","html_url":"https://github.com/dburba","followers_url":"https://api.github.com/users/dburba/followers","following_url":"https://api.github.com/users/dburba/following{/other_user}","gists_url":"https://api.github.com/users/dburba/gists{/gist_id}","starred_url":"https://api.github.com/users/dburba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dburba/subscriptions","organizations_url":"https://api.github.com/users/dburba/orgs","repos_url":"https://api.github.com/users/dburba/repos","events_url":"https://api.github.com/users/dburba/events{/privacy}","received_events_url":"https://api.github.com/users/dburba/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-12-04T11:40:58Z","updated_at":"2018-02-24T16:08:34Z","closed_at":"2018-02-24T16:08:34Z","author_association":"NONE","body":"Version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n```\r\ndef joint_field(db, fields=[]):\r\n    e = Expression(db, db._adapter.dialect.concat(*fields[:2]))\r\n    for f in fields[2:]:\r\n        e = Expression(db, db._adapter.dialect.concat(e, f))\r\n    return e\r\n```\r\n```\r\nfull_name_field = joint_field(db, [db.staff_employee.first_name, ' ', db.staff_employee.last_name])\r\nrecords = db(full_name_field.contains(request.vars.term)).select(\r\n    full_name_field,\r\n    groupby=full_name_field,\r\n    orderby=full_name_field,\r\n    limitby=(0, 10)\r\n)\r\n```\r\n```\r\nTraceback (most recent call last):\r\n  File \"/vagrant/grand3/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/vagrant/grand3/web2py/applications/app/controllers/staff.py\", line 286, in <module>\r\n  File \"/vagrant/grand3/web2py/gluon/globals.py\", line 419, in <lambda>\r\n    self._caller = lambda f: f()\r\n  File \"/vagrant/grand3/web2py/gluon/tools.py\", line 3982, in f\r\n    return action(*a, **b)\r\n  File \"/vagrant/grand3/web2py/applications/app/controllers/staff.py\", line 48, in autocomplete_employee_full_name\r\n    records = db(full_name_field.contains(request.vars.term)).select(\r\n  File \"/vagrant/grand3/web2py/gluon/packages/dal/pydal/objects.py\", line 1457, in contains\r\n    self.type.startswith('list:'):\r\nAttributeError: 'NoneType' object has no attribute 'startswith'\r\n```\r\nWas working with version 2.14, not sure about 2.15","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1817","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1817/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1817/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1817/events","html_url":"https://github.com/web2py/web2py/issues/1817","id":277814452,"number":1817,"title":"urllib not imported for pydal","user":{"login":"isaiahc0","id":34102122,"avatar_url":"https://avatars2.githubusercontent.com/u/34102122?v=4","gravatar_id":"","url":"https://api.github.com/users/isaiahc0","html_url":"https://github.com/isaiahc0","followers_url":"https://api.github.com/users/isaiahc0/followers","following_url":"https://api.github.com/users/isaiahc0/following{/other_user}","gists_url":"https://api.github.com/users/isaiahc0/gists{/gist_id}","starred_url":"https://api.github.com/users/isaiahc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaiahc0/subscriptions","organizations_url":"https://api.github.com/users/isaiahc0/orgs","repos_url":"https://api.github.com/users/isaiahc0/repos","events_url":"https://api.github.com/users/isaiahc0/events{/privacy}","received_events_url":"https://api.github.com/users/isaiahc0/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-29T16:14:54Z","updated_at":"2018-01-10T17:06:14Z","closed_at":"2018-01-10T17:06:14Z","author_association":"NONE","body":"Path: /web2py/gluon/packages/dal/pydal/base.py\r\n\r\nLine 403 uses urllib in the lambda. Causes NameError: global name 'urllib' is not defined\r\n\r\n\"import urllib\" required","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1816","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1816/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1816/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1816/events","html_url":"https://github.com/web2py/web2py/issues/1816","id":277251657,"number":1816,"title":"response.include_meta() bug","user":{"login":"neorusa","id":12936319,"avatar_url":"https://avatars3.githubusercontent.com/u/12936319?v=4","gravatar_id":"","url":"https://api.github.com/users/neorusa","html_url":"https://github.com/neorusa","followers_url":"https://api.github.com/users/neorusa/followers","following_url":"https://api.github.com/users/neorusa/following{/other_user}","gists_url":"https://api.github.com/users/neorusa/gists{/gist_id}","starred_url":"https://api.github.com/users/neorusa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neorusa/subscriptions","organizations_url":"https://api.github.com/users/neorusa/orgs","repos_url":"https://api.github.com/users/neorusa/repos","events_url":"https://api.github.com/users/neorusa/events{/privacy}","received_events_url":"https://api.github.com/users/neorusa/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-11-28T04:03:55Z","updated_at":"2017-12-02T19:01:14Z","closed_at":"2017-12-02T19:01:14Z","author_association":"NONE","body":"Hi!\r\nI have a function in my modules\r\n\r\n```python\r\n    def set_open_graph(type=\"website\", title=None, url=None, image=None, description=None, site_name=None, locale=None, locale_alternate={}):\r\n        data = locals()\r\n        for name in ['type', 'title', 'url', 'description', 'site_name', 'locale']:\r\n            my_dict = {}\r\n            if data[name]:\r\n                my_dict['name'] = \"og:\" + name\r\n                my_dict['content'] = data[name]\r\n                current.response.meta['og_' + name] = my_dict\r\n```\r\n\r\nThen in my 'layout.html:\r\n\r\n`{{response.include_meta()}}`\r\n\r\nIt produces follow code:\r\n\r\n```html\r\n<meta b'name'=\"og:description\" b'content'=\"My content\" />\r\n<meta b'name'=\"og:locale\" b'content'=\"RU\" />\r\n```\r\n\r\nOS: Linux Mint 18.2 (Ubuntu 16.04),\r\nWeb2py 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n(Running on Rocket 1.2.6, Python 3.5.2)  ","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1800","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1800/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1800/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1800/events","html_url":"https://github.com/web2py/web2py/issues/1800","id":272007683,"number":1800,"title":"Auth change_password does not enforce settings.password_min_length","user":{"login":"abastardi","id":1295688,"avatar_url":"https://avatars3.githubusercontent.com/u/1295688?v=4","gravatar_id":"","url":"https://api.github.com/users/abastardi","html_url":"https://github.com/abastardi","followers_url":"https://api.github.com/users/abastardi/followers","following_url":"https://api.github.com/users/abastardi/following{/other_user}","gists_url":"https://api.github.com/users/abastardi/gists{/gist_id}","starred_url":"https://api.github.com/users/abastardi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abastardi/subscriptions","organizations_url":"https://api.github.com/users/abastardi/orgs","repos_url":"https://api.github.com/users/abastardi/repos","events_url":"https://api.github.com/users/abastardi/events{/privacy}","received_events_url":"https://api.github.com/users/abastardi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-07T22:28:18Z","updated_at":"2017-11-11T00:12:18Z","closed_at":"2017-11-11T00:12:18Z","author_association":"CONTRIBUTOR","body":"In authapi.py at https://github.com/web2py/web2py/blob/c4e08eeeb34cb51d9048a0eabc07586494ac8c8c/gluon/authapi.py#L991 and in tools.py at https://github.com/web2py/web2py/blob/c4e08eeeb34cb51d9048a0eabc07586494ac8c8c/gluon/tools.py#L3696, the `change_password` code sets the `CRYPT` `min_length` attribute to `0` (so the minimum length requirement will not be enforced on the old password). However, the instance of the `CRYPT` validator that is mutated is still the same instance attached to the `db.auth_user.password` field, so the subsequent validation of the new password does not enforce any minimum length.\r\n\r\nThe code should instead create a copy of the existing `CRYPT` validator rather than mutating the existing one.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1795","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1795/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1795/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1795/events","html_url":"https://github.com/web2py/web2py/issues/1795","id":270609009,"number":1795,"title":"Internal middleware returns incorrect status code","user":{"login":"vitkarpenko","id":11683558,"avatar_url":"https://avatars2.githubusercontent.com/u/11683558?v=4","gravatar_id":"","url":"https://api.github.com/users/vitkarpenko","html_url":"https://github.com/vitkarpenko","followers_url":"https://api.github.com/users/vitkarpenko/followers","following_url":"https://api.github.com/users/vitkarpenko/following{/other_user}","gists_url":"https://api.github.com/users/vitkarpenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vitkarpenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitkarpenko/subscriptions","organizations_url":"https://api.github.com/users/vitkarpenko/orgs","repos_url":"https://api.github.com/users/vitkarpenko/repos","events_url":"https://api.github.com/users/vitkarpenko/events{/privacy}","received_events_url":"https://api.github.com/users/vitkarpenko/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-11-02T10:50:11Z","updated_at":"2017-11-11T09:49:14Z","closed_at":"2017-11-11T09:49:14Z","author_association":"CONTRIBUTOR","body":"Example from http://web2py.com/books/default/chapter/29/04/the-core#Internal-middleware returns 500 status code on latest web2py version (while still converting 'hello world' to 'HELLO WORLD' correctly).","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1792","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1792/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1792/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1792/events","html_url":"https://github.com/web2py/web2py/issues/1792","id":269143765,"number":1792,"title":"reload for PY3 support","user":{"login":"sherdim","id":8270227,"avatar_url":"https://avatars0.githubusercontent.com/u/8270227?v=4","gravatar_id":"","url":"https://api.github.com/users/sherdim","html_url":"https://github.com/sherdim","followers_url":"https://api.github.com/users/sherdim/followers","following_url":"https://api.github.com/users/sherdim/following{/other_user}","gists_url":"https://api.github.com/users/sherdim/gists{/gist_id}","starred_url":"https://api.github.com/users/sherdim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherdim/subscriptions","organizations_url":"https://api.github.com/users/sherdim/orgs","repos_url":"https://api.github.com/users/sherdim/repos","events_url":"https://api.github.com/users/sherdim/events{/privacy}","received_events_url":"https://api.github.com/users/sherdim/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-27T15:21:41Z","updated_at":"2017-11-01T23:59:55Z","closed_at":"2017-11-01T23:59:55Z","author_association":"CONTRIBUTOR","body":"for someone who cares\r\n\r\n@_compat.py:\r\n#if PY2\r\n+39     reload = reload\r\n#else:\r\n+78    from importlib import reload\r\n\r\n@compileapp.py:\r\n- from gluon._compat import builtin, PY2, unicodeT, to_native, to_bytes, iteritems, basestring, reduce, xrange, long\r\n+ from gluon._compat import builtin, PY2, unicodeT, to_native, to_bytes, iteritems, basestring, reduce, xrange, long, reload\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1791","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1791/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1791/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1791/events","html_url":"https://github.com/web2py/web2py/issues/1791","id":267771970,"number":1791,"title":"current object apparently empty when instantiate validator in a module file","user":{"login":"fiubarc","id":2307548,"avatar_url":"https://avatars0.githubusercontent.com/u/2307548?v=4","gravatar_id":"","url":"https://api.github.com/users/fiubarc","html_url":"https://github.com/fiubarc","followers_url":"https://api.github.com/users/fiubarc/followers","following_url":"https://api.github.com/users/fiubarc/following{/other_user}","gists_url":"https://api.github.com/users/fiubarc/gists{/gist_id}","starred_url":"https://api.github.com/users/fiubarc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fiubarc/subscriptions","organizations_url":"https://api.github.com/users/fiubarc/orgs","repos_url":"https://api.github.com/users/fiubarc/repos","events_url":"https://api.github.com/users/fiubarc/events{/privacy}","received_events_url":"https://api.github.com/users/fiubarc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-23T18:34:06Z","updated_at":"2018-02-19T16:43:09Z","closed_at":"2018-02-19T16:43:09Z","author_association":"NONE","body":"Hello, Im having a problem with the validators translation..\r\n\r\n I set requires to a SQLFORM in a module file and then process the form\r\n\r\nOn validators.py have_current is True but is empty.\r\n\r\n```\r\ntry:\r\n    from globals import current\r\n    have_current = True\r\nexcept ImportError:\r\n    have_current = False\r\n```\r\n\r\nWhen function translate(text) call hasattr(current, 'T') return False\r\n```\r\ndef translate(text):\r\n    if text is None:\r\n        return None\r\n    elif isinstance(text, (str, unicode)) and have_current:\r\n        if hasattr(current, 'T'):\r\n            return str(current.T(text))\r\n    return str(text)\r\n```\r\nOnly work with validators instantiated in models.\r\n\r\nIs a bug or I am missing something??\r\nThanks!","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1788","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1788/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1788/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1788/events","html_url":"https://github.com/web2py/web2py/issues/1788","id":265001158,"number":1788,"title":"Autocomplete widgets set request.vars every request","user":{"login":"timnyborg","id":10194397,"avatar_url":"https://avatars1.githubusercontent.com/u/10194397?v=4","gravatar_id":"","url":"https://api.github.com/users/timnyborg","html_url":"https://github.com/timnyborg","followers_url":"https://api.github.com/users/timnyborg/followers","following_url":"https://api.github.com/users/timnyborg/following{/other_user}","gists_url":"https://api.github.com/users/timnyborg/gists{/gist_id}","starred_url":"https://api.github.com/users/timnyborg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timnyborg/subscriptions","organizations_url":"https://api.github.com/users/timnyborg/orgs","repos_url":"https://api.github.com/users/timnyborg/repos","events_url":"https://api.github.com/users/timnyborg/events{/privacy}","received_events_url":"https://api.github.com/users/timnyborg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-12T16:12:46Z","updated_at":"2017-11-13T22:56:39Z","closed_at":"2017-11-13T22:56:39Z","author_association":"CONTRIBUTOR","body":"See the following lines, where request.vars.ac is set to 1 every call:\r\n\r\nhttps://github.com/web2py/web2py/blob/5975e4767fd7339b5c588305ec9e8eebd9c079c5/gluon/sqlhtml.py#L685\r\n\r\nI'm guessing it should be using copy.copy() to set urlvars = request.vars?","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1786","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1786/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1786/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1786/events","html_url":"https://github.com/web2py/web2py/issues/1786","id":261249834,"number":1786,"title":"python3.4 : can not concat bytes to str","user":{"login":"JusticeN","id":10181423,"avatar_url":"https://avatars3.githubusercontent.com/u/10181423?v=4","gravatar_id":"","url":"https://api.github.com/users/JusticeN","html_url":"https://github.com/JusticeN","followers_url":"https://api.github.com/users/JusticeN/followers","following_url":"https://api.github.com/users/JusticeN/following{/other_user}","gists_url":"https://api.github.com/users/JusticeN/gists{/gist_id}","starred_url":"https://api.github.com/users/JusticeN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JusticeN/subscriptions","organizations_url":"https://api.github.com/users/JusticeN/orgs","repos_url":"https://api.github.com/users/JusticeN/repos","events_url":"https://api.github.com/users/JusticeN/events{/privacy}","received_events_url":"https://api.github.com/users/JusticeN/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-09-28T09:22:59Z","updated_at":"2017-10-02T09:23:53Z","closed_at":"2017-10-02T09:23:53Z","author_association":"NONE","body":"hello,\r\ni start web2py from the source code. \r\n\r\n> Version 2.15.4-stable+timestamp.2017.09.01.22.38.25\r\n\r\nafter starting i receive a ticket containing this error\r\n\r\n> File \"...\\gluon\\html.py\", line 950, in _xml\r\n> TypeError: can't concat bytes to str\r\n\r\ncould someone tell me please what is going wrong ?\r\nthanks in advance","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1783","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1783/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1783/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1783/events","html_url":"https://github.com/web2py/web2py/issues/1783","id":259777558,"number":1783,"title":"A solution for adding file extension when streaming uploaded file whose filename is truncated by the Field('',length=somevalue,)","user":{"login":"liuyibing45","id":25625873,"avatar_url":"https://avatars3.githubusercontent.com/u/25625873?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyibing45","html_url":"https://github.com/liuyibing45","followers_url":"https://api.github.com/users/liuyibing45/followers",
2087
"following_url":"https://api.github.com/users/liuyibing45/following{/other_user}","gists_url":"https://api.github.com/users/liuyibing45/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyibing45/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyibing45/subscriptions","organizations_url":"https://api.github.com/users/liuyibing45/orgs","repos_url":"https://api.github.com/users/liuyibing45/repos","events_url":"https://api.github.com/users/liuyibing45/events{/privacy}","received_events_url":"https://api.github.com/users/liuyibing45/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T10:52:38Z","updated_at":"2017-09-22T10:53:34Z","closed_at":"2017-09-22T10:53:34Z","author_association":"NONE","body":"web2py 2.15.4, windows 10, python 3.6. I upload a file whose name is very long with Field('',length=200,). The file can be stored into the upload folder with a hash name with file extension  successfully. However when I try to stream the file according smartgrid() I get the truncated filename without file extension. After debugging I find a solution. \r\nModify the line 1735 in pydal/objects.py from`filename = file_properties['filename']`\r\nto `filename = file_properties['filename']+'.'+name.split('.')[-1]`.\r\nIt works.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1784","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1784/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1784/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1784/events","html_url":"https://github.com/web2py/web2py/issues/1784","id":259777561,"number":1784,"title":"A solution for adding file extension when streaming uploaded file whose filename is truncated by the Field('',length=somevalue,)","user":{"login":"liuyibing45","id":25625873,"avatar_url":"https://avatars3.githubusercontent.com/u/25625873?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyibing45","html_url":"https://github.com/liuyibing45","followers_url":"https://api.github.com/users/liuyibing45/followers","following_url":"https://api.github.com/users/liuyibing45/following{/other_user}","gists_url":"https://api.github.com/users/liuyibing45/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyibing45/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyibing45/subscriptions","organizations_url":"https://api.github.com/users/liuyibing45/orgs","repos_url":"https://api.github.com/users/liuyibing45/repos","events_url":"https://api.github.com/users/liuyibing45/events{/privacy}","received_events_url":"https://api.github.com/users/liuyibing45/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T10:52:38Z","updated_at":"2017-09-22T10:53:13Z","closed_at":"2017-09-22T10:53:13Z","author_association":"NONE","body":"web2py 2.15.4, windows 10, python 3.6. I upload a file whose name is very long with Field('',length=200,). The file can be stored into the upload folder with a hash name with file extension  successfully. However when I try to stream the file according smartgrid() I get the truncated filename without file extension. After debugging I find a solution. \r\nModify the line 1735 in pydal/objects.py from`filename = file_properties['filename']`\r\nto `filename = file_properties['filename']+'.'+name.split('.')[-1]`.\r\nIt works.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1782","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1782/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1782/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1782/events","html_url":"https://github.com/web2py/web2py/issues/1782","id":259777554,"number":1782,"title":"A solution for adding file extension when streaming uploaded file whose filename is truncated by the Field('',length=somevalue,)","user":{"login":"liuyibing45","id":25625873,"avatar_url":"https://avatars3.githubusercontent.com/u/25625873?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyibing45","html_url":"https://github.com/liuyibing45","followers_url":"https://api.github.com/users/liuyibing45/followers","following_url":"https://api.github.com/users/liuyibing45/following{/other_user}","gists_url":"https://api.github.com/users/liuyibing45/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyibing45/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyibing45/subscriptions","organizations_url":"https://api.github.com/users/liuyibing45/orgs","repos_url":"https://api.github.com/users/liuyibing45/repos","events_url":"https://api.github.com/users/liuyibing45/events{/privacy}","received_events_url":"https://api.github.com/users/liuyibing45/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T10:52:36Z","updated_at":"2017-09-22T10:53:42Z","closed_at":"2017-09-22T10:53:42Z","author_association":"NONE","body":"web2py 2.15.4, windows 10, python 3.6. I upload a file whose name is very long with Field('',length=200,). The file can be stored into the upload folder with a hash name with file extension  successfully. However when I try to stream the file according smartgrid() I get the truncated filename without file extension. After debugging I find a solution. \r\nModify the line 1735 in pydal/objects.py from`filename = file_properties['filename']`\r\nto `filename = file_properties['filename']+'.'+name.split('.')[-1]`.\r\nIt works.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1780","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1780/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1780/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1780/events","html_url":"https://github.com/web2py/web2py/issues/1780","id":259777545,"number":1780,"title":"A solution for adding file extension when streaming uploaded file whose filename is truncated by the Field('',length=somevalue,)","user":{"login":"liuyibing45","id":25625873,"avatar_url":"https://avatars3.githubusercontent.com/u/25625873?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyibing45","html_url":"https://github.com/liuyibing45","followers_url":"https://api.github.com/users/liuyibing45/followers","following_url":"https://api.github.com/users/liuyibing45/following{/other_user}","gists_url":"https://api.github.com/users/liuyibing45/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyibing45/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyibing45/subscriptions","organizations_url":"https://api.github.com/users/liuyibing45/orgs","repos_url":"https://api.github.com/users/liuyibing45/repos","events_url":"https://api.github.com/users/liuyibing45/events{/privacy}","received_events_url":"https://api.github.com/users/liuyibing45/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T10:52:35Z","updated_at":"2017-09-22T10:53:59Z","closed_at":"2017-09-22T10:53:59Z","author_association":"NONE","body":"web2py 2.15.4, windows 10, python 3.6. I upload a file whose name is very long with Field('',length=200,). The file can be stored into the upload folder with a hash name with file extension  successfully. However when I try to stream the file according smartgrid() I get the truncated filename without file extension. After debugging I find a solution. \r\nModify the line 1735 in pydal/objects.py from`filename = file_properties['filename']`\r\nto `filename = file_properties['filename']+'.'+name.split('.')[-1]`.\r\nIt works.","score":1.0}]}
0

