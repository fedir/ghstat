HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:07:03 GMT
Link: <https://api.github.com/search/issues?q=repo%3Aweb2py%2Fweb2py+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Aweb2py%2Fweb2py+type%3Aissue+state%3Aclosed&page=19>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CAA8:57C3:1EE2546:44F5B2B:5B1B8AA7
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 19
X-Ratelimit-Reset: 1528531675
X-Runtime-Rack: 0.384597
X-Xss-Protection: 1; mode=block

8000
{"total_count":548,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/web2py/web2py/issues/1941","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1941/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1941/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1941/events","html_url":"https://github.com/web2py/web2py/issues/1941","id":330183355,"node_id":"MDU6SXNzdWUzMzAxODMzNTU=","number":1941,"title":"WindowsError: [Error 6] The handle is invalid.","user":{"login":"pike-msonda","id":18394186,"node_id":"MDQ6VXNlcjE4Mzk0MTg2","avatar_url":"https://avatars1.githubusercontent.com/u/18394186?v=4","gravatar_id":"","url":"https://api.github.com/users/pike-msonda","html_url":"https://github.com/pike-msonda","followers_url":"https://api.github.com/users/pike-msonda/followers","following_url":"https://api.github.com/users/pike-msonda/following{/other_user}","gists_url":"https://api.github.com/users/pike-msonda/gists{/gist_id}","starred_url":"https://api.github.com/users/pike-msonda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pike-msonda/subscriptions","organizations_url":"https://api.github.com/users/pike-msonda/orgs","repos_url":"https://api.github.com/users/pike-msonda/repos","events_url":"https://api.github.com/users/pike-msonda/events{/privacy}","received_events_url":"https://api.github.com/users/pike-msonda/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-06-07T09:11:01Z","updated_at":"2018-06-07T12:52:55Z","closed_at":"2018-06-07T12:52:55Z","author_association":"NONE","body":"I am using pyinstaller-3.3.1 to freeze the webpy (0.39) application that I am working on.  When I run the exe, the returned error is:\r\nhttp://0.0.0.0:8080/\r\nTraceback (most recent call last):\r\n  File \"code.py\", line 41, in <module>\r\n  File \"site-packages\\web\\application.py\", line 313, in run\r\n  File \"site-packages\\web\\wsgi.py\", line 59, in runwsgi\r\n  File \"site-packages\\web\\httpserver.py\", line 157, in runsimple\r\n  File \"site-packages\\web\\wsgiserver\\__init__.py\", line 1745, in start\r\n  File \"site-packages\\web\\wsgiserver\\__init__.py\", line 1776, in bind\r\n  File \"site-packages\\web\\wsgiserver\\__init__.py\", line 1508, in prevent_socket_inheritance\r\nWindowsError: [Error 6] The handle is invalid.\r\n\r\n\r\nAs shown in the traceback output, the problem seems to be coming form the function: \r\n```\r\n   def prevent_socket_inheritance(sock):\r\n         \"\"\"Mark the given socket fd as non-inheritable (Windows).\"\"\"\r\n                 if not windll.kernel32.SetHandleInformation(sock.fileno(), 1, 0):\r\n                        raise WinError()\r\n```\r\n\r\nHow can I be able to work-around this problem?\r\n ","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1934","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1934/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1934/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1934/events","html_url":"https://github.com/web2py/web2py/issues/1934","id":328413923,"node_id":"MDU6SXNzdWUzMjg0MTM5MjM=","number":1934,"title":"anyserver.py error with cherrypy","user":{"login":"sugizo","id":2418295,"node_id":"MDQ6VXNlcjI0MTgyOTU=","avatar_url":"https://avatars3.githubusercontent.com/u/2418295?v=4","gravatar_id":"","url":"https://api.github.com/users/sugizo","html_url":"https://github.com/sugizo","followers_url":"https://api.github.com/users/sugizo/followers","following_url":"https://api.github.com/users/sugizo/following{/other_user}","gists_url":"https://api.github.com/users/sugizo/gists{/gist_id}","starred_url":"https://api.github.com/users/sugizo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sugizo/subscriptions","organizations_url":"https://api.github.com/users/sugizo/orgs","repos_url":"https://api.github.com/users/sugizo/repos","events_url":"https://api.github.com/users/sugizo/events{/privacy}","received_events_url":"https://api.github.com/users/sugizo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-01T07:41:30Z","updated_at":"2018-06-01T22:05:43Z","closed_at":"2018-06-01T22:05:43Z","author_association":"CONTRIBUTOR","body":"**web2py source 2.16.1 stable**\r\n```\r\n$ python ./web2py/anyserver.py -s cherrypy -i 0.0.0.0 -p 8000\r\nstarting cherrypy on 0.0.0.0:8000...\r\nTraceback (most recent call last):\r\n  File \"./web2py/anyserver.py\", line 365, in <module>\r\n    main()\r\n  File \"./web2py/anyserver.py\", line 362, in main\r\n    options=options)\r\n  File \"./web2py/anyserver.py\", line 314, in run\r\n    getattr(Servers, servername)(application, (ip, int(port)), options=options)\r\n  File \"./web2py/anyserver.py\", line 46, in cherrypy\r\n    from cherrypy import wsgiserver\r\nImportError: cannot import name wsgiserver\r\n```\r\n\r\n**solution modify anyserver.py**\r\n**before**\r\n```\r\n    @staticmethod\r\n    def cherrypy(app, address, **options):\r\n        from cherrypy import wsgiserver\r\n        server = wsgiserver.CherryPyWSGIServer(address, app)\r\n        server.start()\r\n```\r\n\r\n**after**\r\n```\r\n    @staticmethod\r\n    def cherrypy(app, address, **options):\r\n        from cheroot.wsgi import Server as WSGIServer\r\n        server = WSGIServer(address, app)\r\n        server.start()\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1920","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1920/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1920/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1920/events","html_url":"https://github.com/web2py/web2py/issues/1920","id":319482128,"node_id":"MDU6SXNzdWUzMTk0ODIxMjg=","number":1920,"title":"deployment issues with app built on 2.16.1 running on web2py -2.14.6 python anywhere server ","user":{"login":"WattsMatthew","id":23189958,"node_id":"MDQ6VXNlcjIzMTg5OTU4","avatar_url":"https://avatars2.githubusercontent.com/u/23189958?v=4","gravatar_id":"","url":"https://api.github.com/users/WattsMatthew","html_url":"https://github.com/WattsMatthew","followers_url":"https://api.github.com/users/WattsMatthew/followers","following_url":"https://api.github.com/users/WattsMatthew/following{/other_user}","gists_url":"https://api.github.com/users/WattsMatthew/gists{/gist_id}","starred_url":"https://api.github.com/users/WattsMatthew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WattsMatthew/subscriptions","organizations_url":"https://api.github.com/users/WattsMatthew/orgs","repos_url":"https://api.github.com/users/WattsMatthew/repos","events_url":"https://api.github.com/users/WattsMatthew/events{/privacy}","received_events_url":"https://api.github.com/users/WattsMatthew/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-02T09:39:45Z","updated_at":"2018-05-09T08:51:10Z","closed_at":"2018-05-09T08:51:10Z","author_association":"NONE","body":"I am trying to deploy an to python anywhere using an app made with with the latest version 2.16.1. However, python anywhere is using version 2.14.6\r\n\r\nAny ideas what's up, or how i can work around this?\r\n\r\nThanks\r\n\r\nMatthew","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1918","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1918/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1918/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1918/events","html_url":"https://github.com/web2py/web2py/issues/1918","id":319106652,"node_id":"MDU6SXNzdWUzMTkxMDY2NTI=","number":1918,"title":"Exception handling in gluon/contrib/gateways/fcgi.py is incompatible with Python 3","user":{"login":"ASalazarMX","id":10890166,"node_id":"MDQ6VXNlcjEwODkwMTY2","avatar_url":"https://avatars1.githubusercontent.com/u/10890166?v=4","gravatar_id":"","url":"https://api.github.com/users/ASalazarMX","html_url":"https://github.com/ASalazarMX","followers_url":"https://api.github.com/users/ASalazarMX/followers","following_url":"https://api.github.com/users/ASalazarMX/following{/other_user}","gists_url":"https://api.github.com/users/ASalazarMX/gists{/gist_id}","starred_url":"https://api.github.com/users/ASalazarMX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ASalazarMX/subscriptions","organizations_url":"https://api.github.com/users/ASalazarMX/orgs","repos_url":"https://api.github.com/users/ASalazarMX/repos","events_url":"https://api.github.com/users/ASalazarMX/events{/privacy}","received_events_url":"https://api.github.com/users/ASalazarMX/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-01T03:42:05Z","updated_at":"2018-06-01T17:41:01Z","closed_at":"2018-06-01T17:41:01Z","author_association":"NONE","body":"Exception handling is not compatible with Python 3.\r\nTo make it compatible with both Python 2 and 3, handling should be changed from\r\n\r\n    except socket.error, e:\r\n        if e[0] == errno.EAGAIN:\r\n\r\nto\r\n\r\n    except socket.error as e:\r\n        if e.errno == errno.EAGAIN:\r\n\r\nFollowup to #1905. There are no other files in the same case","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1913","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1913/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1913/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1913/events","html_url":"https://github.com/web2py/web2py/issues/1913","id":317389069,"node_id":"MDU6SXNzdWUzMTczODkwNjk=","number":1913,"title":"Admin application within a Docker Container","user":{"login":"dsperling","id":7662738,"node_id":"MDQ6VXNlcjc2NjI3Mzg=","avatar_url":"https://avatars1.githubusercontent.com/u/7662738?v=4","gravatar_id":"","url":"https://api.github.com/users/dsperling","html_url":"https://github.com/dsperling","followers_url":"https://api.github.com/users/dsperling/followers","following_url":"https://api.github.com/users/dsperling/following{/other_user}","gists_url":"https://api.github.com/users/dsperling/gists{/gist_id}","starred_url":"https://api.github.com/users/dsperling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsperling/subscriptions","organizations_url":"https://api.github.com/users/dsperling/orgs","repos_url":"https://api.github.com/users/dsperling/repos","events_url":"https://api.github.com/users/dsperling/events{/privacy}","received_events_url":"https://api.github.com/users/dsperling/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-04-24T20:47:15Z","updated_at":"2018-04-26T16:31:00Z","closed_at":"2018-04-25T16:47:48Z","author_association":"NONE","body":"You cannot use the `admin` application inside a Docker container, even when accessing the container from the host with `http://127.0.0.1:8080/admin`.  The user gets the message:  `Admin is disabled because insecure channel`.\r\n\r\nThis is due to the Docker Network bridge and the fact that the connections into the container's web server do not happen over `127.0.0.1:8080` but rather `172.17.0.1:8080`.\r\n\r\nOur [current workaround](https://github.com/smithmicro/web2py/blob/master/nginx.conf) for this issue to to add an nginx web server container configured for HTTPS using self-signed certificates.  The downside to this is that you have to click through the unsafe site warnings in your browser.  There might be a better way to allow access to the `admin` application inside a container that we have not yet discovered.\r\n\r\n**Question**: other than the `DEMO_MODE` variable which only gives read-only access to `admin`, is there any way to bypass the security checks in front of the `admin` application?  \r\n\r\nIf this does not exist, then a **feature request** would be to add an environment variable (or Python variable) like `WEB2PY_ADMIN_SECURITY_BYPASS=1` to explicitly bypass the `admin` security checks.\r\n\r\nTo reproduce this issue, run the following Docker command:\r\n```\r\ndocker run -it -p 8080:8080 smithmicro/web2py\r\n```\r\nThen open:\r\nhttp://127.0.0.1:8080/admin\r\n\r\nOur Dockerized Web2py project is located here:\r\nhttps://github.com/smithmicro/web2py","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1905","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1905/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1905/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1905/events","html_url":"https://github.com/web2py/web2py/issues/1905","id":316050206,"node_id":"MDU6SXNzdWUzMTYwNTAyMDY=","number":1905,"title":"Streamer.py handles IOError exception in non-python3 compatible way","user":{"login":"ASalazarMX","id":10890166,"node_id":"MDQ6VXNlcjEwODkwMTY2","avatar_url":"https://avatars1.githubusercontent.com/u/10890166?v=4","gravatar_id":"","url":"https://api.github.com/users/ASalazarMX","html_url":"https://github.com/ASalazarMX","followers_url":"https://api.github.com/users/ASalazarMX/followers","following_url":"https://api.github.com/users/ASalazarMX/following{/other_user}","gists_url":"https://api.github.com/users/ASalazarMX/gists{/gist_id}","starred_url":"https://api.github.com/users/ASalazarMX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ASalazarMX/subscriptions","organizations_url":"https://api.github.com/users/ASalazarMX/orgs","repos_url":"https://api.github.com/users/ASalazarMX/repos","events_url":"https://api.github.com/users/ASalazarMX/events{/privacy}","received_events_url":"https://api.github.com/users/ASalazarMX/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-19T21:37:58Z","updated_at":"2018-04-30T00:50:15Z","closed_at":"2018-04-30T00:50:15Z","author_association":"NONE","body":"Under python 3 and the latest repository, browsing to `http://127.0.0.1:8000/welcome/favicon.ico` causes `streamer.py` to crash because it treats the `IOError` exception in a non-python3 compatible way. The IOError exception occurs because `favicon.ico` is not found at `/ `. No error ticket is generated.\r\n\r\n    except IOError as e:\r\n        if e[0] == errno.EISDIR:\r\n            raise HTTP(403, error_message, web2py_error='file is a directory')\r\n        elif e[0] == errno.EACCES:\r\n            raise HTTP(403, error_message, web2py_error='inaccessible file')\r\n        else:\r\n            raise HTTP(404, error_message, web2py_error='invalid file')\r\n\r\nThis works in python 2, but `e[0]` should be accesed as `e.errno` under python 3\r\n\r\nPartial stack trace:\r\n\r\n    Traceback (most recent call last):\r\n      File \"C:\\web2py\\gluon\\main.py\", line 329, in wsgibase\r\n        response.stream(static_file, request=request)\r\n      File \"C:\\web2py\\gluon\\globals.py\", line 617, in stream\r\n        status=self.status)\r\n      File \"C:\\web2py\\gluon\\streamer.py\", line 66, in stream_file_or_304_or_206\r\n        if e[0] == errno.EISDIR:\r\n    TypeError: 'FileNotFoundError' object is not subscriptable\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1903","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1903/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1903/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1903/events","html_url":"https://github.com/web2py/web2py/issues/1903","id":315839913,"node_id":"MDU6SXNzdWUzMTU4Mzk5MTM=","number":1903,"title":".take('something', cast=bool) return a string","user":{"login":"jicho","id":610740,"node_id":"MDQ6VXNlcjYxMDc0MA==","avatar_url":"https://avatars3.githubusercontent.com/u/610740?v=4","gravatar_id":"","url":"https://api.github.com/users/jicho","html_url":"https://github.com/jicho","followers_url":"https://api.github.com/users/jicho/followers","following_url":"https://api.github.com/users/jicho/following{/other_user}","gists_url":"https://api.github.com/users/jicho/gists{/gist_id}","starred_url":"https://api.github.com/users/jicho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jicho/subscriptions","organizations_url":"https://api.github.com/users/jicho/orgs","repos_url":"https://api.github.com/users/jicho/repos","events_url":"https://api.github.com/users/jicho/events{/privacy}","received_events_url":"https://api.github.com/users/jicho/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-19T11:39:38Z","updated_at":"2018-05-08T09:42:14Z","closed_at":"2018-05-08T09:42:14Z","author_association":"NONE","body":"Hi,\r\n\r\nI have this in my appconfig.ini:\r\n```\r\n[global]\r\ntrack_changes = False\r\ndevelopment = False\r\nnumber = 1\r\n```\r\n\r\nWhen I do appconfig.take('global.development', cast=bool) the result is always a string. Shouldn't it be casted to a boolean? Casting numbers to int works fine.\r\n\r\nI've tested it with the attached files in the default controller.\r\n\r\nAm I doing something wrong? Or is this a bug? Or maybe by design?\r\n\r\n[example.zip](https://github.com/web2py/web2py/files/1927917/example.zip)\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1894","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1894/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1894/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1894/events","html_url":"https://github.com/web2py/web2py/issues/1894","id":313409243,"node_id":"MDU6SXNzdWUzMTM0MDkyNDM=","number":1894,"title":"db.parse_as_rest don't work on python 3","user":{"login":"JusticeN","id":10181423,"node_id":"MDQ6VXNlcjEwMTgxNDIz","avatar_url":"https://avatars3.githubusercontent.com/u/10181423?v=4","gravatar_id":"","url":"https://api.github.com/users/JusticeN","html_url":"https://github.com/JusticeN","followers_url":"https://api.github.com/users/JusticeN/followers","following_url":"https://api.github.com/users/JusticeN/following{/other_user}","gists_url":"https://api.github.com/users/JusticeN/gists{/gist_id}","starred_url":"https://api.github.com/users/JusticeN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JusticeN/subscriptions","organizations_url":"https://api.github.com/users/JusticeN/orgs","repos_url":"https://api.github.com/users/JusticeN/repos","events_url":"https://api.github.com/users/JusticeN/events{/privacy}","received_events_url":"https://api.github.com/users/JusticeN/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-11T17:00:09Z","updated_at":"2018-04-12T08:29:41Z","closed_at":"2018-04-12T08:29:41Z","author_association":"NONE","body":"\r\ni am using python3.6 on windows 7 with the web2py last master branch.\r\nwhen i try to build a restful API with **db.parse_as_rest** Web2py throw me a NameError exception\r\n\r\nmy code look like this\r\n`@request.restful()\r\ndef api():\r\n    response.view = 'generic.json'\r\n\r\n    def GET(*args,**vars):\r\n        patterns = [\r\n            \"/Contact[Contact]\",\r\n            \"/Contact/{Contact.first_name.startswith}\",\r\n            \"/Contact/{Contact.first_name}/:field\"\r\n            ]\r\n        parser = db.parse_as_rest(patterns, args, vars)\r\n        if parser.status == 200:\r\n            return dict(content=parser.response)\r\n        else:\r\n            raise HTTP(parser.status, parser.error)`\r\n\r\nthe error look like this: \r\n\r\n>   File \"D:\\Program_Files\\web2py\\gluon\\packages\\dal\\pydal\\helpers\\rest.py\", line 289, in parse\r\n    offset = long(vars.get('offset', None) or 0) class 'NameError' name 'long' is not defined\r\n\r\nin python3 there is no long function anymore. is it better to use int instead ?\r\n\r\n[see here for explanation](https://stackoverflow.com/questions/2104884/how-does-python-manage-int-and-long#2104947)","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1887","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1887/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1887/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1887/events","html_url":"https://github.com/web2py/web2py/issues/1887","id":308379689,"node_id":"MDU6SXNzdWUzMDgzNzk2ODk=","number":1887,"title":"Book outdated - Recaptcha will close down end of March - Recaptcha2 is the way to go","user":{"login":"wish7code","id":8270020,"node_id":"MDQ6VXNlcjgyNzAwMjA=","avatar_url":"https://avatars1.githubusercontent.com/u/8270020?v=4","gravatar_id":"","url":"https://api.github.com/users/wish7code","html_url":"https://github.com/wish7code","followers_url":"https://api.github.com/users/wish7code/followers","following_url":"https://api.github.com/users/wish7code/following{/other_user}","gists_url":"https://api.github.com/users/wish7code/gists{/gist_id}","starred_url":"https://api.github.com/users/wish7code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wish7code/subscriptions","organizations_url":"https://api.github.com/users/wish7code/orgs","repos_url":"https://api.github.com/users/wish7code/repos","events_url":"https://api.github.com/users/wish7code/events{/privacy}","received_events_url":"https://api.github.com/users/wish7code/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-25T19:52:22Z","updated_at":"2018-04-19T02:59:17Z","closed_at":"2018-04-19T02:59:17Z","author_association":"CONTRIBUTOR","body":"The book mentions the Recaptcha **V1** API, which will shut down end of March here:\r\nhttp://www.web2py.com/books/default/chapter/29/09/access-control?search=recaptcha#CAPTCHA-and-reCAPTCHA\r\n\r\nUsers need to switch to Recaptcha **V2**.\r\n\r\nI found this web2py mailing list post, which explains all the necessary adjustments, very helpful:\r\n\r\nhttps://groups.google.com/forum/#!topic/web2py/yhoxNN3HL3U\r\n\r\nCheers\r\nToby\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1886","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1886/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1886/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1886/events","html_url":"https://github.com/web2py/web2py/issues/1886","id":308057585,"node_id":"MDU6SXNzdWUzMDgwNTc1ODU=","number":1886,"title":"navbar toggle error and correction","user":{"login":"pwoolf","id":4853439,"node_id":"MDQ6VXNlcjQ4NTM0Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/4853439?v=4","gravatar_id":"","url":"https://api.github.com/users/pwoolf","html_url":"https://github.com/pwoolf","followers_url":"https://api.github.com/users/pwoolf/followers","following_url":"https://api.github.com/users/pwoolf/following{/other_user}","gists_url":"https://api.github.com/users/pwoolf/gists{/gist_id}","starred_url":"https://api.github.com/users/pwoolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pwoolf/subscriptions","organizations_url":"https://api.github.com/users/pwoolf/orgs","repos_url":"https://api.github.com/users/pwoolf/repos","events_url":"https://api.github.com/users/pwoolf/events{/privacy}","received_events_url":"https://api.github.com/users/pwoolf/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-23T14:46:04Z","updated_at":"2018-04-02T15:31:58Z","closed_at":"2018-04-02T15:31:58Z","author_association":"NONE","body":"The toggle for the navbar in layout.html doesn't work properly out of the box.  When the window is made narrow or web2py is on a phone the collapsed menu is not responsive.  This is because the div needs an id specification.\r\n\r\nIn the header, just after the navbar-brand it curretnly has:\r\n`<div class=\"collapse navbar-collapse\"  >`\r\n\r\nIt should be:\r\n`<div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\" >`\r\n\r\nWith this change it works for me.\r\nThanks!\r\n--Peter\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1883","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1883/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1883/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1883/events","html_url":"https://github.com/web2py/web2py/issues/1883","id":306224571,"node_id":"MDU6SXNzdWUzMDYyMjQ1NzE=","number":1883,"title":"Pluralizaiton UnicodeDecodeError","user":{"login":"Nbushkov","id":8807016,"node_id":"MDQ6VXNlcjg4MDcwMTY=","avatar_url":"https://avatars2.githubusercontent.com/u/8807016?v=4","gravatar_id":"","url":"https://api.github.com/users/Nbushkov","html_url":"https://github.com/Nbushkov","followers_url":"https://api.github.com/users/Nbushkov/followers","following_url":"https://api.github.com/users/Nbushkov/following{/other_user}","gists_url":"https://api.github.com/users/Nbushkov/gists{/gist_id}","starred_url":"https://api.github.com/users/Nbushkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nbushkov/subscriptions","organizations_url":"https://api.github.com/users/Nbushkov/orgs","repos_url":"https://api.github.com/users/Nbushkov/repos","events_url":"https://api.github.com/users/Nbushkov/events{/privacy}","received_events_url":"https://api.github.com/users/Nbushkov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-18T09:13:13Z","updated_at":"2018-03-22T12:24:21Z","closed_at":"2018-03-22T12:24:21Z","author_association":"NONE","body":"in apps welcome (python 2.7)\r\nin models/db.py add\r\n\r\n`T.force('ru')`\r\n\r\ngo admin db\r\n\r\n`../welcome/appadmin/select/db?query=db.auth_user.id>0`\r\n\r\nerror\r\n\r\n**<type 'exceptions.UnicodeDecodeError'> 'ascii' codec can't decode byte 0xd0 in position 0: ordinal not in range(128)**\r\n\r\n> Function argument list\r\n> (self=<gluon.languages.translator object>, message='%{!\\xd0\\xb2\\xd1\\x8b\\xd0\\xb1\\xd1\\x80\\xd0\\xb0\\xd0\\xbd\\xd0\\xb0[0]} 1 %{\\xd0\\xb7\\xd0\\xb0\\xd0\\xbf\\xd0\\xb8\\xd1\\x81\\xd1\\x8c[0]}', symbols=(1,))\r\n\r\n`394.   message = regex_plural.sub(sub_plural, message)`\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1866","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1866/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1866/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1866/events","html_url":"https://github.com/web2py/web2py/issues/1866","id":298157384,"node_id":"MDU6SXNzdWUyOTgxNTczODQ=","number":1866,"title":"Cache size on appadmin: guppy ImportError","user":{"login":"dartg","id":6503980,"node_id":"MDQ6VXNlcjY1MDM5ODA=","avatar_url":"https://avatars1.githubusercontent.com/u/6503980?v=4","gravatar_id":"","url":"https://api.github.com/users/dartg","html_url":"https://github.com/dartg","followers_url":"https://api.github.com/users/dartg/followers","following_url":"https://api.github.com/users/dartg/following{/other_user}","gists_url":"https://api.github.com/users/dartg/gists{/gist_id}","starred_url":"https://api.github.com/users/dartg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dartg/subscriptions","organizations_url":"https://api.github.com/users/dartg/orgs","repos_url":"https://api.github.com/users/dartg/repos","events_url":"https://api.github.com/users/dartg/events{/privacy}","received_events_url":"https://api.github.com/users/dartg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-19T04:17:32Z","updated_at":"2018-02-24T20:32:19Z","closed_at":"2018-02-24T20:32:19Z","author_association":"CONTRIBUTOR","body":"The `ccache` function inside `appadmin.py` (http://127.0.0.1:8000/yourapp/appadmin/ccache) uses [guppy](https://pypi.python.org/pypi/guppy/) (if available) to show the memory used by `cache.ram`. But once installed (and if there's something stored in the RAM cache) it will fail with the following traceback:\r\n\r\n> <type 'exceptions.ImportError'> (ImportError(\"Cannot import module 'applications.[appname].modules.guppy'\",), <traceback object at 0x0907F968>)\r\n\r\nThe exception is started at [`appadmin.py:455`](https://github.com/web2py/web2py/blob/82cf2eb44db907a3ca20c29ee8116f95ef77bb5a/applications/welcome/controllers/appadmin.py#L455):\r\n\r\n`                ram['bytes'] += hp.iso(value[1]).size`\r\n\r\nAnd specifically raised at `guppy/etc/Glue.py:250` where `__import__` is used. Seems like this somewhat conflicts with the web2py import system.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1865","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1865/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1865/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1865/events","html_url":"https://github.com/web2py/web2py/issues/1865","id":297817838,"node_id":"MDU6SXNzdWUyOTc4MTc4Mzg=","number":1865,"title":"virtual field issue after upgrade fro V 14 to V16.5","user":{"login":"sbourgeois1","id":6387584,"node_id":"MDQ6VXNlcjYzODc1ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/6387584?v=4","gravatar_id":"","url":"https://api.github.com/users/sbourgeois1","html_url":"https://github.com/sbourgeois1","followers_url":"https://api.github.com/users/sbourgeois1/followers","following_url":"https://api.github.com/users/sbourgeois1/following{/other_user}","gists_url":"https://api.github.com/users/sbourgeois1/gists{/gist_id}","starred_url":"https://api.github.com/users/sbourgeois1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbourgeois1/subscriptions","organizations_url":"https://api.github.com/users/sbourgeois1/orgs","repos_url":"https://api.github.com/users/sbourgeois1/repos","events_url":"https://api.github.com/users/sbourgeois1/events{/privacy}","received_events_url":"https://api.github.com/users/sbourgeois1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-16T15:15:41Z","updated_at":"2018-02-25T02:21:03Z","closed_at":"2018-02-25T02:21:03Z","author_association":"NONE","body":"Hello,\r\nI had to remove the virtual field to work around the issue. \r\nExample:\r\ncode working with v 14\r\n...\r\n    db_txp.t_txp_company.id.readable = False\r\n    db_txp.t_txp_company.id.writable = False\r\n# now we want to add a virtual field to select the corresponding cny.\r\n    db_txp.t_txp_company.select = Field.Virtual('sele
8000
ct', lambda row: A(SPAN(IMG(_src=URL(str('static/images'), str('select.png')),  _width = 20, _class = str(\"button btn btn-default\")), str(' '), row.t_txp_company.f_company), _href = URL(str('store_cny_id'), args = [str(row.t_txp_company.id), str(row.t_txp_company.f_address_country_code), row.t_txp_company.f_company], vars = request._get_vars)))  \r\n    form = SQLFORM.smartgrid(db_txp.t_txp_company,\r\n                             fields = [db_txp.t_txp_company.id, db_txp.t_txp_company.f_company, db_txp.t_txp_company.f_address_country_code  ],\r\n...\r\nwork around:\r\n    ...\r\n    db_txp.t_txp_company.id.label = T('Select')\r\n    db_txp.t_txp_company.id.represent = lambda val, row: A(SPAN(IMG(_src=URL(str('static/images'), str('select.png')),  _width = 20, _class = str(\"button btn btn-default\")), str(' '), row.f_company), _href = URL(str('store_cny_id'), args = [str(row.id), str(row.f_address_country_code), row.f_company], vars = request._get_vars))\r\n    form = SQLFORM.smartgrid(db_txp.t_txp_company,\r\n                             fields = [db_txp.t_txp_company.id, db_txp.t_txp_company.f_company, db_txp.t_txp_company.f_address_country_code  ],\r\n    ...\r\nThe error file is here attached.\r\n[error.txt](https://github.com/web2py/web2py/files/1731767/error.txt)\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1863","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1863/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1863/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1863/events","html_url":"https://github.com/web2py/web2py/issues/1863","id":297407291,"node_id":"MDU6SXNzdWUyOTc0MDcyOTE=","number":1863,"title":"SQLFORM  : two translation issues","user":{"login":"sbourgeois1","id":6387584,"node_id":"MDQ6VXNlcjYzODc1ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/6387584?v=4","gravatar_id":"","url":"https://api.github.com/users/sbourgeois1","html_url":"https://github.com/sbourgeois1","followers_url":"https://api.github.com/users/sbourgeois1/followers","following_url":"https://api.github.com/users/sbourgeois1/following{/other_user}","gists_url":"https://api.github.com/users/sbourgeois1/gists{/gist_id}","starred_url":"https://api.github.com/users/sbourgeois1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbourgeois1/subscriptions","organizations_url":"https://api.github.com/users/sbourgeois1/orgs","repos_url":"https://api.github.com/users/sbourgeois1/repos","events_url":"https://api.github.com/users/sbourgeois1/events{/privacy}","received_events_url":"https://api.github.com/users/sbourgeois1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-15T11:08:33Z","updated_at":"2018-03-06T09:20:51Z","closed_at":"2018-03-06T09:20:51Z","author_association":"NONE","body":"1) First issue: \r\nupload widget: following fields are never translated. \r\n'Choose File'\r\n'No file chosen'\r\n'file'\r\n2) Second issue. \r\nIn smartgrid, on the '+' button of the top left of the form, the standard title is 'Add record to database'. If you change this title for instance to 'your own title', the translation always refers to 'Add record to database'  and not to 'your own title'.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1861","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1861/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1861/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1861/events","html_url":"https://github.com/web2py/web2py/issues/1861","id":296551062,"node_id":"MDU6SXNzdWUyOTY1NTEwNjI=","number":1861,"title":"UnicodeDecode error setting up session","user":{"login":"bnmnetp","id":51115,"node_id":"MDQ6VXNlcjUxMTE1","avatar_url":"https://avatars2.githubusercontent.com/u/51115?v=4","gravatar_id":"","url":"https://api.github.com/users/bnmnetp","html_url":"https://github.com/bnmnetp","followers_url":"https://api.github.com/users/bnmnetp/followers","following_url":"https://api.github.com/users/bnmnetp/following{/other_user}","gists_url":"https://api.github.com/users/bnmnetp/gists{/gist_id}","starred_url":"https://api.github.com/users/bnmnetp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnmnetp/subscriptions","organizations_url":"https://api.github.com/users/bnmnetp/orgs","repos_url":"https://api.github.com/users/bnmnetp/repos","events_url":"https://api.github.com/users/bnmnetp/events{/privacy}","received_events_url":"https://api.github.com/users/bnmnetp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2018-02-12T22:42:50Z","updated_at":"2018-02-24T18:34:43Z","closed_at":"2018-02-24T18:34:43Z","author_association":"NONE","body":"Hi,\r\n\r\nExcited to see all the progress on python3.  I decided to setup a fresh install of Ubuntu 17.10 and give my app a try against master.  I get this traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/bmiller/Runestone/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/home/bmiller/Runestone/web2py/applications/runestone/models/db.py\", line 24, in <module>\r\n    session.connect(request, response, masterapp='runestone', db=db, migrate='runestone_web2py_sessions.table')\r\n  File \"/home/bmiller/Runestone/web2py/gluon/globals.py\", line 965, in connect\r\n    row = table(record_id, unique_key=unique_key)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/objects.py\", line 573, in __call__\r\n    orderby_on_limitby=False).first()\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/objects.py\", line 2254, in select\r\n    return adapter.select(self.query, fields, attributes)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 762, in select\r\n    return self._select_aux(sql, fields, attributes, colnames)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 741, in _select_aux\r\n    return processor(rows, fields, colnames, cacheable=cacheable)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 305, in parse\r\n    for row in rows\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 305, in <listcomp>\r\n    for row in rows\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 231, in _parse\r\n    value = self.parse_value(value, fit, ft, blob_decode)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/adapters/base.py\", line 198, in parse_value\r\n    return self.parser.parse(value, field_itype, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 101, in parse\r\n    return self.registered[field_itype](value, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 76, in __call__\r\n    return self.call(value, field_type)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/__init__.py\", line 73, in _call\r\n    return self.f(self.parser, value)\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/parsers/base.py\", line 37, in _blob\r\n    return to_native(b64decode(to_bytes(value)))\r\n  File \"/home/bmiller/Runestone/web2py/gluon/packages/dal/pydal/_compat.py\", line 82, in to_native\r\n    return obj.decode(charset, errors)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position 0: invalid start byte\r\n```\r\n\r\nThe sessions table is created and is there from a separate script I run to initialize the database.  there is even one row in the table.  Let me know what else I can get to help debug.\r\n\r\nBrad","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1856","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1856/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1856/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1856/events","html_url":"https://github.com/web2py/web2py/issues/1856","id":296031412,"node_id":"MDU6SXNzdWUyOTYwMzE0MTI=","number":1856,"title":"SPAN.flatten() raises UnicodeDecodeError with T-components","user":{"login":"nursix","id":1257183,"node_id":"MDQ6VXNlcjEyNTcxODM=","avatar_url":"https://avatars1.githubusercontent.com/u/1257183?v=4","gravatar_id":"","url":"https://api.github.com/users/nursix","html_url":"https://github.com/nursix","followers_url":"https://api.github.com/users/nursix/followers","following_url":"https://api.github.com/users/nursix/following{/other_user}","gists_url":"https://api.github.com/users/nursix/gists{/gist_id}","starred_url":"https://api.github.com/users/nursix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nursix/subscriptions","organizations_url":"https://api.github.com/users/nursix/orgs","repos_url":"https://api.github.com/users/nursix/repos","events_url":"https://api.github.com/users/nursix/events{/privacy}","received_events_url":"https://api.github.com/users/nursix/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-09T22:25:48Z","updated_at":"2018-02-24T16:57:21Z","closed_at":"2018-02-24T16:57:21Z","author_association":"CONTRIBUTOR","body":"Code like this crashes in Py2.7 with UnicodeDecodeError for T-languages where translate produces multi-byte utf-8 encoded strings (e.g. Japanese, Korean, etc.):\r\n```\r\nelem = SPAN(T(\"Complete\"))\r\ntext = elem.flatten()\r\n```\r\nThe problem could be here:\r\nhttps://github.com/web2py/web2py/blob/master/gluon/languages.py#L433\r\nThis should probably not str(self).encode() (as it seems normal that lazyT.__str__() returns an utf-8 encoded str)?\r\n\r\nOr maybe this:\r\nhttps://github.com/web2py/web2py/blob/master/gluon/_compat.py#L72\r\n...could try to use the __str__ method first when obj is neither a str nor a unicode?\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1848","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1848/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1848/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1848/events","html_url":"https://github.com/web2py/web2py/issues/1848","id":294978813,"node_id":"MDU6SXNzdWUyOTQ5Nzg4MTM=","number":1848,"title":"'str' object has no attribute 'decode' in welcome app when requesting password reset with py3","user":{"login":"bjquinn","id":8106438,"node_id":"MDQ6VXNlcjgxMDY0Mzg=","avatar_url":"https://avatars3.githubusercontent.com/u/8106438?v=4","gravatar_id":"","url":"https://api.github.com/users/bjquinn","html_url":"https://github.com/bjquinn","followers_url":"https://api.github.com/users/bjquinn/followers","following_url":"https://api.github.com/users/bjquinn/following{/other_user}","gists_url":"https://api.github.com/users/bjquinn/gists{/gist_id}","starred_url":"https://api.github.com/users/bjquinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjquinn/subscriptions","organizations_url":"https://api.github.com/users/bjquinn/orgs","repos_url":"https://api.github.com/users/bjquinn/repos","events_url":"https://api.github.com/users/bjquinn/events{/privacy}","received_events_url":"https://api.github.com/users/bjquinn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-02-07T01:52:37Z","updated_at":"2018-02-24T16:57:21Z","closed_at":"2018-02-24T16:57:21Z","author_association":"NONE","body":"web2py version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\nPython 3.6.4\r\n\r\ngetting the following error in the welcome app when trying to click the forgot password link:\r\n\r\n```\r\n<class 'AttributeError'> 'str' object has no attribute 'decode'\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/web-apps/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/opt/web-apps/web2py/applications/buyerbound_dms/controllers/default.py\", line 66, in <module>\r\n  File \"/opt/web-apps/web2py/gluon/globals.py\", line 419, in <lambda>\r\n    self._caller = lambda f: f()\r\n  File \"/opt/web-apps/web2py/applications/buyerbound_dms/controllers/default.py\", line 55, in user\r\n    return dict(form=auth())\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 1925, in __call__\r\n    return getattr(self, args[0])()\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 3613, in request_reset_password\r\n    if self.email_reset_password(user):\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 3637, in email_reset_password\r\n    message=self.messages.reset_password % d):\r\n  File \"/opt/web-apps/web2py/gluon/tools.py\", line 748, in send\r\n    payload['Subject'] = encoded_or_raw(to_unicode(subject, encoding))\r\n  File \"/opt/web-apps/web2py/gluon/_compat.py\", line 158, in to_unicode\r\n    return obj.decode(charset, errors)\r\n  File \"/opt/web-apps/web2py/gluon/languages.py\", line 437, in decode\r\n    return str(self).decode(*a, **b)\r\nAttributeError: 'str' object has no attribute 'decode'\r\n```\r\n\r\nsimply changing the following in languages.py:\r\n\r\n```\r\n    def decode(self, *a, **b):\r\n        return str(self).decode(*a, **b)\r\n```\r\n\r\nto the following:\r\n\r\n```\r\n    def decode(self, *a, **b):\r\n        if PY2:\r\n            return str(self).decode(*a, **b)\r\n```\r\n\r\nseems to fix it.  I don't know if there are other side effects that I'd be causing with this fix, but I thought I'd report the error and a potential fix.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1842","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1842/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1842/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1842/events","html_url":"https://github.com/web2py/web2py/issues/1842","id":292570250,"node_id":"MDU6SXNzdWUyOTI1NzAyNTA=","number":1842,"title":"request_password vs request_reset_password","user":{"login":"liuyigh","id":5641850,"node_id":"MDQ6VXNlcjU2NDE4NTA=","avatar_url":"https://avatars0.githubusercontent.com/u/5641850?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyigh","html_url":"https://github.com/liuyigh","followers_url":"https://api.github.com/users/liuyigh/followers","following_url":"https://api.github.com/users/liuyigh/following{/other_user}","gists_url":"https://api.github.com/users/liuyigh/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyigh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyigh/subscriptions","organizations_url":"https://api.github.com/users/liuyigh/orgs","repos_url":"https://api.github.com/users/liuyigh/repos","events_url":"https://api.github.com/users/liuyigh/events{/privacy}","received_events_url":"https://api.github.com/users/liuyigh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-01-29T21:39:27Z","updated_at":"2018-02-17T08:21:14Z","closed_at":"2018-02-17T08:21:14Z","author_association":"CONTRIBUTOR","body":"Is this a bug? I am using 2.16.1 Apparently `request_password` function as subitem 'Lost Password' in the top menu leads to 404 not found.\r\n\r\nThe `request_reset_password` function as button 'Lost Password' on the login page is fine.\r\n\r\nUpdate: `retrieve_password` also works\r\n\r\ntemporary fix:\r\nin def user()\r\n```\r\ndef user()\r\n    elif request.args(0)=='request_password':\r\n        redirect(URL('user','retrieve_password'))\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1841","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1841/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1841/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1841/events","html_url":"https://github.com/web2py/web2py/issues/1841","id":292058042,"node_id":"MDU6SXNzdWUyOTIwNTgwNDI=","number":1841,"title":"urllib issue running on python 3","user":{"login":"liuyigh","id":5641850,"node_id":"MDQ6VXNlcjU2NDE4NTA=","avatar_url":"https://avatars0.githubusercontent.com/u/5641850?v=4","gravatar_id":"","url":"https://api.github.com/users/liuyigh","html_url":"https://github.com/liuyigh","followers_url":"https://api.github.com/users/liuyigh/followers","following_url":"https://api.github.com/users/liuyigh/following{/other_user}","gists_url":"https://api.github.com/users/liuyigh/gists{/gist_id}","starred_url":"https://api.github.com/users/liuyigh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuyigh/subscriptions","organizations_url":"https://api.github.com/users/liuyigh/orgs","repos_url":"https://api.github.com/users/liuyigh/repos","events_url":"https://api.github.com/users/liuyigh/events{/privacy}","received_events_url":"https://api.github.com/users/liuyigh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-01-26T23:04:00Z","updated_at":"2018-02-09T18:27:31Z","closed_at":"2018-02-09T18:27:31Z","author_association":"CONTRIBUTOR","body":"I am really happy with how much progress been made for python 3 compatibility.\r\n\r\nHere I report an issue due to urllib. May be related to this one issue #1236 .\r\n\r\n```\r\nTicket ID\r\n\r\n127.0.0.1.2018-01-26.14-56-13.3219f101-137f-44b5-8bd8-bdab6eb591d3\r\n<class 'AttributeError'> module 'urllib' has no attribute 'urlencode'\r\nVersion\r\nweb2py™ \tVersion 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\nTraceback\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/.../web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\nAttributeError: module 'urllib' has no attribute 'urlencode'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/.../web2py/gluon/restricted.py\", line 141, in __init__\r\n    self.traceback = traceback.format_exc()\r\nAttributeError: 'NoneType' object has no attribute 'strip'\r\n\r\nIn file: /Users/.../web2py/applications/.../controllers/default.py\r\n\r\n1.\r\n<code object <module> at 0x1050a8e40, file \"/Users/.../controllers/default.py\", line 3>\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1838","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1838/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1838/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1838/events","html_url":"https://github.com/web2py/web2py/issues/1838","id":291412572,"node_id":"MDU6SXNzdWUyOTE0MTI1NzI=","number":1838,"title":"Can't insert 4-byte characters using web2py/PyMySQL","user":{"login":"hyanwong","id":4699014,"node_id":"MDQ6VXNlcjQ2OTkwMTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/4699014?v=4","gravatar_id":"","url":"https://api.github.com/users/hyanwong","html_url":"https://github.com/hyanwong","followers_url":"https://api.github.com/users/hyanwong/followers","following_url":"https://api.github.com/users/hyanwong/following{/other_user}","gists_url":"https://api.github.com/users/hyanwong/gists{/gist_id}","starred_url":"https://api.github.com/users/hyanwong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyanwong/subscriptions","organizations_url":"https://api.github.com/users/hyanwong/orgs","repos_url":"https://api.github.com/users/hyanwong/repos","events_url":"https://api.github.com/users/hyanwong/events{/privacy}","received_events_url":"https://api.github.com/users/hyanwong/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-25T00:47:40Z","updated_at":"2018-02-07T16:02:30Z","closed_at":"2018-02-07T16:02:30Z","author_association":"NONE","body":"With the latest (0.8.0) version of PyMySQL, and setting the table and column collations to utf8mb4_unicode_ci, I can insert full utf8 characters like 💩 (see https://mathiasbynens.be/notes/mysql-utf8mb4) on the python command line, e.g.\r\n\r\n```\r\ndb_curs.execute(u\"INSERT INTO mytable (x) VALUES (%s);\", (u'💩',))\r\n```\r\n\r\nbut when I try to do the same using the web2py DAL (web2py 2.16.1-stable), it fails, and inserts \"????\" instead:\r\n\r\n```\r\ndb.mytable.insert(x=u'💩')\r\n\r\n> /usr/local/lib/python2.7/site-packages/pymysql/cursors.py:16‌​5: Warning: (1300, u\"Invalid utf8 character string: 'F09F92'\") result = self._query(query) \r\n> /usr/local/lib/python2.7/site-packages/pymysql/cursors.py:16‌​5: Warning: (1366, u\"Incorrect string value: '\\\\xF0\\\\x9F\\\\x92\\\\xA9' for column 'x' at row 1\")\r\n```\r\n\r\nThe same failure happens if I try to insert the character via `db.executesql()`. It seems to me as if this is a bug in the interaction between web2py and PyMySQL.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1835","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1835/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1835/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1835/events","html_url":"https://github.com/web2py/web2py/issues/1835","id":286599559,"node_id":"MDU6SXNzdWUyODY1OTk1NTk=","number":1835,"title":"SCRIPT.xml and STYLE.xml return str bug","user":{"login":"pearu","id":402156,"node_id":"MDQ6VXNlcjQwMjE1Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/402156?v=4","gravatar_id":"","url":"https://api.github.com/users/pearu","html_url":"https://github.com/pearu","followers_url":"https://api.github.com/users/pearu/followers","following_url":"https://api.github.com/users/pearu/following{/other_user}","gists_url":"https://api.github.com/users/pearu/gists{/gist_id}","starred_url":"https://api.github.com/users/pearu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pearu/subscriptions","organizations_url":"https://api.github.com/users/pearu/orgs","repos_url":"https://api.github.com/users/pearu/repos","events_url":"https://api.github.com/users/pearu/events{/privacy}","received_events_url":"https://api.github.com/users/pearu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-01-07T21:14:20Z","updated_at":"2018-02-09T18:27:03Z","closed_at":"2018-02-09T18:27:03Z","author_association":"NONE","body":"The `xml()` methods of `SCRIPT` and `STYLE` instances return `str` object but should return `bytes` according to the implementation of all other `xml()` methods defined in `gluon/html.py`. This inconsistency leads to `TypeError` when using Python 3.x. Example:\r\n```\r\n>>> from gluon.html import SCRIPT, DIV\r\n>>> SCRIPT(';').xml() + DIV().xml()\r\nTypeError: must be str, not bytes\r\n```\r\nUsers can use the following workaround (or only this):\r\n```\r\n>>> (SCRIPT(';') + DIV()).xml()\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1831","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1831/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1831/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1831/events","html_url":"https://github.com/web2py/web2py/issues/1831","id":285997854,"node_id":"MDU6SXNzdWUyODU5OTc4NTQ=","number":1831,"title":"Date and datetime widget broken","user":{"login":"cccaballero","id":3727802,"node_id":"MDQ6VXNlcjM3Mjc4MDI=","avatar_url":"https://avatars3.githubusercontent.com/u/3727802?v=4","gravatar_id":"","url":"https://api.github.com/users/cccaballero","html_url":"https://github.com/cccaballero","followers_url":"https://api.github.com/users/cccaballero/followers","following_url":"https://api.github.com/users/cccaballero/following{/other_user}","gists_url":"https://api.github.com/users/cccaballero/gists{/gist_id}","starred_url":"https://api.github.com/users/cccaballero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccaballero/subscriptions","organizations_url":"https://api.github.com/users/cccaballero/orgs","repos_url":"https://api.github.com/users/cccaballero/repos","events_url":"https://api.github.com/users/cccaballero/events{/privacy}","received_events_url":"https://api.github.com/users/cccaballero/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-04T14:13:04Z","updated_at":"2018-01-10T17:46:30Z","closed_at":"2018-01-10T17:46:30Z","author_association":"CONTRIBUTOR","body":"In 2.16.1 version (and current master branch) date and datetime widgets are broken, you can see in the picture the behavior\r\n![captura de pantalla de 2018-01-03 12-15-56](https://user-images.githubusercontent.com/3727802/34567237-6b2a202c-f12f-11e7-99e5-473e8a627ce7.png)\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1828","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1828/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1828/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1828/events","html_url":"https://github.com/web2py/web2py/issues/1828","id":284320869,"node_id":"MDU6SXNzdWUyODQzMjA4Njk=","number":1828,"title":"layout.html - missing id required for showing collapsed menu ","user":{"login":"carpaIdea","id":3496662,"node_id":"MDQ6VXNlcjM0OTY2NjI=","avatar_url":"https://avatars3.githubusercontent.com/u/3496662?v=4","gravatar_id":"","url":"https://api.github.com/users/carpaIdea","html_url":"https://github.com/carpaIdea","followers_url":"https://api.github.com/users/carpaIdea/followers","following_url":"https://api.github.com/users/carpaIdea/following{/other_user}","gists_url":"https://api.github.com/users/carpaIdea/gists{/gist_id}","starred_url":"https://api.github.com/users/carpaIdea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carpaIdea/subscriptions","organizations_url":"https://api.github.com/users/carpaIdea/orgs","repos_url":"https://api.github.com/users/carpaIdea/repos","events_url":"https://api.github.com/users/carpaIdea/events{/privacy}","received_events_url":"https://api.github.com/users/carpaIdea/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-23T18:49:26Z","updated_at":"2018-02-09T18:29:22Z","closed_at":"2018-02-09T18:29:22Z","author_association":"CONTRIBUTOR","body":"Clicking the toggler button doesn't show collapsed menu.\r\n\r\nThe correction should be simple:\r\nin the layout.html file we need to add the id on the navbar-collapse\r\n\r\n`<div id=\"navbarNavDropdown\" class=\"collapse navbar-collapse\">`\r\n","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1827","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1827/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1827/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1827/events","html_url":"https://github.com/web2py/web2py/issues/1827","id":284173139,"node_id":"MDU6SXNzdWUyODQxNzMxMzk=","number":1827,"title":"is this a super bug in scheduler in version web2py.2.14.6 ?","user":{"login":"liuzhijun","id":329546,"node_id":"MDQ6VXNlcjMyOTU0Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/329546?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzhijun","html_url":"https://github.com/liuzhijun","followers_url":"https://api.github.com/users/liuzhijun/followers","following_url":"https://api.github.com/users/liuzhijun/following{/other_user}","gists_url":"https://api.github.com/users/liuzhijun/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzhijun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzhijun/subscriptions","organizations_url":"https://api.github.com/users/liuzhijun/orgs","repos_url":"https://api.github.com/users/liuzhijun/repos","events_url":"https://api.github.com/users/liuzhijun/events{/privacy}","received_events_url":"https://api.github.com/users/liuzhijun/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-22T14:14:54Z","updated_at":"2017-12-23T01:24:09Z","closed_at":"2017-12-23T01:24:09Z","author_association":"NONE","body":"Traceback (most recent call last):\r\n  File \"/home/www-data/web2py2000/gluon/restricted.py\", line 227, in restricted\r\n    exec ccode in environment\r\n  File \"applications/player/models/0.py\", line 83, in <module>\r\n    scheduler = Scheduler(session_service.db, migrate=False)\r\n  File \"/home/www-data/web2py2000/gluon/scheduler.py\", line 585, in __init__\r\n    self.define_tables(db, migrate=migrate)\r\n  File \"/home/www-data/web2py2000/gluon/scheduler.py\", line 653, in define_tables\r\n    migrate=self.__get_migrate('scheduler_task', migrate),\r\n  File \"/home/www-data/web2py2000/gluon/packages/dal/pydal/base.py\", line 819, in define_table\r\n    raise SyntaxError('table already defined: %s' % tablename)\r\nSyntaxError: table already defined: scheduler_task","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1822","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1822/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1822/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1822/events","html_url":"https://github.com/web2py/web2py/issues/1822","id":280804670,"node_id":"MDU6SXNzdWUyODA4MDQ2NzA=","number":1822,"title":"python3.5 : AttributeError: module 'urllib' has no attribute 'quote_plus'","user":{"login":"veiko99","id":24289232,"node_id":"MDQ6VXNlcjI0Mjg5MjMy","avatar_url":"https://avatars0.githubusercontent.com/u/24289232?v=4","gravatar_id":"","url":"https://api.github.com/users/veiko99","html_url":"https://github.com/veiko99","followers_url":"https://api.github.com/users/veiko99/followers","following_url":"https://api.github.com/users/veiko99/following{/other_user}","gists_url":"https://api.github.com/users/veiko99/gists{/gist_id}","starred_url":"https://api.github.com/users/veiko99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/veiko99/subscriptions","organizations_url":"https://api.github.com/users/veiko99/orgs","repos_url":"https://api.github.com/users/veiko99/repos","events_url":"https://api.github.com/users/veiko99/events{/privacy}","received_events_url":"https://api.github.com/users/veiko99/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-10T12:13:54Z","updated_at":"2018-03-06T20:38:06Z","closed_at":"2018-01-08T00:34:44Z","author_association":"NONE","body":"python 3.5, web2py version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n\r\n```\r\nERROR:Rocket.Errors.Thread-4:Traceback (most recent call last):\r\n\r\n  File \
3241
"/home/web2py/gluon/rocket.py\", line 1319, in run\r\n    self.run_app(conn)\r\n\r\n  File \"/home/web2py/gluon/rocket.py\", line 1820, in run_app\r\n    output = self.app(environ, self.start_response)\r\n\r\n  File \"/home/web2py/gluon/main.py\", line 650, in app_with_logging\r\n    ret[0] = wsgiapp(environ, responder2)\r\n\r\n  File \"/home/web2py/gluon/main.py\", line 559, in wsgibase\r\n    http_response, request, environ, ticket)\r\n\r\n  File \"/home/web2py/gluon/rewrite.py\", line 238, in try_rewrite_on_error\r\n    (status, ticket, urllib.quote_plus(\r\n\r\nAttributeError: module 'urllib' has no attribute 'quote_plus'\r\n```","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1820","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1820/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1820/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1820/events","html_url":"https://github.com/web2py/web2py/issues/1820","id":278965984,"node_id":"MDU6SXNzdWUyNzg5NjU5ODQ=","number":1820,"title":"AttributeError: 'NoneType' object has no attribute 'startswith'","user":{"login":"dburba","id":6642423,"node_id":"MDQ6VXNlcjY2NDI0MjM=","avatar_url":"https://avatars2.githubusercontent.com/u/6642423?v=4","gravatar_id":"","url":"https://api.github.com/users/dburba","html_url":"https://github.com/dburba","followers_url":"https://api.github.com/users/dburba/followers","following_url":"https://api.github.com/users/dburba/following{/other_user}","gists_url":"https://api.github.com/users/dburba/gists{/gist_id}","starred_url":"https://api.github.com/users/dburba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dburba/subscriptions","organizations_url":"https://api.github.com/users/dburba/orgs","repos_url":"https://api.github.com/users/dburba/repos","events_url":"https://api.github.com/users/dburba/events{/privacy}","received_events_url":"https://api.github.com/users/dburba/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-12-04T11:40:58Z","updated_at":"2018-02-24T16:08:34Z","closed_at":"2018-02-24T16:08:34Z","author_association":"NONE","body":"Version 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n```\r\ndef joint_field(db, fields=[]):\r\n    e = Expression(db, db._adapter.dialect.concat(*fields[:2]))\r\n    for f in fields[2:]:\r\n        e = Expression(db, db._adapter.dialect.concat(e, f))\r\n    return e\r\n```\r\n```\r\nfull_name_field = joint_field(db, [db.staff_employee.first_name, ' ', db.staff_employee.last_name])\r\nrecords = db(full_name_field.contains(request.vars.term)).select(\r\n    full_name_field,\r\n    groupby=full_name_field,\r\n    orderby=full_name_field,\r\n    limitby=(0, 10)\r\n)\r\n```\r\n```\r\nTraceback (most recent call last):\r\n  File \"/vagrant/grand3/web2py/gluon/restricted.py\", line 219, in restricted\r\n    exec(ccode, environment)\r\n  File \"/vagrant/grand3/web2py/applications/app/controllers/staff.py\", line 286, in <module>\r\n  File \"/vagrant/grand3/web2py/gluon/globals.py\", line 419, in <lambda>\r\n    self._caller = lambda f: f()\r\n  File \"/vagrant/grand3/web2py/gluon/tools.py\", line 3982, in f\r\n    return action(*a, **b)\r\n  File \"/vagrant/grand3/web2py/applications/app/controllers/staff.py\", line 48, in autocomplete_employee_full_name\r\n    records = db(full_name_field.contains(request.vars.term)).select(\r\n  File \"/vagrant/grand3/web2py/gluon/packages/dal/pydal/objects.py\", line 1457, in contains\r\n    self.type.startswith('list:'):\r\nAttributeError: 'NoneType' object has no attribute 'startswith'\r\n```\r\nWas working with version 2.14, not sure about 2.15","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1817","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1817/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1817/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1817/events","html_url":"https://github.com/web2py/web2py/issues/1817","id":277814452,"node_id":"MDU6SXNzdWUyNzc4MTQ0NTI=","number":1817,"title":"urllib not imported for pydal","user":{"login":"isaiahc0","id":34102122,"node_id":"MDQ6VXNlcjM0MTAyMTIy","avatar_url":"https://avatars2.githubusercontent.com/u/34102122?v=4","gravatar_id":"","url":"https://api.github.com/users/isaiahc0","html_url":"https://github.com/isaiahc0","followers_url":"https://api.github.com/users/isaiahc0/followers","following_url":"https://api.github.com/users/isaiahc0/following{/other_user}","gists_url":"https://api.github.com/users/isaiahc0/gists{/gist_id}","starred_url":"https://api.github.com/users/isaiahc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaiahc0/subscriptions","organizations_url":"https://api.github.com/users/isaiahc0/orgs","repos_url":"https://api.github.com/users/isaiahc0/repos","events_url":"https://api.github.com/users/isaiahc0/events{/privacy}","received_events_url":"https://api.github.com/users/isaiahc0/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-29T16:14:54Z","updated_at":"2018-01-10T17:06:14Z","closed_at":"2018-01-10T17:06:14Z","author_association":"NONE","body":"Path: /web2py/gluon/packages/dal/pydal/base.py\r\n\r\nLine 403 uses urllib in the lambda. Causes NameError: global name 'urllib' is not defined\r\n\r\n\"import urllib\" required","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1816","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1816/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1816/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1816/events","html_url":"https://github.com/web2py/web2py/issues/1816","id":277251657,"node_id":"MDU6SXNzdWUyNzcyNTE2NTc=","number":1816,"title":"response.include_meta() bug","user":{"login":"neorusa","id":12936319,"node_id":"MDQ6VXNlcjEyOTM2MzE5","avatar_url":"https://avatars3.githubusercontent.com/u/12936319?v=4","gravatar_id":"","url":"https://api.github.com/users/neorusa","html_url":"https://github.com/neorusa","followers_url":"https://api.github.com/users/neorusa/followers","following_url":"https://api.github.com/users/neorusa/following{/other_user}","gists_url":"https://api.github.com/users/neorusa/gists{/gist_id}","starred_url":"https://api.github.com/users/neorusa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neorusa/subscriptions","organizations_url":"https://api.github.com/users/neorusa/orgs","repos_url":"https://api.github.com/users/neorusa/repos","events_url":"https://api.github.com/users/neorusa/events{/privacy}","received_events_url":"https://api.github.com/users/neorusa/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-11-28T04:03:55Z","updated_at":"2017-12-02T19:01:14Z","closed_at":"2017-12-02T19:01:14Z","author_association":"NONE","body":"Hi!\r\nI have a function in my modules\r\n\r\n```python\r\n    def set_open_graph(type=\"website\", title=None, url=None, image=None, description=None, site_name=None, locale=None, locale_alternate={}):\r\n        data = locals()\r\n        for name in ['type', 'title', 'url', 'description', 'site_name', 'locale']:\r\n            my_dict = {}\r\n            if data[name]:\r\n                my_dict['name'] = \"og:\" + name\r\n                my_dict['content'] = data[name]\r\n                current.response.meta['og_' + name] = my_dict\r\n```\r\n\r\nThen in my 'layout.html:\r\n\r\n`{{response.include_meta()}}`\r\n\r\nIt produces follow code:\r\n\r\n```html\r\n<meta b'name'=\"og:description\" b'content'=\"My content\" />\r\n<meta b'name'=\"og:locale\" b'content'=\"RU\" />\r\n```\r\n\r\nOS: Linux Mint 18.2 (Ubuntu 16.04),\r\nWeb2py 2.16.1-stable+timestamp.2017.11.14.05.54.25\r\n(Running on Rocket 1.2.6, Python 3.5.2)  ","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1800","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1800/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1800/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1800/events","html_url":"https://github.com/web2py/web2py/issues/1800","id":272007683,"node_id":"MDU6SXNzdWUyNzIwMDc2ODM=","number":1800,"title":"Auth change_password does not enforce settings.password_min_length","user":{"login":"abastardi","id":1295688,"node_id":"MDQ6VXNlcjEyOTU2ODg=","avatar_url":"https://avatars3.githubusercontent.com/u/1295688?v=4","gravatar_id":"","url":"https://api.github.com/users/abastardi","html_url":"https://github.com/abastardi","followers_url":"https://api.github.com/users/abastardi/followers","following_url":"https://api.github.com/users/abastardi/following{/other_user}","gists_url":"https://api.github.com/users/abastardi/gists{/gist_id}","starred_url":"https://api.github.com/users/abastardi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abastardi/subscriptions","organizations_url":"https://api.github.com/users/abastardi/orgs","repos_url":"https://api.github.com/users/abastardi/repos","events_url":"https://api.github.com/users/abastardi/events{/privacy}","received_events_url":"https://api.github.com/users/abastardi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-07T22:28:18Z","updated_at":"2017-11-11T00:12:18Z","closed_at":"2017-11-11T00:12:18Z","author_association":"CONTRIBUTOR","body":"In authapi.py at https://github.com/web2py/web2py/blob/c4e08eeeb34cb51d9048a0eabc07586494ac8c8c/gluon/authapi.py#L991 and in tools.py at https://github.com/web2py/web2py/blob/c4e08eeeb34cb51d9048a0eabc07586494ac8c8c/gluon/tools.py#L3696, the `change_password` code sets the `CRYPT` `min_length` attribute to `0` (so the minimum length requirement will not be enforced on the old password). However, the instance of the `CRYPT` validator that is mutated is still the same instance attached to the `db.auth_user.password` field, so the subsequent validation of the new password does not enforce any minimum length.\r\n\r\nThe code should instead create a copy of the existing `CRYPT` validator rather than mutating the existing one.","score":1.0},{"url":"https://api.github.com/repos/web2py/web2py/issues/1795","repository_url":"https://api.github.com/repos/web2py/web2py","labels_url":"https://api.github.com/repos/web2py/web2py/issues/1795/labels{/name}","comments_url":"https://api.github.com/repos/web2py/web2py/issues/1795/comments","events_url":"https://api.github.com/repos/web2py/web2py/issues/1795/events","html_url":"https://github.com/web2py/web2py/issues/1795","id":270609009,"node_id":"MDU6SXNzdWUyNzA2MDkwMDk=","number":1795,"title":"Internal middleware returns incorrect status code","user":{"login":"vitkarpenko","id":11683558,"node_id":"MDQ6VXNlcjExNjgzNTU4","avatar_url":"https://avatars2.githubusercontent.com/u/11683558?v=4","gravatar_id":"","url":"https://api.github.com/users/vitkarpenko","html_url":"https://github.com/vitkarpenko","followers_url":"https://api.github.com/users/vitkarpenko/followers","following_url":"https://api.github.com/users/vitkarpenko/following{/other_user}","gists_url":"https://api.github.com/users/vitkarpenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vitkarpenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitkarpenko/subscriptions","organizations_url":"https://api.github.com/users/vitkarpenko/orgs","repos_url":"https://api.github.com/users/vitkarpenko/repos","events_url":"https://api.github.com/users/vitkarpenko/events{/privacy}","received_events_url":"https://api.github.com/users/vitkarpenko/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-11-02T10:50:11Z","updated_at":"2017-11-11T09:49:14Z","closed_at":"2017-11-11T09:49:14Z","author_association":"CONTRIBUTOR","body":"Example from http://web2py.com/books/default/chapter/29/04/the-core#Internal-middleware returns 500 status code on latest web2py version (while still converting 'hello world' to 'HELLO WORLD' correctly).","score":1.0}]}
0

