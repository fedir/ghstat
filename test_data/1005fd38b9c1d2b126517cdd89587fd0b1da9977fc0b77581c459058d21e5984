HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sun, 13 May 2018 12:58:35 GMT
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CAFA:4F42:44D8440:8AB4343:5AF8367A
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 15
X-Ratelimit-Reset: 1526216318
X-Runtime-Rack: 0.526461
X-Xss-Protection: 1; mode=block

8000
{"total_count":28,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/118","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/118/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/118/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/118/events","html_url":"https://github.com/wasabifx/wasabi/issues/118","id":232746920,"number":118,"title":"Welcome message","user":{"login":"NyxCode","id":20114928,"avatar_url":"https://avatars1.githubusercontent.com/u/20114928?v=4","gravatar_id":"","url":"https://api.github.com/users/NyxCode","html_url":"https://github.com/NyxCode","followers_url":"https://api.github.com/users/NyxCode/followers","following_url":"https://api.github.com/users/NyxCode/following{/other_user}","gists_url":"https://api.github.com/users/NyxCode/gists{/gist_id}","starred_url":"https://api.github.com/users/NyxCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NyxCode/subscriptions","organizations_url":"https://api.github.com/users/NyxCode/orgs","repos_url":"https://api.github.com/users/NyxCode/repos","events_url":"https://api.github.com/users/NyxCode/events{/privacy}","received_events_url":"https://api.github.com/users/NyxCode/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-06-01T02:13:28Z","updated_at":"2017-06-01T02:22:53Z","closed_at":"2017-06-01T02:22:53Z","author_association":"NONE","body":"The welcome message \"Server starting on port $port\" is not updated when the port of the server is changed. This code\r\n`val app = AppServer()`\r\n`app.configuration.port = 8080`\r\n`app.get(\"/\", { response.send(\"hello world!\") })`\r\n`app.start()`\r\noutputs `[main] INFO org.wasabifx.wasabi.app.AppServer - Server starting on port 3000` to the console.\r\nThis line in `AppConfiguration` '`var welcomeMessage: String = \"Server starting on port $port\"`' should be moved in the class body and changed to: '`var welcomeMessage get() = \"Server starting on port $port\"`'","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/93","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/93/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/93/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/93/events","html_url":"https://github.com/wasabifx/wasabi/issues/93","id":183501949,"number":93,"title":"Fully support programmatic configuration.","user":{"login":"MicahZoltu","id":886059,"avatar_url":"https://avatars2.githubusercontent.com/u/886059?v=4","gravatar_id":"","url":"https://api.github.com/users/MicahZoltu","html_url":"https://github.com/MicahZoltu","followers_url":"https://api.github.com/users/MicahZoltu/followers","following_url":"https://api.github.com/users/MicahZoltu/following{/other_user}","gists_url":"https://api.github.com/users/MicahZoltu/gists{/gist_id}","starred_url":"https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MicahZoltu/subscriptions","organizations_url":"https://api.github.com/users/MicahZoltu/orgs","repos_url":"https://api.github.com/users/MicahZoltu/repos","events_url":"https://api.github.com/users/MicahZoltu/events{/privacy}","received_events_url":"https://api.github.com/users/MicahZoltu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2016-10-17T19:14:24Z","updated_at":"2016-10-18T01:00:19Z","closed_at":"2016-10-18T01:00:19Z","author_association":"COLLABORATOR","body":"According to this comment, programmatic configuration is a supported mode of operation (https://github.com/wasabifx/wasabi/blob/master/src/main/kotlin/org/wasabifx/wasabi/app/AppConfiguration.kt#L32-L33):\n\n> Here we are simply attempting to load a config in the current location under the assumption Programmatic configuration wont have such present.\n\nYet in that code block an exception is thrown if there is no file present and that is logged at warning level: https://github.com/wasabifx/wasabi/blob/master/src/main/kotlin/org/wasabifx/wasabi/app/AppConfiguration.kt#L62\n\nI recommend checking for the files existence and if it isn't found assume that programmatic configuration is desired and return cleanly from the method (no exception).  An info level log could be included to indicate that programmatic configuration will be used since no configuration file was found.\n\nAs a user, I run my services in production with log level set to error/warn and I generally try to resolve any errors/warnings.  Unfortunately, this is one that I can't \"fix\" because everything is setup correctly and Wasabi is just logging at warning level an info level message.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/85","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/85/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/85/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/85/events","html_url":"https://github.com/wasabifx/wasabi/issues/85","id":178296388,"number":85,"title":"Content Negotiation: Font","user":{"login":"AndreasVolkmann","id":9032394,"avatar_url":"https://avatars3.githubusercontent.com/u/9032394?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasVolkmann","html_url":"https://github.com/AndreasVolkmann","followers_url":"https://api.github.com/users/AndreasVolkmann/followers","following_url":"https://api.github.com/users/AndreasVolkmann/following{/other_user}","gists_url":"https://api.github.com/users/AndreasVolkmann/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasVolkmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasVolkmann/subscriptions","organizations_url":"https://api.github.com/users/AndreasVolkmann/orgs","repos_url":"https://api.github.com/users/AndreasVolkmann/repos","events_url":"https://api.github.com/users/AndreasVolkmann/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasVolkmann/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-09-21T09:41:36Z","updated_at":"2016-09-21T22:09:22Z","closed_at":"2016-09-21T22:09:22Z","author_association":"NONE","body":"When using the StaticFileInterceptor, _.woff_, _.woff2_ and _.ttf_ files (from Font-Awesome) have their content-type set to _text/plain_ instead of _application/font-woff_ , _application/font-woff2_ and _application/octet-stream_ respectively. \n\n> [GET] - /components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.6.3\n> [Etag=, Location=, Content-Type=text/plain, Connection=close, Cache-Control=max-age=0]\n> \n> [GET] - /components/font-awesome/fonts/fontawesome-webfont.woff?v=4.6.3\n> [Etag=, Location=, Content-Type=text/plain, Connection=close, Cache-Control=max-age=0]\n> \n> [GET] - /components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.6.3\n> [Etag=, Location=, Content-Type=text/plain, Connection=close, Cache-Control=max-age=0]\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/81","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/81/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/81/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/81/events","html_url":"https://github.com/wasabifx/wasabi/issues/81","id":178031659,"number":81,"title":"Wasabi reads Request's header names in case sensitive manner","user":{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false},"labels":[{"id":33312017,"url":"https://api.github.com/repos/wasabifx/wasabi/labels/bug","name":"bug","color":"fc2929","default":true}],"state":"closed","locked":false,"assignee":{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false},"assignees":[{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2016-09-20T11:13:20Z","updated_at":"2016-09-20T19:57:37Z","closed_at":"2016-09-20T19:57:37Z","author_association":"COLLABORATOR","body":"https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html here is written : \"Field names are case-insensitive\" .\n\nHow to reproduce problem:\n\nWasabi code:\n\n```\nval server = AppServer(AppConfiguration(port = 4000))\n\n    server.get(\"/test\", {\n        response.send(arrayOf(\"test\", \"test1\", \"test2\", \"test3\"))\n    })\n\n    server.start()\n```\n\nmake a request to /test URI with header \"accept: application/json\" instead of \"Accept: application/json\" and you will get an error \"415: Unsupported Media Type\"\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/80","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/80/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/80/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/80/events","html_url":"https://github.com/wasabifx/wasabi/issues/80","id":178007455,"number":80,"title":"Cookies support","user":{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-09-20T09:15:08Z","updated_at":"2016-09-25T23:03:03Z","closed_at":"2016-09-25T23:03:03Z","author_association":"COLLABORATOR","body":"```\nval appServer = AppServer(AppConfiguration(port = 4000))\n    appServer.get(\"/test\", {\n        response.cookies.put(\"visitor_id\", Cookie(\"visitor_id\", \"11\", \"/\", \"loremipsum.com\", false))\n        response.cookies.put(\"user_id\", Cookie(\"user_id\", \"22\", \"/\", \"loremipsum.com\", false))\n        response.send(\"test\", \"text/html\")\n    })\n\n    appServer.start()\n```\n\nthis code generates response for browser with one cookie, not two. This happens because https://github.com/wasabifx/wasabi/blob/master/src/main/kotlin/org/wasabifx/wasabi/protocol/http/Response.kt#L120 here it iterates through all Cookies and uses addRawHeader, which uses \"Set-Cookie\" string for key in hashmap.\n\nAlso I've noticed that Cookie class lacks expiration time. So either it should be added OR maybe it's worth considering using netty's Cookie implementation?\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/76","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/76/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/76/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/76/events","html_url":"https://github.com/wasabifx/wasabi/issues/76","id":173882508,"number":76,"title":"Autocreated gradle project is incorrect","user":{"login":"kyegupov","id":502156,"avatar_url":"https://avatars1.githubusercontent.com/u/502156?v=4","gravatar_id":"","url":"https://api.github.com/users/kyegupov","html_url":"https://github.com/kyegupov","followers_url":"https://api.github.com/users/kyegupov/followers","following_url":"https://api.github.com/users/kyegupov/following{/other_user}","gists_url":"https://api.github.com/users/kyegupov/gists{/gist_id}","starred_url":"https://api.github.com/users/kyegupov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kyegupov/subscriptions","organizations_url":"https://api.github.com/users/kyegupov/orgs","repos_url":"https://api.github.com/users/kyegupov/repos","events_url":"https://api.github.com/users/kyegupov/events{/privacy}","received_events_url":"https://api.github.com/users/kyegupov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-08-29T21:55:45Z","updated_at":"2016-08-30T01:08:20Z","closed_at":"2016-08-30T01:07:53Z","author_association":"NONE","body":"server.kt:\nimport org.wasabifx.app.AppServer -> import org.wasabifx.wasabi.app.AppServer\n\nbuild.gradle:\n compile \"org.wasabifx:wasabi:0.1-SNAPSHOT\" -> compile \"org.wasabifx:wasabi:0.3.30\"\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/74","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/74/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/74/events","html_url":"https://github.com/wasabifx/wasabi/issues/74","id":173304757,"number":74,"title":"Path-based interceptors mangle path parameters under load","user":{"login":"jkwatson","id":858731,"avatar_url":"https://avatars1.githubusercontent.com/u/858731?v=4","gravatar_id":"","url":"https://api.github.com/users/jkwatson","html_url":"https://github.com/jkwatson","followers_url":"https://api.github.com/users/jkwatson/followers","following_url":"https://api.github.com/users/jkwatson/following{/other_user}","gists_url":"https://api.github.com/users/jkwatson/gists{/gist_id}","starred_url":"https://api.github.com/users/jkwatson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkwatson/subscriptions","organizations_url":"https://api.github.com/users/jkwatson/orgs","repos_url":"https://api.github.com/users/jkwatson/repos","events_url":"https://api.github.com/users/jkwatson/events{/privacy}","received_events_url":"https://api.github.com/users/jkwatson/received_events","type":"User","site_admin":false},"labels":[{"id":33312017,"url":"https://api.github.com/repos/wasabifx/wasabi/labels/bug","name":"bug","color":"fc2929","default":true}],"state":"closed","locked":false,"assignee":{"login":"hhariri","id":108107,"avatar_url":"https://avatars0.githubusercontent.com/u/108107?v=4","gravatar_id":"","url":"https://api.github.com/users/hhariri","html_url":"https://github.com/hhariri","followers_url":"https://api.github.com/users/hhariri/followers","following_url":"https://api.github.com/users/hhariri/following{/other_user}","gists_url":"https://api.github.com/users/hhariri/gists{/gist_id}","starred_url":"https://api.github.com/users/hhariri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhariri/subscriptions","organizations_url":"https://api.github.com/users/hhariri/orgs","repos_url":"https://api.github.com/users/hhariri/repos","events_url":"https://api.github.com/users/hhariri/events{/privacy}","received_events_url":"https://api.github.com/users/hhariri/received_events","type":"User","site_admin":false},"assignees":[{"login":"hhariri","id":108107,"avatar_url":"https://avatars0.githubusercontent.com/u/108107?v=4","gravatar_id":"","url":"https://api.github.com/users/hhariri","html_url":"https://github.com/hhariri","followers_url":"https://api.github.com/users/hhariri/followers","following_url":"https://api.github.com/users/hhariri/following{/other_user}","gists_url":"https://api.github.com/users/hhariri/gists{/gist_id}","starred_url":"https://api.github.com/users/hhariri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhariri/subscriptions","organizations_url":"https://api.github.com/users/hhariri/orgs","repos_url":"https://api.github.com/users/hhariri/repos","events_url":"https://api.github.com/users/hhariri/events{/privacy}","received_events_url":"https://api.github.com/users/hhariri/received_events","type":"User","site_admin":false},{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-08-25T20:41:17Z","updated_at":"2016-08-27T20:07:52Z","closed_at":"2016-08-27T20:06:42Z","author_association":"NONE","body":"Under moderate load, it appears that interceptors that are path-scoped cause path parameters to end up with a value of the parameter name, rather than the parameter value. It doesn't happen for every request, but it happens quite often, which suggests some sort of race condition in the path-parsing code.\n\nThis bug is seen in version 0.2.0 (`compile(group: 'org.wasabifx', name: 'wasabi', version: '0.2.0')`)\n\nExample code which quickly reproduces the issue:\n\nServer:\n\n```\nfun main(args: Array<String>) {\n    val appServer = AppServer(AppConfiguration(port = 8080, enableLogging = false)).apply {\n        intercept(object : Interceptor() {\n            override fun intercept(request: Request, response: Response): Boolean = true\n        }, \"/api/:param/things\", InterceptOn.PreExecution)\n        get(\"/api/:param1/things\", {\n            val paramValue = request.routeParams[\"param1\"]\n            if (paramValue == \"abc123\") {\n                response.send(\"ok!\")\n            } else {\n                println(\"request param got messed up. should be 'abc123' but was $paramValue\")\n                response.statusCode = 500\n                response.send(\"sad\")\n            }\n        })\n\n    }\n\n    appServer.start()\n}\n```\n\nTest Client:\n\n```\n\nimport okhttp3.OkHttpClient\nimport okhttp3.Request\nimport java.util.concurrent.LinkedBlockingQueue\nimport java.util.concurrent.ThreadPoolExecutor\nimport java.util.concurrent.TimeUnit\nimport java.util.concurrent.atomic.AtomicLong\n\nfun main(args: Array<String>) {\n    val okHttpClient = OkHttpClient()\n    val count = AtomicLong()\n\n    val executorService = ThreadPoolExecutor(4, 4, 0L, TimeUnit.MILLISECONDS, LinkedBlockingQueue<Runnable>(4), ThreadPoolExecutor.CallerRunsPolicy())\n    while (true) {\n        executorService.execute { request(count, okHttpClient) }\n    }\n}\n\nprivate fun request(count: AtomicLong, okHttpClient: OkHttpClient) {\n    val currentCount = count.incrementAndGet()\n    if (currentCount % 1000 == 0L) {\n        print(\".\")\n    }\n    val call = okHttpClient.newCall(Request.Builder().url(\"http://localhost:8080/api/abc123/things\").build())\n    val response = call.execute()\n    if (!response.isSuccessful) {\n        println(\"response = ${response.code()}\")\n    }\n    response.close()\n}\n```\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/72","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/72/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/72/events","html_url":"https://github.com/wasabifx/wasabi/issues/72","id":172403651,"number":72,"title":"Can't get it to install on IntelliJ IDEA CE","user":{"login":"peterwilli","id":1212814,"avatar_url":"https://avatars2.githubusercontent.com/u/1212814?v=4","gravatar_id":"","url":"https://api.github.com/users/peterwilli","html_url":"https://github.com/peterwilli","followers_url":"https://api.github.com/users/peterwilli/followers","following_url":"https://api.github.com/users/peterwilli/following{/other_user}","gists_url":"https://api.github.com/users/peterwilli/gists{/gist_id}","starred_url":"https://api.github.com/users/peterwilli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterwilli/subscriptions","organizations_url":"https://api.github.com/users/peterwilli/orgs","repos_url":"https://api.github.com/users/peterwilli/repos","events_url":"https://api.github.com/users/peterwilli/events{/privacy}","received_events_url":"https://api.github.com/users/peterwilli/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2016-08-22T09:14:26Z","updated_at":"2016-08-22T13:23:24Z","closed_at":"2016-08-22T10:32:01Z","author_association":"NONE","body":"Hi there,\n\nI'm currently trying to install Wasabi to use as my static file server. It doesn't get to install completely I think. What I did was:\n- Made a Kotlin project on IDEA with gradle.\n- Created a folder src/main/kotlin in my IDE. See screenshot.\n  - ![screenshot from 2016-08-22 11-10-48](https://cloud.githubusercontent.com/assets/1212814/17849456/22151b4a-6859-11e6-904a-f93da3e32130.png)\n- Included wasabi in my gradle file, which looks like this:\n  \n  ```\n  group 'Viewer'\n  version '1.0-SNAPSHOT'\n  \n  buildscript {\n  ext.kotlin_version = '1.0.3'\n  \n  repositories {\n      mavenCentral()\n  }\n  dependencies {\n      classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n  }\n  }\n  \n  apply plugin: 'java'\n  apply plugin: 'kotlin'\n  \n  sourceCompatibility = 1.5\n  \n  repositories {\n  mavenCentral()\n  maven { url 'http://repository.jetbrains.com/all' }\n  }\n  \n  dependencies {\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  compile 'org.wasabifx:wasabi:0.1-SNAPSHOT'\n  \n  testCompile group: 'junit', name: 'junit', version: '4.11'\n  }\n  ```\n- Then, added the server code from the example:\n\n``` kotlin\nfun runServer() {\n    val appServer = AppServer()\n    server.negotiateContent()\n    server.serveStaticFilesFromFolder(\"/public\")\n}\n```\n\nBut it cant find AppServer and it also says this about my repositories:\n![screenshot from 2016-08-22 11-13-19](https://cloud.githubusercontent.com/assets/1212814/17849524/79324ec0-6859-11e6-8845-aec02e51c360.png)\n\nWhen I do what it says, and update, I get this:\n![screenshot from 2016-08-22 11-13-31](https://cloud.githubusercontent.com/assets/1212814/17849529/80c03f08-6859-11e6-8f5d-707ef0319850.png)\n\nThis was a fresh project, if anyone has a suggestion then that's great! Thanks!\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/71","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/71/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/71/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/71/events","html_url":"https://github.com/wasabifx/wasabi/issues/71","id":172210739,"number":71,"title":"Calling send(content, \"contentType\") does not set Content-Type header to \"contentType\"","user":{"login":"ean5533","id":1847776,"avatar_url":"https://avatars0.githubusercontent.com/u/1847776?v=4","gravatar_id":"","url":"https://api.github.com/users/ean5533","html_url":"https://github.com/ean5533","followers_url":"https://api.github.com/users/ean5533/followers","following_url":"https://api.github.com/users/ean5533/following{/other_user}","gists_url":"https://api.github.com/users/ean5533/gists{/gist_id}","starred_url":"https://api.github.com/users/ean5533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ean5533/subscriptions","organizations_url":"https://api.github.com/users/ean5533/orgs","repos_url":"https://api.github.com/users/ean5533/repos","events_url":"https://api.github.com/users/ean5533/events{/privacy}","received_events_url":"https://api.github.com/users/ean5533/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-08-19T20:09:12Z","updated_at":"2016-09-09T12:52:19Z","closed_at":"2016-09-01T21:06:06Z","author_association":"CONTRIBUTOR","body":"When you call `response.send(\"some content\", \"some content type\")`, I would expect this to result in a `Content-Type` header with value `some content type`. However, it has no effect -- the content type is whatever was manually set, or `text/plain` if never set.\n\nI believe the problem is that `response.send` only updates the `negotiatedMediaType` property and never propagates that value to the `contentType` property -- or, if it does, it's doing it too late after `response.setHeaders` has already been called.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/70","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/70/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/70/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/70/events","html_url":"https://github.com/wasabifx/wasabi/issues/70","id":172210158,"number":70,"title":"Setting content length to zero results in no content length header","user":{"login":"ean5533","id":1847776,"avatar_url":"https://avatars0.githubusercontent.com/u/1847776?v=4","gravatar_id":"","url":"https://api.github.com/users/ean5533","html_url":"https://github.com/ean5533","followers_url":"https://api.github.com/users/ean5533/followers","following_url":"https://api.github.com/users/ean5533/following{/other_user}","gists_url":"https://api.github.com/users/ean5533/gists{/gist_id}","starred_url":"https://api.
8000
github.com/users/ean5533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ean5533/subscriptions","organizations_url":"https://api.github.com/users/ean5533/orgs","repos_url":"https://api.github.com/users/ean5533/repos","events_url":"https://api.github.com/users/ean5533/events{/privacy}","received_events_url":"https://api.github.com/users/ean5533/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-08-19T20:05:59Z","updated_at":"2016-08-25T10:36:21Z","closed_at":"2016-08-25T10:36:21Z","author_association":"CONTRIBUTOR","body":"Explicitly setting `response.contentLength` to zero results in no `Content-Length` header being generated, even though the intent is to generate a header with a zero value. This is important because if content length is not set and the response body is empty then the client will wait forever for content to arrive until the connection is manually killed.\n\nRelevant snippet from HTTP protocol [section 7.2](https://www.w3.org/Protocols/HTTP/1.0/draft-ietf-http-spec.html#Entity-Body):\n\n> [...] All other responses must include an entity body or a Content-Length header field defined with a value of zero (0).\n\nCurrent workaround is to manually set response code to 204 (No Content).\n\nI believe the correct fix is to respect when content length is explicitly set to 0 by making `contentLength` nullable instead of using zero as a \"no value\" value.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/61","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/61/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/61/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/61/events","html_url":"https://github.com/wasabifx/wasabi/issues/61","id":169556687,"number":61,"title":"UTF-8 serialization broken","user":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"labels":[{"id":33312017,"url":"https://api.github.com/repos/wasabifx/wasabi/labels/bug","name":"bug","color":"fc2929","default":true}],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-08-05T08:36:50Z","updated_at":"2016-08-05T09:05:51Z","closed_at":"2016-08-05T09:05:35Z","author_association":"COLLABORATOR","body":"Currently charset is not getting honored when serializing the response, hack verified fix, need to apply in a releasable fashion. \n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/60","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/60/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/60/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/60/events","html_url":"https://github.com/wasabifx/wasabi/issues/60","id":169025528,"number":60,"title":"Websocket rework. ","user":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"labels":[{"id":33312019,"url":"https://api.github.com/repos/wasabifx/wasabi/labels/enhancement","name":"enhancement","color":"84b6eb","default":true}],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-08-03T01:15:19Z","updated_at":"2016-08-26T05:07:30Z","closed_at":"2016-08-26T05:07:30Z","author_association":"COLLABORATOR","body":"Currently in progress, with the addition of HTTP/2 the initial pipeline was refactored, this split Websocket support from the raw HTTP handler as well, currently working on getting it back into action.  \n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/58","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/58/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/58/events","html_url":"https://github.com/wasabifx/wasabi/issues/58","id":169024892,"number":58,"title":"TODO: HTTP Handler cleanup ","user":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false},"assignees":[{"login":"akoncius","id":475490,"avatar_url":"https://avatars3.githubusercontent.com/u/475490?v=4","gravatar_id":"","url":"https://api.github.com/users/akoncius","html_url":"https://github.com/akoncius","followers_url":"https://api.github.com/users/akoncius/followers","following_url":"https://api.github.com/users/akoncius/following{/other_user}","gists_url":"https://api.github.com/users/akoncius/gists{/gist_id}","starred_url":"https://api.github.com/users/akoncius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akoncius/subscriptions","organizations_url":"https://api.github.com/users/akoncius/orgs","repos_url":"https://api.github.com/users/akoncius/repos","events_url":"https://api.github.com/users/akoncius/events{/privacy}","received_events_url":"https://api.github.com/users/akoncius/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2016-08-03T01:09:44Z","updated_at":"2016-09-05T21:48:02Z","closed_at":"2016-09-05T21:48:02Z","author_association":"COLLABORATOR","body":" In the HTTPHandler writeResponse function the file response and rest are handled by different blocks of logic and one bypasses the post request interceptors, be nice if this could be wrapped up in an optimal solution that also prevents the post request interceptors being bypassed.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/53","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/53/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/53/events","html_url":"https://github.com/wasabifx/wasabi/issues/53","id":163672751,"number":53,"title":"Commit f80860a3 broke build","user":{"login":"Koziolek","id":697126,"avatar_url":"https://avatars1.githubusercontent.com/u/697126?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziolek","html_url":"https://github.com/Koziolek","followers_url":"https://api.github.com/users/Koziolek/followers","following_url":"https://api.github.com/users/Koziolek/following{/other_user}","gists_url":"https://api.github.com/users/Koziolek/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziolek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziolek/subscriptions","organizations_url":"https://api.github.com/users/Koziolek/orgs","repos_url":"https://api.github.com/users/Koziolek/repos","events_url":"https://api.github.com/users/Koziolek/events{/privacy}","received_events_url":"https://api.github.com/users/Koziolek/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-04T13:03:22Z","updated_at":"2016-07-05T08:57:30Z","closed_at":"2016-07-05T08:57:30Z","author_association":"NONE","body":"After [commit](https://github.com/hhariri/wasabi/commit/f80860a30fd3352f429364fd8e74cadee8163e5a) master does not compile\n\n```\n[main] WARN org.wasabi.app.AppConfiguration - Unable to load configuration from file: java.io.FileNotFoundException: wasabi.yaml (The system cannot find the file specified), using defaults or constructor provided values.\n[main] INFO org.wasabi.app.AppServer - Server starting on port 7966\n\n[main] INFO org.wasabi.app.AppServer - Server starting on port 7966\n\njava.lang.AssertionError: Expected <2>, actual <1>.\n\n    at kotlin.test.DefaultAsserter.fail(DefaultAsserter.kt:12)\n    at kotlin.test.Asserter$DefaultImpls.assertTrue(TestAssertions.kt:120)\n    at kotlin.test.DefaultAsserter.assertTrue(DefaultAsserter.kt:6)\n    at kotlin.test.Asserter$DefaultImpls.assertEquals(TestAssertions.kt:139)\n    at kotlin.test.DefaultAsserter.assertEquals(DefaultAsserter.kt:6)\n    at kotlin.test.AssertionsKt__TestAssertionsKt.assertEquals(TestAssertions.kt:45)\n    at kotlin.test.AssertionsKt.assertEquals(Unknown Source)\n    at kotlin.test.AssertionsKt__TestAssertionsKt.assertEquals$default(TestAssertions.kt:44)\n    at kotlin.test.AssertionsKt.assertEquals$default(Unknown Source)\n    at org.wasabi.test.CorsSpecs.testing_cors_enabled(CorsSpecs.kt:16)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:69)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:48)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:292)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n\n```\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/52","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/52/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/52/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/52/events","html_url":"https://github.com/wasabifx/wasabi/issues/52","id":163647376,"number":52,"title":"Remove IDE files","user":{"login":"Koziolek","id":697126,"avatar_url":"https://avatars1.githubusercontent.com/u/697126?v=4","gravatar_id":"","url":"https://api.github.com/users/Koziolek","html_url":"https://github.com/Koziolek","followers_url":"https://api.github.com/users/Koziolek/followers","following_url":"https://api.github.com/users/Koziolek/following{/other_user}","gists_url":"https://api.github.com/users/Koziolek/gists{/gist_id}","starred_url":"https://api.github.com/users/Koziolek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Koziolek/subscriptions","organizations_url":"https://api.github.com/users/Koziolek/orgs","repos_url":"https://api.github.com/users/Koziolek/repos","events_url":"https://api.github.com/users/Koziolek/events{/privacy}","received_events_url":"https://api.github.com/users/Koziolek/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-04T10:23:44Z","updated_at":"2016-07-05T08:57:03Z","closed_at":"2016-07-05T08:57:03Z","author_association":"NONE","body":"Hi, \n\ncould you drop idea configuration files (`.idea/`, `.wasabi.iml`) and mark it to ignore?\n\nThat because when I pull from wasabi:master then it override my local configuration.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/48","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/48/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/48/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/48/events","html_url":"https://github.com/wasabifx/wasabi/issues/48","id":158559897,"number":48,"title":"Exception handling by type","user":{"login":"Tradunsky","id":4522842,"avatar_url":"https://avatars3.githubusercontent.com/u/4522842?v=4","gravatar_id":"","url":"https://api.github.com/users/Tradunsky","html_url":"https://github.com/Tradunsky","followers_url":"https://api.github.com/users/Tradunsky/followers","following_url":"https://api.github.com/users/Tradunsky/following{/other_user}","gists_url":"https://api.github.com/users/Tradunsky/gists{/gist_id}","starred_url":"https://api.github.com/users/Tradunsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tradunsky/subscriptions","organizations_url":"https://api.github.com/users/Tradunsky/orgs","repos_url":"https://api.github.com/users/Tradunsky/repos","events_url":"https://api.github.com/users/Tradunsky/events{/privacy}","received_events_url":"https://api.github.com/users/Tradunsky/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2016-06-05T15:34:17Z","updated_at":"2016-07-11T09:54:41Z","closed_at":"2016-07-11T09:54:41Z","author_association":"CONTRIBUTOR","body":"Please, provide solution to handle exceptions by type with wasabi in order to map exceptions to http status and content.\n\nThere are some convenient ways that other provide such as:\nSinatra ruby:\nhttp://www.sinatrarb.com/intro.html\nerror MyCustomError do\n  'So what happened was...' + env['sinatra.error'].message\nend\n\nSpark java:\nhttp://sparkjava.com/documentation.html#exception-mapping\nexception(YourCustomException.class, (exception, request, response) -> {\n    // Handle the exception here\n});\n\nSpring java:\nhttps://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\n@ResponseStatus annotation above exception class\n\nI found out a way to register an interceptor on error, unfortunately, there is no way to handle particular error types.\nI believe, it won't be difficult to implement it in wasabi: HttpRequestHandler:93:\n} catch (e: Exception) {\n//process an exception here\n}\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/45","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/45/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/45/events","html_url":"https://github.com/wasabifx/wasabi/issues/45","id":156259342,"number":45,"title":"Is there a way to get the client's IP-address?","user":{"login":"olegcherr","id":3730074,"avatar_url":"https://avatars2.githubusercontent.com/u/3730074?v=4","gravatar_id":"","url":"https://api.github.com/users/olegcherr","html_url":"https://github.com/olegcherr","followers_url":"https://api.github.com/users/olegcherr/followers","following_url":"https://api.github.com/users/olegcherr/following{/other_user}","gists_url":"https://api.github.com/users/olegcherr/gists{/gist_id}","starred_url":"https://api.github.com/users/olegcherr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegcherr/subscriptions","organizations_url":"https://api.github.com/users/olegcherr/orgs","repos_url":"https://api.github.com/users/olegcherr/repos","events_url":"https://api.github.com/users/olegcherr/events{/privacy}","received_events_url":"https://api.github.com/users/olegcherr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false},"assignees":[{"login":"swishy","id":1217472,"avatar_url":"https://avatars3.githubusercontent.com/u/1217472?v=4","gravatar_id":"","url":"https://api.github.com/users/swishy","html_url":"https://github.com/swishy","followers_url":"https://api.github.com/users/swishy/followers","following_url":"https://api.github.com/users/swishy/following{/other_user}","gists_url":"https://api.github.com/users/swishy/gists{/gist_id}","starred_url":"https://api.github.com/users/swishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swishy/subscriptions","organizations_url":"https://api.github.com/users/swishy/orgs","repos_url":"https://api.github.com/users/swishy/repos","events_url":"https://api.github.com/users/swishy/events{/privacy}","received_events_url":"https://api.github.com/users/swishy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-05-23T11:30:19Z","updated_at":"2016-06-03T08:59:27Z","closed_at":"2016-06-03T08:59:27Z","author_association":"CONTRIBUTOR","body":"I didn't find any API in the `Request` class. But underlying Netty allows to get this information:\nhttp://stackoverflow.com/a/25399926/4899346\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/41","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/41/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/41/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/41/events","html_url":"https://github.com/wasabifx/wasabi/issues/41","id":140418014,"number":41,"title":"Special characters when sending XML","user":{"login":"sargunv","id":1320357,"avatar_url":"https://avatars0.githubusercontent.com/u/1320357?v=4","gravatar_id":"","url":"https://api.github.com/users/sargunv","html_url":"https://github.com/sargunv","followers_url":"https://api.github.com/users/sargunv/followers","following_url":"https://api.github.com/users/sargunv/following{/other_user}","gists_url":"https://api.github.com/users/sargunv/gists{/gist_id}","starred_url":"https://api.github.com/users/sargunv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sargunv/subscriptions","organizations_url":"https://api.github.com/users/sargunv/orgs","repos_url":"https://api.github.com/users/sargunv/repos","events_url":"https://api.github.com/users/sargunv/events{/privacy}","received_events_url":"https://api.github.com/users/sargunv/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-03-12T21:23:17Z","updated_at":"2016-03-14T16:30:38Z","closed_at":"2016-03-14T16:30:38Z","author_association":"CONTRIBUTOR","body":"Currently, I am sending a response like this: \n\n``` kotlin\nresponse.send(ObjectMapper().readTree(someJsonString))\n```\n\nThis works fine when the client accepts JSON, but when the client wants XML it can fail if the JSON string contains some special characters like the new page character (`0xc`). When this occurs, no exception is thrown and sending the response just fails silently.\n\nCurrently I have to work around the issue by replacing the XmlSerializer with my own slightly different implementation:\n\n``` kotlin\nclass Xml11Serializer: Serializer(\"text/xml\", \"text/vnd\\\\.\\\\w*\\\\+xml\", \"application/xml\", \"application/vnd\\\\.\\\\w*\\\\+xml\") {\n    override fun serialize(input: Any): String {\n        val xmlMapper = XmlMapper().enable(ToXmlGenerator.Feature.WRITE_XML_1_1)\n        return xmlMapper.writeValueAsString(input)!!\n    }\n}\n```\n\n... and then replace it in the server ...\n\n``` kotlin\nserver.serializers.replaceAll {\n    if (it is XmlSerializer)\n        Xml11Serializer()\n    else\n        it\n }\n```\n\nI believe this is a bug. It can be fixed by simply changing this line https://github.com/hhariri/wasabi/blob/master/src/main/kotlin/org/wasabi/serializers/XmlSerializer.kt#L7\nto be:\n\n``` kotlin\nval xmlMapper = XmlMapper().enable(ToXmlGenerator.Feature.WRITE_XML_1_1)\n```\n\nOr even better, make the serializer configurable from Wasabi without having to replace things in the `ArrayList`.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/32","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/32/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/32/events","html_url":"https://github.com/wasabifx/wasabi/issues/32","id":121094200,"number":32,"title":"HttpClient libraries are out of date","user":{"login":"jkwatson","id":858731,"avatar_url":"https://avatars1.githubusercontent.com/u/858731?v=4","gravatar_id":"","url":"https://api.github.com/users/jkwatson","html_url":"https://github.com/jkwatson","follo
5e99
wers_url":"https://api.github.com/users/jkwatson/followers","following_url":"https://api.github.com/users/jkwatson/following{/other_user}","gists_url":"https://api.github.com/users/jkwatson/gists{/gist_id}","starred_url":"https://api.github.com/users/jkwatson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkwatson/subscriptions","organizations_url":"https://api.github.com/users/jkwatson/orgs","repos_url":"https://api.github.com/users/jkwatson/repos","events_url":"https://api.github.com/users/jkwatson/events{/privacy}","received_events_url":"https://api.github.com/users/jkwatson/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-12-08T20:38:06Z","updated_at":"2015-12-11T08:39:16Z","closed_at":"2015-12-10T09:03:03Z","author_association":"NONE","body":"Most recent version is 4.5.1; wasabi depends on 4.2.3.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/30","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/30/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/30/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/30/events","html_url":"https://github.com/wasabifx/wasabi/issues/30","id":118461577,"number":30,"title":"request.bodyParams accumulate all post requests","user":{"login":"cevek","id":3171573,"avatar_url":"https://avatars0.githubusercontent.com/u/3171573?v=4","gravatar_id":"","url":"https://api.github.com/users/cevek","html_url":"https://github.com/cevek","followers_url":"https://api.github.com/users/cevek/followers","following_url":"https://api.github.com/users/cevek/following{/other_user}","gists_url":"https://api.github.com/users/cevek/gists{/gist_id}","starred_url":"https://api.github.com/users/cevek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cevek/subscriptions","organizations_url":"https://api.github.com/users/cevek/orgs","repos_url":"https://api.github.com/users/cevek/repos","events_url":"https://api.github.com/users/cevek/events{/privacy}","received_events_url":"https://api.github.com/users/cevek/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-11-23T20:06:40Z","updated_at":"2015-12-16T17:56:20Z","closed_at":"2015-12-16T17:56:20Z","author_association":"NONE","body":"Send `foo=bar` post message \nSecond request is `hello=world` \n`request.bodyParams` is `foo=bar&hello=world`\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/28","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/28/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/28/events","html_url":"https://github.com/wasabifx/wasabi/issues/28","id":117414911,"number":28,"title":"NoSuchMethod on request","user":{"login":"ghost","id":10137,"avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-11-17T18:09:00Z","updated_at":"2015-11-18T17:46:11Z","closed_at":"2015-11-18T17:37:27Z","author_association":"NONE","body":"using the new commit i get\n\n``` kotlin\njava.lang.NoSuchMethodError: kotlin.StringsKt.lastIndexOf$default(Ljava/lang/CharSequence;Ljava/lang/String;IZI)I\n    at org.wasabi.http.Request.<init>(Request.kt:15)\n    at org.wasabi.http.HttpRequestHandler.handleRequest(HttpRequestHandler.kt:41)\n    at org.wasabi.http.NettyRequestHandler.channelRead0(NettyRequestHandler.kt:76)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:308)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:294)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:308)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:294)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:308)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:294)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:244)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:308)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:294)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:846)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:511)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:468)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:382)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:354)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112)\n    at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:137)\n    at java.lang.Thread.run(Thread.java:745)\n```\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/26","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/26/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/26/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/26/events","html_url":"https://github.com/wasabifx/wasabi/issues/26","id":116779920,"number":26,"title":"vararg in Route class not allowed","user":{"login":"aneophyte","id":4083817,"avatar_url":"https://avatars0.githubusercontent.com/u/4083817?v=4","gravatar_id":"","url":"https://api.github.com/users/aneophyte","html_url":"https://github.com/aneophyte","followers_url":"https://api.github.com/users/aneophyte/followers","following_url":"https://api.github.com/users/aneophyte/following{/other_user}","gists_url":"https://api.github.com/users/aneophyte/gists{/gist_id}","starred_url":"https://api.github.com/users/aneophyte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aneophyte/subscriptions","organizations_url":"https://api.github.com/users/aneophyte/orgs","repos_url":"https://api.github.com/users/aneophyte/repos","events_url":"https://api.github.com/users/aneophyte/events{/privacy}","received_events_url":"https://api.github.com/users/aneophyte/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-11-13T14:38:23Z","updated_at":"2015-12-08T21:34:45Z","closed_at":"2015-12-08T21:34:45Z","author_association":"CONTRIBUTOR","body":"Compilation fails with this message:\n`src/main/kotlin/org/wasabi/routing/Route.kt: (9, 104): Primary constructor vararg parameters are forbidden for data classes`\n\nSomething to do with compiler change that the library has not addressed?\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/25","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/25/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/25/events","html_url":"https://github.com/wasabifx/wasabi/issues/25","id":107310141,"number":25,"title":"Virtual Host with built-in Wasabi web server","user":{"login":"bkawakami","id":1881935,"avatar_url":"https://avatars0.githubusercontent.com/u/1881935?v=4","gravatar_id":"","url":"https://api.github.com/users/bkawakami","html_url":"https://github.com/bkawakami","followers_url":"https://api.github.com/users/bkawakami/followers","following_url":"https://api.github.com/users/bkawakami/following{/other_user}","gists_url":"https://api.github.com/users/bkawakami/gists{/gist_id}","starred_url":"https://api.github.com/users/bkawakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkawakami/subscriptions","organizations_url":"https://api.github.com/users/bkawakami/orgs","repos_url":"https://api.github.com/users/bkawakami/repos","events_url":"https://api.github.com/users/bkawakami/events{/privacy}","received_events_url":"https://api.github.com/users/bkawakami/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2015-09-19T04:52:20Z","updated_at":"2015-09-20T23:31:59Z","closed_at":"2015-09-20T23:31:59Z","author_association":"NONE","body":"I need say.. This project is amazing!\n\nWell, when I compile my project with this:\n\n``` kotlin\npackage kotlinApi\n\nimport org.wasabi.app.AppServer\n\nfun main(args: Array<String>){\n    var server = AppServer()\n\n    server.get(\"/hello\", { response.send(\"Hello World!\") })\n\n    server.start()\n}\n```\n\nI receive on my console:\n\n```\n[main] INFO org.wasabi.app.AppServer - Server starting on port 3000\n[nioEventLoopGroup-3-1] INFO org.wasabi.interceptors.LoggingInterceptor - [GET] - /\n[nioEventLoopGroup-3-2] INFO org.wasabi.interceptors.LoggingInterceptor - [GET] - /hello\n```\n\nIt seems to me that the Wasabi has a built-in web server.\n\nThe default host is http://localhost:3000\n\nHow do I set up a virtual host with this built-in web server?\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/22","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/22/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/22/events","html_url":"https://github.com/wasabifx/wasabi/issues/22","id":58244647,"number":22,"title":"Interceptor's executeNext should initialize to false each intercept.","user":{"login":"patorash","id":672769,"avatar_url":"https://avatars2.githubusercontent.com/u/672769?v=4","gravatar_id":"","url":"https://api.github.com/users/patorash","html_url":"https://github.com/patorash","followers_url":"https://api.github.com/users/patorash/followers","following_url":"https://api.github.com/users/patorash/following{/other_user}","gists_url":"https://api.github.com/users/patorash/gists{/gist_id}","starred_url":"https://api.github.com/users/patorash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patorash/subscriptions","organizations_url":"https://api.github.com/users/patorash/orgs","repos_url":"https://api.github.com/users/patorash/repos","events_url":"https://api.github.com/users/patorash/events{/privacy}","received_events_url":"https://api.github.com/users/patorash/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-02-19T17:59:34Z","updated_at":"2015-07-23T01:39:42Z","closed_at":"2015-07-23T01:39:42Z","author_association":"CONTRIBUTOR","body":"executeNext value is true forever by Interceptor instance's next() method called at once.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/19","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/19/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/19/events","html_url":"https://github.com/wasabifx/wasabi/issues/19","id":55534642,"number":19,"title":"Default value for Cache-Control","user":{"login":"pijusn","id":2745605,"avatar_url":"https://avatars1.githubusercontent.com/u/2745605?v=4","gravatar_id":"","url":"https://api.github.com/users/pijusn","html_url":"https://github.com/pijusn","followers_url":"https://api.github.com/users/pijusn/followers","following_url":"https://api.github.com/users/pijusn/following{/other_user}","gists_url":"https://api.github.com/users/pijusn/gists{/gist_id}","starred_url":"https://api.github.com/users/pijusn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pijusn/subscriptions","organizations_url":"https://api.github.com/users/pijusn/orgs","repos_url":"https://api.github.com/users/pijusn/repos","events_url":"https://api.github.com/users/pijusn/events{/privacy}","received_events_url":"https://api.github.com/users/pijusn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-26T20:42:43Z","updated_at":"2015-01-27T11:42:29Z","closed_at":"2015-01-27T11:42:29Z","author_association":"CONTRIBUTOR","body":"I just noticed this line of code: \n\n``` kotlin\npublic var cacheControl: String = \"max-age=6000\"\n```\n\n(Source: https://github.com/hhariri/wasabi/blob/11049c14074fd8e2329e3787db01c9798d61ad45/src/main/kotlin/org/wasabi/http/Response.kt#L46)\n\nI might be subjective (just spent 2.5 hours trying to figure out why client gets response server doesn't send) but it should be `max-age=0`. At least for non-`GET` methods but I'd say library should make no assumptions about the dynamics of the resources being accessed.\n\nMost other frameworks do not set Cache-Control header by default so developers do not expect that. Especially such value - 6000 seconds is a very long duration for a default.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/17","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/17/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/17/events","html_url":"https://github.com/wasabifx/wasabi/issues/17","id":54710507,"number":17,"title":"Improving application/json support","user":{"login":"pijusn","id":2745605,"avatar_url":"https://avatars1.githubusercontent.com/u/2745605?v=4","gravatar_id":"","url":"https://api.github.com/users/pijusn","html_url":"https://github.com/pijusn","followers_url":"https://api.github.com/users/pijusn/followers","following_url":"https://api.github.com/users/pijusn/following{/other_user}","gists_url":"https://api.github.com/users/pijusn/gists{/gist_id}","starred_url":"https://api.github.com/users/pijusn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pijusn/subscriptions","organizations_url":"https://api.github.com/users/pijusn/orgs","repos_url":"https://api.github.com/users/pijusn/repos","events_url":"https://api.github.com/users/pijusn/events{/privacy}","received_events_url":"https://api.github.com/users/pijusn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-01-18T21:18:06Z","updated_at":"2015-01-26T20:34:09Z","closed_at":"2015-01-26T20:34:09Z","author_association":"CONTRIBUTOR","body":"I am not sure whether it's true elsewhere but most developers I know use use JSON requests in all new projects. This makes it very important for HTTP server library to supports it very well.\n\nHowever, Wasabi only handles string values. Accessing value of any other type causes an exception:\n\n``` text\nDEBUG org.wasabi.http.NettyRequestHandler - Exception during web invocation: java.lang.Integer cannot be cast to java.lang.String\nDEBUG org.wasabi.http.NettyRequestHandler - Exception during web invocation: java.lang.Boolean cannot be cast to java.lang.String\nDEBUG org.wasabi.http.NettyRequestHandler - Exception during web invocation: java.lang.Double cannot be cast to java.lang.String\nDEBUG org.wasabi.http.NettyRequestHandler - Exception during web invocation: java.util.ArrayList cannot be cast to java.lang.String\nDEBUG org.wasabi.http.NettyRequestHandler - Exception during web invocation: java.util.LinkedHashMap cannot be cast to java.lang.String\n```\n\nThat's because `JsonDeserializer` works like this:\n\n``` kotlin\noverride fun deserialize(input: Any): HashMap<String, String> {\n    val mapper = ObjectMapper()\n    val map = mapper.readValue(input as String, javaClass<HashMap<String, String>>())!!\n    return map\n}\n```\n\nBecause of type erasure Jackson parses it to `HashMap<Object, Object>` but Wasabi still treats it as `HashMap<String, String>`.\n\nEven though `application/json` request can have an array as the body (`[ 1, 2, 3 ]`), that's a simple problem to work around on both ends (and in most cases you want to have a wrapper object for a better flexibility anyway). Let's only consider request with objects as the body (`{\"name\": \"value\"}`).\n\nI suggest using `Map<String, Any?>` as it is the simplest solution and it is quite expressive:\n\n``` kotlin\nval username = request.bodyParams[\"username\"] as String\nval rememberMe = request.bodyParams[\"remember_me\"] as Boolean\n```\n\nCasts can also be hidden using `Delegates.mapVal` in most cases.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/14","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/14/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/14/events","html_url":"https://github.com/wasabifx/wasabi/issues/14","id":54659202,"number":14,"title":"ContentType not set when using content negotiation","user":{"login":"pijusn","id":2745605,"avatar_url":"https://avatars1.githubusercontent.com/u/2745605?v=4","gravatar_id":"","url":"https://api.github.com/users/pijusn","html_url":"https://github.com/pijusn","followers_url":"https://api.github.com/users/pijusn/followers","following_url":"https://api.github.com/users/pijusn/following{/other_user}","gists_url":"https://api.github.com/users/pijusn/gists{/gist_id}","starred_url":"https://api.github.com/users/pijusn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pijusn/subscriptions","organizations_url":"https://api.github.com/users/pijusn/orgs","repos_url":"https://api.github.com/users/pijusn/repos","events_url":"https://api.github.com/users/pijusn/events{/privacy}","received_events_url":"https://api.github.com/users/pijusn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"hhariri","id":108107,"avatar_url":"https://avatars0.githubusercontent.com/u/108107?v=4","gravatar_id":"","url":"https://api.github.com/users/hhariri","html_url":"https://github.com/hhariri","followers_url":"https://api.github.com/users/hhariri/followers","following_url":"https://api.github.com/users/hhariri/following{/other_user}","gists_url":"https://api.github.com/users/hhariri/gists{/gist_id}","starred_url":"https://api.github.com/users/hhariri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhariri/subscriptions","organizations_url":"https://api.github.com/users/hhariri/orgs","repos_url":"https://api.github.com/users/hhariri/repos","events_url":"https://api.github.com/users/hhariri/events{/privacy}","received_events_url":"https://api.github.com/users/hhariri/received_events","type":"User","site_admin":false},"assignees":[{"login":"hhariri","id":108107,"avatar_url":"https://avatars0.githubusercontent.com/u/108107?v=4","gravatar_id":"","url":"https://api.github.com/users/hhariri","html_url":"https://github.com/hhariri","followers_url":"https://api.github.com/users/hhariri/followers","following_url":"https://api.github.com/users/hhariri/following{/other_user}","gists_url":"https://api.github.com/users/hhariri/gists{/gist_id}","starred_url":"https://api.github.com/users/hhariri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhariri/subscriptions","organizations_url":"https://api.github.com/users/hhariri/orgs","repos_url":"https://api.github.com/users/hhariri/repos","events_url":"https://api.github.com/users/hhariri/events{/privacy}","received_events_url":"https://api.github.com/users/hhariri/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2015-01-17T11:34:52Z","updated_at":"2015-01-19T00:43:35Z","closed_at":"2015-01-19T00:43:35Z","author_association":"CONTRIBUTOR","body":"When you use `send(result)` (+ request contains `Accept: application/json`) or event `send(result, \"application/json\")`, it returns data in JSON but response has `Content-Type: text/plain` header.\n\nI think negotiated type should be treated as a default value for the `Content-Type` header.\n","score":1.0},{"url":"https://api.github.com/repos/wasabifx/wasabi/issues/2","repository_url":"https://api.github.com/repos/wasabifx/wasabi","labels_url":"https://api.github.com/repos/wasabifx/wasabi/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/wasabifx/wasabi/issues/2/comments","events_url":"https://api.github.com/repos/wasabifx/wasabi/issues/2/events","html_url":"https://github.com/wasabifx/wasabi/issues/2","id":19127287,"number":2,"title":"How do I start a Wasabi project?","user":{"login":"sanity","id":23075,"avatar_url":"https://avatars3.githubusercontent.com/u/23075?v=4","gravatar_id":"","url":"https://api.github.com/users/sanity","html_url":"https://github.com/sanity","followers_url":"https://api.github.com/users/sanity/followers","following_url":"https://api.github.com/users/sanity/following{/other_user}","gists_url":"https://api.github.com/users/sanity/gists{/gist_id}","starred_url":"https://api.github.com/users/sanity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanity/subscriptions","organizations_url":"https://api.github.com/users/sanity/orgs","repos_url":"https://api.github.com/users/sanity/repos","events_url":"https://api.github.com/users/sanity/events{/privacy}","received_events_url":"https://api.github.com/users/sanity/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2013-09-06T20:42:06Z","updated_at":"2015-01-20T20:47:48Z","closed_at":"2015-01-20T20:47:48Z","author_association":"NONE","body":"Is there a Maven archetype, or dependency?  The readme doesn't appear to explain how to get started from scratch.\n","score":1.0}]}
0

