HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Wed, 11 Apr 2018 18:27:53 GMT
Link: <https://api.github.com/search/issues?q=repo%3Aphalcon%2Fcphalcon+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Aphalcon%2Fcphalcon+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: C966:148C:163151:2DCC9F:5ACE53A8
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 27
X-Ratelimit-Reset: 1523471333
X-Runtime-Rack: 0.571878
X-Xss-Protection: 1; mode=block

8000
{"total_count":3154,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13338","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13338/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13338/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13338/events","html_url":"https://github.com/phalcon/cphalcon/issues/13338","id":310089338,"number":13338,"title":"Debian package doesn't trigger a reload on install/upgrade","user":{"login":"billux","id":222395,"avatar_url":"https://avatars0.githubusercontent.com/u/222395?v=4","gravatar_id":"","url":"https://api.github.com/users/billux","html_url":"https://github.com/billux","followers_url":"https://api.github.com/users/billux/followers","following_url":"https://api.github.com/users/billux/following{/other_user}","gists_url":"https://api.github.com/users/billux/gists{/gist_id}","starred_url":"https://api.github.com/users/billux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billux/subscriptions","organizations_url":"https://api.github.com/users/billux/orgs","repos_url":"https://api.github.com/users/billux/repos","events_url":"https://api.github.com/users/billux/events{/privacy}","received_events_url":"https://api.github.com/users/billux/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-30T15:07:29Z","updated_at":"2018-04-03T22:24:16Z","closed_at":"2018-04-03T22:24:16Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\n\r\nAfter installing or upgrading php7.0-phalcon Debian package, the package should trigger the reload of php-fpm or Apache (if mod_php is used) as others PHP packages do.\r\n\r\nI'm not an expert in Debian packaging so I compared the php7.0-phalcon package with another PHP extention package (php7.0-intl) and I noticed that the `debian/triggers` ([related manpage](https://manpages.debian.org/stretch/dpkg-dev/deb-triggers.5.en.html)) file is missing in php7.0-phalcon.\r\n\r\nHere is  with the content of the file from php7.0-intl package :\r\n```\r\nactivate-noawait /etc/php/7.0/apache2/conf.d\r\nactivate-noawait /etc/php/7.0/apache2filter/conf.d\r\nactivate-noawait /etc/php/7.0/fpm/conf.d\r\n```\r\n\r\n### Details\r\n\r\n* Phalcon version: (`php --ri phalcon`)\r\n```\r\n# php --ri phalcon\r\n\r\nphalcon\r\n\r\n\r\nWeb framework delivered as a C-extension for PHP\r\nphalcon => enabled\r\nAuthor => Phalcon Team and contributors\r\nVersion => 3.3.2\r\nBuild Date => Mar 10 2018 14:43:15\r\nPowered by Zephir => Version 0.10.7-2917ebe8ae\r\n\r\nDirective => Local Value => Master Value\r\nphalcon.db.escape_identifiers => On => On\r\nphalcon.db.force_casting => Off => Off\r\nphalcon.orm.cast_on_hydrate => Off => Off\r\nphalcon.orm.column_renaming => On => On\r\nphalcon.orm.disable_assign_setters => Off => Off\r\nphalcon.orm.enable_implicit_joins => On => On\r\nphalcon.orm.enable_literals => On => On\r\nphalcon.orm.events => On => On\r\nphalcon.orm.exception_on_failed_save => Off => Off\r\nphalcon.orm.ignore_unknown_columns => Off => Off\r\nphalcon.orm.late_state_binding => Off => Off\r\nphalcon.orm.not_null_validations => On => On\r\nphalcon.orm.update_snapshot_on_save => On => On\r\nphalcon.orm.virtual_foreign_keys => On => On\r\n```\r\n* PHP Version: (`php -v`)\r\n```\r\n# php -v\r\nPHP 7.0.28-1~dotdeb+8.1 (cli) ( NTS )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies\r\n    with Zend OPcache v7.0.28-1~dotdeb+8.1, Copyright (c) 1999-2017, by Zend Technologies\r\n```\r\n* Operating System: Debian jessie\r\n* Installation type: installing via package manager\r\n* Server: Nginx + php-fpm\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13335","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13335/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13335/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13335/events","html_url":"https://github.com/phalcon/cphalcon/issues/13335","id":308928986,"number":13335,"title":"ORM Model bug","user":{"login":"reanx","id":7030273,"avatar_url":"https://avatars0.githubusercontent.com/u/7030273?v=4","gravatar_id":"","url":"https://api.github.com/users/reanx","html_url":"https://github.com/reanx","followers_url":"https://api.github.com/users/reanx/followers","following_url":"https://api.github.com/users/reanx/following{/other_user}","gists_url":"https://api.github.com/users/reanx/gists{/gist_id}","starred_url":"https://api.github.com/users/reanx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reanx/subscriptions","organizations_url":"https://api.github.com/users/reanx/orgs","repos_url":"https://api.github.com/users/reanx/repos","events_url":"https://api.github.com/users/reanx/events{/privacy}","received_events_url":"https://api.github.com/users/reanx/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-27T11:28:24Z","updated_at":"2018-03-28T21:45:12Z","closed_at":"2018-03-28T21:45:11Z","author_association":"NONE","body":"I've created a model using phalcon-devtools, later I've removed some fields from the model. I'm using that model under a controller to insert some data. In the insertion part I didn't remove that fields which I removed from the model. I'm setting value for it. When I'm creating it actually inserting the data without showing any errors or warning even that field is not in the model. Is this a normal behaviour?","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13329","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13329/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13329/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13329/events","html_url":"https://github.com/phalcon/cphalcon/issues/13329","id":306757542,"number":13329,"title":"php 7.2.3 fpm start with segment fault","user":{"login":"ideamean","id":824662,"avatar_url":"https://avatars0.githubusercontent.com/u/824662?v=4","gravatar_id":"","url":"https://api.github.com/users/ideamean","html_url":"https://github.com/ideamean","followers_url":"https://api.github.com/users/ideamean/followers","following_url":"https://api.github.com/users/ideamean/following{/other_user}","gists_url":"https://api.github.com/users/ideamean/gists{/gist_id}","starred_url":"https://api.github.com/users/ideamean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ideamean/subscriptions","organizations_url":"https://api.github.com/users/ideamean/orgs","repos_url":"https://api.github.com/users/ideamean/repos","events_url":"https://api.github.com/users/ideamean/events{/privacy}","received_events_url":"https://api.github.com/users/ideamean/received_events","type":"User","site_admin":false},"labels":[{"id":19592025,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Need%20information","name":"Need information","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-20T07:40:09Z","updated_at":"2018-03-28T21:41:21Z","closed_at":"2018-03-28T21:41:21Z","author_association":"NONE","body":"php version:\r\n=======================================================\r\nPHP 7.2.3 (cli) (built: Mar 19 2018 16:13:47) ( NTS )\r\nCopyright (c) 1997-2018 The PHP Group\r\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\r\n    with Zend OPcache v7.2.3, Copyright (c) 1999-2018, by Zend Technologies\r\n\r\nbin/php --ri phalcon\r\n============================\r\nphalcon\r\nWeb framework delivered as a C-extension for PHP\r\nphalcon => enabled\r\nAuthor => Phalcon Team and contributors\r\nVersion => 3.2.4\r\nBuild Date => Mar 20 2018 15:13:44\r\nPowered by Zephir => Version 0.10.4-11e39849b0\r\n\r\nDirective => Local Value => Master Value\r\nphalcon.db.escape_identifiers => On => On\r\nphalcon.db.force_casting => Off => Off\r\nphalcon.orm.events => On => On\r\nphalcon.orm.virtual_foreign_keys => On => On\r\nphalcon.orm.column_renaming => On => On\r\nphalcon.orm.not_null_validations => On => On\r\nphalcon.orm.exception_on_failed_save => Off => Off\r\nphalcon.orm.enable_literals => On => On\r\nphalcon.orm.late_state_binding => Off => Off\r\nphalcon.orm.enable_implicit_joins => On => On\r\nphalcon.orm.cast_on_hydrate => Off => Off\r\nphalcon.orm.ignore_unknown_columns => Off => Off\r\nphalcon.orm.update_snapshot_on_save => On => On\r\nphalcon.orm.disable_assign_setters => Off => Off\r\n\r\n**when start php-fpm there is error:**\r\n================================\r\nservice php-fpm start\r\nStarting php-fpm /etc/init.d/php-fpm: line 53:  8211 Segmentation fault      $php_fpm_BIN --daemonize $php_opts\r\n failed\r\n\r\ngdb php-fpm\r\n==================================\r\n\r\n[Thread debugging using libthread_db enabled]\r\nDetaching after fork from child process 7210.\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\nzend_hash_destroy (ht=0x1777c30) at /root/soft/php-7.2.3/Zend/zend_hash.c:1247\r\n1247\t\t\t\t\t\t\tzend_string_release(p->key);\r\nMissing separate debuginfos, use: debuginfo-install GeoIP-1.6.5-1.el6.x86_64 boost-system-1.41.0-28.el6.x86_64 bzip2-libs-1.0.5-7.el6_0.x86_64 cyrus-sasl-gssapi-2.1.23-15.el6_6.2.x86_64 cyrus-sasl-lib-2.1.23-15.el6_6.2.x86_64 cyrus-sasl-plain-2.1.23-15.el6_6.2.x86_64 db4-4.7.25-22.el6.x86_64 freetype-2.3.11-17.el6.x86_64 glibc-2.12-1.209.el6_9.2.x86_64 gmp-4.3.1-12.el6.x86_64 keyutils-libs-1.4-5.el6.x86_64 krb5-libs-1.10.3-65.el6.x86_64 libcom_err-1.41.12-23.el6.x86_64 libcurl-7.19.7-53.el6_9.x86_64 libgcc-4.4.7-18.el6.x86_64 libgcrypt-1.4.5-12.el6_8.x86_64 libgearman-1.1.8-2.el6.x86_64 libgpg-error-1.7-4.el6.x86_64 libidn-1.18-2.el6.x86_64 libjpeg-turbo-1.2.1-3.el6_5.x86_64 libpng-1.2.49-2.el6_7.x86_64 libselinux-2.0.94-7.el6.x86_64 libssh2-1.4.2-2.el6_7.1.x86_64 libstdc++-4.4.7-18.el6.x86_64 libuuid-2.17.2-12.28.el6_9.2.x86_64 libxml2-2.7.6-21.el6_8.1.x86_64 libxslt-1.1.26-2.el6_3.1.x86_64 ncurses-libs-5.7-4.20090207.el6.x86_64 net-snmp-libs-5.5-60.el6.x86_64 nspr-4.13.1-1.el6.x86_64 nss-3.28.4-3.el6_9.x86_64 nss-softokn-freebl-3.14.3-23.3.el6_8.x86_64 nss-util-3.28.4-1.el6_9.x86_64 openldap-2.4.40-16.el6.x86_64 openssl-1.0.1e-57.el6.x86_64 readline-6.0-4.el6.x86_64 zlib-1.2.3-29.el6.x86_64","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13326","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13326/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13326/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13326/events","html_url":"https://github.com/phalcon/cphalcon/issues/13326","id":306160646,"number":13326,"title":"Proposal: ability to add Route object directly into Router","user":{"login":"webmasterlv","id":2886170,"avatar_url":"https://avatars1.githubusercontent.com/u/2886170?v=4","gravatar_id":"","url":"https://api.github.com/users/webmasterlv","html_url":"https://github.com/webmasterlv","followers_url":"https://api.github.com/users/webmasterlv/followers","following_url":"https://api.github.com/users/webmasterlv/following{/other_user}","gists_url":"https://api.github.com/users/webmasterlv/gists{/gist_id}","starred_url":"https://api.github.com/users/webmasterlv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/webmasterlv/subscriptions","organizations_url":"https://api.github.com/users/webmasterlv/orgs","repos_url":"https://api.github.com/users/webmasterlv/repos","events_url":"https://api.github.com/users/webmasterlv/events{/privacy}","received_events_url":"https://api.github.com/users/webmasterlv/received_events","type":"User","site_admin":false},"labels":[{"id":13573146,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/New%20Feature%20Request","name":"New Feature Request","color":"0052cc","default":false}],"state":"closed","locked":false,"assignee":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"assignees":[{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/phalcon/cphalcon/milestones/31","html_url":"https://github.com/phalcon/cphalcon/milestone/31","labels_url":"https://api.github.com/repos/phalcon/cphalcon/milestones/31/labels","id":3214274,"number":31,"title":"3.4.x","description":"","creator":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"open_issues":24,"closed_issues":6,"state":"open","created_at":"2018-03-24T15:58:59Z","updated_at":"2018-03-28T22:04:58Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2018-03-17T14:27:54Z","updated_at":"2018-03-24T17:58:13Z","closed_at":"2018-03-24T17:58:13Z","author_association":"NONE","body":"First of all, thank you for work you've done, this is outstanding framework.\r\nWhile developing my application routing structure, one particular feature would be useful - if i could pass Route object directly into Router instance. This way by extending Route object it is would be possible to attach some additional data to object and use it somewhere else in application.\r\nAs i understand, this shouldn't break BC, because internally Router stores them as Route objects already.\r\nThis could be like:\r\n\r\n```\r\nclass CustomRoute extends Phalcon\\Mvc\\Router\\Route {\r\n\r\n}\r\n\r\n$route = new CustomRoute();\r\n\r\n$router = new Phalcon\\Mvc\\Router();\r\n$router -> add($route);\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13319","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13319/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13319/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13319/events","html_url":"https://github.com/phalcon/cphalcon/issues/13319","id":304203562,"number":13319,"title":"Query Builder - MySQL Group Concat with order by fails","user":{"login":"HACKHERS","id":2204282,"avatar_url":"https://avatars1.githubusercontent.com/u/2204282?v=4","gravatar_id":"","url":"https://api.github.com/users/HACKHERS","html_url":"https://github.com/HACKHERS","followers_url":"https://api.github.com/users/HACKHERS/followers","following_url":"https://api.github.com/users/HACKHERS/following{/other_user}","gists_url":"https://api.github.com/users/HACKHERS/gists{/gist_id}","starred_url":"https://api.github.com/users/HACKHERS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HACKHERS/subscriptions","organizations_url":"https://api.github.com/users/HACKHERS/orgs","repos_url":"https://api.github.com/users/HACKHERS/repos","events_url":"https://api.github.com/users/HACKHERS/events{/privacy}","received_events_url":"https://api.github.com/users/HACKHERS/received_events","type":"User","site_admin":false},"labels":[{"id":356243820,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Duplicate","name":"Duplicate","color":"d4c5f9","default":false},{"id":27846498,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Not%20a%20bug","name":"Not a bug","color":"02e10c","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-11T23:05:45Z","updated_at":"2018-03-28T21:57:58Z","closed_at":"2018-03-28T21:57:45Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\nWhen trying to use query builder with `group_concat(field order by asc)` it fails because of order token.\r\n\r\n```\r\nSyntax error, unexpected token ORDER, near to \r\n' BY PriceHistory.date ASC) AS [histo] FROM [Aylog\\Models\\Coins] AS [Coins] LEFT JOIN \r\n[Aylog\\Models\\PriceHistory] AS [PriceHistory] ON Coins.id = PriceHistory.coin_id GROUP BY\r\nCoins.id ORDER BY Coins.market_cap DESC LIMIT :APL0: OFFSET :APL1:', when parsing:\r\nSELECT GROUP_CONCAT(PriceHistory.price ORDER BY PriceHistory.date ASC) AS [histo]\r\nFROM [Aylog\\Models\\Coins] AS [Coins] LEFT JOIN [Aylog\\Models\\PriceHistory] AS\r\n[PriceHistory] ON Coins.id = PriceHistory.coin_id GROUP BY Coins.id ORDER BY\r\nCoins.market_cap DESC LIMIT :APL0: OFFSET :APL1: (285)\r\n```\r\n\r\n```php\r\n$coins = $this->modelsManager->createBuilder()\r\n    ->columns([\r\n        \"histo\" => \"GROUP_CONCAT(PriceHistory.price ORDER BY PriceHistory.date ASC)\"\r\n    ])\r\n    ->from([\r\n        \"Coins\" => \"Aylog\\Models\\Coins\"\r\n    ])\r\n    ->leftJoin(\"Aylog\\Models\\PriceHistory\", 'Coins.id = PriceHistory.coin_id', 'PriceHistory')\r\n    ->groupBy(\"Coins.id\")\r\n    ->orderBy(\"Coins.market_cap DESC\")\r\n    ->limit(50, 0)\r\n    ->getQuery()\r\n    ->execute();\r\n```\r\n\r\nYou can use any type of `group_concat(field order by asc)` to reprocedure the issue.\r\n\r\n### Details\r\n\r\n* Phalcon version:  3.3.2\r\n* PHP Version: 7.2.2\r\n* Operating System: Windows 10\r\n* Installation type: DLL\r\n* Zephir version (if any): 0.10.7-2917ebe8ae\r\n* Server: Apache\r\n* Other related info (Database, table schema):  MySQL\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13318","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13318/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13318/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13318/events","html_url":"https://github.com/phalcon/cphalcon/issues/13318","id":303949576,"number":13318,"title":"no dll in release archive  phalcon_x64_vc15_php7.2.0_.zip","user":{"login":"alexandrufulop","id":589095,"avatar_url":"https://avatars0.githubusercontent.com/u/589095?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandrufulop","html_url":"https://github.com/alexandrufulop","followers_url":"https://api.github.com/users/alexandrufulop/followers","following_url":"https://api.github.com/users/alexandrufulop/following{/other_user}","gists_url":"https://api.github.com/users/alexandrufulop/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandrufulop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandrufulop/subscriptions","organizations_url":"https://api.github.com/users/alexandrufulop/orgs","repos_url":"https://api.github.com/users/alexandrufulop/repos","events_url":"https://api.github.com/users/alexandrufulop/events{/privacy}","received_events_url":"https://api.github.com/users/alexandrufulop/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-09T19:13:53Z","updated_at":"2018-03-11T11:57:23Z","closed_at":"2018-03-10T21:40:15Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\n\r\n> Expecting to find the php_phalcon.dll file in the phalcon_x64_vc15_php7.2.0_.zip archive.\r\n\r\n> There is no other file besides the README in the phalcon_x64_vc15_php7.2.0_.zip archive.\r\n\r\n[https://github.com/phalcon/cphalcon/releases/tag/v3.3.2](https://github.com/phalcon/cphalcon/releases/tag/v3.3.2)\r\n\r\n\r\n### Details\r\n\r\nI could not find any dll extensions in https://github.com/phalcon/cphalcon/releases/download/v3.3.2/phalcon_x64_vc15_php7.2.0_.zip\r\n\r\nThank you!\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13317","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13317/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13317/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13317/events","html_url":"https://github.com/phalcon/cphalcon/issues/13317","id":303496272,"number":13317,"title":"Cannot compile phalcon-2.0.0 on Centos 6.9","user":{"login":"sirber","id":3911428,"avatar_url":"https://avatars0.githubusercontent.com/u/3911428?v=4","gravatar_id":"","url":"https://api.github.com/users/sirber","html_url":"https://github.com/sirber","followers_url":"https://api.github.com/users/sirber/followers","following_url":"https://api.github.com/users/sirber/following{/other_user}","gists_url":"https://api.github.com/users/sirber/gists{/gist_id}","starred_url":"https://api.github.com/users/sirber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirber/subscriptions","organizations_url":"https://api.github.com/users/sirber/orgs","repos_url":"https://api.github.com/users/sirber/repos","events_url":"https://api.github.com/users/sirber/events{/privacy}","received_events_url":"https://api.github.com/users/sirber/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-08T14:22:15Z","updated_at":"2018-03-08T14:25:56Z","closed_at":"2018-03-08T14:25:55Z","author_association":"NONE","body":"I'm trying to replicate an old dev server into a new vagrant machine. It's using php 5.3.3 and phalcon-2.0.0.\r\nInstalled packages: httpd php php-mysql php-devel git gcc make re2c libtool pcre-devel unzip\r\n\r\n[vagrant@localhost build]$ ./install\r\nfind . -name \\*.gcno -o -name \\*.gcda | xargs rm -f\r\nfind . -name \\*.lo -o -name \\*.o | xargs rm -f\r\nfind . -name \\*.la -o -name \\*.a | xargs rm -f\r\nfind . -name \\*.so | xargs rm -f\r\nfind . -name .libs -a -type d|xargs rm -rf\r\nrm -f libphp.la   modules/* libs/*\r\nCleaning..\r\nConfiguring for:\r\nPHP Api Version:         20090626\r\nZend Module Api No:      20090626\r\nZend Extension Api No:   220090626\r\nchecking for grep that handles long lines and -e... /bin/grep\r\nchecking for egrep... /bin/grep -E\r\nchecking for a sed that does not truncate output... /bin/sed\r\nchecking for C compiler default output file name... a.out\r\nchecking whether the C compiler works... yes\r\nchecking whether we are cross compiling... no\r\nchecking for suffix of executables...\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether gcc accepts -g... yes\r\nchecking for gcc option to accept ISO C89... none needed\r\nchecking how to run the C preprocessor... gcc -E\r\nchecking for icc... no\r\nchecking for suncc... no\r\nchecking whether gcc and cc understand -c and -o together... yes\r\nchecking for system library directory... lib\r\nchecking if compiler supports -R... no\r\nchecking if compiler supports -Wl,-rpath,... yes\r\nchecking build system type... x86_64-unknown-linux-gnu\r\nchecking host system type... x86_64-unknown-linux-gnu\r\nchecking target system type... x86_64-unknown-linux-gnu\r\nchecking for PHP prefix... /usr\r\nchecking for PHP includes... -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib\r\nchecking for PHP extension directory... /usr/lib64/php/modules\r\nchecking for PHP installed headers prefix... /usr/include/php\r\nchecking if debug is enabled... no\r\nchecking if zts is enabled... no\r\nchecking for re2c... re2c\r\nchecking for re2c version... 0.13.5 (ok)\r\nchecking for gawk... gawk\r\nchecking whether to enable phalcon... yes, shared\r\nchecking whether HAVE_BUNDLED_PCRE is declared... no\r\nchecking whether HAVE_JSON is declared... yes\r\nchecking for ext/json/php_json.h... yes\r\nchecking for a sed that does not truncate output... (cached) /bin/sed\r\nchecking for fgrep... /bin/grep -F\r\nchecking for ld used by gcc... /usr/bin/ld\r\nchecking if the linker (/usr/bin/ld) is GNU ld... yes\r\nchecking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B\r\nchecking the name lister (/usr/bin/nm -B) interface... BSD nm\r\nchecking whether ln -s works... yes\r\nchecking the maximum length of command line arguments... 1966080\r\nchecking whether the shell understands some XSI constructs... yes\r\nchecking whether the shell understands \"+=\"... yes\r\nchecking for /usr/bin/ld option to reload object files... -r\r\nchecking for objdump... objdump\r\nchecking how to recognize dependent libraries... pass_all\r\nchecking for ar... ar\r\nchecking for strip... strip\r\nchecking for ranlib... ranlib\r\nchecking command to parse /usr/bin/nm -B output from gcc object... ok\r\nchecking for ANSI C header files... yes\r\nchecking for sys/types.h... yes\r\nchecking for sys/stat.h... yes\r\nchecking for stdlib.h... yes\r\nchecking for string.h... yes\r\nchecking for memory.h... yes\r\nchecking for strings.h... yes\r\nchecking for inttypes.h... yes\r\nchecking for stdint.h... yes\r\nchecking for unistd.h... yes\r\nchecking for dlfcn.h... yes\r\nchecking for objdir... .libs\r\nchecking if gcc supports -fno-rtti -fno-exceptions... no\r\nchecking for gcc option to produce PIC... -fPIC -DPIC\r\nchecking if gcc PIC flag -fPIC -DPIC works... yes\r\nchecking if gcc static flag -static works... no\r\nchecking if gcc supports -c -o file.o... yes\r\nchecking if gcc supports -c -o file.o... (cached) yes\r\nchecking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes\r\nchecking whether -lc should be explicitly linked in... no\r\nchecking dynamic linker characteristics... GNU/Linux ld.so\r\nchecking how to hardcode library paths into programs... immediate\r\nchecking whether stripping libraries is possible... yes\r\nchecking if libtool supports shared libraries... yes\r\nchecking whether to build shared libraries... yes\r\nchecking whether to build static libraries... no\r\nconfigure: creating ./config.status\r\nconfig.status: creating config.h\r\nconfig.status: executing libtool commands\r\n/bin/sh /home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/libtool --mode=compile gcc  -I. -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits -DPHP_ATOM_INC -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/include -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/main -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib  -DPHALCON_RELEASE -DHAVE_CONFIG_H  -march=native -mtune=native -O2 -finline-functions -fomit-frame-pointer -fvisibility=hidden   -c /home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c -o phalcon.lo\r\nlibtool: compile:  gcc -I. -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits -DPHP_ATOM_INC -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/include -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/main -I/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib -DPHALCON_RELEASE -DHAVE_CONFIG_H -march=native -mtune=native -O2 -finline-functions -fomit-frame-pointer -fvisibility=hidden -c /home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c  -fPIC -DPIC -o .libs/phalcon.o\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c: In function ‘zephir_fetch_static_property_ce’:\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c:6559: warning: passing argument 2 of ‘zend_read_static_property’ discards qualifiers from pointer target type\r\n/usr/include/php/Zend/zend_API.h:321: note: expected ‘char *’ but argument is of type ‘const char *’\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c: In function ‘zephir_update_static_property_ex’:\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c:6669: warning: passing argument 2 of ‘zend_std_get_static_property’ discards qualifiers from pointer target type\r\n/usr/include/php/Zend/zend_object_handlers.h:147: note: expected ‘char *’ but argument is of type ‘const char *’\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c: At top level:\r\n/home/vagrant/cphalcon-phalcon-v2.0.0/build/64bits/phalcon.zep.c:126687: error: ‘ZEND_FE_END’ undeclared here (not in a function)\r\nmake: *** [phalcon.lo] Error 1\r\n\r\nI also had no luck with 2.0.12 and 2.0.13.","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13315","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13315/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13315/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13315/events","html_url":"https://github.com/phalcon/cphalcon/issues/13315","id":303313019,"number":13315,"title":"The detailed mode for Phalcon/Debug is not work","user":{"login":"limingxinleo","id":16648551,"avatar_url":"https://avatars2.githubusercontent.com/u/16648551?v=4","gravatar_id":"","url":"https://api.github.com/users/limingxinleo","html_url":"https://github.com/limingxinleo","followers_url":"https://api.github.com/users/limingxinleo/followers","following_url":"https://api.github.com/users/limingxinleo/following{/other_user}","gists_url":"https://api.github.com/users/limingxinleo/gists{/gist_id}","starred_url":"https://api.github.com/users/limingxinleo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/limingxinleo/subscriptions","organizations_url":"https://api.github.com/users/limingxinleo/orgs","repos_url":"https://api.github.com/users/limingxinleo/repos","events_url":"https://api.github.com/users/limingxinleo/events{/privacy}","received_events_url":"https://api.github
8000
.com/users/limingxinleo/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"assignees":[{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/phalcon/cphalcon/milestones/31","html_url":"https://github.com/phalcon/cphalcon/milestone/31","labels_url":"https://api.github.com/repos/phalcon/cphalcon/milestones/31/labels","id":3214274,"number":31,"title":"3.4.x","description":"","creator":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"open_issues":24,"closed_issues":6,"state":"open","created_at":"2018-03-24T15:58:59Z","updated_at":"2018-03-28T22:04:58Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2018-03-08T00:37:45Z","updated_at":"2018-03-26T19:38:19Z","closed_at":"2018-03-26T19:38:19Z","author_association":"CONTRIBUTOR","body":"> **When I use Phalcon/Debug detailed mode,The result is not expected.**\r\n\r\n```php\r\n<?php\r\n        $obj = new \\stdClass();\r\n        $obj->aaa = 111;\r\n\r\n        array_map(function ($x) {\r\n            $string = (new \\Phalcon\\Debug\\Dump(null, true))->variable($x);\r\n\r\n            echo(PHP_SAPI == 'cli' ? strip_tags($string) . PHP_EOL : $string);\r\n\r\n        }, [$obj]);\r\n```\r\n> The Result\r\n\r\n```\r\nThe argument is not initialized or iterable() code:0 in phalcon/debug/dump.zep line 215\r\n#0 [internal function]: Phalcon\\Debug\\Dump->output(Object(stdClass), '')\r\n#1 /Users/limx/Applications/limingxinleo/basic-phalcon/app/Tasks/TestTask.php(16): Phalcon\\Debug\\Dump->variable(Object(stdClass))\r\n#2 [internal function]: App\\Tasks\\TestTask->App\\Tasks\\{closure}(Object(stdClass))\r\n#3 /Users/limx/Applications/limingxinleo/basic-phalcon/app/Tasks/TestTask.php(20): array_map(Object(Closure), Array)\r\n#4 [internal function]: App\\Tasks\\TestTask->mainAction(Array, Array)\r\n#5 [internal function]: Phalcon\\Cli\\Dispatcher->callActionMethod(Object(App\\Tasks\\TestTask), 'mainAction', Array)\r\n#6 [internal function]: Phalcon\\Dispatcher->dispatch()\r\n#7 /Users/limx/Applications/limingxinleo/basic-phalcon/vendor/limingxinleo/x-phalcon-console/src/Cli/XConsole.php(36): Phalcon\\Cli\\Console->handle(Array)\r\n#8 /Users/limx/Applications/limingxinleo/basic-phalcon/run(47): Xin\\Phalcon\\Cli\\XConsole->handle(Array)\r\n#9 {main}%\r\n```\r\n\r\nI find the source code for Phalcon/Debug/Dump, using `for` instead of `each`, `for` is not support object, so it throw a exception, but `each` is deprecated for php7.2.\r\n\r\n### Details\r\n\r\n* Phalcon version: (`3.3.2`)\r\n* PHP Version: (`7.1.14`)\r\n* Operating System: MAC\r\n* Installation type: Compiling from source || installing via package manager\r\n* Zephir version (if any):\r\n* Server: Nginx | Apache | Other\r\n* Other related info (Database, table schema): \r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13309","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13309/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13309/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13309/events","html_url":"https://github.com/phalcon/cphalcon/issues/13309","id":300728442,"number":13309,"title":"Request filter not filtering (int) properly","user":{"login":"quasipickle","id":1377105,"avatar_url":"https://avatars0.githubusercontent.com/u/1377105?v=4","gravatar_id":"","url":"https://api.github.com/users/quasipickle","html_url":"https://github.com/quasipickle","followers_url":"https://api.github.com/users/quasipickle/followers","following_url":"https://api.github.com/users/quasipickle/following{/other_user}","gists_url":"https://api.github.com/users/quasipickle/gists{/gist_id}","starred_url":"https://api.github.com/users/quasipickle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quasipickle/subscriptions","organizations_url":"https://api.github.com/users/quasipickle/orgs","repos_url":"https://api.github.com/users/quasipickle/repos","events_url":"https://api.github.com/users/quasipickle/events{/privacy}","received_events_url":"https://api.github.com/users/quasipickle/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-02-27T17:43:55Z","updated_at":"2018-03-27T08:53:07Z","closed_at":"2018-03-27T08:53:07Z","author_association":"CONTRIBUTOR","body":"This isn't a bug, but an issue with the documented and actual behaviour.\r\n\r\nWhen filtering a request variable:\r\n\r\n```php\r\n$this->request->getPost('barcode','int');\r\n```\r\none would expect the result of that to be an integer, or at least an integer-like string.  Casting to (int) would do the trick, but the filter just strips out non-integer characters.\r\n\r\nSo a POSTed variable of `-------234---34-888833--------------` would pass through.  That is clearly not an integer.\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13306","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13306/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13306/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13306/events","html_url":"https://github.com/phalcon/cphalcon/issues/13306","id":299908520,"number":13306,"title":"When I use SoftDelete and columnMap and useDynamicUpdate, The result is not expected!","user":{"login":"limingxinleo","id":16648551,"avatar_url":"https://avatars2.githubusercontent.com/u/16648551?v=4","gravatar_id":"","url":"https://api.github.com/users/limingxinleo","html_url":"https://github.com/limingxinleo","followers_url":"https://api.github.com/users/limingxinleo/followers","following_url":"https://api.github.com/users/limingxinleo/following{/other_user}","gists_url":"https://api.github.com/users/limingxinleo/gists{/gist_id}","starred_url":"https://api.github.com/users/limingxinleo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/limingxinleo/subscriptions","organizations_url":"https://api.github.com/users/limingxinleo/orgs","repos_url":"https://api.github.com/users/limingxinleo/repos","events_url":"https://api.github.com/users/limingxinleo/events{/privacy}","received_events_url":"https://api.github.com/users/limingxinleo/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-24T03:48:47Z","updated_at":"2018-03-10T21:32:52Z","closed_at":"2018-03-10T21:32:52Z","author_association":"CONTRIBUTOR","body":"## When I use SoftDelete and columnMap and useDynamicUpdate, The result is not expected!\r\n\r\n### The Code\r\n```php\r\n<?php\r\nuse Phalcon\\Di\\FactoryDefault;\r\nuse Phalcon\\Mvc\\Model;\r\n\r\n$di = new FactoryDefault();\r\n\r\n$di->setShared('db', function () {\r\n    $db = new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(\r\n        [\r\n            'host' => '127.0.0.1',\r\n            'username' => 'root',\r\n            'dbname' => 'dtm',\r\n            'charset' => 'utf8',\r\n            'options' => [\r\n                PDO::ATTR_CASE => PDO::CASE_NATURAL,\r\n                PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\r\n                PDO::ATTR_ORACLE_NULLS => PDO::NULL_NATURAL,\r\n                PDO::ATTR_STRINGIFY_FETCHES => false,\r\n                PDO::ATTR_EMULATE_PREPARES => false,\r\n            ],\r\n        ]\r\n    );\r\n    return $db;\r\n});\r\n\r\n$di->setShared('modelsMetadata', function () {\r\n\r\n    $modelsMetadata = new Phalcon\\Mvc\\Model\\Metadata\\Files(\r\n        [\r\n            'metaDataDir' => './runtime/',\r\n        ]\r\n    );\r\n\r\n    return $modelsMetadata;\r\n});\r\n\r\nclass Group extends Model\r\n{\r\n\r\n    /**\r\n     *\r\n     * @var integer\r\n     * @Primary\r\n     * @Identity\r\n     * @Column(column=\"id\", type=\"integer\", length=20, nullable=false)\r\n     */\r\n    public $id;\r\n\r\n    /**\r\n     *\r\n     * @var integer\r\n     * @Column(column=\"user_id\", type=\"integer\", length=20, nullable=false)\r\n     */\r\n    public $userId;\r\n\r\n    /**\r\n     *\r\n     * @var string\r\n     * @Column(column=\"name\", type=\"string\", length=32, nullable=false)\r\n     */\r\n    public $name;\r\n\r\n    /**\r\n     *\r\n     * @var integer\r\n     * @Column(column=\"is_deleted\", type=\"integer\", length=3, nullable=false)\r\n     */\r\n    public $isDeleted;\r\n\r\n    /**\r\n     *\r\n     * @var string\r\n     * @Column(column=\"created_at\", type=\"string\", nullable=true)\r\n     */\r\n    public $createdAt;\r\n\r\n    /**\r\n     *\r\n     * @var string\r\n     * @Column(column=\"updated_at\", type=\"string\", nullable=true)\r\n     */\r\n    public $updatedAt;\r\n\r\n    /**\r\n     * Initialize method for model.\r\n     */\r\n    public function initialize()\r\n    {\r\n        $this->setSchema(\"dtm\");\r\n        $this->setSource(\"group\");\r\n        $this->addBehavior(\r\n            new Model\\Behavior\\SoftDelete(\r\n                [\r\n                    'field' => 'isDeleted',\r\n                    'value' => 1,\r\n                ]\r\n            )\r\n        );\r\n\r\n        $this->useDynamicUpdate(true);\r\n    }\r\n\r\n    /**\r\n     * Allows to query a set of records that match the specified conditions\r\n     *\r\n     * @param mixed $parameters\r\n     * @return Group[]|Group|\\Phalcon\\Mvc\\Model\\ResultSetInterface\r\n     */\r\n    public static function find($parameters = null)\r\n    {\r\n        return parent::find($parameters);\r\n    }\r\n\r\n    /**\r\n     * Allows to query the first record that match the specified conditions\r\n     *\r\n     * @param mixed $parameters\r\n     * @return Group|\\Phalcon\\Mvc\\Model\\ResultInterface\r\n     */\r\n    public static function findFirst($parameters = null)\r\n    {\r\n        return parent::findFirst($parameters);\r\n    }\r\n\r\n    /**\r\n     * Returns table name mapped in the model.\r\n     *\r\n     * @return string\r\n     */\r\n    public function getSource()\r\n    {\r\n        return 'group';\r\n    }\r\n\r\n    /**\r\n     * Independent Column Mapping.\r\n     * Keys are the real names in the table and the values their names in the application\r\n     *\r\n     * @return array\r\n     */\r\n    public function columnMap()\r\n    {\r\n        return [\r\n            'id' => 'id',\r\n            'user_id' => 'userId',\r\n            'name' => 'name',\r\n            'is_deleted' => 'isDeleted',\r\n            'created_at' => 'createdAt',\r\n            'updated_at' => 'updatedAt'\r\n        ];\r\n    }\r\n}\r\n\r\n$group = new Group();\r\n$group->userId = 1;\r\n$group->name = 'xxx';\r\n$group->save();\r\n\r\ntry {\r\n    $group->delete();\r\n} catch (Exception $ex) {\r\n    $msg = $ex->getMessage() . ' code:' . $ex->getCode() . ' in ' . $ex->getFile() . ' line ' . $ex->getLine() . PHP_EOL . $ex->getTraceAsString();\r\n    echo $msg;\r\n}\r\n\r\n```\r\n### Schema\r\n```\r\nCREATE TABLE `group` (\r\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\r\n  `user_id` bigint(20) unsigned NOT NULL COMMENT '用户ID',\r\n  `name` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '组名',\r\n  `is_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0',\r\n  `created_at` datetime DEFAULT NULL,\r\n  `updated_at` datetime DEFAULT NULL,\r\n  PRIMARY KEY (`id`),\r\n  KEY `INDEX_USER_ID` (`user_id`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='任务组';\r\n```\r\n### Details\r\n```\r\nColumn 'userId' doesn't make part of the column map code:0 in /Users/limx/Applications/limingxinleo/bugs/softDeleteWhenColumnMap.php line 166\r\n#0 [internal function]: Phalcon\\Mvc\\Model->setSnapshotData(Array, Array)\r\n#1 [internal function]: Phalcon\\Mvc\\Model\\Behavior\\SoftDelete->notify('beforeDelete', Object(Group))\r\n#2 [internal function]: Phalcon\\Mvc\\Model\\Manager->notifyEvent('beforeDelete', Object(Group))\r\n#3 [internal function]: Phalcon\\Mvc\\Model->fireEventCancel('beforeDelete')\r\n#4 /Users/limx/Applications/limingxinleo/bugs/softDeleteWhenColumnMap.php(166): Phalcon\\Mvc\\Model->delete()\r\n#5 {main}\r\n```\r\n\r\n* Phalcon version: (`3.3.0`)\r\n* PHP Version: (`7.1.14`)\r\n* Operating System:\r\n* Installation type: Compiling from source || installing via package manager\r\n* Zephir version (if any):\r\n* Server: Nginx\r\n* Other related info (Database, table schema): msyql\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13302","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13302/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13302/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13302/events","html_url":"https://github.com/phalcon/cphalcon/issues/13302","id":298365007,"number":13302,"title":"Delete Model with SoftDelete Behavior Breaks with Mapped Properties and Snapshots","user":{"login":"virgofx","id":739719,"avatar_url":"https://avatars2.githubusercontent.com/u/739719?v=4","gravatar_id":"","url":"https://api.github.com/users/virgofx","html_url":"https://github.com/virgofx","followers_url":"https://api.github.com/users/virgofx/followers","following_url":"https://api.github.com/users/virgofx/following{/other_user}","gists_url":"https://api.github.com/users/virgofx/gists{/gist_id}","starred_url":"https://api.github.com/users/virgofx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/virgofx/subscriptions","organizations_url":"https://api.github.com/users/virgofx/orgs","repos_url":"https://api.github.com/users/virgofx/repos","events_url":"https://api.github.com/users/virgofx/events{/privacy}","received_events_url":"https://api.github.com/users/virgofx/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-19T18:18:38Z","updated_at":"2018-03-10T21:32:16Z","closed_at":"2018-03-10T21:32:16Z","author_association":"MEMBER","body":"Deleting a model that is using the SoftDelete trait with snapshots results in an error:\r\n\r\n`Column 'firstCamelCasedColumn' doesn't make part of the column map`\r\n\r\nThe problem is with the `columnMap` parameters passed into the setSnapshotData() and setOldSnapshotData().\r\n\r\nhttps://github.com/phalcon/cphalcon/blob/master/phalcon/mvc/model/behavior/softdelete.zep#L102-L103\r\n```\r\nmodel->setSnapshotData(updateModel->getSnapshotData(), columnMap);\r\nmodel->setOldSnapshotData(updateModel->getOldSnapshotData(), columnMap);\r\n```\r\n\r\nRemoving the columnMap from the second parameter fixes the issue. That would be the expected behavior as there is no need to re-translate keys after getting old data and then resetting. Otherwise, there is an issue somewhere in the setting of snapshots with column maps.\r\n\r\n/cc @Jurigag \r\n\r\n### Details\r\n\r\n* Phalcon version: 3.3.1\r\n* PHP Version: PHP 7.1.14\r\n* Operating System: Ubuntu 16.04\r\n* Installation type: Package Manager\r\n* Server: Nginx\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13301","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13301/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13301/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13301/events","html_url":"https://github.com/phalcon/cphalcon/issues/13301","id":298210993,"number":13301,"title":"[NFR] Websockets","user":{"login":"oscarmolinadev","id":6513086,"avatar_url":"https://avatars1.githubusercontent.com/u/6513086?v=4","gravatar_id":"","url":"https://api.github.com/users/oscarmolinadev","html_url":"https://github.com/oscarmolinadev","followers_url":"https://api.github.com/users/oscarmolinadev/followers","following_url":"https://api.github.com/users/oscarmolinadev/following{/other_user}","gists_url":"https://api.github.com/users/oscarmolinadev/gists{/gist_id}","starred_url":"https://api.github.com/users/oscarmolinadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oscarmolinadev/subscriptions","organizations_url":"https://api.github.com/users/oscarmolinadev/orgs","repos_url":"https://api.github.com/users/oscarmolinadev/repos","events_url":"https://api.github.com/users/oscarmolinadev/events{/privacy}","received_events_url":"https://api.github.com/users/oscarmolinadev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-19T09:38:23Z","updated_at":"2018-03-11T21:07:43Z","closed_at":"2018-03-11T21:07:43Z","author_association":"NONE","body":"Add support for create websocket server/client. I don't know if it is better create a wrapper for ReactPHP (temporary) like Beanstalkd or create from scratch without dependencies and take advandtage of performance of c-exstension.","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13296","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13296/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13296/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13296/events","html_url":"https://github.com/phalcon/cphalcon/issues/13296","id":295069387,"number":13296,"title":"redirect to another url after delete a record from db, it thrown 502","user":{"login":"hisune","id":7941669,"avatar_url":"https://avatars2.githubusercontent.com/u/7941669?v=4","gravatar_id":"","url":"https://api.github.com/users/hisune","html_url":"https://github.com/hisune","followers_url":"https://api.github.com/users/hisune/followers","following_url":"https://api.github.com/users/hisune/following{/other_user}","gists_url":"https://api.github.com/users/hisune/gists{/gist_id}","starred_url":"https://api.github.com/users/hisune/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hisune/subscriptions","organizations_url":"https://api.github.com/users/hisune/orgs","repos_url":"https://api.github.com/users/hisune/repos","events_url":"https://api.github.com/users/hisune/events{/privacy}","received_events_url":"https://api.github.com/users/hisune/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-07T09:46:36Z","updated_at":"2018-02-07T10:13:47Z","closed_at":"2018-02-07T10:13:46Z","author_association":"NONE","body":"```php\r\npublic function deleteAction($id)\r\n    {\r\n        $sys = Sys::findFirstByid($id);\r\n        if (!$sys) {\r\n            $this->flashSession->error(\"sys was not found\");\r\n            return $this->response->back();\r\n        }\r\n        $sys->delete();\r\n\r\n        $this->response->redirect('/sys/search');\r\n    }\r\n```\r\n\r\nthe record is deleted successfully, but after redirect, it thrown 502\r\n\r\nwhen i deleted `$sys->delete()` this line, it redirect normal.\r\n\r\n### my nginx error log\r\n```\r\n2018/02/07 17:52:14 [error] 45732#0: *2379 kevent() reported about an closed connection (54: Connection reset by peer) while reading response header from upstream, client: 127.0.0.1, server: bm.com, request: \"GET /sys/delete/16 HTTP/1.1\", upstream: \"fastcgi://127.0.0.1:9000\", host: \"localhost\", referrer: \"http://bm.com/sys/search\"\r\n```\r\n\r\n### Details\r\n\r\n* Phalcon version: 3.3.0 , 3.3.1 has the same problem\r\n* PHP Version: 7.1.13\r\n* Operating System: macos , centos has the same problem\r\n* Installation type: Compiling from source\r\n* Zephir version (if any):\r\n* Server: Nginx\r\n* Other related info (Database, table schema):  mysql 5.7\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13294","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13294/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13294/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13294/events","html_url":"https://github.com/phalcon/cphalcon/issues/13294","id":294294769,"number":13294,"title":"Broken behavior of the Phalcon\\Forms\\Form::getMessages","user":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"assignees":[{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/phalcon/cphalcon/milestones/30","html_url":"https://github.com/phalcon/cphalcon/milestone/30","labels_url":"https://api.github.com/repos/phalcon/cphalcon/milestones/30/labels","id":2787978,"number":30,"title":"3.3.x","description":"","creator":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2017-09-24T22:55:55Z","updated_at":"2018-03-24T15:59:23Z","due_on":null,"closed_at":"2018-03-24T15:59:23Z"},"comments":1,"created_at":"2018-02-05T07:18:51Z","updated_at":"2018-02-06T22:05:21Z","closed_at":"2018-02-06T22:05:21Z","author_association":"OWNER","body":"Validation messages, up to the #12466 PR, were added in sorted form (by element name) to the `Phalcon\\Forms\\Form` stack. \r\n\r\nMessages generated by all the elements in the form were joined by default so they can be traversed by a single `foreach`.\r\n\r\n```php\r\nif (!$form->isValid($_POST)) {\r\n    $messages = $form->getMessages();\r\n\r\n    // Default behavior\r\n    // $messages is a Phalcon\\Validation\\Message\\Group object\r\n    foreach ($messages as $message) {\r\n        echo $message, \"<br>\";\r\n    }\r\n}\r\n```\r\n\r\nThe user could change this behavior to get the messages separated by the field. \r\n\r\n```php\r\nforeach ($form->getMessages(true) as $attribute => $messages) {\r\n    echo \"Messages generated by \", $attribute, \":\", \"\\n\";\r\n\r\n    // $messages is an array of Phalcon\\Validation\\Message\\Group objects\r\n    foreach ($messages as $message) {\r\n        echo $message, \"<br>\";\r\n    }\r\n}\r\n```\r\n\r\nIn the #12466 PR, this behavior was been broken.\r\n\r\n// cc @mbrostami ","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13290","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13290/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13290/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13290/events","html_url":"https://github.com/phalcon/cphalcon/issues/13290","id":293516119,"number":13290,"title":"Unused param","user":{"login":"emiliodeg","id":1172386,"avatar_url":"https://avatars1.githubusercontent.com/u/1172386?v=4","gravatar_id":"","url":"https://api.github.com/users/emiliodeg","html_url":"https://github.com/emiliodeg","followers_url":"https://api.github.com/users/emiliodeg/followers","following_url":"https://api.github.com/users/emiliodeg/following{/other_user}","gists_url":"https://api.github.com/users/emiliodeg/gists{/gist_id}","starred_url":"https://api.github.com/users/emiliodeg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emiliodeg/subscriptions","organizations_url":"https://api.github.com/users/emiliodeg/orgs","repos_url":"https://api.github.com/users/emiliodeg/repos","events_url":"https://api.github.com/users/emiliodeg/events{/privacy}","received_events_url":"https://api.github.com/users/emiliodeg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-01T12:41:46Z","updated_at":"2018-02-05T07:21:05Z","closed_at":"2018-02-05T07:21:05Z","author_association":"CONTRIBUTOR","body":"`getMessages()` in [form](https://github.com/phalcon/cphalcon/blob/master/phalcon/forms/form.zep#L371) can receive a boolean byItemName parameter that is not used anywhere","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13283","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13283/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13283/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13283/events","html_url":"https://github.com/phalcon/cphalcon/issues/13283","id":291945662,"number":13283,"title":"Scripts blocking each other","user":{"login":"aldos84","id":29063067,"avatar_url":"https://avatars2.githubusercontent.com/u/29063067?v=4","gravatar_id":"","url":"https://api.github.com/users/aldos84","html_url":"https://github.com/aldos84","followers_url":"https://api.github.com/users/aldos84/followers","following_url":"https://api.github.com/users/aldos84/following{/other_user}","gists_url":"https://api.github.com/users/aldos84/gists{/gist_id}","starred_url":"https://api.github.com/users/aldos84/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aldos84/subscriptions","organizations_url":"https://api.github.com/users/aldos84/orgs","repos_url":"https://api.github.com/users/aldos84/repos","events_url":"https://api.github.com/users/aldos84/events{/privacy}","received_events_url":"https://api.github.com/users/aldos84/received_events","type":"User","site_admin":false},"labels":[{"id":27846498,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Not%20a%20bug","name":"Not a bug","color":"02e10c","default":false}],"state":"closed","locked":false,"assignee":null,"assignees
8000
":[],"milestone":null,"comments":3,"created_at":"2018-01-26T15:56:07Z","updated_at":"2018-02-07T10:02:03Z","closed_at":"2018-02-07T10:02:03Z","author_association":"NONE","body":"I have a problem with my Phalcon project.\r\n\r\nIn a Webpage I have ajax call to load analytic data from google, that took a few time. But if this script runs, my complete phalcon app are blocked until the script to get the google data has finished.\r\n\r\nI test a workaround:\r\nIn a Controller Action you put a endless loop\r\n```\r\npublic function loopAction() {\r\n while(true) {\r\n }\r\n}\r\n```\r\n\r\nIn a browser tab open the loop than the page is loading, now open another tab and navigate to another route of your project thats normaly works. By me now the both tabs are loading endlessly.\r\nBut only for me, if my collegue request the project, he can view and navigate without delays.\r\n\r\nCan you help me? Is this a misconfiguration?\r\n\r\nThanks\r\n\r\nDominic\r\n\r\n* Phalcon version: 3.0.1\r\n* PHP Version: 7.0.27\r\n* Operating System: Ubuntu 14.04\r\n* Installation type: Compiling from source\r\n* Zephir version (if any):\r\n* Server: IntelliJ BuildIn Server\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13272","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13272/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13272/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13272/events","html_url":"https://github.com/phalcon/cphalcon/issues/13272","id":290527161,"number":13272,"title":"Injectable::__get() is ignoring shared flag","user":{"login":"hubertnnn","id":1189576,"avatar_url":"https://avatars1.githubusercontent.com/u/1189576?v=4","gravatar_id":"","url":"https://api.github.com/users/hubertnnn","html_url":"https://github.com/hubertnnn","followers_url":"https://api.github.com/users/hubertnnn/followers","following_url":"https://api.github.com/users/hubertnnn/following{/other_user}","gists_url":"https://api.github.com/users/hubertnnn/gists{/gist_id}","starred_url":"https://api.github.com/users/hubertnnn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hubertnnn/subscriptions","organizations_url":"https://api.github.com/users/hubertnnn/orgs","repos_url":"https://api.github.com/users/hubertnnn/repos","events_url":"https://api.github.com/users/hubertnnn/events{/privacy}","received_events_url":"https://api.github.com/users/hubertnnn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-22T16:25:23Z","updated_at":"2018-02-06T07:21:41Z","closed_at":"2018-02-06T07:21:41Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\nmyService was added like this:\r\n`$this->di->set('myService', function() { return rand(0, 100);}, false);`\r\nShared parameter was set to false;\r\n\r\n$this is a class that extends injectable.\r\n```php\r\n$a = $this->myService;\r\n$b = $this->myService;\r\n$c = $this->myService;\r\n```\r\n$a, $b and $c should contain different values\r\n\r\nThey contain the same value (service is shared)\r\n\r\n### Details\r\n\r\n* Phalcon version: 3.2.4\r\n* PHP Version: 7.0.25\r\n* Operating System: ubuntu\r\n* Installation type: apt\r\n* Server: Nginx\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13267","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13267/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13267/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13267/events","html_url":"https://github.com/phalcon/cphalcon/issues/13267","id":290112191,"number":13267,"title":"Micro app, handle 500 errors","user":{"login":"hailie-rei","id":12576900,"avatar_url":"https://avatars3.githubusercontent.com/u/12576900?v=4","gravatar_id":"","url":"https://api.github.com/users/hailie-rei","html_url":"https://github.com/hailie-rei","followers_url":"https://api.github.com/users/hailie-rei/followers","following_url":"https://api.github.com/users/hailie-rei/following{/other_user}","gists_url":"https://api.github.com/users/hailie-rei/gists{/gist_id}","starred_url":"https://api.github.com/users/hailie-rei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hailie-rei/subscriptions","organizations_url":"https://api.github.com/users/hailie-rei/orgs","repos_url":"https://api.github.com/users/hailie-rei/repos","events_url":"https://api.github.com/users/hailie-rei/events{/privacy}","received_events_url":"https://api.github.com/users/hailie-rei/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-19T21:27:49Z","updated_at":"2018-01-20T11:39:15Z","closed_at":"2018-01-20T11:39:15Z","author_association":"NONE","body":"Hi! I'm sorry, I can't start a discussion on https://forum.phalconphp.com/, I'm receiving 500 error (\"Sorry for the inconvenience but something is not quite right at the moment.\" and so on).\r\n \r\nI have an issue with micro app. My app is very simple:\r\n\r\nindex.php\r\n```php\r\ndefine('BASE_PATH', dirname(__DIR__));\r\ndefine('APP_PATH', BASE_PATH . '/app');\r\n\r\n$loader = new \\Phalcon\\Loader();\r\n$loader->registerDirs([\r\n    APP_PATH . '/classes'\r\n]);\r\n$loader->register();\r\n\r\n$app = new \\Phalcon\\Mvc\\Micro();\r\n\r\n$app->notFound(function() use ($app) {\r\n    $app->response->setStatusCode(404, 'Not Found')->send();\r\n});\r\n\r\n$app->error(function($e) {\r\n    echo 'error';\r\n    return false;\r\n});\r\n\r\n$col = new \\Phalcon\\Mvc\\Micro\\Collection();\r\n$col->setHandler('IndexClass', true);\r\n$col->get('/', 'index');\r\n$app->mount($col);\r\n\r\n$app->handle();\r\n```\r\n\r\nIndexClass.php\r\n```php\r\nclass IndexClass\r\n{\r\n    public function index() {\r\n        die('index');\r\n    }\r\n}\r\n```\r\n\r\nThe problem is the following: when I open home page, I see text 'index' as it's expected (from route for '/' and IndexClass). But when I open something like '/lalala' (that is not described in routes) I see 500 error. I'd like to handle it and show 404 page instead. My error handler is not working in this case. What am I missing? Thank you.","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13265","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13265/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13265/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13265/events","html_url":"https://github.com/phalcon/cphalcon/issues/13265","id":289675817,"number":13265,"title":"Install phalcon centos 7 Fail","user":{"login":"tcthtuananh","id":17264849,"avatar_url":"https://avatars1.githubusercontent.com/u/17264849?v=4","gravatar_id":"","url":"https://api.github.com/users/tcthtuananh","html_url":"https://github.com/tcthtuananh","followers_url":"https://api.github.com/users/tcthtuananh/followers","following_url":"https://api.github.com/users/tcthtuananh/following{/other_user}","gists_url":"https://api.github.com/users/tcthtuananh/gists{/gist_id}","starred_url":"https://api.github.com/users/tcthtuananh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcthtuananh/subscriptions","organizations_url":"https://api.github.com/users/tcthtuananh/orgs","repos_url":"https://api.github.com/users/tcthtuananh/repos","events_url":"https://api.github.com/users/tcthtuananh/events{/privacy}","received_events_url":"https://api.github.com/users/tcthtuananh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-18T15:45:20Z","updated_at":"2018-01-21T11:14:51Z","closed_at":"2018-01-21T11:12:39Z","author_association":"NONE","body":"```bash\r\nlibtool: compile:  gcc -I. -I/root/cphalcon/build/php5/64bits -DPHP_ATOM_INC -I/root/cphalcon/build/php5/64bits/include -I/root/cphalcon/build/php5/64bits/main -I/root/cphalcon/build/php5/64bits -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib -DPHALCON_RELEASE -DHAVE_CONFIG_H -march=native -mtune=native -O2 -fomit-frame-pointer -c /root/cphalcon/build/php5/64bits/phalcon.zep.c  -fPIC -DPIC -o .libs/phalcon.o\r\ngcc: internal compiler error: Killed (program cc1)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <http://bugzilla.redhat.com/bugzilla> for instructions.\r\nmake: *** [phalcon.lo] Error 1\r\nlibtool: compile:  gcc -I. -I/root/cphalcon/build/php5/64bits -DPHP_ATOM_INC -I/root/cphalcon/build/php5/64bits/include -I/root/cphalcon/build/php5/64bits/main -I/root/cphalcon/build/php5/64bits -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib -DPHALCON_RELEASE -DHAVE_CONFIG_H -march=native -mtune=native -O2 -fomit-frame-pointer -c /root/cphalcon/build/php5/64bits/phalcon.zep.c  -fPIC -DPIC -o .libs/phalcon.o\r\ngcc: internal compiler error: Killed (program cc1)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <http://bugzilla.redhat.com/bugzilla> for instructions.\r\nmake: *** [phalcon.lo] Error 1\r\n\r\nThanks for compiling Phalcon!\r\nBuild succeed: Please restart your web server to complete the installation\r\n```","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13262","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13262/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13262/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13262/events","html_url":"https://github.com/phalcon/cphalcon/issues/13262","id":289361003,"number":13262,"title":"Phalcon 3.3 Micro error handler","user":{"login":"mignz","id":358114,"avatar_url":"https://avatars3.githubusercontent.com/u/358114?v=4","gravatar_id":"","url":"https://api.github.com/users/mignz","html_url":"https://github.com/mignz","followers_url":"https://api.github.com/users/mignz/followers","following_url":"https://api.github.com/users/mignz/following{/other_user}","gists_url":"https://api.github.com/users/mignz/gists{/gist_id}","starred_url":"https://api.github.com/users/mignz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mignz/subscriptions","organizations_url":"https://api.github.com/users/mignz/orgs","repos_url":"https://api.github.com/users/mignz/repos","events_url":"https://api.github.com/users/mignz/events{/privacy}","received_events_url":"https://api.github.com/users/mignz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2018-01-17T18:06:00Z","updated_at":"2018-02-21T09:17:25Z","closed_at":"2018-01-17T21:34:00Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\n\r\n> The [Micro Application error handler](https://docs.phalconphp.com/bg/3.2/application-micro#error-handling) isn't working properly on the latest version of Phalcon. The exception isn't caught by the handler.\r\n\r\n> Expected output\r\n\r\n`{\"code\":401,\"status\":\"error\",\"message\":\"Invalid email or password.\"}`\r\n\r\n> Actual output\r\n\r\n<img width=\"766\" alt=\"screen shot 2018-01-17 at 15 24 30\" src=\"https://user-images.githubusercontent.com/358114/35058821-9fcff10c-fba8-11e7-85c5-824f8bc3a7be.png\">\r\n\r\n> Script to reproduce\r\n\r\n```php\r\n<?php\r\n\r\n$app = new Phalcon\\Mvc\\Micro();\r\n\r\n$app->get(\r\n    '/',\r\n    function () {\r\n        throw new \\Exception('Invalid email or password.', 401);\r\n    }\r\n);\r\n\r\n$app->error(\r\n    function ($exception) {\r\n        echo json_encode(\r\n            [\r\n                'code'    => $exception->getCode(),\r\n                'status'  => 'error',\r\n                'message' => $exception->getMessage(),\r\n            ]\r\n        );\r\n    }\r\n);\r\n\r\n$app->handle();\r\n```\r\n### Details\r\n\r\n* Phalcon version: 3.3\r\n* PHP Version: 7.1 & 7.2\r\n* Operating System: macOS & Ubuntu 16.04\r\n* Installation type: Installing via package manager\r\n* Server: Nginx & Apache","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13261","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13261/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13261/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13261/events","html_url":"https://github.com/phalcon/cphalcon/issues/13261","id":289308924,"number":13261,"title":"Debian 9.3 \"Package 'php7.0-phalcon' has no installation candidate\"","user":{"login":"Doehl","id":1913751,"avatar_url":"https://avatars0.githubusercontent.com/u/1913751?v=4","gravatar_id":"","url":"https://api.github.com/users/Doehl","html_url":"https://github.com/Doehl","followers_url":"https://api.github.com/users/Doehl/followers","following_url":"https://api.github.com/users/Doehl/following{/other_user}","gists_url":"https://api.github.com/users/Doehl/gists{/gist_id}","starred_url":"https://api.github.com/users/Doehl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Doehl/subscriptions","organizations_url":"https://api.github.com/users/Doehl/orgs","repos_url":"https://api.github.com/users/Doehl/repos","events_url":"https://api.github.com/users/Doehl/events{/privacy}","received_events_url":"https://api.github.com/users/Doehl/received_events","type":"User","site_admin":false},"labels":[{"id":27846498,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Not%20a%20bug","name":"Not a bug","color":"02e10c","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-17T15:35:25Z","updated_at":"2018-01-21T11:02:45Z","closed_at":"2018-01-21T11:02:30Z","author_association":"NONE","body":"### Expected and Actual Behavior\r\nWhen running installation guide from [the website](https://phalconphp.com/da/download/linux), does the following error happen.\r\n\r\n```\r\nPackage php7.0-phalcon is not available, but is referred to by another package.\r\nThis may mean that the package is missing, has been obsoleted, or\r\nis only available from another source\r\n\r\nE: Package 'php7.0-phalcon' has no installation candidate\r\n```\r\n### Details\r\n\r\n* Operating System: Debian 9.3\r\n* Installation type: installing via package manager\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13251","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13251/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13251/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13251/events","html_url":"https://github.com/phalcon/cphalcon/issues/13251","id":288039711,"number":13251,"title":"Can't getActionName with Dispatcher in Micro Applications?","user":{"login":"dxkrs","id":10890895,"avatar_url":"https://avatars3.githubusercontent.com/u/10890895?v=4","gravatar_id":"","url":"https://api.github.com/users/dxkrs","html_url":"https://github.com/dxkrs","followers_url":"https://api.github.com/users/dxkrs/followers","following_url":"https://api.github.com/users/dxkrs/following{/other_user}","gists_url":"https://api.github.com/users/dxkrs/gists{/gist_id}","starred_url":"https://api.github.com/users/dxkrs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dxkrs/subscriptions","organizations_url":"https://api.github.com/users/dxkrs/orgs","repos_url":"https://api.github.com/users/dxkrs/repos","events_url":"https://api.github.com/users/dxkrs/events{/privacy}","received_events_url":"https://api.github.com/users/dxkrs/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-12T08:18:49Z","updated_at":"2018-02-06T07:21:08Z","closed_at":"2018-02-06T07:21:08Z","author_association":"NONE","body":"## phalcon: 3.2.4\r\n\r\n## description\r\n\r\nI want to do some interceptors at my controller ``` onConstruct()```, and I want to get current atction name.\r\nI can do that if I use the \r\n\r\n```\r\n$application = new \\Phalcon\\Mvc\\Application($di);   \r\necho $application->handle()->getContent(); \r\n```\r\nin the `index.php`\r\n\r\ne.g.\r\n```\r\nclass TestController extends \\Phalcon\\Mvc\\Controller\r\n{\r\n        public function onConstruct()\r\n        {\r\n             echo $this->dispatcher->getActionName();\r\n        }\r\n\r\n        public function test()\r\n        {\r\n               echo '<br>'; \r\n               echo 'this is test action';\r\n        }\r\n}\r\n```\r\nRequest the \"localhost/test/test\" I will see \r\n```\r\ntest\r\nthis is test action\r\n```\r\n#### BUT\r\nIt does'n work if use **Micro Applications** in the `index.php`\r\n```\r\n$application = new \\Phalcon\\Mvc\\Micro($di)\r\n$application->handle();\r\n```\r\n I try to `var_dump($this->dispatcher->getActionName())` and the result is NULL.\r\nAnd I found the `beforeExecuteRoute()` doesn't work too.\r\nIt is right?\r\nI want to get the action name in the controller in Micro Applications, how can I do it?\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13244","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13244/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13244/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13244/events","html_url":"https://github.com/phalcon/cphalcon/issues/13244","id":285429735,"number":13244,"title":"Unknown filter type: default - phalcon_3.3.0","user":{"login":"kowach","id":733128,"avatar_url":"https://avatars2.githubusercontent.com/u/733128?v=4","gravatar_id":"","url":"https://api.github.com/users/kowach","html_url":"https://github.com/kowach","followers_url":"https://api.github.com/users/kowach/followers","following_url":"https://api.github.com/users/kowach/following{/other_user}","gists_url":"https://api.github.com/users/kowach/gists{/gist_id}","starred_url":"https://api.github.com/users/kowach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kowach/subscriptions","organizations_url":"https://api.github.com/users/kowach/orgs","repos_url":"https://api.github.com/users/kowach/repos","events_url":"https://api.github.com/users/kowach/events{/privacy}","received_events_url":"https://api.github.com/users/kowach/received_events","type":"User","site_admin":false},"labels":[{"id":356243820,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Duplicate","name":"Duplicate","color":"d4c5f9","default":false},{"id":724046205,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Volt","name":"Volt","color":"000000","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-02T13:30:13Z","updated_at":"2018-03-12T17:07:39Z","closed_at":"2018-01-03T22:55:26Z","author_association":"NONE","body":"After update from 3.2.4-1 => 3.3.0-1 \"default\" filter is not recognized any more.\r\n\r\nUnknown filter type in .volt at line (x) => `{{ myvar|default('some var') }}`\r\n\r\nOS: Ubuntu Mate 16.04\r\nPHP 7.0.22-0ubuntu0.16.04.1 (cli) ( NTS )\r\n\r\nPackage: php7.0-phalcon\r\nVersion: 3.3.0-1\r\nBuild Date: Dec 24 2017 10:57:53\r\n\r\nFull exception:\r\n```\r\nUnknown filter type in /../index.volt on line 8\r\n#0 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->resolveFilter(Array, '$preparedParams')\r\n#1 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->expression(Array)\r\n#2 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->expression(Array)\r\n#3 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->compileEcho(Array)\r\n#4 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->_statementList(Array, false)\r\n#5 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->_compileSource('<script>\\n    \"u...', false)\r\n#6 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->compileFile('/var/.../...', '/.../...', false)\r\n#7 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt\\Compiler->compile('/var/../...')\r\n#8 [internal function]: Phalcon\\Mvc\\View\\Engine\\Volt->render('/.../...', Array, true)\r\n#9 [internal function]: Phalcon\\Mvc\\View->_engineRender(Array, 'default/index', true, true, NULL)\r\n#10 [internal function]: Phalcon\\Mvc\\View->render('mailer', 'index')\r\n#11 /var/.../index.php(43): Phalcon\\Mvc\\Application->handle()\r\n#12 {main}\r\n\r\n```\r\nindex.volt (at line 8)\r\n```\r\n{{ preparedParams|default([])|json_encode }}\r\n```\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13243","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13243/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13243/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13243/events","html_url":"https://github.com/phalcon/cphalcon/issues/13243","id":285290227,"number":13243,"title":"Add option to bypass volt brackets {{ }}","user":{"login":"maulanasatyaadi","id":22109899,"avatar_url":"https://avatars1.githubusercontent.com/u/22109899?v=4","gravatar_id":"","url":"https://api.github.com/users/maulanasatyaadi","html_url":"https://github.com/maulanasatyaadi","followers_url":"https://api.github.com/users/maulanasatyaadi/followers","following_url":"https://api.github.com/users/maulanasatyaadi/following{/other_user}","gists_url":"https://api.github.com/users/maulanasatyaadi/gists{/gist_id}","starred_url":"https://api.github.com/users/maulanasatyaadi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maulanasatyaadi/subscriptions","organizations_url":"https://api.github.com/users/maulanasatyaadi/orgs","repos_url":"https://api.github.com/users/maulanasatyaadi/repos","events_url":"https://api.github.com/users/maulanasatyaadi/events{/privacy}","received_events_url":"https://api.github.com/users/maulanasatyaadi/received_events","type":"User","site_admin":false},"labels":[{"id":356243820,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Duplicate","name":"Duplicate","color":"d4c5f9","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-01T05:57:21Z","updated_at":"2018-01-01T09:07:58Z","closed_at":"2018-01-01T09:07:58Z","author_association":"NONE","body":"I using angularjs as favorite javascript, i use {{ '{{ data.item }}' }} even using volt. Can i bypass  {{ }} for some condition?","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13242","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13242/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13242/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13242/events","html_url":"https://github.com/phalcon/cphalcon/issues/13242","id":285195647,"number":13242,"title":"Problem with switch and filters in php7","user":{"login":"tacxticx88","id":12997062,"avatar_url":"https://avatars3.githubusercontent.com/u/12997062?v=4","gravatar_id":"","url":"https://api.github.com/users/tacxticx88","html_url":"https://github.com/tacxticx88","followers_url":"https://api.github.com/users/tacxticx88/followers","following_url":"https://api.github.com/users/tacxticx88/following{/other_user}","gists_url":"https://api.github.com/users/tacxticx88/gists{/gist_id}","starred_url":"https://api.github.com/users/tacxticx88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacxticx88/subscriptions","organizations_url":"https://api.github.com/users/tacxticx88/orgs","repos_url":"https://api.github.com/users/tacxticx88/repos","events_url":"https://api.github.com/users/tacxticx88/events{/privacy}","received_events_url":"https://api.github.com/users/tacxticx88/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false},{"id":724046205,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Volt","name":"Volt","color":"000000","default":false}],"state":"closed","locked":false,"assignee":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"assignees":[{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/phalcon/cphalcon/milestones/30","html_url":"https://github.com/phalcon/cphalcon/milestone/30","labels_url":"https://api.github.com/repos/phalcon/cphalcon/milestones/30/labels","id":2787978,"number":30,"title":"3.3.x","description":"","creator":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2017-09-24T22:55:55Z","updated_at":"2018-03-24T15:59:23Z","due_on":null,"closed_at":"2018-03-24T15:59:23Z"},"comments":5,"created_at":"2017-12-30T10:25:53Z","updated_at":"2018-01-03T22:49:15Z","closed_at":"2018-01-03T22:49:14Z","author_association":"NONE","body":"Hello,\r\n\r\nIn the new version (3.3) of Phalcon, the switch was brought in php7. My project is in the process of migrating from php5 to php7, so I have just encountered a problem between the switch and the default filter.\r\n\r\n![screenshot_20171230_112339](https://user-images.githubusercontent.com/12997062/34453373-e49c7e58-ed53-11e7-9af3-97884b785b28.png)\r\n\r\n```php\r\n{{ myvar|default(\"abc\") }}\r\n```","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13236","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13236/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13236/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13236/events","html_url":"https://github.com/phalcon/cphalcon/issues/13236","id":284682820,"number":13236,"title":"No code in validation message [Phalcon\\Validation\\Validator\\Date]","user":{"login":"iflagri","id":3852086,"avatar_url":"https://avatars1.githubusercontent.com/u/3852086?v=4","gravatar_id":"","url":"https://api.github.com/users/iflagri","html_url":"https://github.com/iflagri","followers_url":"https://api.github.com/users/iflagri/followers","following_url":"https://api.github.com/users/iflagri/following{/other_user}","gists_url":"https://api.github.com/users/iflagri/gists{/gist_id}","starred_url":"https://api.github.com/users/iflagri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iflagri/subscriptions","organizations_url":"https://api.github.com/users/iflagri/orgs","repos_url":"https://api.github.com/users/iflagri/repos","events_url":"https://api.github.com/users/iflagri/events{/privacy}","received_events_url":"https://api.github.com/users/iflagri/received_events","type":"User","site_admin":false},"labels":[{"id":13573114,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Low","name":"Bug - Low","color":"e102d8","default":false}],"state":"closed","locked":false,"assignee":{"login":"Jurigag","id":10086991,"avatar_url":"https://avatars3.githubusercontent.com/u/10086991?v=4","gravatar_id":"","url":"https://api.github.com/users/Jurigag","html_url":"https://github.com/Jurigag","followers_url":"https://api.github.com/users/Jurigag/followers","following_url":"https://api.github.com/users/Jurigag/following{/other_user}","gists_url":"https://api.github.com/users/Jurigag/gists{/gist_id}","starred_url":"https://api.github.com/users/Jurigag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jurigag/subscriptions","organizations_url":"https://api.github.com/users/Jurigag/orgs","repos_url":"https://api.github.com/users/Jurigag/repos","events_url":"https://api.github.com/users/Jurigag/events{/privacy}","received_events_url":"https://api.github.com/users/Jurigag/received_events","type":"User","site_admin":false},"assignees":[{"login":"Jurigag","id":10086991,"avatar_url":"https://avatars3.githubusercontent.com/u/10086991?v=4","gravatar_id":"","url":"https://api.github.com/users/Jurigag","html_url":"https://github.com/Jurigag","followers_url":"https://api.github.com/users/Jurigag/followers","following_url":"https://api.github.com/users/Jurigag/following{/other_user}","gists_url":"https://api.github.com/users/Jurigag/gists{/gist_id}","starred_url":"https://api.github.com/users/Jurigag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jurigag/subscriptions","organizations_url":"https://api.github.com/users/Jurigag/orgs","repos_url":"https://api.github.com/users/Jurigag/repos","events_url":"https://api.github.com/users/Jurigag/events{/privacy}","received_events_url":"https://api.github.com/users/Jurigag/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/phalcon/cphalcon/milestones/30","html_url":"https://github.com/phalcon/cphalcon/milestone/30","labels_url":"https://api.github.com/repos/phalcon/cphalcon
4552
/milestones/30/labels","id":2787978,"number":30,"title":"3.3.x","description":"","creator":{"login":"sergeyklay","id":1256298,"avatar_url":"https://avatars2.githubusercontent.com/u/1256298?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyklay","html_url":"https://github.com/sergeyklay","followers_url":"https://api.github.com/users/sergeyklay/followers","following_url":"https://api.github.com/users/sergeyklay/following{/other_user}","gists_url":"https://api.github.com/users/sergeyklay/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyklay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyklay/subscriptions","organizations_url":"https://api.github.com/users/sergeyklay/orgs","repos_url":"https://api.github.com/users/sergeyklay/repos","events_url":"https://api.github.com/users/sergeyklay/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyklay/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2017-09-24T22:55:55Z","updated_at":"2018-03-24T15:59:23Z","due_on":null,"closed_at":"2018-03-24T15:59:23Z"},"comments":3,"created_at":"2017-12-27T09:19:31Z","updated_at":"2018-01-04T20:30:18Z","closed_at":"2018-01-04T20:30:17Z","author_association":"NONE","body":"Phalcon\\Validation\\Validator\\Date\r\nNo \"code\" in validation message.\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13235","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13235/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13235/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13235/events","html_url":"https://github.com/phalcon/cphalcon/issues/13235","id":284626554,"number":13235,"title":"Add Transaction to Criteria so the getParams() method returns the transaction to Model::find","user":{"login":"chilimatic","id":6705416,"avatar_url":"https://avatars3.githubusercontent.com/u/6705416?v=4","gravatar_id":"","url":"https://api.github.com/users/chilimatic","html_url":"https://github.com/chilimatic","followers_url":"https://api.github.com/users/chilimatic/followers","following_url":"https://api.github.com/users/chilimatic/following{/other_user}","gists_url":"https://api.github.com/users/chilimatic/gists{/gist_id}","starred_url":"https://api.github.com/users/chilimatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chilimatic/subscriptions","organizations_url":"https://api.github.com/users/chilimatic/orgs","repos_url":"https://api.github.com/users/chilimatic/repos","events_url":"https://api.github.com/users/chilimatic/events{/privacy}","received_events_url":"https://api.github.com/users/chilimatic/received_events","type":"User","site_admin":false},"labels":[{"id":13573146,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/New%20Feature%20Request","name":"New Feature Request","color":"0052cc","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-12-27T00:34:05Z","updated_at":"2018-02-28T13:42:10Z","closed_at":"2018-02-28T13:42:10Z","author_association":"CONTRIBUTOR","body":"### Expected and Actual Behavior\r\n\r\nI forgot to add the transaction to criteria params so there is no way to just \r\ncall the execute() method directly and passing the transaction.\r\n\r\n```php\r\n   /**\r\n     * @param int $shopId\r\n     * @param TransactionInterface $transaction\r\n     * @return ResultsetInterface\r\n     */\r\n    public static function findByShop(int $shopId, TransactionInterface $transaction = null): ResultsetInterface\r\n    {\r\n        $query = self::query();\r\n\r\n         $query\r\n            ->join(\r\n                ShopHasProduct::class,\r\n                self::class.'.shop_has_product_id = shp.id',\r\n                'shp'\r\n            )\r\n            ->andWhere(\r\n                'shp.shop_id = :shopId:'\r\n            );\r\n\r\n\r\n        $query->bind([\r\n            'shopId' => $shopId\r\n        ]);\r\n        \r\n        $params = $query->getParams();\r\n        \r\n        if ($transaction) {\r\n            $params[self::TRANSACTION_INDEX] = $transaction;\r\n        }\r\n\r\n        return self::find($params);\r\n    }\r\n```\r\n\r\nit should be more intuitive: \r\n```php\r\n   /**\r\n     * @param int $shopId\r\n     * @param TransactionInterface $transaction\r\n     * @return ResultsetInterface\r\n     */\r\n    public static function findByShop(int $shopId, TransactionInterface $transaction = null): ResultsetInterface\r\n    {\r\n        $query = self::query();\r\n        \r\n        $query\r\n            ->join(\r\n            ShopHasProduct::class,\r\n            self::class.'.shop_has_product_id = shp.id',\r\n            'shp'\r\n            )\r\n            ->andWhere(\r\n                'shp.shop_id = :shopId:'\r\n            );\r\n\r\n        $query\r\n            ->bind([\r\n                'shopId' => $shopId\r\n            ])\r\n            ->setTransaction($transaction);\r\n\r\n        return $query->execute();\r\n    }\r\n```\r\n\r\ncriteria.zep\r\n```zephir\r\n        /**\r\n\t * Executes a find using the parameters built with the criteria\r\n\t */\r\n\tpublic function execute() -> <ResultsetInterface>\r\n\t{\r\n\t\tvar model;\r\n\r\n\t\tlet model = this->getModelName();\r\n\t\tif typeof model != \"string\" {\r\n\t\t\tthrow new Exception(\"Model name must be string\");\r\n\t\t}\r\n\r\n\t\treturn {model}::find(this->getParams());\r\n\t}\r\n```\r\n\r\nsuggested addition\r\n```zephir\r\n\tpublic function setTransaction(<TransactionInterface> transaction = null) -> Criteria\r\n\t{\r\n\t\tlet this->_params[\"transaction\"] = transaction;\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic function getTransaction() -> <TransactionInterface> | null {\r\n\t\tvar transaction;\r\n\t\tif fetch transaction, this->_params[\"transaction\"] {\r\n\t\t\treturn transaction;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\nI already implemented it + unitests. I just wanted to know if that's okay with you guys or if I may overlooked something?\r\n\r\n### Details\r\n\r\n* Phalcon version: 3.3.x\r\n* PHP Version: 7.2\r\n* Operating System: Arch\r\n* Installation type: compiled\r\n* Zephir version (if any): newest\r\n* Server: Nginx\r\n* Other related info (Database, table schema): MySQL\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13234","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13234/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13234/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13234/events","html_url":"https://github.com/phalcon/cphalcon/issues/13234","id":284571359,"number":13234,"title":"Latest windows releases does not work with php7.2","user":{"login":"Ark4ne","id":6144058,"avatar_url":"https://avatars2.githubusercontent.com/u/6144058?v=4","gravatar_id":"","url":"https://api.github.com/users/Ark4ne","html_url":"https://github.com/Ark4ne","followers_url":"https://api.github.com/users/Ark4ne/followers","following_url":"https://api.github.com/users/Ark4ne/following{/other_user}","gists_url":"https://api.github.com/users/Ark4ne/gists{/gist_id}","starred_url":"https://api.github.com/users/Ark4ne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ark4ne/subscriptions","organizations_url":"https://api.github.com/users/Ark4ne/orgs","repos_url":"https://api.github.com/users/Ark4ne/repos","events_url":"https://api.github.com/users/Ark4ne/events{/privacy}","received_events_url":"https://api.github.com/users/Ark4ne/received_events","type":"User","site_admin":false},"labels":[{"id":13573059,"url":"https://api.github.com/repos/phalcon/cphalcon/labels/Bug%20-%20Medium","name":"Bug - Medium","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":{"login":"niden","id":1073784,"avatar_url":"https://avatars2.githubusercontent.com/u/1073784?v=4","gravatar_id":"","url":"https://api.github.com/users/niden","html_url":"https://github.com/niden","followers_url":"https://api.github.com/users/niden/followers","following_url":"https://api.github.com/users/niden/following{/other_user}","gists_url":"https://api.github.com/users/niden/gists{/gist_id}","starred_url":"https://api.github.com/users/niden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niden/subscriptions","organizations_url":"https://api.github.com/users/niden/orgs","repos_url":"https://api.github.com/users/niden/repos","events_url":"https://api.github.com/users/niden/events{/privacy}","received_events_url":"https://api.github.com/users/niden/received_events","type":"User","site_admin":false},"assignees":[{"login":"niden","id":1073784,"avatar_url":"https://avatars2.githubusercontent.com/u/1073784?v=4","gravatar_id":"","url":"https://api.github.com/users/niden","html_url":"https://github.com/niden","followers_url":"https://api.github.com/users/niden/followers","following_url":"https://api.github.com/users/niden/following{/other_user}","gists_url":"https://api.github.com/users/niden/gists{/gist_id}","starred_url":"https://api.github.com/users/niden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niden/subscriptions","organizations_url":"https://api.github.com/users/niden/orgs","repos_url":"https://api.github.com/users/niden/repos","events_url":"https://api.github.com/users/niden/events{/privacy}","received_events_url":"https://api.github.com/users/niden/received_events","type":"User","site_admin":false}],"milestone":null,"comments":15,"created_at":"2017-12-26T15:32:03Z","updated_at":"2018-01-01T17:32:32Z","closed_at":"2018-01-01T17:32:32Z","author_association":"NONE","body":"The latest windows releases does not work with php7.2. (TS and NTS)\r\n\r\n```\r\n$ /c/php/php7.2.0/php --ri phalcon\r\nWarning: PHP Startup: phalcon: Unable to initialize module\r\nModule compiled with build ID=API20170718,NTS,19.12.25831\r\nPHP    compiled with build ID=API20170718,NTS,VC15\r\nThese options need to match\r\n in Unknown on line 0\r\nPHP 7.2.0 (cli) (built: Nov 28 2017 23:48:32) ( NTS MSVC15 (Visual C++ 2017) x64 )\r\nCopyright (c) 1997-2017 The PHP Group\r\nZend Engine v3.2.0, Copyright (c) 1998-2017 Zend Technologies\r\n```\r\n\r\n```\r\n$ /c/php/php7.2.0/php --ri phalcon\r\nWarning: PHP Startup: phalcon: Unable to initialize module\r\nModule compiled with build ID=API20170718,NTS,19.12.25831\r\nPHP    compiled with build ID=API20170718,NTS,VC15\r\nThese options need to match\r\n in Unknown on line 0\r\nExtension 'phalcon' not present.\r\n```\r\n\r\n### Details\r\n* Phalcon version: 3.3.0\r\n* PHP Version: PHP 7.2.0\r\n* Operating System: Windows 10\r\n* Installation type: Download from github \r\n* Zephir version (if any): /\r\n* Server: /\r\n* Other related info (Database, table schema):  /\r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13231","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13231/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13231/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13231/events","html_url":"https://github.com/phalcon/cphalcon/issues/13231","id":284162874,"number":13231,"title":"Phalcon homepage has rendered php at the bottom left of the page","user":{"login":"troglodyte","id":777422,"avatar_url":"https://avatars2.githubusercontent.com/u/777422?v=4","gravatar_id":"","url":"https://api.github.com/users/troglodyte","html_url":"https://github.com/troglodyte","followers_url":"https://api.github.com/users/troglodyte/followers","following_url":"https://api.github.com/users/troglodyte/following{/other_user}","gists_url":"https://api.github.com/users/troglodyte/gists{/gist_id}","starred_url":"https://api.github.com/users/troglodyte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/troglodyte/subscriptions","organizations_url":"https://api.github.com/users/troglodyte/orgs","repos_url":"https://api.github.com/users/troglodyte/repos","events_url":"https://api.github.com/users/troglodyte/events{/privacy}","received_events_url":"https://api.github.com/users/troglodyte/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-22T13:25:15Z","updated_at":"2018-01-03T23:20:55Z","closed_at":"2018-01-03T23:20:55Z","author_association":"NONE","body":"slate('about') ?> \r\n\r\n^-- is rendered on the bottom left.\r\nhttps://phalconphp.com/en/\r\n\r\nNot sure where else to put this bug...\r\n\r\n\r\n\r\n> Questions should go to https://forum.phalconphp.com\r\n> Documentation issues should go to https://github.com/phalcon/docs/issues\r\n\r\n### Expected and Actual Behavior\r\n\r\n> **Describe what you are trying to achieve and what goes wrong.**\r\n\r\n> Provide output if related. Provide coredump if any. Use https://github.com/phalcon/cphalcon/wiki/Generating-a-backtrace as reference\r\n\r\n```php\r\n// paste output here\r\n```\r\n> Provide minimal script to reproduce the issue\r\n\r\n```php\r\n// paste code\r\n```\r\n### Details\r\n\r\n* Phalcon version: (`php --ri phalcon`)\r\n* PHP Version: (`php -v`)\r\n* Operating System:\r\n* Installation type: Compiling from source || installing via package manager\r\n* Zephir version (if any):\r\n* Server: Nginx | Apache | Other\r\n* Other related info (Database, table schema): \r\n","score":1.0},{"url":"https://api.github.com/repos/phalcon/cphalcon/issues/13226","repository_url":"https://api.github.com/repos/phalcon/cphalcon","labels_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13226/labels{/name}","comments_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13226/comments","events_url":"https://api.github.com/repos/phalcon/cphalcon/issues/13226/events","html_url":"https://github.com/phalcon/cphalcon/issues/13226","id":282855899,"number":13226,"title":"Transactions passed in find() or findFirst() to query inside of started transactions","user":{"login":"chilimatic","id":6705416,"avatar_url":"https://avatars3.githubusercontent.com/u/6705416?v=4","gravatar_id":"","url":"https://api.github.com/users/chilimatic","html_url":"https://github.com/chilimatic","followers_url":"https://api.github.com/users/chilimatic/followers","following_url":"https://api.github.com/users/chilimatic/following{/other_user}","gists_url":"https://api.github.com/users/chilimatic/gists{/gist_id}","starred_url":"https://api.github.com/users/chilimatic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chilimatic/subscriptions","organizations_url":"https://api.github.com/users/chilimatic/orgs","repos_url":"https://api.github.com/users/chilimatic/repos","events_url":"https://api.github.com/users/chilimatic/events{/privacy}","received_events_url":"https://api.github.com/users/chilimatic/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-18T12:03:23Z","updated_at":"2017-12-22T13:51:09Z","closed_at":"2017-12-22T13:21:02Z","author_association":"CONTRIBUTOR","body":"Hello!\r\n\r\nType: new feature | enhancement\r\nLink to issue: #12409, #12564, #13097 \r\nIn raising this pull request, I confirm the following (please check boxes):\r\n\r\n - [x] I have read and understood the Contributing Guidelines?\r\n - [x] I have checked that another pull request for this purpose does not exist.\r\n - [x] I wrote some tests for this PR.\r\n\r\nthis ticket exists because I was to incompetent to first create a Ticket before starting a PR. The target branch has changed and I need to rewrite the history with the correct ticket number :)\r\n\r\nSmall description of change:\r\n\r\nCurrently you only can use the internal Transaction behaviour without an option to use a specific transaction in find / findFirst. This should be changed\r\n\r\nThis change is to achieve the following:\r\n\r\nIn Unit-testing one usual procedure is to create a transaction for a TestCase and after the execution rollback this change.\r\n\r\nWhich means there is a \"long transaction\" going on and we want to check if the transaction actually is writing the correct values in the database. But the static context of model::find / model::findFirst does not get the transaction passed.\r\n\r\nTo achieve that passing a new index \"transaction\" containing an transaction in the $param array seams to be a viable solution.\r\n\r\nAnother use-case can be having multiple transactions and wanting to look inside.\r\n\r\nJust to be precise -> ofc we could just get the connection and query manually inside of it, but I want to be as close to the framework as possible when testing certain services hence I want to use the model.\r\n\r\nI took your reviews and advice from the last attempt and used the params to not break the interfaces / change method signatures.\r\n\r\nthe logic is implemented as follows:\r\n\r\nif you pass in a transaction via param in the find/findFirst method. It will set the transaction to query object and this transaction will be used for all queries and executions within this query context.\r\n\r\nThis should not affect any standard behaviour but still allow me to finally achieve cleaner unittests for my usecase.\r\n\r\n","score":1.0}]}
0

