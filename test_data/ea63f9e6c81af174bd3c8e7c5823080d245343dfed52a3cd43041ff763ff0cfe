HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Wed, 04 Apr 2018 04:32:02 GMT
Link: <https://api.github.com/search/issues?q=repo%3Adavidmoreno%2Fonion+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Adavidmoreno%2Fonion+type%3Aissue+state%3Aclosed&page=3>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: C1F1:16B3:8E5371:12EE4DC:5AC45542
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 26
X-Ratelimit-Reset: 1522816381
X-Runtime-Rack: 0.382207
X-Xss-Protection: 1; mode=block

8000
{"total_count":77,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/davidmoreno/onion/issues/220","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/220/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/220/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/220/events","html_url":"https://github.com/davidmoreno/onion/issues/220","id":267089959,"number":220,"title":"Can't find a way to parse json arrays","user":{"login":"karakasi","id":16046301,"avatar_url":"https://avatars2.githubusercontent.com/u/16046301?v=4","gravatar_id":"","url":"https://api.github.com/users/karakasi","html_url":"https://github.com/karakasi","followers_url":"https://api.github.com/users/karakasi/followers","following_url":"https://api.github.com/users/karakasi/following{/other_user}","gists_url":"https://api.github.com/users/karakasi/gists{/gist_id}","starred_url":"https://api.github.com/users/karakasi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karakasi/subscriptions","organizations_url":"https://api.github.com/users/karakasi/orgs","repos_url":"https://api.github.com/users/karakasi/repos","events_url":"https://api.github.com/users/karakasi/events{/privacy}","received_events_url":"https://api.github.com/users/karakasi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-20T07:44:21Z","updated_at":"2017-10-21T09:42:15Z","closed_at":"2017-10-21T09:38:25Z","author_association":"NONE","body":"Hi!\r\nI would appreciate any pointer for parsing json arrays with libonion. I couldn't find any related example and any method I tried to use failed. It is stated that there might be some limitations but I couldn't find a reference with more details. \r\nThanks!","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/218","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/218/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/218/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/218/events","html_url":"https://github.com/davidmoreno/onion/issues/218","id":259170321,"number":218,"title":"How to compile Examples","user":{"login":"khusseini","id":1408107,"avatar_url":"https://avatars0.githubusercontent.com/u/1408107?v=4","gravatar_id":"","url":"https://api.github.com/users/khusseini","html_url":"https://github.com/khusseini","followers_url":"https://api.github.com/users/khusseini/followers","following_url":"https://api.github.com/users/khusseini/following{/other_user}","gists_url":"https://api.github.com/users/khusseini/gists{/gist_id}","starred_url":"https://api.github.com/users/khusseini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khusseini/subscriptions","organizations_url":"https://api.github.com/users/khusseini/orgs","repos_url":"https://api.github.com/users/khusseini/repos","events_url":"https://api.github.com/users/khusseini/events{/privacy}","received_events_url":"https://api.github.com/users/khusseini/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-09-20T13:49:23Z","updated_at":"2017-09-21T16:43:12Z","closed_at":"2017-09-20T16:44:31Z","author_association":"NONE","body":"Hello there,\r\n\r\nI have been looking around in this repository for answers but couldn't find any.\r\nHow do I compile the examples (specifically the hello example)?\r\n\r\nI tried using cmake with two different approaches:\r\n\r\n```\r\ncd examples/hello\r\ncmake .\r\nmake\r\n```\r\n\r\nor\r\n```\r\ncd examples/hello\r\nmkdir build; cd build;\r\ncmake ..\r\nmake\r\n```\r\n\r\nBoth result in an error\r\n```\r\n./hello: error while loading shared libraries: libonion.so.0: cannot open shared object file: No such file or directory\r\n```\r\n\r\nI have installed onion like so:\r\n```\r\ngit clone ...\r\nmkdir build\r\ncd build\r\ncmake ..\r\nmake\r\nsudo make install\r\n```\r\n\r\nWhat am I doing wrong?","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/217","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/217/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/217/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/217/events","html_url":"https://github.com/davidmoreno/onion/issues/217","id":253954056,"number":217,"title":"How to parse url","user":{"login":"jackweiwang","id":19305790,"avatar_url":"https://avatars3.githubusercontent.com/u/19305790?v=4","gravatar_id":"","url":"https://api.github.com/users/jackweiwang","html_url":"https://github.com/jackweiwang","followers_url":"https://api.github.com/users/jackweiwang/followers","following_url":"https://api.github.com/users/jackweiwang/following{/other_user}","gists_url":"https://api.github.com/users/jackweiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jackweiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackweiwang/subscriptions","organizations_url":"https://api.github.com/users/jackweiwang/orgs","repos_url":"https://api.github.com/users/jackweiwang/repos","events_url":"https://api.github.com/users/jackweiwang/events{/privacy}","received_events_url":"https://api.github.com/users/jackweiwang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-30T10:40:21Z","updated_at":"2017-08-30T19:09:48Z","closed_at":"2017-08-30T19:09:48Z","author_association":"NONE","body":"http://192.168.100.161:8080/?url=http://img5.duitang.com/uploads/item/201610/23/20161023144226_c3BUn.jpeg\r\n\r\nThis is what I want to parse  ，But Now I can only pass 'onion_request_query' get jpeg url,   How do I access the url after the parameter and get the image,  I don't know what should i do?\r\n\r\nI hope you can give me a  Example or suggestion.\r\n\r\nthank you!","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/214","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/214/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/214/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/214/events","html_url":"https://github.com/davidmoreno/onion/issues/214","id":242881514,"number":214,"title":"[ERROR request_parser.c:852] Unknown method ' ' (11 known methods)","user":{"login":"ClemsonCoder","id":20035789,"avatar_url":"https://avatars0.githubusercontent.com/u/20035789?v=4","gravatar_id":"","url":"https://api.github.com/users/ClemsonCoder","html_url":"https://github.com/ClemsonCoder","followers_url":"https://api.github.com/users/ClemsonCoder/followers","following_url":"https://api.github.com/users/ClemsonCoder/following{/other_user}","gists_url":"https://api.github.com/users/ClemsonCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/ClemsonCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ClemsonCoder/subscriptions","organizations_url":"https://api.github.com/users/ClemsonCoder/orgs","repos_url":"https://api.github.com/users/ClemsonCoder/repos","events_url":"https://api.github.com/users/ClemsonCoder/events{/privacy}","received_events_url":"https://api.github.com/users/ClemsonCoder/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-07-14T02:38:53Z","updated_at":"2017-07-14T02:52:39Z","closed_at":"2017-07-14T02:52:38Z","author_association":"NONE","body":"I get\r\n\r\n[2017-07-13 22:28:33] [ERROR request_parser.c:852] Unknown method ' ' (11 known methods)\r\n\r\nwhen I try to run the onion oterm and then try to excess it from a browser.\r\n\r\nI can only find object files in the build directory. No source file for it shows up except outside of the build folder.","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/210","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/210/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/210/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/210/events","html_url":"https://github.com/davidmoreno/onion/issues/210","id":197977944,"number":210,"title":"Posible bug with large cookies at onion_response_add_cookie","user":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-12-29T09:27:00Z","updated_at":"2016-12-29T09:35:12Z","closed_at":"2016-12-29T09:35:12Z","author_association":"OWNER","body":"At onion_response_add_cookie there is no checking for overflow of the temporal `data` if `cookiename` or `cookievalue` are long enough.\r\n\r\nWill implement these changes:\r\n\r\n1. Check all data fits\r\n2. If does not fit into data, return false, and do not add the cookie, with a possible warning.\r\n\r\n\r\nReported by Zhendong Wu","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/209","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/209/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/209/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/209/events","html_url":"https://github.com/davidmoreno/onion/issues/209","id":196314084,"number":209,"title":"LibEv should be called out as a dependency in README","user":{"login":"snej","id":43241,"avatar_url":"https://avatars2.githubusercontent.com/u/43241?v=4","gravatar_id":"","url":"https://api.github.com/users/snej","html_url":"https://github.com/snej","followers_url":"https://api.github.com/users/snej/followers","following_url":"https://api.github.com/users/snej/following{/other_user}","gists_url":"https://api.github.com/users/snej/gists{/gist_id}","starred_url":"https://api.github.com/users/snej/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snej/subscriptions","organizations_url":"https://api.github.com/users/snej/orgs","repos_url":"https://api.github.com/users/snej/repos","events_url":"https://api.github.com/users/snej/events{/privacy}","received_events_url":"https://api.github.com/users/snej/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-12-19T01:29:52Z","updated_at":"2017-04-18T07:47:09Z","closed_at":"2017-04-18T07:47:09Z","author_association":"NONE","body":"Just cloned the repo to my macOS 10.12.2 system and followed the build instructions, but the `cmake` command fails:\r\n```\r\n...\r\nCMake Error at CMakeModules/FindPackageHandleStandardArgs.cmake:91 (MESSAGE):\r\n  Could NOT find LibEv, try to set the path to LibEv root folder in the\r\n  system variable LIBEV_ROOT_DIR (missing: LIBEV_INCLUDE_DIR LIBEV_LIBRARIES)\r\nCall Stack (most recent call first):\r\n  CMakeModules/FindPackageHandleStandardArgs.cmake:252 (_FPHSA_FAILURE_MESSAGE)\r\n  CMakeModules/FindLibEv.cmake:37 (find_package_handle_standard_args)\r\n  src/onion/CMakeLists.txt:27 (find_package)\r\n```\r\nSo it looks as though LibEv is a hard dependency, even though this isn't mentioned in the Dependencies section of the README.\r\n\r\nActually I've now looked through the open issues, and Mac support seems to be missing in general. That's unfortunately a deal-breaker for me; we need an HTTP server for a codebase that runs primarily on iOS and Android, secondarily on macOS, MSWindows and Linux. It would be nice if the README had a Compatibility section that listed what platforms it works on.","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/208","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/208/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/208/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/208/events","html_url":"https://github.com/davidmoreno/onion/issues/208","id":185935073,"number":208,"title":"dowloading files through onion server","user":{"login":"usergoodvery","id":11340256,"avatar_url":"https://avatars2.githubusercontent.com/u/11340256?v=4","gravatar_id":"","url":"https://api.github.com/users/usergoodvery","html_url":"https://github.com/usergoodvery","followers_url":"https://api.github.com/users/usergoodvery/followers","following_url":"https://api.github.com/users/usergoodvery/following{/other_user}","gists_url":"https://api.github.com/users/usergoodvery/gists{/gist_id}","starred_url":"https://api.github.com/users/usergoodvery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/usergoodvery/subscriptions","organizations_url":"https://api.github.com/users/usergoodvery/orgs","repos_url":"https://api.github.com/users/usergoodvery/repos","events_url":"https://api.github.com/users/usergoodvery/events{/privacy}","received_events_url":"https://api.github.com/users/usergoodvery/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-10-28T14:18:43Z","updated_at":"2016-11-05T09:57:54Z","closed_at":"2016-10-28T17:22:33Z","author_association":"NONE","body":"Hi,\nI am just wondering if there is direct built in support for handling  http requests for downloading files? Or is the library user expected to build that layer on top? Can i simply point the library at a file location and have it read it then dispatch the file as a stream to the other end...\nregards,\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/206","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/206/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/206/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/206/events","html_url":"https://github.com/davidmoreno/onion/issues/206","id":171917617,"number":206,"title":"Wrong test case: 01-internal/14-websockets.c (t03_websocket_server_receive_small_packet)","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-18T14:39:48Z","updated_at":"2016-08-21T10:19:21Z","closed_at":"2016-08-21T10:19:21Z","author_association":"CONTRIBUTOR","body":"https://github.com/davidmoreno/onion/blob/master/tests/01-internal/14-websockets.c#L204-L205\n\nbuffer2 is nulled at 113th character but the check string is itself of 114 characters thus the test case will always fail.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/201","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/201/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/201/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/201/events","html_url":"https://github.com/davidmoreno/onion/issues/201","id":171667796,"number":201,"title":"Typos in otemplate help","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-17T14:11:38Z","updated_at":"2016-08-21T10:19:21Z","closed_at":"2016-08-21T10:19:21Z","author_association":"CONTRIBUTOR","body":"Description and variable name of `outfilename` and `infilename` in otemplate --help is almost similar and confusing.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/200","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/200/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/200/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/200/events","html_url":"https://github.com/davidmoreno/onion/issues/200","id":171662601,"number":200,"title":"ZLIB is not checked to exists at compile time","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-17T13:51:19Z","updated_at":"2016-08-21T10:19:21Z","closed_at":"2016-08-21T10:19:21Z","author_association":"CONTRIBUTOR","body":"ZLIB is used in `examples/ofileserver/CMakeLists.txt` but Z_LIB is not defined anywhere.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/199","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/199/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/199/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/199/events","html_url":"https://github.com/davidmoreno/onion/issues/199","id":171621190,"number":199,"title":"LibEvent libraries are not checked to exists at compile time","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-17T10:09:00Z","updated_at":"2016-08-21T10:19:20Z","closed_at":"2016-08-21T10:19:20Z","author_association":"CONTRIBUTOR","body":"If poller is chosen as event and event2 is not there then it will lead to errors because the case of libraries not being present is not handled in `src/onion/CMakeLists.txt`.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/198","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/198/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/198/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/198/events","html_url":"https://github.com/davidmoreno/onion/issues/198","id":171603656,"number":198,"title":"Poller libraries are not getting compiled on the first run","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-17T08:38:21Z","updated_at":"2016-08-21T10:19:20Z","closed_at":"2016-08-21T10:19:20Z","author_association":"CONTRIBUTOR","body":"In `src/onion/CMakeLists.txt` path of Poller Libraries are appended first then they are found. Thus in the first run, it fails to compile.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/195","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/195/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/195/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/195/events","html_url":"https://github.com/davidmoreno/onion/issues/195","id":171592135,"number":195,"title":"Properly handle the case of cairo example","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-08-17T07:29:09Z","updated_at":"2016-08-21T10:19:20Z","closed_at":"2016-08-21T10:19:20Z","author_association":"CONTRIBUTOR","body":"As from:\nhttps://github.com/davidmoreno/onion/blob/master/CMakeLists.txt#L137-L155\n\nCairo is looked for only when PNG is enabled and when LibPNG is found. But examples of them are not related with each other and also if PNG is disabled (default behaviour as specified for darwin in the darwin branch) examples of Cairo is disabled automatically which is not the expected behaviour.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/194","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/194/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/194/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/194/events","html_url":"https://github.com/davidmoreno/onion/issues/194","id":171590833,"number":194,"title":"pam_misc is not used","user":{"login":"anuragagarwal561994","id":6075379,"avatar_url":"https://avatars1.githubusercontent.com/u/6075379?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragagarwal561994","html_url":"https://github.com/anuragagarwal561994","followers_url":"https://api.github.com/users/anuragagarwal561994/followers","following_url":"https://api.github.com/users/anuragagarwal561994/following{/other_user}","gists_url":"https://api.github.com/users/anuragagarwal561994/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragagarwal561994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragagarwal561994/subscriptions","organizations_url":"https://api.github.com/users/anuragagarwal561994/orgs","repos_url":"https://api.github.com/users/anuragagarwal561994/repos","events_url":"https://api.github.com/users/anuragagarwal561994/events{/privacy}","received_events_url":"https://api.github.com/users/anuragagarwal561994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-17T07:20:17Z","updated_at":"2016-08-21T10:19:20Z","closed_at":"2016-08-21T10:19:20Z","author_association":"CONTRIBUTOR","body":"Library pam_misc is not used as well as it is not supported for Mac OS X. Thus some examples are not compiled for OS X systems. It is wise to remove it?\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/187","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/187/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/187/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/187/events","html_url":"https://github.com/davidmoreno/onion/issues/187","id":166545721,"number":187,"title":"basic auth with password of size of 1 fails","user":{"login":"aymanakt","id":20546894,"avatar_url":"https://avatars3.githubusercontent.com/u/20546894?v=4","gravatar_id":"","url":"https://api.github.com/users/aymanakt","html_url":"https://github.com/aymanakt","followers_url":"https://api.github.com/users/aymanakt/followers","following_url":"https://api.github.com/users/aymanakt/following{/other_user}","gists_url":"https://api.github.com/users/aymanakt/gists{/gist_id}","starred_url":"https://api.github.com/users/aymanakt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aymanakt/subscriptions","organizations_url":"https://api.github.com/users/aymanakt/orgs","repos_url":"https://api.github.com/users/aymanakt/repos","events_url":"https://api.github.com/users/aymanakt/events{/privacy}","received_events_url":"https://api.github.com/users/aymanakt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-20T10:08:09Z","updated_at":"2016-07-30T12:22:45Z","closed_at":"2016-07-30T12:22:45Z","author_association":"NONE","body":"Hi,\nIt seems the  base64 decode function emits an extraneous byte (or fails to null-terminate correctly) when the length of the password is 1, therefore failing authentication. \nI did not look into how the function is implemented, but i swapped it out with another one against the same basic auth input and that worked. \n\nregards,\n\nayman\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/186","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/186/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/186/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/186/events","html_url":"https://github.com/davidmoreno/onion/issues/186","id":161834597,"number":186,"title":"error: ‘for’ loop initial declarations are only allowed in C99 mode","user":{"login":"abetusk","id":1406122,"avatar_url":"https://avatars1.githubusercontent.com/u/1406122?v=4","gravatar_id":"","url":"https://api.github.com/users/abetusk","html_url":"https://github.com/abetusk","followers_url":"https://api.github.com/users/abetusk/followers","following_url":"https://api.github.com/users/abetusk/following{/other_user}","gists_url":"https://api.github.com/users/abetusk/gists{/gist_id}","starred_url":"https://api.github.com/users/abetusk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abetusk/subscriptions","organizations_url":"https://api.github.com/users/abetusk/orgs","repos_url":"https://api.github.com/users/abetusk/repos","events_url":"https://api.github.com/users/abetusk/events{/privacy}","received_events_url":"https://api.github.com/users/abetusk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,
8000
"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-06-23T03:48:45Z","updated_at":"2016-06-23T08:55:22Z","closed_at":"2016-06-23T08:55:22Z","author_association":"NONE","body":"When following the build instructions in the README, I get the following error:\n\n```\n[ 83%] Built target 14-websockets\nScanning dependencies of target 15-post-no-type\n[ 83%] Building C object tests/01-internal/CMakeFiles/15-post-no-type.dir/15-post-no-type.c.o\n.../onion/tests/01-internal/15-post-no-type.c: In function ‘POST_a_lot’:\n.../onion/tests/01-internal/15-post-no-type.c:154:5: error: ‘for’ loop initial declarations are only allowed in C99 mode\n     for (int i=0;i<1000;i++){\n     ^\n.../onion/tests/01-internal/15-post-no-type.c:154:5: note: use option -std=c99 or -std=gnu99 to compile your code\n.../onion/tests/01-internal/15-post-no-type.c:157:14: error: redefinition of ‘i’\n     for (int i=0;i<1000;i++){\n              ^\n.../onion/tests/01-internal/15-post-no-type.c:154:14: note: previous definition of ‘i’ was here\n     for (int i=0;i<1000;i++){\n              ^\n.../onion/tests/01-internal/15-post-no-type.c:157:5: error: ‘for’ loop initial declarations are only allowed in C99 mode\n     for (int i=0;i<1000;i++){\n     ^\nmake[2]: *** [tests/01-internal/CMakeFiles/15-post-no-type.dir/15-post-no-type.c.o] Error 1\nmake[1]: *** [tests/01-internal/CMakeFiles/15-post-no-type.dir/all] Error 2\nmake: *** [all] Error 2\n```\n\nBy changing the `CMakeLists.txt` to include a `-std=c99` flag and then rerunning `cmake .. ; make` gives warnings but otherwise compiles successfully:\n\n```\n.../onion$ diff CMakeLists.txt CMakeLists.txt.c99\n249,250c249,250\n<       SET(CMAKE_C_FLAGS \"-Wall -O2 -fPIC ${CMAKE_C_FLAGS}\")\n<       SET(CMAKE_CXX_FLAGS \"-Wall -O2 -fPIC ${CMAKE_CXX_FLAGS}\")\n\n---\n>       SET(CMAKE_C_FLAGS \"-std=c99 -Wall -O2 -fPIC ${CMAKE_C_FLAGS}\")\n>       SET(CMAKE_CXX_FLAGS \"-std=c99 -Wall -O2 -fPIC ${CMAKE_CXX_FLAGS}\")\n```\n\nMy gcc/g++ versions:\n\n```\n.../onion/build$ gcc --version\ngcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n..../onion/build$ g++ --version\ng++ (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n```\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/181","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/181/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/181/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/181/events","html_url":"https://github.com/davidmoreno/onion/issues/181","id":158622237,"number":181,"title":"POST data as JSON","user":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/davidmoreno/onion/milestones/2","html_url":"https://github.com/davidmoreno/onion/milestone/2","labels_url":"https://api.github.com/repos/davidmoreno/onion/milestones/2/labels","id":1738041,"number":2,"title":"v0.9","description":null,"creator":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"open_issues":1,"closed_issues":1,"state":"open","created_at":"2016-04-29T08:01:10Z","updated_at":"2016-06-18T18:36:49Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2016-06-06T08:12:05Z","updated_at":"2016-06-18T18:36:49Z","closed_at":"2016-06-18T18:36:49Z","author_association":"OWNER","body":"Right now when using POST only mutipart/form-data and urlencoded is supported. Provide support for other encodings, as JSON.\n\nThis should be giving the user back a onion_block with all the data. To keep current API internally parse this onion block on multipart and urlencoded POSTs when requested. Other encodings should do the parsing, if required, in used code.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/170","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/170/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/170/events","html_url":"https://github.com/davidmoreno/onion/issues/170","id":148691415,"number":170,"title":"Add functions to state current compiled version","user":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/davidmoreno/onion/milestones/1","html_url":"https://github.com/davidmoreno/onion/milestone/1","labels_url":"https://api.github.com/repos/davidmoreno/onion/milestones/1/labels","id":1709235,"number":1,"title":"v0.8","description":"Release the v0.8 version.","creator":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":2,"state":"closed","created_at":"2016-04-15T15:29:30Z","updated_at":"2016-06-06T08:31:40Z","due_on":"2016-04-28T07:00:00Z","closed_at":"2016-06-06T08:31:40Z"},"comments":1,"created_at":"2016-04-15T15:29:51Z","updated_at":"2016-04-18T11:07:08Z","closed_at":"2016-04-18T11:07:08Z","author_association":"OWNER","body":"From onion-dev, by Basile Starynkevitch and Zachary Grafton:\n\nIt would be nice to have an API function to query the version of the library; at least something like\n\nconst char\\* onion_library_version_string();\n\nand perhaps more, e.g.\n\n```\n int onion_library_version_major();\n int onion_library_version_minor();\n```\n\nand probably some more macros in the headers. Glib from GTK could be inspirational.\n## \n\nI'm pretty sure we could accomplish this by using cmake and the configure_file directive to generate a single header with all the configuration options, including definitions like ONION_VERSION_MAJOR, ONION_VERSION_MINOR and ONION_VERSION_PATCH.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/137","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/137/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/137/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/137/events","html_url":"https://github.com/davidmoreno/onion/issues/137","id":124537811,"number":137,"title":"Slow sendfile with small files on Debian Wheezy","user":{"login":"davidmoreno","id":322746,"avatar_url":"https://avatars3.githubusercontent.com/u/322746?v=4","gravatar_id":"","url":"https://api.github.com/users/davidmoreno","html_url":"https://github.com/davidmoreno","followers_url":"https://api.github.com/users/davidmoreno/followers","following_url":"https://api.github.com/users/davidmoreno/following{/other_user}","gists_url":"https://api.github.com/users/davidmoreno/gists{/gist_id}","starred_url":"https://api.github.com/users/davidmoreno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidmoreno/subscriptions","organizations_url":"https://api.github.com/users/davidmoreno/orgs","repos_url":"https://api.github.com/users/davidmoreno/repos","events_url":"https://api.github.com/users/davidmoreno/events{/privacy}","received_events_url":"https://api.github.com/users/davidmoreno/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-01-01T09:07:06Z","updated_at":"2016-04-16T19:10:09Z","closed_at":"2016-04-16T19:10:09Z","author_association":"OWNER","body":"Onion is very slow for small files under some kernels. Some test based on <16kb files should be added an use sendfile only when bigger. Also more investigation is required.\n\nOriginal onion-dev thread: https://groups.google.com/a/coralbits.com/forum/?fromgroups=#!topic/onion-dev/sxHRbpCQuII\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/122","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/122/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/122/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/122/events","html_url":"https://github.com/davidmoreno/onion/issues/122","id":112062526,"number":122,"title":"fd leak when parse_PUT() failed to write to temp file","user":{"login":"MoZhonghua","id":1209816,"avatar_url":"https://avatars3.githubusercontent.com/u/1209816?v=4","gravatar_id":"","url":"https://api.github.com/users/MoZhonghua","html_url":"https://github.com/MoZhonghua","followers_url":"https://api.github.com/users/MoZhonghua/followers","following_url":"https://api.github.com/users/MoZhonghua/following{/other_user}","gists_url":"https://api.github.com/users/MoZhonghua/gists{/gist_id}","starred_url":"https://api.github.com/users/MoZhonghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MoZhonghua/subscriptions","organizations_url":"https://api.github.com/users/MoZhonghua/orgs","repos_url":"https://api.github.com/users/MoZhonghua/repos","events_url":"https://api.github.com/users/MoZhonghua/events{/privacy}","received_events_url":"https://api.github.com/users/MoZhonghua/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-10-19T02:57:40Z","updated_at":"2015-10-19T09:34:15Z","closed_at":"2015-10-19T09:34:15Z","author_association":"CONTRIBUTOR","body":"``` c\nstatic onion_connection_status parse_PUT() {\n    int *fd=(int*)token->extra;\n    ssize_t w=write(*fd, &data->data[data->pos], length);\n    if (w<0){      // *fd  will not be closed in this case\n        ONION_ERROR(\"Could not write all data to temporal file.\");\n        return OCS_INTERNAL_ERROR;\n    }\n}\n```\n\nWhen w<0, the fd will not be closed. Then this file will be deleted with un-closed fd, you can check it by:\n\n``` bash\nlsof | grep deleted\n```\n\nwe can't see the file using ls command, but the disk space is not freed.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/121","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/121/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/121/events","html_url":"https://github.com/davidmoreno/onion/issues/121","id":111301063,"number":121,"title":"The pthread macro should be HAVE_PTHREADS in src/onion/response.c ","user":{"login":"MoZhonghua","id":1209816,"avatar_url":"https://avatars3.githubusercontent.com/u/1209816?v=4","gravatar_id":"","url":"https://api.github.com/users/MoZhonghua","html_url":"https://github.com/MoZhonghua","followers_url":"https://api.github.com/users/MoZhonghua/followers","following_url":"https://api.github.com/users/MoZhonghua/following{/other_user}","gists_url":"https://api.github.com/users/MoZhonghua/gists{/gist_id}","starred_url":"https://api.github.com/users/MoZhonghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MoZhonghua/subscriptions","organizations_url":"https://api.github.com/users/MoZhonghua/orgs","repos_url":"https://api.github.com/users/MoZhonghua/repos","events_url":"https://api.github.com/users/MoZhonghua/events{/privacy}","received_events_url":"https://api.github.com/users/MoZhonghua/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-10-14T00:56:28Z","updated_at":"2015-10-14T07:31:49Z","closed_at":"2015-10-14T07:31:49Z","author_association":"CONTRIBUTOR","body":"This should be a typo, and will crash onion if built with pthreads because there will be no lock for \"onion_response_last_date_header\"\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/116","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/116/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/116/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/116/events","html_url":"https://github.com/davidmoreno/onion/issues/116","id":98072792,"number":116,"title":"poller race condition with O_THREAD will crash onion","user":{"login":"MoZhonghua","id":1209816,"avatar_url":"https://avatars3.githubusercontent.com/u/1209816?v=4","gravatar_id":"","url":"https://api.github.com/users/MoZhonghua","html_url":"https://github.com/MoZhonghua","followers_url":"https://api.github.com/users/MoZhonghua/followers","following_url":"https://api.github.com/users/MoZhonghua/following{/other_user}","gists_url":"https://api.github.com/users/MoZhonghua/gists{/gist_id}","starred_url":"https://api.github.com/users/MoZhonghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MoZhonghua/subscriptions","organizations_url":"https://api.github.com/users/MoZhonghua/orgs","repos_url":"https://api.github.com/users/MoZhonghua/repos","events_url":"https://api.github.com/users/MoZhonghua/events{/privacy}","received_events_url":"https://api.github.com/users/MoZhonghua/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-07-30T02:40:53Z","updated_at":"2016-04-19T07:53:17Z","closed_at":"2016-04-19T07:53:17Z","author_association":"CONTRIBUTOR","body":"When start onion with O_THREADED, onion will create multiple threads to poll on the \nsingle epoll fd. It will cause race condition:\n1. when one thread poll and get a slot, for example, read event of fd 100, and read the data\n2. then another thread poll and get the same slot, because we get more data to read\n3. the first thread decide to remove the slot because of some error, so the slot is gone away now\n4. the second thread try to handle the event, but the slot is removed, and crashed\n\nA solution for this: worker thread should has its own poller, when a connection is established,\nthe fd is dispatched to a worker thread, the worker thread create slot, process, and delete slot,\nnobody else should give a touch to this slot.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/115","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/115/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/115/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/115/events","html_url":"https://github.com/davidmoreno/onion/issues/115","id":97231947,"number":115,"title":"O_ONE_LOOP (with O_POLL or O_THREADED) performs badly","user":{"login":"fredrikwidlund","id":2116262,"avatar_url":"https://avatars0.githubusercontent.com/u/2116262?v=4","gravatar_id":"","url":"https://api.github.com/users/fredrikwidlund","html_url":"https://github.com/fredrikwidlund","followers_url":"https://api.github.com/users/fredrikwidlund/followers","following_url":"https://api.github.com/users/fredrikwidlund/following{/other_user}","gists_url":"https://api.github.com/users/fredrikwidlund/gists{/gist_id}","starred_url":"https://api.github.com/users/fredrikwidlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fredrikwidlund/subscriptions","organizations_url":"https://api.github.com/users/fredrikwidlund/orgs","repos_url":"https://api.github.com/users/fredrikwidlund/repos","events_url":"https://api.github.com/users/fredrikwidlund/events{/privacy}","received_events_url":"https://api.github.com/users/fredrikwidlund/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-07-25T15:06:45Z","updated_at":"2015-07-25T15:06:59Z","closed_at":"2015-07-25T15:06:59Z","author_association":"NONE","body":"See below to reproduce. Without having had a closer look it seems likely that the event driven loop is blocking on something.\n\n$ wrk -c 512 -t 4 -d 5 http://127.0.0.1:8080\nRunning 5s test @ http://127.0.0.1:8080\n  4 threads and 512 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    82.24ms  166.60ms   1.04s    97.96%\n    Req/Sec    28.03     28.14    90.00     80.00%\n  154 requests in 5.01s, 22.86KB read\n  Socket errors: connect 0, read 153, write 0, timeout 7\n<b>Requests/sec:     30.75</b>\nTransfer/sec:      4.56KB\n$ time curl -vv 127.0.0.1:8080 # immediately after \"wrk\" test\n[...]\n< HTTP/1.1 200 OK\n< Content-Length: 0\n< Content-Type: text/html\n< Date: Wed, 22 Jul 2015 23:38:45 UTC\n< Server: libonion v0.7.git170.c812b - coralbits.com\n< \n- Connection #0 to host 127.0.0.1 left intact\n\n<b>real 0m8.114s</b>\nuser    0m0.000s\nsys 0m0.007s\n\n<pre>\n#include &lt;stdint.h&gt;\n\n#include &lt;onion/onion.h&gt;\n#include &lt;onion/block.h&gt;\n#include &lt;onion/request.h&gt;\n#include &lt;onion/response.h&gt;\n#include &lt;onion/static.h&gt;\n\nonion_connection_status r(void *data, onion_request *req, onion_response *res)\n{\n  return OCS_PROCESSED;\n}\n\nint main()\n{\n  onion *o;\n  onion_url *u;\n\n  o = onion_new(O_ONE_LOOP | O_POLL);\n  u = onion_root_url(o);\n  onion_url_add(u, \"\", (void *) (uintptr_t) r);\n  onion_listen(o);\n}\n</pre>\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/112","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/112/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/112/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/112/events","html_url":"https://github.com/davidmoreno/onion/issues/112","id":96519377,"number":112,"title":"returning OCS_NOT_IMPLEMENTED results in html body with typo","user":{"login":"fredrikwidlund","id":2116262,"avatar_url":"https://avatars0.githubusercontent.com/u/2116262?v=4","gravatar_id":"","url":"https://api.github.com/users/fredrikwidlund","html_url":"https://github.com/fredrikwidlund","followers_url":"https://api.github.com/users/fredrikwidlund/followers","following_url":"https://api.github.com/users/fredrikwidlund/following{/other_user}","gists_url":"https://api.github.com/users/fredrikwidlund/gists{/gist_id}","starred_url":"https://api.github.com/users/fredrikwidlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fredrikwidlund/subscriptions","organizations_url":"https://api.github.com/users/fredrikwidlund/orgs","repos_url":"https://api.github.com/users/fredrikwidlund/repos","events_url":"https://api.github.com/users/fredrikwidlund/events{/privacy}","received_events_url":"https://api.github.com/users/fredrikwidlund/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-07-22T09:24:46Z","updated_at":"2015-07-23T08:35:46Z","closed_at":"2015-07-23T08:35:38Z","author_association":"NONE","body":"Below should be 501 - ..., not 505 - ...\n\n<pre>\nHTTP/1.1 501 NOT IMPLEMENTED\nContent-Length: 30\nContent-Type: text/html\nDate: Tue, 14 Jul 2015 21:22:35 UTC\nServer: libonion v0.7.git170.c812b - coralbits.com\n\n&lt;h1&gt;505 - Not implemented&lt;/h1&gt;\n</pre>\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/111","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/111/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/111/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/111/events","html_url":"https://github.com/davidmoreno/onion/issues/111","id":96518696,"number":111,"title":"HTTP return codes","user":{"login":"fredrikwidlund","id":2116262,"avatar_url":"https://avatars0.githubusercontent.com/u/2116262?v=4","gravatar_id":"","url":"https://api.github.com/users/fredrikwidlund","html_url":"https://github.com/fredrikwidlund","followers_url":"https://api.github.com/users/fredrikwidlund/followers","following_url":"https://api.github.com/users/fredrikwidlund/following{/other_user}","gists_url":"https://api.github.com/users/fredrikwidlund/gists{/gist_id}","starred_url":"https://api.github.com/users/fredrikwidlund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fredrikwidlund/subscriptions","organizations_url":"https://api.github.com/users/fredrikwidlund/orgs","repos_url":"https://api.github.com/users/fredrikwidlund/repos","events_url":"https://api.github.com/users/fredrikwidlund/events{/privacy}","received_events_url":"https://api.github.com/users/fredrikwidlund/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-07-22T09:21:30Z","updated_at":"2015-07-27T12:44:43Z","closed_at":"2015-07-23T08:31:50Z","author_association":"NONE","body":"As I understand it HTTP return codes should be as specified by RFC 7231 (http://tools.ietf.org/html/rfc7231#section-6.5.12), \"Not Found\" instead \"NOT FOUND\", etc.\n\ni.e.\ncase HTTP_NOT_FOUND:\nreturn \"NOT FOUND\";\n..\nshould be\ncase HTTP_NOT_FOUND:\nreturn \"Not Found\";\n\nand so forth for all codes.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/109","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/109/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/109/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/109/events","html_url":"https://github.com/davidmoreno/onion/issues/109","id":84032858,"number":109,"title":"confusing debug message for cookies","user":{"login":"bstarynk","id":90412,"avatar_url":"https://avatars3.githubusercontent.com/u/90412?v=4","gravatar_id":"","url":"https://api.github.com/users/bstarynk","html_url":"https://github.com/bstarynk","followers_url":"https://api.github.com/users/bstarynk/followers","following_url":"https://api.github.com/users/bstarynk/following{/other_user}","gists_url":"https://api.github.com/users/bstarynk/gists{/gist_id}","starred_url":"https://api.github.com/users/bstarynk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bstarynk/subscriptions","organizations_url":"https://api.github.com/users/bstarynk/orgs","repos_url":"https://api.github.com/users/bstarynk/repos","events_url":"https://api.github.com/users/bstarynk/events{/privacy}","received_events_url":"https://api.github.com/users/bstarynk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-06-02T13:51:09Z","updated_at":"2015-07-23T08:39:40Z","closed_at":"2015-07-23T08:39:40Z","author_association":"CONTRIBUTOR","body":"With the latest commit c812b354a5923dea21fa049dfd423be54758ba51 the debug message at response.c:598 is confusing (since the cookie name will be repeated twice). That last debug statement in `response.c` should be either\n\n```\n ONION_DEBUG(\"Set cookie cookiename %s gives data %s\", cookiename, data);\n```\n\nor perhaps simply\n\n```\nONION_DEBUG(\"Set cookie %s\", data);\n```\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/108","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/108/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/108/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/108/events","html_url":"https://github.com/davidmoreno/onion/issues/108","id":84029641,"number":108,"title":"onion_html_quote buggy","user":{"login":"bstarynk","id":90412,"avatar_url":"https://avatars3.githubusercontent.com/u/90412?v=4","gravatar_id":"","url":"https://api.github.com/users/bstarynk","html_url":"https://github.com/bstarynk","followers_url":"https://api.github.com/users/bstarynk/followers","following_url":"https://api.github.com/users/bstarynk/following{/other_user}","gists_url":"https://api.github.com/users/bstarynk/gists{/gist_id}","starred_url":"https://api.github.com/users/bstarynk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bstarynk/subscriptions","organizations_url":"https://api.github.com/users/bstarynk/orgs","repos_url":"https://api.github.com/users/bstarynk/repos","events_url":"https://api.github.com/users/bstarynk/events{/privacy}","received_events_url":"https://api.github.com/users/bstarynk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-06-02T13:45:21Z","updated_at":"2015-07-23T13:33:08Z","closed_at":"2015-07-23T08:48:33Z","author_association":"CONTRIBUTOR","body":"with the latest commit, i.e. c812b354a5923dea21fa049dfd423be54758ba51\n   `onion_html_quote(\"/foo?xx=1&yy=2\")` gives `NULL`  but should return an allocated string containing\n`\"/foo?xx=1&amp;yy=2\"`\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/106","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/106/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/106/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/106/events","html_url":"https://github.com/davidmoreno/onion/issues/106","id":70315824,"number":106,"title":"How to send an empty response?","user":{"login":"ghost","id":10137,"avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-04-23T05:43:53Z","updated_at":"2015-04-24T20:41:05Z","closed_at":"2015-04-24T20:41:05Z","author_association":"NONE","body":"When user downloads a empty file, the response should be empty, but onion will send nothing to client,\nif tested with curl, curl will print \"Server returned nothing (no headers, no data)\".\n\nI tried ::onion_response_set_length(resp, 0), but not work.\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/105","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/105/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/105/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/105/events","html_url":"https://github.com/davidmoreno/onion/issues/105","id":62648113,"number":105,"title":"C++11 memory issue ","user":{"login":"bstarynk","id":90412,"avatar_url":"https://avatars3.githubusercontent.com/u/90412?v=4","gravatar_id":"","url":"https://api.github.com/users/bstarynk","html_url":"https://github.com/bstarynk","followers_url":"https://api.github.com/users/bstarynk/followers","following_url":"https://api.github.com/users/bstarynk/following{/other_user}","gists_url":"https://api.github.com/users/bstarynk/gists{/gist_id}","starred_url":"https://api.github.com/users/bstarynk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bstarynk/subscriptions","organizations_url":"https://api.github.com/users/bstarynk/orgs","repos_url":"https://api.github.com/users/bstarynk/repos","events_url":"https://api.github.com/users/bstarynk/events{/privacy}","received_events_url":"https://api.github.com/users/bstarynk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed",
c0e
"locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-03-18T10:11:28Z","updated_at":"2015-04-25T14:35:32Z","closed_at":"2015-04-25T14:35:32Z","author_association":"CONTRIBUTOR","body":"See https://groups.google.com/a/coralbits.com/d/msg/onion-dev/_m1I-u_b18M/uJQ7SLRFEg8J\n\n``` C++\n// file testonion.cc\n#include <iostream>\n#include <string>\n#include \"onion/onion.hpp\"\n#include \"onion/response.hpp\"\n#include \"onion/url.hpp\"\n#include \"onion/shortcuts.hpp\"\n\nvoid ya_web_service(int port)\n{\n  Onion::Onion onionserver(O_THREADED);\n  onionserver.setPort(port);\n  Onion::Url onionrooturl(&onionserver);\n  Onion::ExportLocal onionlocalwebdir(\"webdir\");\n  onionrooturl.add(\"^webdir/\", onionlocalwebdir);\n  std::cout << \"Ya web service on port \" << port << std::endl;\n  onionserver.listen();\n}\n\nint main (int argc, char** argv)\n{\n  int portnum = (argc>1) ? std::stoi(argv[1]):8080;\n  ya_web_service(portnum);\n  std::cout << \"end of main\" << std::endl;\n  return 0;\n}\n```\n\nCompile it as `cd ~/tmp/; g++ -std=c++11 -Wall -g -I /usr/local testonion.cc -o testonion -L/usr/local -lonioncpp -lonion`\n\nthen run it in a directory having a `webdir/` subdirectory having some `webdir/index.html` file.\n\nlibonion is master, commit 25d4a2ad8cb6bd4e193ba69589fe7ad8674c2f57\n","score":1.0},{"url":"https://api.github.com/repos/davidmoreno/onion/issues/103","repository_url":"https://api.github.com/repos/davidmoreno/onion","labels_url":"https://api.github.com/repos/davidmoreno/onion/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/davidmoreno/onion/issues/103/comments","events_url":"https://api.github.com/repos/davidmoreno/onion/issues/103/events","html_url":"https://github.com/davidmoreno/onion/issues/103","id":60482798,"number":103,"title":"License","user":{"login":"ftomassetti","id":439078,"avatar_url":"https://avatars2.githubusercontent.com/u/439078?v=4","gravatar_id":"","url":"https://api.github.com/users/ftomassetti","html_url":"https://github.com/ftomassetti","followers_url":"https://api.github.com/users/ftomassetti/followers","following_url":"https://api.github.com/users/ftomassetti/following{/other_user}","gists_url":"https://api.github.com/users/ftomassetti/gists{/gist_id}","starred_url":"https://api.github.com/users/ftomassetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ftomassetti/subscriptions","organizations_url":"https://api.github.com/users/ftomassetti/orgs","repos_url":"https://api.github.com/users/ftomassetti/repos","events_url":"https://api.github.com/users/ftomassetti/events{/privacy}","received_events_url":"https://api.github.com/users/ftomassetti/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-10T11:05:17Z","updated_at":"2015-03-11T08:36:04Z","closed_at":"2015-03-11T08:36:04Z","author_association":"NONE","body":"Hi, I am not sure which License is used: LGPL or APACHE?\n","score":1.0}]}
0

