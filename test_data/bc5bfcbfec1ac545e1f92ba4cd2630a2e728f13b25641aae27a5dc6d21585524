HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sun, 13 May 2018 13:01:18 GMT
Link: <https://api.github.com/search/issues?q=repo%3Ajeremyevans%2Froda+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Ajeremyevans%2Froda+type%3Aissue+state%3Aclosed&page=2>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CDF9:4F41:3598A5C:750B232:5AF8371D
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 11
X-Ratelimit-Reset: 1526216518
X-Runtime-Rack: 0.473500
X-Xss-Protection: 1; mode=block

8000
{"total_count":52,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/jeremyevans/roda/issues/143","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/143/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/143/events","html_url":"https://github.com/jeremyevans/roda/issues/143","id":314041477,"number":143,"title":"Enable authentication via config in error_email plugin","user":{"login":"fran-worley","id":2316837,"avatar_url":"https://avatars0.githubusercontent.com/u/2316837?v=4","gravatar_id":"","url":"https://api.github.com/users/fran-worley","html_url":"https://github.com/fran-worley","followers_url":"https://api.github.com/users/fran-worley/followers","following_url":"https://api.github.com/users/fran-worley/following{/other_user}","gists_url":"https://api.github.com/users/fran-worley/gists{/gist_id}","starred_url":"https://api.github.com/users/fran-worley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fran-worley/subscriptions","organizations_url":"https://api.github.com/users/fran-worley/orgs","repos_url":"https://api.github.com/users/fran-worley/repos","events_url":"https://api.github.com/users/fran-worley/events{/privacy}","received_events_url":"https://api.github.com/users/fran-worley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-13T09:49:48Z","updated_at":"2018-04-16T12:07:58Z","closed_at":"2018-04-13T23:30:49Z","author_association":"NONE","body":"The `NET::SMTP` start code [here](https://github.com/jeremyevans/roda/blob/master/lib/roda/plugins/error_email.rb) doesn't provide any easy way to supply a custom port, or allow authentication.\r\n\r\nI've ended up extending the smtp start code myself to enable it wondered whether you'd consider a PR to add some additional configuration options e.g. \r\n\r\n```\r\n:port # default 25 unless starttls in which case 587\r\n:mail_from_domain # optional\r\n:login # optional\r\n:password # optional\r\n:enable_starttls # default to true if !login.nil? && authtype == :login\r\n:authtype # default to :login if !login.nil?\r\n```\r\n\r\nThat would mean I could scrap all this ðŸ˜„:\r\n```\r\n{\r\n  emailer: lambda { |h|\r\n    port = ENV['SMTP_PORT'] || 25\r\n    smtp = Net::SMTP.new(h[:host], Integer(port))\r\n    smtp.enable_starttls_auto\r\n    smtp.start(\r\n      ENV['MAIL_FROM_DOMAIN'],\r\n      ENV['SMTP_USERNAME'],\r\n      ENV['SMTP_PASSWORD'],\r\n      :login\r\n    ) { |s| s.send_message(h[:message], h[:from], h[:to]) }\r\n  }\r\n}\r\n```\r\n\r\nIn favour of just:\r\n```\r\n{\r\n  mail_from_domain: ENV['MAIL_FROM_DOMAIN'],\r\n  login: ENV['SMTP_USERNAME'],\r\n  password: ENV['SMTP_PASSWORD']\r\n}\r\n```","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/142","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/142/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/142/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/142/events","html_url":"https://github.com/jeremyevans/roda/issues/142","id":305623779,"number":142,"title":"[json_parser] Overridden `Rack::Request#POST` must ensure it returns a `Hash`","user":{"login":"13k","id":4762,"avatar_url":"https://avatars0.githubusercontent.com/u/4762?v=4","gravatar_id":"","url":"https://api.github.com/users/13k","html_url":"https://github.com/13k","followers_url":"https://api.github.com/users/13k/followers","following_url":"https://api.github.com/users/13k/following{/other_user}","gists_url":"https://api.github.com/users/13k/gists{/gist_id}","starred_url":"https://api.github.com/users/13k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/13k/subscriptions","organizations_url":"https://api.github.com/users/13k/orgs","repos_url":"https://api.github.com/users/13k/repos","events_url":"https://api.github.com/users/13k/events{/privacy}","received_events_url":"https://api.github.com/users/13k/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T16:22:08Z","updated_at":"2018-03-17T03:25:25Z","closed_at":"2018-03-17T03:25:25Z","author_association":"NONE","body":"Returning anything other than a `Hash` in `RequestMethods#POST` will break `Rack::Request#params`.\r\n\r\nThis happens because `#params` will blindly call `GET.merge(POST)`, without checking `#POST`'s return value. It works within the confines of Rack's own request body parsing strategy: it will only parse multipart/urlencoded forms, which are inherently `Hash`-like, so it makes sense to `merge` it to the URL query parameters.\r\n\r\nRack's strategy falls apart when `#POST` is overridden. Since it can now parse anything and return anything, it is no longer safe to be `merge`d into `GET`.\r\n\r\n---\r\n\r\nActionDispatch [applies a workaround](https://github.com/rails/rails/blob/63ec63ca8c1aa8eb222bba51ba4d66a0edf1d585/actionpack/lib/action_dispatch/http/parameters.rb#L13) (for JSON only), by wrapping the parsed value in a `{ _json: data }` structure if `data` (the parsed value) is not a `Hash`.\r\n\r\nRails test case:\r\n\r\n```ruby\r\n# routes.rb\r\npost '/', to: 'json#index'\r\n\r\n# json_controller.rb\r\nclass JsonController < ApplicationController\r\n  def index\r\n    render(plain: format(\r\n      \"r.GET: %p\\nr.POST: %p\\nr.parameters: %p\\nparams: %p\\n\",\r\n      request.GET,\r\n      request.POST,\r\n      request.parameters,\r\n      params.to_unsafe_hash,\r\n    ))\r\n  end\r\nend\r\n```\r\n\r\n```\r\n$ curl -g -H 'Content-Type: application/json' -d '[1,2,3]' 'http://localhost:3000/?i=42&arr[]=a&arr[]=b&h[x]=13&h[y]=31'\r\nr.GET: {\"i\"=>\"42\", \"arr\"=>[\"a\", \"b\"], \"h\"=>{\"x\"=>\"13\", \"y\"=>\"31\"}}\r\nr.POST: {\"_json\"=>[1, 2, 3], \"json\"=>{\"_json\"=>[1, 2, 3]}}\r\nr.parameters: {\"_json\"=>[1, 2, 3], \"i\"=>\"42\", \"arr\"=>[\"a\", \"b\"], \"h\"=>{\"x\"=>\"13\", \"y\"=>\"31\"}, \"controller\"=>\"json\", \"action\"=>\"index\", \"json\"=>{\"_json\"=>[1, 2, 3]}}\r\nparams: {\"_json\"=>[1, 2, 3], \"i\"=>\"42\", \"arr\"=>[\"a\", \"b\"], \"h\"=>{\"x\"=>\"13\", \"y\"=>\"31\"}, \"controller\"=>\"json\", \"action\"=>\"index\", \"json\"=>{\"_json\"=>[1, 2, 3]}}\r\n```\r\n\r\nAt some point it wraps the value again, probably using the MIME type symbol/key, so it contains 2 top-level entries for the same data. But I'm not sure where it does this, I didn't dig enough into the `autoload` mess that is actionpack.\r\n\r\n---\r\n\r\nNow, I'm aware that a route expecting a non-`Hash` JSON body and request parameters at the same time would actually be better off by using `r.GET` and `r.POST` separately, but still, if someone inadvertently uses `r.params` to fetch query parameters (as it's so common), an error is raised and the message/backtrace is not entirely helpful, because it will point to a place in the stack that points to Rack's code and it also largely depends on what was passed as the request body:\r\n\r\n```\r\n$ curl -s -X POST -H 'Content-Type: application/json' -d '[]' 'http://localhost:9292/err?param1=value1'\r\n\r\nTypeError: no implicit conversion of Array into Hash\r\n<...>/gems/rack-2.0.4/lib/rack/request.rb:358:in `merge'\r\n<...>/gems/rack-2.0.4/lib/rack/request.rb:358:in `params'\r\n<...>/gems/rack-2.0.4/lib/rack/request.rb:20:in `params'\r\n<...>/application.rb:38:in `block (4 levels) in <class:Application>'\r\n```\r\n\r\nI think it's safer and simple to adopt a strategy like ActionDispatch has.","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/141","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/141/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/141/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/141/events","html_url":"https://github.com/jeremyevans/roda/issues/141","id":298027388,"number":141,"title":"Should the Gemfile be included in the release?","user":{"login":"assistcontrol","id":2219761,"avatar_url":"https://avatars0.githubusercontent.com/u/2219761?v=4","gravatar_id":"","url":"https://api.github.com/users/assistcontrol","html_url":"https://github.com/assistcontrol","followers_url":"https://api.github.com/users/assistcontrol/followers","following_url":"https://api.github.com/users/assistcontrol/following{/other_user}","gists_url":"https://api.github.com/users/assistcontrol/gists{/gist_id}","starred_url":"https://api.github.com/users/assistcontrol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/assistcontrol/subscriptions","organizations_url":"https://api.github.com/users/assistcontrol/orgs","repos_url":"https://api.github.com/users/assistcontrol/repos","events_url":"https://api.github.com/users/assistcontrol/events{/privacy}","received_events_url":"https://api.github.com/users/assistcontrol/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-17T18:54:39Z","updated_at":"2018-02-17T21:30:57Z","closed_at":"2018-02-17T21:17:15Z","author_association":"NONE","body":"Most gems seem to include the Gemfile in the gem tarball. This makes it possible to do ex. `bundle install`. Could roda include the Gemfile in the roda.gemspec too?","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/140","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/140/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/140/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/140/events","html_url":"https://github.com/jeremyevans/roda/issues/140","id":297857327,"number":140,"title":"Documentation update: Roda looks 4x faster than Sinatra","user":{"login":"ababich","id":26865,"avatar_url":"https://avatars1.githubusercontent.com/u/26865?v=4","gravatar_id":"","url":"https://api.github.com/users/ababich","html_url":"https://github.com/ababich","followers_url":"https://api.github.com/users/ababich/followers","following_url":"https://api.github.com/users/ababich/following{/other_user}","gists_url":"https://api.github.com/users/ababich/gists{/gist_id}","starred_url":"https://api.github.com/users/ababich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ababich/subscriptions","organizations_url":"https://api.github.com/users/ababich/orgs","repos_url":"https://api.github.com/users/ababich/repos","events_url":"https://api.github.com/users/ababich/events{/privacy}","received_events_url":"https://api.github.com/users/ababich/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-16T17:12:03Z","updated_at":"2018-02-16T17:18:55Z","closed_at":"2018-02-16T17:18:55Z","author_association":"NONE","body":"Hi! according to recent results based on Hello World bench from https://github.com/luislavena/bench-micro#requestssec\r\n\r\nOn Ruby 2.5 and latest versions of Sinatra (2.0.1) and Roda (3.5.0) I have avg results close to this:\r\n\r\n```\r\nFramework            Requests/sec  % from best\r\n----------------------------------------------\r\nrack                     15131.92      100.00%\r\nwatts                    14194.38       93.80%\r\nsyro                     13474.00       89.04%\r\nroda                     13093.14       86.53%\r\nhobbit                   12498.27       82.60%\r\nhanami-router            12016.36       79.41%\r\ncuba                     11940.37       78.91%\r\nrack-response            11663.71       77.08%\r\nhobby                    11490.01       75.93%\r\nnewark                   10064.76       66.51%\r\nplezi                     9603.98       63.47%\r\nrambutan                  9560.19       63.18%\r\nrack-app                  8226.16       54.36%\r\nrackstep                  7181.35       47.46%\r\nrails-metal               5725.60       37.84%\r\nflame                     5053.43       33.40%\r\nsinatra                   3234.30       21.37%\r\ngrape                     3154.16       20.84%\r\nrails-api                 1326.70        8.77%\r\n```\r\n\r\nWhich hints that you should update docs and fix Roda 3x advantage over Sinatra to 4x\r\n\r\nI believe it may be make sense to mention ~10x advantage over Rails API too","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/139","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/139/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/139/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/139/events","html_url":"https://github.com/jeremyevans/roda/issues/139","id":294211099,"number":139,"title":"Unable to test releases","user":{"login":"assistcontrol","id":2219761,"avatar_url":"https://avatars0.githubusercontent.com/u/2219761?v=4","gravatar_id":"","url":"https://api.github.com/users/assistcontrol","html_url":"https://github.com/assistcontrol","followers_url":"https://api.github.com/users/assistcontrol/followers","following_url":"https://api.github.com/users/assistcontrol/following{/other_user}","gists_url":"https://api.github.com/users/assistcontrol/gists{/gist_id}","starred_url":"https://api.github.com/users/assistcontrol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/assistcontrol/subscriptions","organizations_url":"https://api.github.com/users/assistcontrol/orgs","repos_url":"https://api.github.com/users/assistcontrol/repos","events_url":"https://api.github.com/users/assistcontrol/events{/privacy}","received_events_url":"https://api.github.com/users/assistcontrol/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-04T16:46:06Z","updated_at":"2018-02-04T16:59:03Z","closed_at":"2018-02-04T16:59:03Z","author_association":"NONE","body":"Am I missing a step for running the specs? After unpacking the roda gem, when I run `rake spec` I get this (first 3 of 14 shown):\r\n\r\n```\r\n  1) Error:\r\nstatic plugin#test_0001_adds support for serving static files:\r\nErrno::ENOENT: No such file or directory @ rb_sysopen - spec/views/about/_test.erb\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/static_spec.rb:14:in `read'\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/static_spec.rb:14:in `block (2 levels) in <top (required)>'\r\n\r\n  2) Error:\r\nstatic plugin#test_0002_respects the application's :root option:\r\nErrno::ENOENT: No such file or directory @ rb_sysopen - spec/views/about/_test.erb\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/static_spec.rb:28:in `read'\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/static_spec.rb:28:in `block (2 levels) in <top (required)>'\r\n\r\n  3) Error:\r\ntimestamp_public plugin#test_0001_adds r.timestamp_public for serving static files from timestamp_public folder:\r\nErrno::ENOENT: No such file or directory @ rb_sysopen - spec/views/about/_test.erb\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/timestamp_public_spec.rb:17:in `read'\r\n    /wrkdirs/usr/ports/www/rubygem-roda/work/roda-3.4.0/spec/plugin/timestamp_public_spec.rb:17:in `block (2 levels) in <top (required)>'\r\n```","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/138","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/138/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/138/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/138/events","html_url":"https://github.com/jeremyevans/roda/issues/138","id":292326489,"number":138,"title":"RDoc to Markdown for syntax highlighting","user":{"login":"coisnepe","id":13304454,"avatar_url":"https://avatars3.githubusercontent.com/u/13304454?v=4","gravatar_id":"","url":"https://api.github.com/users/coisnepe","html_url":"https://github.com/coisnepe","followers_url":"https://api.github.com/users/coisnepe/followers","following_url":"https://api.github.com/users/coisnepe/following{/other_user}","gists_url":"https://api.github.com/users/coisnepe/gists{/gist_id}","starred_url":"https://api.github.com/users/coisnepe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coisnepe/subscriptions","organizations_url":"https://api.github.com/users/coisnepe/orgs","repos_url":"https://api.github.com/users/coisnepe/repos","events_url":"https://api.github.com/users/coisnepe/events{/privacy}","received_events_url":"https://api.github.com/users/coisnepe/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-29T08:51:48Z","updated_at":"2018-01-29T15:10:08Z","closed_at":"2018-01-29T12:48:41Z","author_association":"NONE","body":"Hi @jeremyevans ,\r\nWould you be interested in a PR converting the RDoc README to the Markdown format, in order to have syntax highlighting for `code` blocks?","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/136","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/136/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/136/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/136/events","html_url":"https://github.com/jeremyevans/roda/issues/136","id":290509589,"number":136,"title":"Incorrect behaviour for params.has_key?(:key) with indifferent_params plugin","user":{"login":"tpltn","id":6681087,"avatar_url":"https://avatars0.githubusercontent.com/u/6681087?v=4","gravatar_id":"","url":"https://api.github.com/users/tpltn","html_url":"https://github.com/tpltn","followers_url":"https://api.github.com/users/tpltn/followers","following_url":"https://api.github.com/users/tpltn/following{/other_user}","gists_url":"https://api.github.com/users/tpltn/gists{/gist_id}","starred_url":"https://api.github.com/users/tpltn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tpltn/subscriptions","organizations_url":"https://api.github.com/users/tpltn/orgs","repos_url":"https://api.github.com/users/tpltn/repos","events_url":"https://api.github.com/users/tpltn/events{/privacy}","received_events_url":"https://api.github.com/users/tpltn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-22T15:39:42Z","updated_at":"2018-01-22T20:01:25Z","closed_at":"2018-01-22T20:01:25Z","author_association":"NONE","body":"Let's say I have a roda router with an indifferent_params plugin.\r\n\r\nThe error is described by the following code:\r\n\r\n```ruby\r\n# GET /users?user_id=1\r\nr.get do\r\n  params[:user_id]\r\n  #=> 1, as expected\r\n\r\n  params.has_key?('user_id')\r\n  #=> true, as expected\r\n\r\n  params.has_key?(:user_id)\r\n  #=> false, but expected result is true\r\n  # as well as #fetch(:user_id) and possibly some other hash methods\r\nend\r\n```","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/135","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/135/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/135/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/135/events","html_url":"https://github.com/jeremyevans/roda/issues/135","id":289720620,"number":135,"title":"NoMethodError when using content_for","user":{"login":"plujon","id":8648864,"avatar_url":"https://avatars2.githubusercontent.com/u/8648864?v=4","gravatar_id":"","url":"https://api.github.com/users/plujon","html_url":"https://github.com/plujon","followers_url":"https://api.github.com/users/plujon/followers","following_url":"https://api.github.com/users/plujon/following{/other_user}","gists_url":"https://api.github.com/users/plujon/gists{/gist_id}","starred_url":"https://api.github.com/users/plujon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plujon/subscriptions","organizations_url":"https://api.github.com/users/plujon/orgs","repos_url":"https://api.github.com/users/plujon/repos","events_url":"https://api.github.com/users/plujon/events{/privacy}","received_events_url":"https://api.github.com/users/plujon/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-18T17:53:50Z","updated_at":"2018-01-18T18:15:43Z","closed_at":"2018-01-18T18:15:43Z","author_association":"NONE","body":"    require 'roda'\r\n    class App < Roda\r\n      plugin :content_for\r\n      plugin :render\r\n      route do |r|\r\n        r.get do\r\n          render(inline: '<% content_for :foo do %><% end %>')\r\n        end\r\n      end\r\n    end\r\n    run App.freeze.app\r\n    # NoMethodError: undefined method `scan' for nil:NilClass\r\n    # \t/var/lib/gems/2.3.0/gems/erubi-1.7.0/lib/erubi.rb:94:in `initialize'\r\n    # \t/var/lib/gems/2.3.0/gems/tilt-2.0.7/lib/tilt/erubi.rb:19:in `new'\r\n    # \t/var/lib/gems/2.3.0/gems/tilt-2.0.7/lib/tilt/erubi.rb:19:in `prepare'\r\n    # \t/var/lib/gems/2.3.0/gems/tilt-2.0.7/lib/tilt/template.rb:99:in `initialize'\r\n    #       /var/lib/gems/2.3.0/gems/roda-3.4.0/lib/roda/plugins/content_for.rb:65:in `new'\r\n    #       /var/lib/gems/2.3.0/gems/roda-3.4.0/lib/roda/plugins/content_for.rb:65:in `content_for'\r\n    #       <% content_for :foo do %><% end %>:1:in `block in singleton class'","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/134","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/134/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/134/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/134/events","html_url":"https://github.com/jeremyevans/roda/issues/134","id":277141891,"number":134,"title":"json-parser plugin does not handle DELETE requests","user":{"login":"smackesey","id":1531373,"avatar_url":"https://avatars1.githubusercontent.com/u/1531373?v=4","gravatar_id":"","url":"https://api.github.com/users/smackesey","html_url":"https://github.com/smackesey","followers_url":"https://api.github.com/users/smackesey/followers","following_url":"https://api.github.com/users/smackesey/following{/other_user}","gists_url":"https://api.github.com/users/smackesey/gists{/gist_id}","starred_url":"https://api.github.com/users/smackesey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smackesey/subscriptions","organizations_url":"https://api.github.com/users/smackesey/orgs","repos_url":"https://api.github.com/users/smackesey/repos","events_url":"https://api.github.com/users/smackesey/events{/privacy}","received_events_url":"https://api.github.com/users/smackesey/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-27T19:37:42Z","updated_at":"2017-11-27T20:44:03Z","closed_at":"2017-11-27T20:42:45Z","author_association":"NONE","body":"I'm using Roda to implement a [JSONAPI](http://jsonapi.org/) API. I'm attempting to use the [`json-parser`](http://roda.jeremyevans.net/rdoc/classes/Roda/RodaPlugins/JsonParser.html) plugin to parse incoming JSON bodies. Unfortunately, this only seems to work for POST and PATCH requests -- it doesn't work for DELETE (and it needs to for JSONAPI). The documentation does not mention that request bodies are parsed only for certain HTTP methods. And when I look at the source, I can't see any way to change this behavior. It seems like the conditions under which the parser is invoked should at least be documented and, even better, configurable.","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/132","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/132/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/132/events","html_url":"https://github.com/jeremyevans/roda/issues/132","id":269693269,"number":132,"title":"Slow regexp matching ","user":{"login":"mig1984","id":7932987,"avatar_url":"https://avatars0.githubusercontent.com/u/7932987?v=4","gravatar_id":"","url":"https://api.github.com/users/mig1984","html_url":"https://github.com/mig1984","followers_url":"https://api.github.com/users/mig1984/followers","following_url":"https://api.github.com/users/mig1984/following{/other_user}","gists_url":"https://api.github.com/users/mig1984/gists{/gist_id}","starred_url":"https://api.github.com/users/mig1984/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mig1984/subscriptions","organizations_url":"https://api.github.com/users/mig1984/orgs","repos_url":"https://api.github.com/users/mig1984/repos","events_url":"https://api.github.com/users/mig1984/events{/privacy}","received_events_url":"https://api.github.com/users/mig1984/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-30T17:48:13Z","updated_at":"2017-10-30T18:06:46Z","closed_at":"2017-10-30T18:06:46Z","author_association":"NONE","body":"Hi, I have noticed an unexpected behaviour of a custom regexp used in Roda. Sometimes it was very slow (the slower, the longer the url was). Steps to reproduce with Roda 3.1.0 (and perhaps also older versions):\r\n\r\n```\r\nurl = \"/foo/bar/baz-bar-bar-bar-bar-bar-bar.html\"\r\n\r\n# pattern used in r.on to match one or multiple directories from the url\r\npattern = /(([\\w\\d_-]+\\/?)+)/\r\n\r\n# this is how Roda includes the pattern in it's consume_pattern\r\nurl =~ /\\A\\/(?:#{pattern})(?=\\/|\\z)/\r\n\r\n```\r\nThe problem is the ending bracket (?=\\/|\\z). I have tried several variants with these results:\r\n```\r\n(?=\\/)  # slow\r\n(\\z)     # slow\r\n(\\/?)    # fast\r\n```\r\n\r\nSo I have used the last variant with no \\z and no look-ahead. Therefore I had to re-add the possibly matched slash. Roda's code changes:\r\n\r\n```\r\n   def consume_pattern(pattern)\r\n     /\\A\\/(?:#{pattern})(\\/?)/\r\n   end\r\n\r\n   def _match_class_Integer\r\n     consume(/\\A\\/(\\d+)(\\/?)/){|i| [i.to_i]}\r\n   end\r\n\r\n   def consume(pattern)\r\n     if matchdata = remaining_path.match(pattern)\r\n       @remaining_path = matchdata.captures[-1] + matchdata.post_match\r\n       captures = matchdata.captures[0..-2]\r\n       captures = yield(*captures) if block_given?\r\n       @captures.concat(captures)\r\n     end\r\n   end\r\n\r\n```\r\nIt works for me, but still I don't know the purpose of the \"\\z\" in the wrapping pattern? Is it necessary to be there?","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/130","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/130/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/130/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/130/events","html_url":"https://github.com/jeremyevans/roda/issues/130","id":265160725,"number":130,"title":"public plugin","user":{"login":"bkeane","id":5049114,"avatar_url":"https://avatars3.githubusercontent.com/u/5049114?v=4","gravatar_id":"","url":"https://api.github.com/users/bkeane","html_url":"https://github.com/bkeane","followers_url":"https://api.github.com/users/bkeane/followers","following_url":"https://api.github.com/users/bkeane/following{/other_user}","gists_url":"https://api.github.com/users/bkeane/gists{/gist_id}","starred_url":"https://api.github.com/users/bkeane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkeane/subscriptions","organizations_url":"https://api.github.com/users/bkeane/orgs","repos_url":"https://api.github.com/users/bkeane/repos","events_url":"https://api.github.com/users/bkeane/events{/privacy}","received_events_url":"https://api.github.com/users/bkeane/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-13T03:40:34Z","updated_at":"2017-10-13T04:12:09Z","closed_at":"2017-10-13T03:56:02Z","author_association":"NONE","body":"Hello!\r\n\r\nIt seems the public static file service plugin is not currently functional.\r\n\r\nexample:\r\n```ruby\r\n# config.ru\r\nrequire 'roda'\r\nclass App < Roda\r\n  plugin :public\r\n  route { |r| r.root { \"test\" } }\r\nend\r\n\r\nrun App.freeze.app\r\n```\r\nwhere ./public/index.html exists\r\n\r\nGET /index.html => 404","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/128","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/128/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/128/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/128/events","html_url":"https://github.com/jeremyevans/roda/issues/128","id":263688009,"number":128,"title":"Plugin :assets, a path to an asset file(s)","user":{"login":"GildedHonour","id":2032888,"avatar_url":"https://avatars1.githubusercontent.com/u/2032888?v=4","gravatar_id":"","url":"https://api.github.com/users/GildedHonour","html_url":"https://github.com/GildedHonour","followers_url":"https://api.github.com/users/GildedHonour/followers","following_url":"https://api.github.com/users/GildedHonour/following{/other_user}","gists_url":"https://api.github.com/users/GildedHonour/gists{/gist_id}","starred_url":"https://api.github.com/users/GildedHonour/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GildedHonour/subscriptions","organizations_url":"https://api.github.com/users/GildedHonour/orgs","repos_url":"https://api.github.com/users/GildedHonour/repos","events_url":"https://api.github.com/users/GildedHonour/events{/privacy}","received_events_url":"https://api.github.com/users/GildedHonour/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-08T02:47:42Z","updated_at":"2017-10-08T05:50:26Z","closed_at":"2017-10-08T05:50:26Z","author_association":"NONE","body":"1) How can I get a path to a single asset such as a   image from a view? Something like:\r\n\r\n`    <img src=\"<%= asset_path(\"my_image.png\") %>\" />`\r\n\r\n2) Do I have to enum all images I use accross my application in the \"rb\" file to be able to access them from views? Something like:\r\n\r\n```\r\n # config.ru\r\n  plugin :assets, \r\n    images: {img1: \"my_image1.png\", img2: \"my_image2.png\"}\r\n\r\n   # view.erb\r\n   <img src=\"<%= asset_path(:img1) %>\" />\r\n```\r\n\r\nIf so, is there a way to avoid that and merely use an image in a view without having to declare it the way I've shown above?\r\n\r\n\r\n\r\n ","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/127","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/127/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/127/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/127/events","html_url":"https://github.com/jeremyevans/roda/issues/127","id":251339898,"number":127,"title":"\"foobar\" 
8000
in Matchers section of README -- where'd it go?","user":{"login":"billdueber","id":114006,"avatar_url":"https://avatars0.githubusercontent.com/u/114006?v=4","gravatar_id":"","url":"https://api.github.com/users/billdueber","html_url":"https://github.com/billdueber","followers_url":"https://api.github.com/users/billdueber/followers","following_url":"https://api.github.com/users/billdueber/following{/other_user}","gists_url":"https://api.github.com/users/billdueber/gists{/gist_id}","starred_url":"https://api.github.com/users/billdueber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billdueber/subscriptions","organizations_url":"https://api.github.com/users/billdueber/orgs","repos_url":"https://api.github.com/users/billdueber/repos","events_url":"https://api.github.com/users/billdueber/events{/privacy}","received_events_url":"https://api.github.com/users/billdueber/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-18T19:38:15Z","updated_at":"2017-08-18T19:38:46Z","closed_at":"2017-08-18T19:38:46Z","author_association":"NONE","body":"https://github.com/jeremyevans/roda/blob/master/README.rdoc#matchers has:\r\n\r\n```ruby\r\n\r\n   # GET /username/foobar branch\r\n    r.on \"username\", String, method: :get do |username|\r\n      user = User.find_by_username(username)\r\n\r\n      # GET /username/foobar/posts\r\n      r.is \"posts\" do\r\n        # You can access user here, because the blocks are closures.\r\n        \"Total Posts: #{user.posts.size}\" #=> \"Total Posts: 6\"\r\n      end\r\n\r\n```\r\n\r\nIs the `foobar` actually getting eaten by the matcher, or is this a documentation error?","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/125","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/125/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/125/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/125/events","html_url":"https://github.com/jeremyevans/roda/issues/125","id":250819079,"number":125,"title":"Alternatives for Block Spaghetti","user":{"login":"r-obert","id":8934693,"avatar_url":"https://avatars1.githubusercontent.com/u/8934693?v=4","gravatar_id":"","url":"https://api.github.com/users/r-obert","html_url":"https://github.com/r-obert","followers_url":"https://api.github.com/users/r-obert/followers","following_url":"https://api.github.com/users/r-obert/following{/other_user}","gists_url":"https://api.github.com/users/r-obert/gists{/gist_id}","starred_url":"https://api.github.com/users/r-obert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r-obert/subscriptions","organizations_url":"https://api.github.com/users/r-obert/orgs","repos_url":"https://api.github.com/users/r-obert/repos","events_url":"https://api.github.com/users/r-obert/events{/privacy}","received_events_url":"https://api.github.com/users/r-obert/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-08-17T03:22:12Z","updated_at":"2017-08-17T12:11:29Z","closed_at":"2017-08-17T03:31:35Z","author_association":"NONE","body":"How do you avoid it? \r\n\r\nLooking at an example from the README:\r\n```ruby\r\nr.on \"a\" do           # /a branch\r\n  check_perm(:A)  \r\n  r.on \"b\" do         # /a/b branch\r\n    check_perm(:B)  \r\n    r.is \"c\" do       # /a/b/c request\r\n      r.get do end    # GET  /a/b/c request\r\n      r.post do end   # POST /a/b/c request\r\n    end\r\n    r.get \"d\" do end  # GET  /a/b/d request\r\n    r.post \"e\" do end # POST /a/b/e request\r\n  end\r\nend\r\n```\r\ngives me the impression that Roda lends itself to the same pitfalls that Sinatra does, but even more so. The examples also have no implementation. Once you go implement code, you could already be 3 or 4 block-levels deep.\r\n\r\nIs there any way, or plans, to map a routing tree to a class that doesn't use blocks as entry point, and less like a DSL? I know this is likely a mailing list question, sorry. ","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/120","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/120/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/120/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/120/events","html_url":"https://github.com/jeremyevans/roda/issues/120","id":236013965,"number":120,"title":"Roda::Request#halt returns nil headers","user":{"login":"cptaffe","id":5462583,"avatar_url":"https://avatars2.githubusercontent.com/u/5462583?v=4","gravatar_id":"","url":"https://api.github.com/users/cptaffe","html_url":"https://github.com/cptaffe","followers_url":"https://api.github.com/users/cptaffe/followers","following_url":"https://api.github.com/users/cptaffe/following{/other_user}","gists_url":"https://api.github.com/users/cptaffe/gists{/gist_id}","starred_url":"https://api.github.com/users/cptaffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cptaffe/subscriptions","organizations_url":"https://api.github.com/users/cptaffe/orgs","repos_url":"https://api.github.com/users/cptaffe/repos","events_url":"https://api.github.com/users/cptaffe/events{/privacy}","received_events_url":"https://api.github.com/users/cptaffe/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-06-14T21:23:27Z","updated_at":"2017-06-15T14:29:38Z","closed_at":"2017-06-15T14:29:38Z","author_association":"NONE","body":"In Puma, `r.halt(404)` returns a nil headers hash. In puma 3.9.1 `/lib/puma/server.rb:679`, puma calls `headers.each`, resulting in a server failure and a 500. I can't tell if this is an error on the part of Puma assuming `headers` will be non-nil or of Roda for returning nil headers.","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/115","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/115/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/115/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/115/events","html_url":"https://github.com/jeremyevans/roda/issues/115","id":222609512,"number":115,"title":"Can't render rabl templates due to frozen opts passed as locals","user":{"login":"badosu","id":347552,"avatar_url":"https://avatars1.githubusercontent.com/u/347552?v=4","gravatar_id":"","url":"https://api.github.com/users/badosu","html_url":"https://github.com/badosu","followers_url":"https://api.github.com/users/badosu/followers","following_url":"https://api.github.com/users/badosu/following{/other_user}","gists_url":"https://api.github.com/users/badosu/gists{/gist_id}","starred_url":"https://api.github.com/users/badosu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badosu/subscriptions","organizations_url":"https://api.github.com/users/badosu/orgs","repos_url":"https://api.github.com/users/badosu/repos","events_url":"https://api.github.com/users/badosu/events{/privacy}","received_events_url":"https://api.github.com/users/badosu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-04-19T03:48:13Z","updated_at":"2017-04-19T03:52:31Z","closed_at":"2017-04-19T03:52:31Z","author_association":"NONE","body":"The Rabl engine for Tilt changes the locals hash state when rendering (see https://github.com/nesquena/rabl/blob/master/lib/rabl/engine.rb#L405).\r\n\r\nThe render plugin however provides the `OPTS` hash as locals when none is provided, but this hash is frozen, which gives a `RuntimeError` when it gets to the the aforementioned line. (See https://github.com/jeremyevans/roda/blob/master/lib/roda/plugins/render.rb#L149 and https://github.com/jeremyevans/roda/blob/5c142e99c4ad0998a7f7b7b7c669a965ca7aaa65/lib/roda/plugins/render.rb#L255).\r\n\r\nThe workaround is to explicitly pass `locals: {}` when calling render.\r\n\r\nThe cause of this error is somewhat evident, but if necessary, I can provide an app with the minimal reproduction.\r\n\r\nBacktrace:\r\n<details>\r\n```\r\nRuntimeError - can't modify frozen Hash:\r\n  rabl (0.13.1) lib/rabl/engine.rb:405:in `set_locals'\r\n  rabl (0.13.1) lib/rabl/engine.rb:401:in `set_instance_variables!'\r\n  rabl (0.13.1) lib/rabl/engine.rb:30:in `apply'\r\n  rabl (0.13.1) lib/rabl/template.rb:15:in `evaluate'\r\n  tilt (2.0.7) lib/tilt/template.rb:109:in `render'\r\n  roda (2.25.0) lib/roda/plugins/render.rb:265:in `render'\r\n  lib/mastodon/api.rb:31:in `block (3 levels) in <class:API>'\r\n  roda (2.25.0) lib/roda.rb:767:in `always'\r\n  roda (2.25.0) lib/roda.rb:758:in `_verb'\r\n  roda (2.25.0) lib/roda.rb:388:in `get'\r\n  lib/mastodon/api.rb:20:in `block (2 levels) in <class:API>'\r\n  roda (2.25.0) lib/roda.rb:832:in `if_match'\r\n  roda (2.25.0) lib/roda.rb:464:in `is'\r\n  lib/mastodon/api.rb:19:in `block in <class:API>'\r\n  roda (2.25.0) lib/roda.rb:261:in `block in call'\r\n  roda (2.25.0) lib/roda.rb:259:in `call'\r\n  roda (2.25.0) lib/roda.rb:228:in `block in build_rack_app'\r\n  warden (1.2.7) lib/warden/manager.rb:32:in `call'\r\n  roda (2.25.0) lib/roda.rb:117:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/routing/mapper.rb:17:in `block in <class:Constraints>'\r\n  actionpack (5.0.2) lib/action_dispatch/routing/mapper.rb:46:in `serve'\r\n  actionpack (5.0.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'\r\n  actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `serve'\r\n  actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:725:in `call'\r\n  bullet (5.5.1) lib/bullet/rack.rb:12:in `call'\r\n  http_accept_language (2.1.0) lib/http_accept_language/middleware.rb:14:in `call'\r\n  rack (2.0.1) lib/rack/deflater.rb:35:in `call'\r\n  rack-attack (5.0.1) lib/rack/attack.rb:147:in `call'\r\n  warden (1.2.7) lib/warden/manager.rb:36:in `block in call'\r\n  warden (1.2.7) lib/warden/manager.rb:35:in `call'\r\n  rack (2.0.1) lib/rack/etag.rb:25:in `call'\r\n  rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'\r\n  rack (2.0.1) lib/rack/head.rb:12:in `call'\r\n  rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'\r\n  rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'\r\n  activerecord (5.0.2) lib/active_record/migration.rb:553:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'\r\n  activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'\r\n  activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'\r\n  activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'\r\n  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'\r\n  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'\r\n  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'\r\n  railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'\r\n  railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'\r\n  activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'\r\n  activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'\r\n  activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'\r\n  railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'\r\n  sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'\r\n  rack (2.0.1) lib/rack/method_override.rb:22:in `call'\r\n  rack (2.0.1) lib/rack/runtime.rb:22:in `call'\r\n  rack-timeout (0.4.2) lib/rack/timeout/core.rb:100:in `call'\r\n  activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'\r\n  actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'\r\n  rack (2.0.1) lib/rack/sendfile.rb:111:in `call'\r\n  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'\r\n  railties (5.0.2) lib/rails/engine.rb:522:in `call'\r\n  puma (3.8.2) lib/puma/configuration.rb:224:in `call'\r\n  puma (3.8.2) lib/puma/server.rb:600:in `handle_request'\r\n  puma (3.8.2) lib/puma/server.rb:435:in `process_client'\r\n  puma (3.8.2) lib/puma/server.rb:299:in `block in run'\r\n  puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'\r\n```\r\n</details>","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/110","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/110/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/110/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/110/events","html_url":"https://github.com/jeremyevans/roda/issues/110","id":210911923,"number":110,"title":"Make hooks work with static routes","user":{"login":"mwpastore","id":8540936,"avatar_url":"https://avatars3.githubusercontent.com/u/8540936?v=4","gravatar_id":"","url":"https://api.github.com/users/mwpastore","html_url":"https://github.com/mwpastore","followers_url":"https://api.github.com/users/mwpastore/followers","following_url":"https://api.github.com/users/mwpastore/following{/other_user}","gists_url":"https://api.github.com/users/mwpastore/gists{/gist_id}","starred_url":"https://api.github.com/users/mwpastore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwpastore/subscriptions","organizations_url":"https://api.github.com/users/mwpastore/orgs","repos_url":"https://api.github.com/users/mwpastore/repos","events_url":"https://api.github.com/users/mwpastore/events{/privacy}","received_events_url":"https://api.github.com/users/mwpastore/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-02-28T21:50:36Z","updated_at":"2017-02-28T22:29:34Z","closed_at":"2017-02-28T22:19:45Z","author_association":"NONE","body":"`before`/`after` hooks (enabled by the hooks plugin) do not work with static routes (enabled by the static_routing plugin). Is there a way to make them work together or are they completely incompatible with each other? ","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/105","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/105/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/105/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/105/events","html_url":"https://github.com/jeremyevans/roda/issues/105","id":199343569,"number":105,"title":"Does Roda Caching Plugin work with SSL?","user":{"login":"fearnowrath","id":11582241,"avatar_url":"https://avatars1.githubusercontent.com/u/11582241?v=4","gravatar_id":"","url":"https://api.github.com/users/fearnowrath","html_url":"https://github.com/fearnowrath","followers_url":"https://api.github.com/users/fearnowrath/followers","following_url":"https://api.github.com/users/fearnowrath/following{/other_user}","gists_url":"https://api.github.com/users/fearnowrath/gists{/gist_id}","starred_url":"https://api.github.com/users/fearnowrath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fearnowrath/subscriptions","organizations_url":"https://api.github.com/users/fearnowrath/orgs","repos_url":"https://api.github.com/users/fearnowrath/repos","events_url":"https://api.github.com/users/fearnowrath/events{/privacy}","received_events_url":"https://api.github.com/users/fearnowrath/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-01-07T05:40:51Z","updated_at":"2017-01-08T07:34:18Z","closed_at":"2017-01-07T17:46:56Z","author_association":"NONE","body":"Hello,\r\nI am thinking of switching my site to https. But I just wanted to make sure that Roda cache supports SSL because I am making heavy use of the plugin. I am using nginx and thin. There's no login system on the site, its more like a blog but I just wanted to switch it to SSL for its other benefits. \r\n\r\nthank you.","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/104","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/104/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/104/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/104/events","html_url":"https://github.com/jeremyevans/roda/issues/104","id":180371775,"number":104,"title":"Rack 2.0?","user":{"login":"epinault","id":479143,"avatar_url":"https://avatars1.githubusercontent.com/u/479143?v=4","gravatar_id":"","url":"https://api.github.com/users/epinault","html_url":"https://github.com/epinault","followers_url":"https://api.github.com/users/epinault/followers","following_url":"https://api.github.com/users/epinault/following{/other_user}","gists_url":"https://api.github.com/users/epinault/gists{/gist_id}","starred_url":"https://api.github.com/users/epinault/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epinault/subscriptions","organizations_url":"https://api.github.com/users/epinault/orgs","repos_url":"https://api.github.com/users/epinault/repos","events_url":"https://api.github.com/users/epinault/events{/privacy}","received_events_url":"https://api.github.com/users/epinault/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-09-30T18:31:13Z","updated_at":"2016-09-30T19:28:22Z","closed_at":"2016-09-30T18:34:15Z","author_association":"NONE","body":"Hi\n\nI see that rack has a 2.0.1 release. Does Roda works with rack 2.x?\n\nThanks\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/101","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/101/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/101/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/101/events","html_url":"https://github.com/jeremyevans/roda/issues/101","id":179201559,"number":101,"title":"halt plugin: 204 not properly handled","user":{"login":"HoneyryderChuck","id":215707,"avatar_url":"https://avatars3.githubusercontent.com/u/215707?v=4","gravatar_id":"","url":"https://api.github.com/users/HoneyryderChuck","html_url":"https://github.com/HoneyryderChuck","followers_url":"https://api.github.com/users/HoneyryderChuck/followers","following_url":"https://api.github.com/users/HoneyryderChuck/following{/other_user}","gists_url":"https://api.github.com/users/HoneyryderChuck/gists{/gist_id}","starred_url":"https://api.github.com/users/HoneyryderChuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoneyryderChuck/subscriptions","organizations_url":"https://api.github.com/users/HoneyryderChuck/orgs","repos_url":"https://api.github.com/users/HoneyryderChuck/repos","events_url":"https://api.github.com/users/HoneyryderChuck/events{/privacy}","received_events_url":"https://api.github.com/users/HoneyryderChuck/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-09-26T11:17:28Z","updated_at":"2016-09-27T05:59:33Z","closed_at":"2016-09-26T15:20:29Z","author_association":"NONE","body":"I'm using roda with halt plugin. For the delete route case I wanted to reply with 204 status code, so I have:\n\n``` ruby\n  @resource.destroy\n  r.halt 204\n```\n\nrack breaks with `Rack::Lint::LintError: Content-Type header found in 204 response, not allowed`. This seems to be due to roda, which by default sets the response default headers and the `Content-Type`. Roda should detect if the status of the response is already set, and if so, only set Content-Type when it's allowed. [List of status codes is here](https://github.com/rack/rack/blob/master/lib/rack/utils.rb#L5799). [This is where roda is setting them](https://github.com/jeremyevans/roda/blob/master/lib/roda.rb#L936). \n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/99","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/99/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/99/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/99/events","html_url":"https://github.com/jeremyevans/roda/issues/99","id":176853028,"number":99,"title":"assets: no support for custom types","user":{"login":"HoneyryderChuck","id":215707,"avatar_url":"https://avatars3.githubusercontent.com/u/215707?v=4","gravatar_id":"","url":"https://api.github.com/users/HoneyryderChuck","html_url":"https://github.com/HoneyryderChuck","followers_url":"https://api.github.com/users/HoneyryderChuck/followers","following_url":"https://api.github.com/users/HoneyryderChuck/following{/other_user}","gists_url":"https://api.github.com/users/HoneyryderChuck/gists{/gist_id}","starred_url":"https://api.github.com/users/HoneyryderChuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoneyryderChuck/subscriptions","organizations_url":"https://api.github.com/users/HoneyryderChuck/orgs","repos_url":"https://api.github.com/users/HoneyryderChuck/repos","events_url":"https://api.github.com/users/HoneyryderChuck/events{/privacy}","received_events_url":"https://api.github.com/users/HoneyryderChuck/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2016-09-14T09:03:12Z","updated_at":"2016-09-15T05:41:45Z","closed_at":"2016-09-14T18:38:05Z","author_association":"NONE","body":"I've started using the assets plugin, and it seems it doesn't support custom types. I assumed that doing:\n\n``` ruby\n<%= assets(:js, type: \"text/babel\") %>\n```\n\nwould replace the type of the script tag, but it doesn't. I guess it's due do https://github.com/jeremyevans/roda/blob/master/lib/roda/plugins/assets.rb#L668-L674 .\n\nWould this be something worth fixing? Pre-compiling babel is possible in the backend, but I was experimenting with frontend processing. \n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/94","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/94/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/94/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/94/events","html_url":"https://github.com/jeremyevans/roda/issues/94","id":173130341,"number":94,"title":"Is it possible to redirect an error page in Roda?","user":{"login":"fearnowrath","id":11582241,"avatar_url":"https://avatars1.githubusercontent.com/u/11582241?v=4","gravatar_id":"","url":"https://api.github.com/users/fearnowrath","html_url":"https://github.com/fearnowrath","followers_url":"https://api.github.com/users/fearnowrath/followers","following_url":"https://api.github.com/users/fearnowrath/following{/other_user}","gists_url":"https://api.github.com/users/fearnowrath/gists{/gist_id}","starred_url":"https://api.github.com/users/fearnowrath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fearnowrath/subscriptions","organizations_url":"https://api.github.com/users/fearnowrath/orgs","repos_url":"https://api.github.com/users/fearnowrath/repos","events_url":"https://api.github.com/users/fearnowrath/events{/privacy}","received_events_url":"https://api.github.com/users/fearnowrath/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-08-25T07:17:17Z","updated_at":"2016-08-25T15:00:40Z","closed_at":"2016-08-25T13:58:21Z","author_association":"NONE","body":"I was wondering if it is possible to redirect a 404 or any other error page in roda to some other page lets say the homepage. I am using both error_handler and status_handler plugins but from the docs it appears they need to be used outside the `route do |r| end`. Because of that, I am not able to redirect it. So is there a way to do that?\n\nthanks\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/92","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/92/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/92/events","html_url":"https://github.com/jeremyevans/roda/issues/92","id":172511033,"number":92,"title":"not_allowed and head plugin not setting Allow HEAD when GET is supported","user":{"login":"dkubb","id":133,"avatar_url":"https://avatars2.githubusercontent.com/u/133?v=4","gravatar_id":"","url":"https://api.github.com/users/dkubb","html_url":"https://github.com/dkubb","followers_url":"https://api.github.com/users/dkubb/followers","following_url":"https://api.github.com/users/dkubb/following{/other_user}","gists_url":"https://api.github.com/users/dkubb/gists{/gist_id}","starred_url":"https://api.github.com/users/dkubb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkubb/subscriptions","organizations_url":"https://api.github.com/users/dkubb/orgs","repos_url":"https://api.github.com/users/dkubb/repos","events_url":"https://api.github.com/users/dkubb/events{/privacy}","received_events_url":"https://api.github.com/users/dkubb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-08-22T17:38:58Z","updated_at":"2016-08-23T16:36:09Z","closed_at":"2016-08-23T16:36:09Z","author_association":"NONE","body":"If the `not_allowed` and `head` plugin are used together, the `Allow` header is not including the `HEAD` method when the `GET` method is supported.\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/91","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/91/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/91/events","html_url":"https://github.com/jeremyevans/roda/issues/91","id":171587016,"number":91,"title":"Hyphen in Dynamic URL not working with NGINX","user":{"login":"fearnowrath","id":11582241,"avatar_url":"https://avatars1.githubusercontent.com/u/11582241?v=4","gravatar_id":"","url":"https://api.github.com/users/fearnowrath","html_url":"https://github.com/fearnowrath","followers_url":"https://api.github.com/users/fearnowrath/followers","following_url":"https://api.github.com/users/fearnowrath/following{/other_user}","gists_url":"https://api.github.com/users/fearnowrath/gists{/gist_id}","starred_url":"https://api.github.com/users/fearnowrath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fearnowrath/subscriptions","organizations_url":"https://api.github.com/users/fearnowrath/orgs","repos_url":"https://api.github.com/users/fearnowrath/repos","events_url":"https://api.github.com/users/fearnowrath/events{/privacy}","received_events_url":"https://api.github.com/users/fearnowrath/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-08-17T06:53:30Z","updated_at":"2016-08-18T07:07:24Z","closed_at":"2016-08-17T17:49:11Z","author_association":"NONE","body":"Hello,\nI built an application in Roda and tried deploying it to a VPS with NGINX as the server. \nNow this works on my PC:\nlets say url is http://localhost:9292/products-10\n\n```\nr.get \"products-:id\" do |id|\n...do stuff...\nend\n```\n\nbut on the online server, it gives an internal server error. any idea why?\n\nthanks.\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/83","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/83/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/83/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/83/events","html_url":"https://github.com/jeremyevans/roda/issues/83","id":168128488,"number":83,"title":"match_affix plugin doesn't work properly","user":{"login":"fearnowrath","id":11582241,"avatar_url":"https://avatars1.githubusercontent.com/u/11582241?v=4","gravatar_id":"","url":"https://api.github.com/users/fearnowrath","html_url":"https://github.com/fearnowrath","followers_url":"https://api.github.com/users/fearnowrath/followers","following_url":"https://api.github.com/users/fearnowrath/following{/other_user}","gists_url":"https://api.github.com/users/fearnowrath/gists{/gist_id}","starred_url":"https://api.github.com/users/fearnowrath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fearnowrath/subscriptions","organizations_url":"https://api.github.com/users/fearnowrath/orgs","repos_url":"https://api.github.com/users/fearnowrath/repos","events_url":"https://api.github.com/users/fearnowrath/events{/privacy}","received_events_url":"https://api.github.com/users/fearnowrath/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-07-28T15:42:12Z","updated_at":"2016-07-28T16:35:44Z","closed_at":"2016-07-28T16:29:26Z","author_association":"NONE","body":"I am trying to use the match_affix plugin so that it consumes the trailing slash. When match_affix is used with r.on, it doesn't work. However, it works when the full route is used with r.get. eg, when i open localhost:9292/hello/world/ the first code gives a blank page, while the second one works fine.\n\n```\nrequire \"roda\"\nclass App < Roda\nplugin :match_affix, nil, /(\\/|\\z)/\n\n  route do |r|\n    r.root do\n      r.redirect \"/hello\"\n    end\n\n    r.on \"hello\" do\n      r.get \"world\" do\n        \"hello world!\"\n      end\nend\nend\nend\n```\n\nCode 2:\n\n```\nrequire \"roda\"\nclass App < Roda\nplugin :match_affix, nil, /(\\/|\\z)/\n\n  route do |r|\n\n      r.get \"hello/world\" do\n        \"hello world!\"\n      end\n\nend\nend\n```\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/82","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/82/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/82/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/82/events","html_url":"https://github.com/jeremyevans/roda/issues/82","id":167758275,"number":82,"title":"type_routing plugin does not appear to work for sub apps when loaded on parent app","user":{"login":"kenaniah","id":363800,"avatar_url":"https://avatars2.githubusercontent.com/u/363800?v=4","gra
2929
vatar_id":"","url":"https://api.github.com/users/kenaniah","html_url":"https://github.com/kenaniah","followers_url":"https://api.github.com/users/kenaniah/followers","following_url":"https://api.github.com/users/kenaniah/following{/other_user}","gists_url":"https://api.github.com/users/kenaniah/gists{/gist_id}","starred_url":"https://api.github.com/users/kenaniah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kenaniah/subscriptions","organizations_url":"https://api.github.com/users/kenaniah/orgs","repos_url":"https://api.github.com/users/kenaniah/repos","events_url":"https://api.github.com/users/kenaniah/events{/privacy}","received_events_url":"https://api.github.com/users/kenaniah/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-27T02:56:17Z","updated_at":"2016-07-27T05:19:09Z","closed_at":"2016-07-27T05:19:09Z","author_association":"NONE","body":"Given the following app:\n\n``` ruby\nclass App < Roda\n  plugin :type_routing, use_headers: false\nend\n\nclass Sub < App\n  route do |r|\n    r.get 'a' do\n      r.html{ \"<h1>This is the HTML response</h1>\" }\n      r.json{ '{\"json\": \"ok\"}' }\n      r.xml{ \"<root>This is the XML response</root>\" }\n      \"Unsupported data type\"\n    end\n  end\nend\n\nclass Routes < App\n  route do |r|\n    r.on \"subpath\", proc { r.run Sub }\n  end\nend\n\nclass App\n  route do |r|\n    r.run Routes\n  end\nend\n```\n\nThe app does not route by type as expected:\n- `/subpath/a` -> html (works)\n- `/subpath/a.html` -> html (works)\n- `/subpath/a.json` -> html (broken)\n- `/subpath/a.xml` -> html (broken)\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/80","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/80/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/80/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/80/events","html_url":"https://github.com/jeremyevans/roda/issues/80","id":167225626,"number":80,"title":"Locals aren't rendered in the layout (render plugin)","user":{"login":"jrgns","id":170848,"avatar_url":"https://avatars0.githubusercontent.com/u/170848?v=4","gravatar_id":"","url":"https://api.github.com/users/jrgns","html_url":"https://github.com/jrgns","followers_url":"https://api.github.com/users/jrgns/followers","following_url":"https://api.github.com/users/jrgns/following{/other_user}","gists_url":"https://api.github.com/users/jrgns/gists{/gist_id}","starred_url":"https://api.github.com/users/jrgns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrgns/subscriptions","organizations_url":"https://api.github.com/users/jrgns/orgs","repos_url":"https://api.github.com/users/jrgns/repos","events_url":"https://api.github.com/users/jrgns/events{/privacy}","received_events_url":"https://api.github.com/users/jrgns/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2016-07-24T09:38:26Z","updated_at":"2016-07-27T08:34:34Z","closed_at":"2016-07-25T16:57:56Z","author_association":"NONE","body":"Given the following app:\n\n``` ruby\n# app.rb\nrequire 'roda'\n\nclass App < Roda\n  plugin :render\n\n  route do |r|\n    r.root do\n      @instance = 'Instance Var'\n      view 'test', locals: { local: 'Local Var' }\n    end\n  end\nend\n\n```\n\n``` html\n#views/layout.erb\n<html><body>\n<h2>Layout</h2>\n<p>\nInstance: <%= defined?(@instance) ? @instance : 'None'  %><br>\nLocal: <%= defined?(local) ? local : 'None' %>\n</p>\n\n<%= yield %>\n</body></html>\n\n```\n\n``` html\n#views/test.erb\n<h2>View</h2>\n\n<p>\nInstance: <%= defined?(@instance) ? @instance : 'None'  %><br>\nLocal: <%= defined?(local) ? local : 'None' %>\n</p>\n```\n\nThe outcome is:\n\n> Layout\n> \n> Instance: Instance Var  \n> Local: None\n> \n> View\n> \n> Instance: Instance Var  \n> Local: Local Var \n\nInstead of\n\n> Layout\n> \n> Instance: Instance Var  \n> Local: Local Var\n> \n> View\n> \n> Instance: Instance Var  \n> Local: Local Var \n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/79","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/79/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/79/events","html_url":"https://github.com/jeremyevans/roda/issues/79","id":167144628,"number":79,"title":"Improve user experience when using Puma","user":{"login":"rosenfeld","id":32246,"avatar_url":"https://avatars1.githubusercontent.com/u/32246?v=4","gravatar_id":"","url":"https://api.github.com/users/rosenfeld","html_url":"https://github.com/rosenfeld","followers_url":"https://api.github.com/users/rosenfeld/followers","following_url":"https://api.github.com/users/rosenfeld/following{/other_user}","gists_url":"https://api.github.com/users/rosenfeld/gists{/gist_id}","starred_url":"https://api.github.com/users/rosenfeld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rosenfeld/subscriptions","organizations_url":"https://api.github.com/users/rosenfeld/orgs","repos_url":"https://api.github.com/users/rosenfeld/repos","events_url":"https://api.github.com/users/rosenfeld/events{/privacy}","received_events_url":"https://api.github.com/users/rosenfeld/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-07-22T22:29:41Z","updated_at":"2016-07-22T22:40:06Z","closed_at":"2016-07-22T22:39:15Z","author_association":"NONE","body":"Hi Jeremy, I'm not sure whether this Puma's behavior is intentional or not. But try running this on Puma:\n\n``` ruby\n# config.ru\nrequire 'roda'\n\nclass App < Roda\n  route do |r|\n    require_relative 'abc' # it seems like Exceptions inheriting RuntimeError do not cause this, so maybe this is a bug. I'll report to Puma too.\n  end\nend\n\nrun App\n\n# abc.rb\nclass # any invalid code\n```\n\nIn Webrick we can see immediately what is the problem but Puma will ignore it silently and would cause ERR_EMPTY_RESPONSE error in Chrome. I guess it would be a good idea for Puma to rescue Exception on `call` and take some action rather than letting it propagate to the web server. What do you think?\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/78","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/78/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/78/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/78/events","html_url":"https://github.com/jeremyevans/roda/issues/78","id":166472331,"number":78,"title":"Docs might be not up to date","user":{"login":"antonhalim","id":10498035,"avatar_url":"https://avatars1.githubusercontent.com/u/10498035?v=4","gravatar_id":"","url":"https://api.github.com/users/antonhalim","html_url":"https://github.com/antonhalim","followers_url":"https://api.github.com/users/antonhalim/followers","following_url":"https://api.github.com/users/antonhalim/following{/other_user}","gists_url":"https://api.github.com/users/antonhalim/gists{/gist_id}","starred_url":"https://api.github.com/users/antonhalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antonhalim/subscriptions","organizations_url":"https://api.github.com/users/antonhalim/orgs","repos_url":"https://api.github.com/users/antonhalim/repos","events_url":"https://api.github.com/users/antonhalim/events{/privacy}","received_events_url":"https://api.github.com/users/antonhalim/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-20T01:02:00Z","updated_at":"2016-07-20T03:36:49Z","closed_at":"2016-07-20T03:36:49Z","author_association":"NONE","body":"Hi! I had a little confusion on including my assets into my Roda app. I was following the doc and did `<%= assets(:js) %>` and my browser render literal `<script />` tag into the view. It turns out I need to do double equal sign `==` which will be `<%== assets(:js) %>`instead of single equal sign while the docs here http://roda.jeremyevans.net/rdoc/classes/Roda/RodaPlugins/Assets.html#module-Roda::RodaPlugins::Assets-label-Views didn't mention so or I probably missed it somewhere.\n","score":1.0},{"url":"https://api.github.com/repos/jeremyevans/roda/issues/74","repository_url":"https://api.github.com/repos/jeremyevans/roda","labels_url":"https://api.github.com/repos/jeremyevans/roda/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/jeremyevans/roda/issues/74/comments","events_url":"https://api.github.com/repos/jeremyevans/roda/issues/74/events","html_url":"https://github.com/jeremyevans/roda/issues/74","id":164654784,"number":74,"title":"Auto unescape percent-encoded segment","user":{"login":"zlobz","id":5259797,"avatar_url":"https://avatars2.githubusercontent.com/u/5259797?v=4","gravatar_id":"","url":"https://api.github.com/users/zlobz","html_url":"https://github.com/zlobz","followers_url":"https://api.github.com/users/zlobz/followers","following_url":"https://api.github.com/users/zlobz/following{/other_user}","gists_url":"https://api.github.com/users/zlobz/gists{/gist_id}","starred_url":"https://api.github.com/users/zlobz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zlobz/subscriptions","organizations_url":"https://api.github.com/users/zlobz/orgs","repos_url":"https://api.github.com/users/zlobz/repos","events_url":"https://api.github.com/users/zlobz/events{/privacy}","received_events_url":"https://api.github.com/users/zlobz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-09T07:19:34Z","updated_at":"2016-07-11T19:12:34Z","closed_at":"2016-07-11T18:59:55Z","author_association":"NONE","body":"``` ruby\n    r.get ':name' do |name|\n      name # %D1%80%D0%BE%D0%B4%D0%B0\n    end\n```\n","score":1.0}]}
0

