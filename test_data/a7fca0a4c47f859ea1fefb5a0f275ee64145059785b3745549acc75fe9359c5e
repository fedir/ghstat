HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Nov 2020 18:01:32 GMT
Link: <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fkemalcr%2Fkemal+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fkemalcr%2Fkemal+type%3Aissue+state%3Aclosed&page=4>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
Vary: Accept, Authorization, Cookie, X-GitHub-OTP
Vary: Accept-Encoding, Accept, X-Requested-With
Vary: Accept-Encoding
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CE36:41F4:3D77E40:46D6C92:5FB01B7B
X-Oauth-Scopes: repo
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 18
X-Ratelimit-Reset: 1605376942
X-Ratelimit-Used: 12
X-Xss-Protection: 1; mode=block

21d59
{"total_count":113,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/crystal-lang/shards/issues/316","repository_url":"https://api.github.com/repos/crystal-lang/shards","labels_url":"https://api.github.com/repos/crystal-lang/shards/issues/316/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/shards/issues/316/comments","events_url":"https://api.github.com/repos/crystal-lang/shards/issues/316/events","html_url":"https://github.com/crystal-lang/shards/issues/316","id":555124112,"node_id":"MDU6SXNzdWU1NTUxMjQxMTI=","number":316,"title":"\"shards install\" halts asking for github username","user":{"login":"InstanceOfMichael","id":4094542,"node_id":"MDQ6VXNlcjQwOTQ1NDI=","avatar_url":"https://avatars1.githubusercontent.com/u/4094542?v=4","gravatar_id":"","url":"https://api.github.com/users/InstanceOfMichael","html_url":"https://github.com/InstanceOfMichael","followers_url":"https://api.github.com/users/InstanceOfMichael/followers","following_url":"https://api.github.com/users/InstanceOfMichael/following{/other_user}","gists_url":"https://api.github.com/users/InstanceOfMichael/gists{/gist_id}","starred_url":"https://api.github.com/users/InstanceOfMichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InstanceOfMichael/subscriptions","organizations_url":"https://api.github.com/users/InstanceOfMichael/orgs","repos_url":"https://api.github.com/users/InstanceOfMichael/repos","events_url":"https://api.github.com/users/InstanceOfMichael/events{/privacy}","received_events_url":"https://api.github.com/users/InstanceOfMichael/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-01-25T19:03:46Z","updated_at":"2020-06-25T14:42:44Z","closed_at":"2020-06-25T14:42:44Z","author_association":"NONE","active_lock_reason":null,"body":"```\r\nname: kemal_app\r\nversion: 0.1.0\r\n\r\nauthors:\r\n  - IOM <>\r\n\r\ntargets:\r\n  kemal_app:\r\n    main: src/app.cr\r\n\r\ncrystal: 0.32.1\r\n\r\nlicense: MIT\r\n\r\ndependencies:\r\n  kemal:\r\n    github: kemalcr/kemal\r\n  spec-kemal:\r\n    github: kemalcr/spec-kemal\r\n    branch: master\r\n  accord:\r\n    github: neovintage/accord\r\n  denetmen:\r\n    github: izniburak/denetmen\r\n  sentry:\r\n    github: samueleaton/sentry\r\n    branch: master\r\n  kemal-session:\r\n    github: kemalcr/kemal-session\r\n  pg:\r\n    github: will/crystal-pg\r\n  kemal-pg:\r\n    github: sdogruyol/kemal-pg\r\n  raven:\r\n    github: Sija/raven\r\n```\r\n\r\n```\r\n$ shards install\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/kemalcr/spec-kemal.git\r\nFetching https://github.com/neovintage/accord.git\r\nFetching https://github.com/izniburak/denetmen.git\r\nFetching https://github.com/samueleaton/sentry.git\r\nFetching https://github.com/kemalcr/kemal-session.git\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/sdogruyol/kemal-pg.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/Sija/raven.git\r\nUsername for 'https://github.com': \r\n```\r\nafter adding:\r\n```\r\n  raven:\r\n    github: Sija/raven\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/jeromegn/slang/issues/14","repository_url":"https://api.github.com/repos/jeromegn/slang","labels_url":"https://api.github.com/repos/jeromegn/slang/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/jeromegn/slang/issues/14/comments","events_url":"https://api.github.com/repos/jeromegn/slang/issues/14/events","html_url":"https://github.com/jeromegn/slang/issues/14","id":194866584,"node_id":"MDU6SXNzdWUxOTQ4NjY1ODQ=","number":14,"title":"Using slang with Kemal error","user":{"login":"jwoertink","id":2391,"node_id":"MDQ6VXNlcjIzOTE=","avatar_url":"https://avatars1.githubusercontent.com/u/2391?v=4","gravatar_id":"","url":"https://api.github.com/users/jwoertink","html_url":"https://github.com/jwoertink","followers_url":"https://api.github.com/users/jwoertink/followers","following_url":"https://api.github.com/users/jwoertink/following{/other_user}","gists_url":"https://api.github.com/users/jwoertink/gists{/gist_id}","starred_url":"https://api.github.com/users/jwoertink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwoertink/subscriptions","organizations_url":"https://api.github.com/users/jwoertink/orgs","repos_url":"https://api.github.com/users/jwoertink/repos","events_url":"https://api.github.com/users/jwoertink/events{/privacy}","received_events_url":"https://api.github.com/users/jwoertink/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2016-12-11T23:49:32Z","updated_at":"2020-09-18T10:21:56Z","closed_at":"2018-02-11T16:05:55Z","author_association":"NONE","active_lock_reason":null,"body":"I'm using slang with Kemal, but running in to a weird issue of slang swallowing `__FILE__` before kemal gets to it.\r\n\r\n```crystal\r\n# layout.slang\r\n== yield_content(\"some_key\")\r\n\r\n# page.slang\r\n- content_for(\"some_key\") do\r\n  h1 This does not get rendered\r\n```\r\n\r\nIn Kemal, the [yield_content macro](https://github.com/kemalcr/kemal/blob/6b034c3b2f9e54ebbdedd929a5f4c841952a7a04/src/kemal/helpers/macros.cr#L50) takes the value of `__FILE__` and adds that as the first element in this Tuple. Then it compares that value to the current file calling it. With ECR, the value here would be `{\"some_key\" => {\"views/page.ecr\", #<Proc(String)...>}`, but in slang the value here is `{\"some_key\" => {\"expanded macro: macro_1234332\", #<Proc(String)...>}`. \r\n\r\nThe current fix for this is to use this helper variable that's set in Kemal as the second argument to the `content_for` macro. Maybe you have an idea about this though?","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/581","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/581/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/581/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/581/events","html_url":"https://github.com/kemalcr/kemal/issues/581","id":648718553,"node_id":"MDU6SXNzdWU2NDg3MTg1NTM=","number":581,"title":"IO not flushed and connection not closed due to response extension","user":{"login":"benoist","id":7202,"node_id":"MDQ6VXNlcjcyMDI=","avatar_url":"https://avatars1.githubusercontent.com/u/7202?v=4","gravatar_id":"","url":"https://api.github.com/users/benoist","html_url":"https://github.com/benoist","followers_url":"https://api.github.com/users/benoist/followers","following_url":"https://api.github.com/users/benoist/following{/other_user}","gists_url":"https://api.github.com/users/benoist/gists{/gist_id}","starred_url":"https://api.github.com/users/benoist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benoist/subscriptions","organizations_url":"https://api.github.com/users/benoist/orgs","repos_url":"https://api.github.com/users/benoist/repos","events_url":"https://api.github.com/users/benoist/events{/privacy}","received_events_url":"https://api.github.com/users/benoist/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-01T06:43:01Z","updated_at":"2020-07-01T08:07:06Z","closed_at":"2020-07-01T08:07:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Description\r\n\r\nThe response extension is causing web requests not to be closed on large body content\r\n\r\n\r\n### Steps to Reproduce\r\n\r\nget \"/\" do\r\n  \"a\"*9000 + \"!\"\r\nend\r\n\r\n**Expected behavior:** [What you expect to happen]\r\n\r\nThe exclamation mark should be return using curl http://localhost:8080\r\n\r\n**Actual behavior:** [What actually happens]\r\n\r\nThe exclamation mark is not returned using curl http://localhost:8080 and the connection stays open\r\n\r\n**Reproduces how often:** [What percentage of the time does it reproduce?]\r\n\r\nalways\r\n\r\n### Versions\r\n\r\ncrystal 0.35.1\r\n\r\n### Additional Information\r\n\r\nThis file causes the issue as it overwrites the close method, but it doenst flush the IO as is down in the original implemenation.\r\nhttps://github.com/kemalcr/kemal/blob/master/src/kemal/ext/response.cr\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/141","repository_url":"https://api.github.com/repos/crystaluniverse/publishingtools","labels_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/141/labels{/name}","comments_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/141/comments","events_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/141/events","html_url":"https://github.com/crystaluniverse/publishingtools/issues/141","id":634691432,"node_id":"MDU6SXNzdWU2MzQ2OTE0MzI=","number":141,"title":"shard install is stucking while build publishtools with https","user":{"login":"Pishoy","id":21987477,"node_id":"MDQ6VXNlcjIxOTg3NDc3","avatar_url":"https://avatars3.githubusercontent.com/u/21987477?v=4","gravatar_id":"","url":"https://api.github.com/users/Pishoy","html_url":"https://github.com/Pishoy","followers_url":"https://api.github.com/users/Pishoy/followers","following_url":"https://api.github.com/users/Pishoy/following{/other_user}","gists_url":"https://api.github.com/users/Pishoy/gists{/gist_id}","starred_url":"https://api.github.com/users/Pishoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pishoy/subscriptions","organizations_url":"https://api.github.com/users/Pishoy/orgs","repos_url":"https://api.github.com/users/Pishoy/repos","events_url":"https://api.github.com/users/Pishoy/events{/privacy}","received_events_url":"https://api.github.com/users/Pishoy/received_events","type":"User","site_admin":false},"labels":[{"id":2005428263,"node_id":"MDU6TGFiZWwyMDA1NDI4MjYz","url":"https://api.github.com/repos/crystaluniverse/publishingtools/labels/type_bug","name":"type_bug","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"xmonader","id":64129,"node_id":"MDQ6VXNlcjY0MTI5","avatar_url":"https://avatars0.githubusercontent.com/u/64129?v=4","gravatar_id":"","url":"https://api.github.com/users/xmonader","html_url":"https://github.com/xmonader","followers_url":"https://api.github.com/users/xmonader/followers","following_url":"https://api.github.com/users/xmonader/following{/other_user}","gists_url":"https://api.github.com/users/xmonader/gists{/gist_id}","starred_url":"https://api.github.com/users/xmonader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmonader/subscriptions","organizations_url":"https://api.github.com/users/xmonader/orgs","repos_url":"https://api.github.com/users/xmonader/repos","events_url":"https://api.github.com/users/xmonader/events{/privacy}","received_events_url":"https://api.github.com/users/xmonader/received_events","type":"User","site_admin":false},"assignees":[{"login":"xmonader","id":64129,"node_id":"MDQ6VXNlcjY0MTI5","avatar_url":"https://avatars0.githubusercontent.com/u/64129?v=4","gravatar_id":"","url":"https://api.github.com/users/xmonader","html_url":"https://github.com/xmonader","followers_url":"https://api.github.com/users/xmonader/followers","following_url":"https://api.github.com/users/xmonader/following{/other_user}","gists_url":"https://api.github.com/users/xmonader/gists{/gist_id}","starred_url":"https://api.github.com/users/xmonader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmonader/subscriptions","organizations_url":"https://api.github.com/users/xmonader/orgs","repos_url":"https://api.github.com/users/xmonader/repos","events_url":"https://api.github.com/users/xmonader/events{/privacy}","received_events_url":"https://api.github.com/users/xmonader/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/crystaluniverse/publishingtools/milestones/1","html_url":"https://github.com/crystaluniverse/publishingtools/milestone/1","labels_url":"https://api.github.com/repos/crystaluniverse/publishingtools/milestones/1/labels","id":5336528,"node_id":"MDk6TWlsZXN0b25lNTMzNjUyOA==","number":1,"title":"now","description":"","creator":{"login":"rkhamis","id":8425762,"node_id":"MDQ6VXNlcjg0MjU3NjI=","avatar_url":"https://avatars1.githubusercontent.com/u/8425762?v=4","gravatar_id":"","url":"https://api.github.com/users/rkhamis","html_url":"https://github.com/rkhamis","followers_url":"https://api.github.com/users/rkhamis/followers","following_url":"https://api.github.com/users/rkhamis/following{/other_user}","gists_url":"https://api.github.com/users/rkhamis/gists{/gist_id}","starred_url":"https://api.github.com/users/rkhamis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkhamis/subscriptions","organizations_url":"https://api.github.com/users/rkhamis/orgs","repos_url":"https://api.github.com/users/rkhamis/repos","events_url":"https://api.github.com/users/rkhamis/events{/privacy}","received_events_url":"https://api.github.com/users/rkhamis/received_events","type":"User","site_admin":false},"open_issues":11,"closed_issues":78,"state":"open","created_at":"2020-04-22T08:49:33Z","updated_at":"2020-09-30T07:49:45Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2020-06-08T14:51:15Z","updated_at":"2020-06-09T07:29:31Z","closed_at":"2020-06-09T07:29:31Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"```\r\nroot@ubuntu1804:~/tfweb/code/publishingtools# shards install\r\nResolving dependencies\r\nFetching https://github.com/icyleaf/markd.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/crystal-community/toml.cr.git\r\nFetching https://github.com/straight-shoota/crinja.git\r\nFetching https://github.com/kemalcr/kemal-session.git\r\nFetching https://github.com/crystaluniverse/crystaltools.git\r\nFetching https://github.com/aca-labs/crystal-docker.git\r\nFetching https://github.com/stefanwille/crystal-redis.git\r\nFetching https://github.com/tbrand/neph.git\r\nFetching https://github.com/crystaluniverse/ssh2.cr.git\r\nUsername for 'https://github.com': \r\n```\r\n- code version\r\n```\r\n\r\nroot@ubuntu1804:~/tfweb/code/publishingtools# git remote show origin\r\n* remote origin\r\n  Fetch URL: https://github.com/threebotserver/publishingtools.git\r\n\r\nroot@ubuntu1804:~/tfweb/code/publishingtools# git log -1\r\ncommit d0a92f37debc07479778961e3ea3616727d0a70d (HEAD -> development, origin/development, origin/HEAD)\r\nMerge: 23bd7be bbfe68c\r\nAuthor: xmonader <xmonader@gmail.com>\r\nDate:   Thu Jun 4 16:40:43 2020 +0200\r\n\r\n    Merge pull request #140 from threebotserver/development_use_crystaltools\r\n    \r\n    use gitrepo from crystaltools\r\n\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/573","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/573/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/573/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/573/events","html_url":"https://github.com/kemalcr/kemal/issues/573","id":636790682,"node_id":"MDU6SXNzdWU2MzY3OTA2ODI=","number":573,"title":"Compilation error on crystal 0.35.0. ","user":{"login":"itsezsid","id":38040491,"node_id":"MDQ6VXNlcjM4MDQwNDkx","avatar_url":"https://avatars2.githubusercontent.com/u/38040491?v=4","gravatar_id":"","url":"https://api.github.com/users/itsezsid","html_url":"https://github.com/itsezsid","followers_url":"https://api.github.com/users/itsezsid/followers","following_url":"https://api.github.com/users/itsezsid/following{/other_user}","gists_url":"https://api.github.com/users/itsezsid/gists{/gist_id}","starred_url":"https://api.github.com/users/itsezsid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itsezsid/subscriptions","organizations_url":"https://api.github.com/users/itsezsid/orgs","repos_url":"https://api.github.com/users/itsezsid/repos","events_url":"https://api.github.com/users/itsezsid/events{/privacy}","received_events_url":"https://api.github.com/users/itsezsid/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-11T07:35:36Z","updated_at":"2020-06-11T08:18:09Z","closed_at":"2020-06-11T08:17:44Z","author_association":"NONE","active_lock_reason":null,"body":"### Description\r\n\r\nCompilation error in kemal library on crystal 0.35.0.  \r\n### Steps to Reproduce\r\n\r\n1. Compiling code gives GZIP error in the kemal helpers/helpers.cr library\r\n\r\n### Error\r\n```\r\nWarning: Zlib is deprecated, use Compress::Zlib\r\nShowing last frame. Use --error-trace for full trace.\r\n\r\nIn lib/kemal/src/kemal/helpers/helpers.cr:143:7\r\n\r\n 143 | Gzip::Writer.open(env.response) do |deflate|\r\n       ^\r\nError: undefined constant Gzip::Writer\r\n```\r\n\r\n### Stacktrace\r\n[stacktrace.txt](https://github.com/kemalcr/kemal/files/4763266/stacktrace.txt)\r\n\r\n### Versions\r\nCrystal : \r\n```\r\nCrystal 0.35.0 [3c48f311f] (2020-06-09)\r\n\r\nLLVM: 8.0.0\r\nDefault target: x86_64-unknown-linux-gnu\r\n```\r\nKemal : \r\n```\r\nkemal:\r\n    git: https://github.com/kemalcr/kemal.git\r\n    version: 0.26.1\r\n```\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/579","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/579/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/579/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/579/events","html_url":"https://github.com/kemalcr/kemal/issues/579","id":642622933,"node_id":"MDU6SXNzdWU2NDI2MjI5MzM=","number":579,"title":"Websockets fail to connect","user":{"login":"marzhaev","id":1174091,"node_id":"MDQ6VXNlcjExNzQwOTE=","avatar_url":"https://avatars2.githubusercontent.com/u/1174091?v=4","gravatar_id":"","url":"https://api.github.com/users/marzhaev","html_url":"https://github.com/marzhaev","followers_url":"https://api.github.com/users/marzhaev/followers","following_url":"https://api.github.com/users/marzhaev/following{/other_user}","gists_url":"https://api.github.com/users/marzhaev/gists{/gist_id}","starred_url":"https://api.github.com/users/marzhaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marzhaev/subscriptions","organizations_url":"https://api.github.com/users/marzhaev/orgs","repos_url":"https://api.github.com/users/marzhaev/repos","events_url":"https://api.github.com/users/marzhaev/events{/privacy}","received_events_url":"https://api.github.com/users/marzhaev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-21T19:10:26Z","updated_at":"2020-07-08T13:46:01Z","closed_at":"2020-07-08T13:46:01Z","author_association":"NONE","active_lock_reason":null,"body":"### Description\r\n\r\nAfter upgrading to Crystal 0.35.0 on Kemal's master branch I'm having issues with connecting to a WebSocket. I believe it may be further to #575 \r\n\r\n### Steps to Reproduce\r\n\r\n1. Follow official install instructions.\r\n2. Create a route such as `ws \"/\" { |socket| Log.info { \"no stuff happens here\" } }`\r\n3. Launch Kemal app.\r\n4. Use Chrome or via wscat: `wscat -c ws://localhost:3000/`\r\n\r\n**Expected behavior:** I expect a successful connection.\r\n\r\n**Actual behavior:** It to connect due to \"Invalid WebSocket frame: RSV2 and RSV3 must be clear\".\r\n\r\n**Reproduces how often:** All the time\r\n\r\n### Versions\r\n\r\nCrystal 0.35.0 (2020-06-09) \r\n\r\nLLVM: 10.0.0\r\nDefault target: x86_64-apple-macosx\r\n\r\nPersists for Crystal 0.35.0 and compiled from master branch for debug purposes.\r\nPersists for both OSs: macOS Catalina 10.15.4 and Ubuntu 18.04\r\n\r\n### Additional Information\r\n\r\nWebSockets actually work flawlessly for Crystal-only implementation. Breaks once Kemal is brought in. I used Wireshark and locally complied Crystal to debug. As expected, there is something to do with headers, but I cannot zero in despite many hours invested.\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystal-lang/crystal/issues/9522","repository_url":"https://api.github.com/repos/crystal-lang/crystal","labels_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9522/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9522/comments","events_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9522/events","html_url":"https://github.com/crystal-lang/crystal/issues/9522","id":642949195,"node_id":"MDU6SXNzdWU2NDI5NDkxOTU=","number":9522,"title":"Crystal 0.35.1 has issue with WebSocket. Connection failed -> reserved1","user":{"login":"msa7","id":16959850,"node_id":"MDQ6VXNlcjE2OTU5ODUw","avatar_url":"https://avatars2.githubusercontent.com/u/16959850?v=4","gravatar_id":"","url":"https://api.github.com/users/msa7","html_url":"https://github.com/msa7","followers_url":"https://api.github.com/users/msa7/followers","following_url":"https://api.github.com/users/msa7/following{/other_user}","gists_url":"https://api.github.com/users/msa7/gists{/gist_id}","starred_url":"https://api.github.com/users/msa7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msa7/subscriptions","organizations_url":"https://api.github.com/users/msa7/orgs","repos_url":"https://api.github.com/users/msa7/repos","events_url":"https://api.github.com/users/msa7/events{/privacy}","received_events_url":"https://api.github.com/users/msa7/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-22T10:25:41Z","updated_at":"2020-06-22T18:15:14Z","closed_at":"2020-06-22T18:15:14Z","author_association":"NONE","active_lock_reason":null,"body":"I update to Crystal 0.35.1 via official docker image and got WebSocket issue. Rollback to 0.34.0 solve the issue.\r\n\r\n```\r\nweb_socket.js:36 WebSocket connection to 'ws://localhost:8082/notifications?sid=74q9rbuX_u2Q' failed: One or more reserved bits are on: reserved1 = 0, reserved2 = 1, reserved3 = 0\r\nsetupSocket @ web_socket.js:36\r\n(anonymous) @ web_socket.js:76\r\n```\r\n\r\nMy WebSocket server is Kemal. Route setup\r\n\r\n```\r\n  ws \"/notifications\" do |socket, env|\r\n    user_id_sockets[env.iam_id] ||= Array(HTTP::WebSocket).new\r\n    user_id_sockets[env.iam_id] << socket\r\n\r\n    socket.on_message do |message|\r\n      if message == \"ping\"\r\n        User.online(env.iam)\r\n        socket.send(\"pong\")\r\n      end\r\n    end\r\n\r\n    socket.on_close do |_|\r\n      sockets = user_id_sockets[env.iam_id]\r\n      sockets.delete(socket)\r\n    end\r\n  end\r\n```\r\n Related https://github.com/crystal-lang/crystal/issues/9484\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/575","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/575/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/575/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/575/events","html_url":"https://github.com/kemalcr/kemal/issues/575","id":638815153,"node_id":"MDU6SXNzdWU2Mzg4MTUxNTM=","number":575,"title":"Kemal gets stuck for long response bodies","user":{"login":"marzhaev","id":1174091,"node_id":"MDQ6VXNlcjExNzQwOTE=","avatar_url":"https://avatars2.githubusercontent.com/u/1174091?v=4","gravatar_id":"","url":"https://api.github.com/users/marzhaev","html_url":"https://github.com/marzhaev","followers_url":"https://api.github.com/users/marzhaev/followers","following_url":"https://api.github.com/users/marzhaev/following{/other_user}","gists_url":"https://api.github.com/users/marzhaev/gists{/gist_id}","starred_url":"https://api.github.com/users/marzhaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marzhaev/subscriptions","organizations_url":"https://api.github.com/users/marzhaev/orgs","repos_url":"https://api.github.com/users/marzhaev/repos","events_url":"https://api.github.com/users/marzhaev/events{/privacy}","received_events_url":"https://api.github.com/users/marzhaev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-06-15T12:29:55Z","updated_at":"2020-07-08T11:41:17Z","closed_at":"2020-07-08T11:41:17Z","author_association":"NONE","active_lock_reason":null,"body":"### Description\r\n\r\nAfter upgrading to Crystal 0.35.0 on Kemal's master branch I'm having issues with responding with long strings.\r\n\r\n### Steps to Reproduce\r\n\r\n1. Follow official install instructions.\r\n2. Create a route such as `get \"/\" { \"my_string,\" * 1_000 }`\r\n3. Launch Kemal app.\r\n4. I use curl to `curl localhost:3000`\r\n\r\n**Expected behavior:** I expect the app to return a long self-repeating string with a connection properly closed.\r\n\r\n**Actual behavior:** My curl get stuck forever printing only the first chunk. Obviously, it works as buggy in browser.\r\n\r\n**Reproduces how often:** Seems to happen for a string that needs to be chunked as per Transfer-Encoding requirements.\r\n\r\n### Versions\r\n\r\nCrystal 0.35.0 (2020-06-09)\r\n\r\nLLVM: 10.0.0\r\nDefault target: x86_64-apple-macosx\r\n\r\nPersists for both OSs: macOS Catalina 10.15.4 and Ubuntu 18.04","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/hkalexling/Mango/issues/50","repository_url":"https://api.github.com/repos/hkalexling/Mango","labels_url":"https://api.github.com/repos/hkalexling/Mango/issues/50/labels{/name}","comments_url":"https://api.github.com/repos/hkalexling/Mango/issues/50/comments","events_url":"https://api.github.com/repos/hkalexling/Mango/issues/50/events","html_url":"https://github.com/hkalexling/Mango/issues/50","id":628526899,"node_id":"MDU6SXNzdWU2Mjg1MjY4OTk=","number":50,"title":"[Question]Failed postinstall of ameba on make bin && make run_file:","user":{"login":"Chatto","id":969683,"node_id":"MDQ6VXNlcjk2OTY4Mw==","avatar_url":"https://avatars3.githubusercontent.com/u/969683?v=4","gravatar_id":"","url":"https://api.github.com/users/Chatto","html_url":"https://github.com/Chatto","followers_url":"https://api.github.com/users/Chatto/followers","following_url":"https://api.github.com/users/Chatto/following{/other_user}","gists_url":"https://api.github.com/users/Chatto/gists{/gist_id}","starred_url":"https://api.github.com/users/Chatto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chatto/subscriptions","organizations_url":"https://api.github.com/users/Chatto/orgs","repos_url":"https://api.github.com/users/Chatto/repos","events_url":"https://api.github.com/users/Chatto/events{/privacy}","received_events_url":"https://api.github.com/users/Chatto/received_events","type":"User","site_admin":false},"labels":[{"id":1862475194,"node_id":"MDU6TGFiZWwxODYyNDc1MTk0","url":"https://api.github.com/repos/hkalexling/Mango/labels/general%20question","name":"general question","color":"6aaf08","default":false,"description":"Question about Mango and how to use it"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-01T15:22:17Z","updated_at":"2020-06-02T13:04:59Z","closed_at":"2020-06-02T13:04:59Z","author_association":"NONE","active_lock_reason":null,"body":"I tried installing and keep getting this error:\r\nshards install\r\nResolving dependencies\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/schovi/baked_file_system.git\r\nFetching https://github.com/crystal-ameba/ameba.git\r\nUsing kemal (0.26.1)\r\nUsing sqlite3 (0.16.0)\r\nUsing baked_file_system (0.9.8)\r\nInstalling ameba (0.12.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.4)\r\nUsing db (0.9.0)\r\nPostinstall of ameba: make bin && make run_file\r\nFailed postinstall of ameba on make bin && make run_file:\r\nmake[1]: Entering directory '/srv/http/mango/Mango/lib/ameba'\r\nmake[1]: which: No such file or directory\r\nbuild\r\nmake[1]: build: Permission denied\r\nmake[1]: *** [Makefile:8: bin/ameba] Error 127\r\nmake[1]: Leaving directory '/srv/http/mango/Mango/lib/ameba'\r\nmake: *** [Makefile:17: libs] Error 1\r\n\r\n\r\nI have installed crystal, shards, etc and am on Arch Linux.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/572","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/572/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/572/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/572/events","html_url":"https://github.com/kemalcr/kemal/issues/572","id":636635920,"node_id":"MDU6SXNzdWU2MzY2MzU5MjA=","number":572,"title":"Cannot get kemal through shards that has the fix for Crystal 0.35","user":{"login":"xlvg-zero","id":22640315,"node_id":"MDQ6VXNlcjIyNjQwMzE1","avatar_url":"https://avatars1.githubusercontent.com/u/22640315?v=4","gravatar_id":"","url":"https://api.github.com/users/xlvg-zero","html_url":"https://github.com/xlvg-zero","followers_url":"https://api.github.com/users/xlvg-zero/followers","following_url":"https://api.github.com/users/xlvg-zero/following{/other_user}","gists_url":"https://api.github.com/users/xlvg-zero/gists{/gist_id}","starred_url":"https://api.github.com/users/xlvg-zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xlvg-zero/subscriptions","organizations_url":"https://api.github.com/users/xlvg-zero/orgs","repos_url":"https://api.github.com/users/xlvg-zero/repos","events_url":"https://api.github.com/users/xlvg-zero/events{/privacy}","received_events_url":"https://api.github.com/users/xlvg-zero/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-11T00:37:32Z","updated_at":"2020-06-11T00:49:05Z","closed_at":"2020-06-11T00:49:04Z","author_association":"NONE","active_lock_reason":null,"body":"### Description\r\nCan't get the latest version of Kemal with fix for crystal 0.35\r\n[Description of the issue]\r\n\r\nI've been trying to run a simple test, running just the example application given in the readme. But I keep getting the `Error: undefined constant Gzip::Writer` error when I try to run. I've noticed that the latest changes for Crystal 0.35 have been met with [#570](https://github.com/kemalcr/kemal/pull/570)\r\n\r\n\r\n### Steps to Reproduce\r\n\r\n1. Add dependency for kemal to the shards.yml file. I've tried to set branch as master and give a git link to the project repository\r\n2. delete out the contents of the lib folder if needed and run `shards install`\r\n3. Run a simple example based on what's provided as an example in the front page\r\n\r\n**Expected behavior:** [What you expect to happen]\r\nEverything working as expected\r\n\r\nI think if the version in the shards.yml file is bumped up from 0.26.1 to something like 0.26.2 this wouldn't be a problem since shards seems to pull in the latest version based on the tag","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/Sija/raven.cr/issues/61","repository_url":"https://api.github.com/repos/Sija/raven.cr","labels_url":"https://api.github.com/repos/Sija/raven.cr/issues/61/labels{/name}","comments_url":"https://api.github.com/repos/Sija/raven.cr/issues/61/comments","events_url":"https://api.github.com/repos/Sija/raven.cr/issues/61/events","html_url":"https://github.com/Sija/raven.cr/issues/61","id":544376654,"node_id":"MDU6SXNzdWU1NDQzNzY2NTQ=","number":61,"title":"User Feeback page broken","user":{"login":"greenbigfrog","id":6208894,"node_id":"MDQ6VXNlcjYyMDg4OTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6208894?v=4","gravatar_id":"","url":"https://api.github.com/users/greenbigfrog","html_url":"https://github.com/greenbigfrog","followers_url":"https://api.github.com/users/greenbigfrog/followers","following_url":"https://api.github.com/users/greenbigfrog/following{/other_user}","gists_url":"https://api.github.com/users/greenbigfrog/gists{/gist_id}","starred_url":"https://api.github.com/users/greenbigfrog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greenbigfrog/subscriptions","organizations_url":"https://api.github.com/users/greenbigfrog/orgs","repos_url":"https://api.github.com/users/greenbigfrog/repos","events_url":"https://api.github.com/users/greenbigfrog/events{/privacy}","received_events_url":"https://api.github.com/users/greenbigfrog/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-01-01T16:47:11Z","updated_at":"2020-06-24T15:07:54Z","closed_at":"2020-06-24T15:07:54Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"```\r\nException: Closed stream (IO::Error)\r\n  from /usr/lib/crystal/io.cr:128:5 in 'check_open'\r\n  from /usr/lib/crystal/io/buffered.cr:130:15 in 'write'\r\n  from /usr/lib/crystal/http/server/response.cr:80:7 in 'write'\r\n  from /usr/lib/crystal/io.cr:481:7 in 'write_utf8'\r\n  from /usr/lib/crystal/string.cr:4285:5 in 'to_s'\r\n  from /usr/lib/crystal/io.cr:184:5 in '<<'\r\n  from /usr/lib/crystal/io.cr:198:5 in 'print'\r\n  from lib/raven/src/raven/integrations/shared/user_feedback_handler.cr:9:9 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/raven/src/raven/integrations/http/handler.cr:44:7 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/static_file_handler.cr:68:9 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/exception_handler.cr:8:7 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/log_handler.cr:8:37 in 'call'\r\n  from lib/raven/src/raven/integrations/kemal/log_handler.cr:38:26 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/init_handler.cr:12:7 in 'call'\r\n  from /usr/lib/crystal/http/server/request_processor.cr:48:11 in 'process'\r\n  from /usr/lib/crystal/http/server/request_processor.cr:22:3 in 'process'\r\n  from /usr/lib/crystal/http/server.cr:497:5 in 'handle_client'\r\n  from /usr/lib/crystal/http/server.cr:463:13 in '->'\r\n  from /usr/lib/crystal/fiber.cr:255:3 in 'run'\r\n  from /usr/lib/crystal/fiber.cr:48:34 in '->'\r\n  from ???\r\n\r\nUnhandled exception on HTTP::Handler\r\nClosed stream (IO::Error)\r\n  from /usr/lib/crystal/io.cr:128:5 in 'check_open'\r\n  from /usr/lib/crystal/io/buffered.cr:130:15 in 'write'\r\n  from /usr/lib/crystal/http/server/response.cr:80:7 in 'write'\r\n  from /usr/lib/crystal/io.cr:481:7 in 'write_utf8'\r\n  from /usr/lib/crystal/string.cr:4285:5 in 'to_s'\r\n  from /usr/lib/crystal/io.cr:184:5 in '<<'\r\n  from /usr/lib/crystal/io.cr:198:5 in 'print'\r\n  from lib/kemal/src/kemal/helpers/templates.cr:33:3 in 'render_500'\r\n  from lib/kemal/src/kemal/exception_handler.cr:17:7 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/log_handler.cr:8:37 in 'call'\r\n  from lib/raven/src/raven/integrations/kemal/log_handler.cr:38:26 in 'call'\r\n  from /usr/lib/crystal/http/server/handler.cr:26:7 in 'call_next'\r\n  from lib/kemal/src/kemal/init_handler.cr:12:7 in 'call'\r\n  from /usr/lib/crystal/http/server/request_processor.cr:48:11 in 'process'\r\n  from /usr/lib/crystal/http/server/request_processor.cr:22:3 in 'process'\r\n  from /usr/lib/crystal/http/server.cr:497:5 in 'handle_client'\r\n  from /usr/lib/crystal/http/server.cr:463:13 in '->'\r\n  from /usr/lib/crystal/fiber.cr:255:3 in 'run'\r\n  from /usr/lib/crystal/fiber.cr:48:34 in '->'\r\n  from ???\r\n```\r\n\r\n```cr\r\nrequire \"kemal\"\r\n\r\nrequire \"raven\"\r\nrequire \"raven/integrations/kemal\"\r\n\r\nKemal.config.logger = Raven::Kemal::LogHandler.new(Kemal::LogHandler.new)\r\n\r\nKemal.config.env = \"production\"\r\n\r\nadd_handler Raven::Kemal::ExceptionHandler.new\r\nadd_handler Raven::Kemal::UserFeedbackHandler.new\r\n\r\nget \"/404\" do |env|\r\n  halt env, status_code: 404\r\nend\r\n\r\nget \"/\" do\r\n  \"Hello World!\"\r\nend\r\n\r\nKemal.run\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/iv-org/invidious/issues/1241","repository_url":"https://api.github.com/repos/iv-org/invidious","labels_url":"https://api.github.com/repos/iv-org/invidious/issues/1241/labels{/name}","comments_url":"https://api.github.com/repos/iv-org/invidious/issues/1241/comments","events_url":"https://api.github.com/repos/iv-org/invidious/issues/1241/events","html_url":"https://github.com/iv-org/invidious/issues/1241","id":639017290,"node_id":"MDU6SXNzdWU2MzkwMTcyOTA=","number":1241,"title":"Issues due to YouTube changes","user":{"login":"iAmNoVa-UXX","id":66279593,"node_id":"MDQ6VXNlcjY2Mjc5NTkz","avatar_url":"https://avatars3.githubusercontent.com/u/66279593?v=4","gravatar_id":"","url":"https://api.github.com/users/iAmNoVa-UXX","html_url":"https://github.com/iAmNoVa-UXX","followers_url":"https://api.github.com/users/iAmNoVa-UXX/followers","following_url":"https://api.github.com/users/iAmNoVa-UXX/following{/other_user}","gists_url":"https://api.github.com/users/iAmNoVa-UXX/gists{/gist_id}","starred_url":"https://api.github.com/users/iAmNoVa-UXX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iAmNoVa-UXX/subscriptions","organizations_url":"https://api.github.com/users/iAmNoVa-UXX/orgs","repos_url":"https://api.github.com/users/iAmNoVa-UXX/repos","events_url":"https://api.github.com/users/iAmNoVa-UXX/events{/privacy}","received_events_url":"https://api.github.com/users/iAmNoVa-UXX/received_events","type":"User","site_admin":false},"labels":[{"id":829396693,"node_id":"MDU6TGFiZWw4MjkzOTY2OTM=","url":"https://api.github.com/repos/iv-org/invidious/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":46,"created_at":"2020-06-15T17:26:33Z","updated_at":"2020-07-19T14:35:06Z","closed_at":"2020-07-19T14:35:06Z","author_association":"NONE","active_lock_reason":null,"body":"![image](https://user-images.githubusercontent.com/66279593/84687443-61469600-af03-11ea-897a-aafe18214682.png)\r\n\r\nThe image is something I've never encountered before.  Can anyone explain this please?","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/iv-org/invidious/issues/1343","repository_url":"https://api.github.com/repos/iv-org/invidious","labels_url":"https://api.github.com/repos/iv-org/invidious/issues/1343/labels{/name}","comments_url":"https://api.github.com/repos/iv-org/invidious/issues/1343/comments","events_url":"https://api.github.com/repos/iv-org/invidious/issues/1343/events","html_url":"https://github.com/iv-org/invidious/issues/1343","id":681647978,"node_id":"MDU6SXNzdWU2ODE2NDc5Nzg=","number":1343,"title":"role \"postgres\" does not exist","user":{"login":"rachmadaniHaryono","id":6340878,"node_id":"MDQ6VXNlcjYzNDA4Nzg=","avatar_url":"https://avatars1.githubusercontent.com/u/6340878?v=4","gravatar_id":"","url":"https://api.github.com/users/rachmadaniHaryono","html_url":"https://github.com/rachmadaniHaryono","followers_url":"https://api.github.com/users/rachmadaniHaryono/followers","following_url":"https://api.github.com/users/rachmadaniHaryono/following{/other_user}","gists_url":"https://api.github.com/users/rachmadaniHaryono/gists{/gist_id}","starred_url":"https://api.github.com/users/rachmadaniHaryono/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rachmadaniHaryono/subscriptions","organizations_url":"https://api.github.com/users/rachmadaniHaryono/orgs","repos_url":"https://api.github.com/users/rachmadaniHaryono/repos","events_url":"https://api.github.com/users/rachmadaniHaryono/events{/privacy}","received_events_url":"https://api.github.com/users/rachmadaniHaryono/received_events","type":"User","site_admin":false},"labels":[{"id":829396693,"node_id":"MDU6TGFiZWw4MjkzOTY2OTM=","url":"https://api.github.com/repos/iv-org/invidious/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2287459867,"node_id":"MDU6TGFiZWwyMjg3NDU5ODY3","url":"https://api.github.com/repos/iv-org/invidious/labels/priority:critical","name":"priority:critical","color":"f70cd8","default":false,"description":""},{"id":2287454363,"node_id":"MDU6TGFiZWwyMjg3NDU0MzYz","url":"https://api.github.com/repos/iv-org/invidious/labels/type:docker","name":"type:docker","color":"c2e0c6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-08-19T08:25:40Z","updated_at":"2020-08-21T13:01:40Z","closed_at":"2020-08-21T12:52:34Z","author_association":"NONE","active_lock_reason":null,"body":"### Subject of the issue\r\nthere is message `role \"postgres\" does not exist` when running invidio.us through docker-compose\r\n\r\n### Your environment\r\n* invidio.us, 2ce82f3da59037d533c58c8c8f78bb81904850ae\r\n* OS: Ubuntu 20.04.1 LTS x86_64\r\n\r\n### Steps to reproduce\r\nrun `sudo docker-compose up` and after some time the message should not pop up\r\n \r\n### Expected behaviour\r\nthe message should not pop up\r\n\r\n### Actual behaviour\r\n<details><summary>log output</summary>\r\n<p>\r\n\r\n```sh\r\nStarting invidious_postgres_1 ... done\r\nStarting invidious_invidious_1 ... done\r\nAttaching to invidious_postgres_1, invidious_invidious_1\r\npostgres_1   |\r\npostgres_1   | PostgreSQL Database directory appears to contain a database; Skipping initialization\r\npostgres_1   |\r\npostgres_1   | 2020-08-19 08:03:45.336 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\r\npostgres_1   | 2020-08-19 08:03:45.336 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\r\npostgres_1   | 2020-08-19 08:03:45.341 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\r\npostgres_1   | 2020-08-19 08:03:45.381 UTC [26] LOG:  database system was interrupted; last known up at 2020-08-12 08:25:02 UTC\r\npostgres_1   | 2020-08-19 08:03:45.625 UTC [27] FATAL:  the database system is starting up\r\ninvidious_1  | Unhandled exception: (no message) (DB::ConnectionRefused)\r\npostgres_1   | 2020-08-19 08:03:45.677 UTC [26] LOG:  database system was not properly shut down; automatic recovery in progress\r\npostgres_1   | 2020-08-19 08:03:45.695 UTC [26] LOG:  redo starts at 0/220FE28\r\npostgres_1   | 2020-08-19 08:03:45.695 UTC [26] LOG:  invalid record length at 0/220FE60: wanted 24, got 0\r\npostgres_1   | 2020-08-19 08:03:45.695 UTC [26] LOG:  redo done at 0/220FE28\r\npostgres_1   | 2020-08-19 08:03:45.881 UTC [1] LOG:  database system is ready to accept connections\r\ninvidious_1  |   from lib/pg/src/pg/connection.cr:16:9 in 'initialize'\r\ninvidious_1  |   from lib/pg/src/pg/connection.cr:7:5 in 'new'\r\ninvidious_1  |   from lib/pg/src/pg/driver.cr:3:5 in 'build_connection'\r\ninvidious_1  |   from lib/db/src/db/database.cr:57:16 in '->'\r\ninvidious_1  |   from ../usr/share/crystal/src/primitives.cr:255:3 in 'build_resource'\r\ninvidious_1  |   from lib/db/src/db/pool.cr:45:34 in 'initialize'\r\ninvidious_1  |   from lib/db/src/db/pool.cr:38:5 in 'new:initial_pool_size:max_pool_size:max_idle_pool_size:checkout_timeout:retry_attempts:retry_delay'\r\ninvidious_1  |   from lib/db/src/db/database.cr:56:15 in 'initialize'\r\ninvidious_1  |   from lib/db/src/db/database.cr:49:5 in 'new'\r\ninvidious_1  |   from lib/db/src/db.cr:152:5 in 'build_database'\r\ninvidious_1  |   from lib/db/src/db.cr:116:5 in 'open'\r\ninvidious_1  |   from ../usr/share/crystal/src/primitives.cr:255:3 in 'once'\r\ninvidious_1  |   from ../usr/share/crystal/src/crystal/once.cr:50:3 in '__crystal_once'\r\ninvidious_1  |   from src/invidious.cr:46:1 in '__crystal_main'\r\ninvidious_1  |   from ../usr/share/crystal/src/crystal/main.cr:105:5 in 'main_user_code'\r\ninvidious_1  |   from ../usr/share/crystal/src/crystal/main.cr:91:7 in 'main'\r\ninvidious_1  |   from ../usr/share/crystal/src/crystal/main.cr:114:3 in 'main'\r\ninvidious_1  |   from src/env/__libc_start_main.c:94:2 in 'libc_start_main_stage2'\r\ninvidious_1  | [development] Kemal is ready to lead at http://0.0.0.0:3000\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET / 22.89ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/pure-min.css?v=3f97beb 9.98ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/grids-responsive-min.css?v=3f97beb 1.14ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/ionicons.min.css?v=3f97beb 1.94ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/default.css?v=3f97beb 1.04ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/darktheme.css?v=3f97beb 454.17µs\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /css/lighttheme.css?v=3f97beb 457.46µs\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /vi/youtube-video-id/mqdefault.jpg 67.81ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /js/handlers.js?v=3f97beb 1.8ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /js/themes.js?v=3f97beb 836.75µs\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /js/sse.js?v=3f97beb 2.73ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /js/notifications.js?v=3f97beb 889.72µs\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /vi/youtube-video-id/mqdefault.jpg 234.33ms\r\ninvidious_1  | 2020-08-19 08:04:13 UTC 200 GET /fonts/ionicons.woff2?v=4.6.3 3.92ms\r\ninvidious_1  | 2020-08-19 08:04:12 UTC 200 GET /vi/youtube-video-id/mqdefault.jpg 362.96ms\r\ninvidious_1  | 2020-08-19 08:04:14 UTC 200 GET /apple-touch-icon.png?v=3f97beb 754.79µs\r\ninvidious_1  | 2020-08-19 08:04:14 UTC 200 GET /favicon-16x16.png?v=3f97beb 442.69µs\r\ninvidious_1  | 2020-08-19 08:04:14 UTC 200 GET /api/v1/auth/subscriptions?fields=authorId 39.74ms\r\npostgres_1   | 2020-08-19 08:04:15.194 UTC [44] FATAL:  role \"postgres\" does not exist\r\n```\r\n</p>\r\n</details>\r\n\r\n### note\r\nif needed i can upload my docker-compose.yaml as well","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/the-benchmarker/web-frameworks/issues/2841","repository_url":"https://api.github.com/repos/the-benchmarker/web-frameworks","labels_url":"https://api.github.com/repos/the-benchmarker/web-frameworks/issues/2841/labels{/name}","comments_url":"https://api.github.com/repos/the-benchmarker/web-frameworks/issues/2841/comments","events_url":"https://api.github.com/repos/the-benchmarker/web-frameworks/issues/2841/events","html_url":"https://github.com/the-benchmarker/web-frameworks/issues/2841","id":629675507,"node_id":"MDU6SXNzdWU2Mjk2NzU1MDc=","number":2841,"title":"cache bust routes","user":{"login":"stakach","id":368013,"node_id":"MDQ6VXNlcjM2ODAxMw==","avatar_url":"https://avatars2.githubusercontent.com/u/368013?v=4","gravatar_id":"","url":"https://api.github.com/users/stakach","html_url":"https://github.com/stakach","followers_url":"https://api.github.com/users/stakach/followers","following_url":"https://api.github.com/users/stakach/following{/other_user}","gists_url":"https://api.github.com/users/stakach/gists{/gist_id}","starred_url":"https://api.github.com/users/stakach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stakach/subscriptions","organizations_url":"https://api.github.com/users/stakach/orgs","repos_url":"https://api.github.com/users/stakach/repos","events_url":"https://api.github.com/users/stakach/events{/privacy}","received_events_url":"https://api.github.com/users/stakach/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-03T04:06:38Z","updated_at":"2020-06-07T14:07:22Z","closed_at":"2020-06-07T14:07:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"@waghanza for testing the route param request can you make all the requests unique?\r\ni.e. `/user/:id` send a different `id` with each request\r\n\r\nThis would bust caches that might otherwise hide real world performance","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystal-lang/shards/issues/338","repository_url":"https://api.github.com/repos/crystal-lang/shards","labels_url":"https://api.github.com/repos/crystal-lang/shards/issues/338/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/shards/issues/338/comments","events_url":"https://api.github.com/repos/crystal-lang/shards/issues/338/events","html_url":"https://github.com/crystal-lang/shards/issues/338","id":589901152,"node_id":"MDU6SXNzdWU1ODk5MDExNTI=","number":338,"title":"install runs out of memory in 0.9","user":{"login":"c-cesar","id":350914,"node_id":"MDQ6VXNlcjM1MDkxNA==","avatar_url":"https://avatars1.githubusercontent.com/u/350914?v=4","gravatar_id":"","url":"https://api.github.com/users/c-cesar","html_url":"https://github.com/c-cesar","followers_url":"https://api.github.com/users/c-cesar/followers","following_url":"https://api.github.com/users/c-cesar/following{/other_user}","gists_url":"https://api.github.com/users/c-cesar/gists{/gist_id}","starred_url":"https://api.github.com/users/c-cesar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-cesar/subscriptions","organizations_url":"https://api.github.com/users/c-cesar/orgs","repos_url":"https://api.github.com/users/c-cesar/repos","events_url":"https://api.github.com/users/c-cesar/events{/privacy}","received_events_url":"https://api.github.com/users/c-cesar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-29T22:30:29Z","updated_at":"2020-03-29T23:22:59Z","closed_at":"2020-03-29T23:22:58Z","author_association":"NONE","active_lock_reason":null,"body":"To install a basic setup of Kemal with Crceto I had to downgrade shards to 0.8.1, because 0.9.0 runs out of memory on a system with 8 GB if RAM.\r\nUsing Arch Linux default packages.\r\n\r\nshards.yml working on shards 0.8.1\r\n```\r\ndependencies:\r\n  kemal:\r\n    github: kemalcr/kemal\r\n  kilt:\r\n    github: jeromegn/kilt\r\n  slang:\r\n    github: jeromegn/slang\r\n  sqlite3:\r\n    github: crystal-lang/crystal-sqlite3\r\n    version: ~> 0.14.0\r\n  crecto:\r\n    github: Crecto/crecto\r\n```\r\n\r\nDownstream report: https://github.com/amberframework/micrate/issues/46","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/25","repository_url":"https://api.github.com/repos/tmiland/Invidious-Updater","labels_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/25/comments","events_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/25/events","html_url":"https://github.com/tmiland/Invidious-Updater/issues/25","id":596840045,"node_id":"MDU6SXNzdWU1OTY4NDAwNDU=","number":25,"title":"Setup fails on clean Debian 10 VM","user":{"login":"BasePointer","id":15816910,"node_id":"MDQ6VXNlcjE1ODE2OTEw","avatar_url":"https://avatars3.githubusercontent.com/u/15816910?v=4","gravatar_id":"","url":"https://api.github.com/users/BasePointer","html_url":"https://github.com/BasePointer","followers_url":"https://api.github.com/users/BasePointer/followers","following_url":"https://api.github.com/users/BasePointer/following{/other_user}","gists_url":"https://api.github.com/users/BasePointer/gists{/gist_id}","starred_url":"https://api.github.com/users/BasePointer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasePointer/subscriptions","organizations_url":"https://api.github.com/users/BasePointer/orgs","repos_url":"https://api.github.com/users/BasePointer/repos","events_url":"https://api.github.com/users/BasePointer/events{/privacy}","received_events_url":"https://api.github.com/users/BasePointer/received_events","type":"User","site_admin":false},"labels":[{"id":1226349421,"node_id":"MDU6TGFiZWwxMjI2MzQ5NDIx","url":"https://api.github.com/repos/tmiland/Invidious-Updater/labels/invalid","name":"invalid","color":"e4e669","default":true,"description":"This doesn't seem right"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-04-08T20:27:55Z","updated_at":"2020-05-11T07:31:58Z","closed_at":"2020-04-14T08:27:56Z","author_association":"NONE","active_lock_reason":null,"body":"I set up a fresh VM using the latest Debian (10). I downloaded and ran the script but the installation did not seem to be going as planned. This is the log:\r\n\r\n```\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║\r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.4.7                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\nThank you for using the Invidious Update.sh script.\r\n\r\n\r\n\r\nDocumentation for this script is available here:\r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\n\r\nLet's go through some configuration options.\r\n\r\nDo you want to install Invidious release or master?\r\n   1) release\r\n   2) master\r\n\r\nSelect an option [1-2]: 1\r\nDo you want to enter advanced options? [y/n]: n\r\n\r\n\r\nYou entered:\r\n\r\n ✔ branch        : release\r\n ✔ domain        : invidio.us\r\n ✔ ip adress     : localhost\r\n ✔ port          : 3000\r\n ✔ external port :\r\n ✔ dbname        : invidious\r\n ✔ dbpass        : kemal\r\n ✔ https only    : false\r\n\r\n\r\n\r\nInvidious is ready to be installed, press any key to continue...\r\n\r\nOK\r\ndeb https://dist.crystal-lang.org/apt crystal main\r\nVormals nicht ausgewähltes Paket libssl-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 37978 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libssl-dev_1.1.1f-1_amd64.deb ...\r\nEntpacken von libssl-dev:amd64 (1.1.1f-1) ...\r\nVormals nicht ausgewähltes Paket crystal wird gewählt.\r\nVorbereitung zum Entpacken von .../crystal_0.34.0-1_amd64.deb ...\r\nEntpacken von crystal (0.34.0-1) ...\r\ncrystal (0.34.0-1) wird eingerichtet ...\r\nlibssl-dev:amd64 (1.1.1f-1) wird eingerichtet ...\r\nTrigger für man-db (2.9.1-1) werden verarbeitet ...\r\nVormals nicht ausgewähltes Paket libxml2-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 39366 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libxml2-dev_2.9.10+dfsg-4_amd64.deb ...\r\nEntpacken von libxml2-dev:amd64 (2.9.10+dfsg-4) ...\r\nlibxml2-dev:amd64 (2.9.10+dfsg-4) wird eingerichtet ...\r\nTrigger für man-db (2.9.1-1) werden verarbeitet ...\r\nVormals nicht ausgewähltes Paket libyaml-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 39428 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libyaml-dev_0.2.2-1_amd64.deb ...\r\nEntpacken von libyaml-dev:amd64 (0.2.2-1) ...\r\nlibyaml-dev:amd64 (0.2.2-1) wird eingerichtet ...\r\nVormals nicht ausgewähltes Paket libgmp-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 39435 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libgmp-dev_2%3a6.2.0+dfsg-4_amd64.deb ...\r\nEntpacken von libgmp-dev:amd64 (2:6.2.0+dfsg-4) ...\r\nlibgmp-dev:amd64 (2:6.2.0+dfsg-4) wird eingerichtet ...\r\nVormals nicht ausgewähltes Paket libreadline-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 39450 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libreadline-dev_8.0-4_amd64.deb ...\r\nEntpacken von libreadline-dev:amd64 (8.0-4) ...\r\nlibreadline-dev:amd64 (8.0-4) wird eingerichtet ...\r\nVormals nicht ausgewähltes Paket librsvg2-bin wird gewählt.\r\n(Lese Datenbank ... 39465 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../librsvg2-bin_2.48.0-2_amd64.deb ...\r\nEntpacken von librsvg2-bin (2.48.0-2) ...\r\nlibrsvg2-bin (2.48.0-2) wird eingerichtet ...\r\nTrigger für man-db (2.9.1-1) werden verarbeitet ...\r\nVormals nicht ausgewähltes Paket libsqlite3-dev:amd64 wird gewählt.\r\n(Lese Datenbank ... 39470 Dateien und Verzeichnisse sind derzeit installiert.)\r\nVorbereitung zum Entpacken von .../libsqlite3-dev_3.31.1-4_amd64.deb ...\r\nEntpacken von libsqlite3-dev:amd64 (3.31.1-4) ...\r\nlibsqlite3-dev:amd64 (3.31.1-4) wird eingerichtet ...\r\n➜ User invidious Not Found, adding user\r\n➜ Downloading Invidious from GitHub\r\nKlone nach 'invidious' ...\r\nremote: Enumerating objects: 61, done.\r\nremote: Counting objects: 100% (61/61), done.\r\nremote: Compressing objects: 100% (51/51), done.\r\nremote: Total 12318 (delta 18), reused 27 (delta 9), pack-reused 12257\r\nEmpfange Objekte: 100% (12318/12318), 15.52 MiB | 8.84 MiB/s, Fertig.\r\nLöse Unterschiede auf: 100% (7871/7871), Fertig.\r\nZu neuem Branch 'release' gewechselt\r\n➜ Done\r\n/home/invidious\r\nSynchronizing state of postgresql.service with SysV service script with /lib/systemd/systemd-sysv-install.\r\nExecuting: /lib/systemd/systemd-sysv-install enable postgresql\r\n➜ Creating user kemal with password kemal\r\nCREATE ROLE\r\n➜ Creating database invidious with owner kemal\r\nCREATE DATABASE\r\n➜ Grant all on database invidious to user kemal\r\nGRANT\r\n➜ Running /home/invidious/invidious/config/sql/annotations.sql\r\nCREATE TABLE\r\nGRANT\r\n➜ Running /home/invidious/invidious/config/sql/channels.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/channel_videos.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/nonces.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/playlists.sql\r\npsql:/home/invidious/invidious/config/sql/playlists.sql:16: FEHLER:  Typ »privacy« existiert nicht\r\nZEILE 10:     privacy privacy,\r\n                      ^\r\npsql:/home/invidious/invidious/config/sql/playlists.sql:18: FEHLER:  Relation »public.playlists« existiert nicht\r\n➜ Running /home/invidious/invidious/config/sql/playlist_videos.sql\r\npsql:/home/invidious/invidious/config/sql/playlist_videos.sql:17: FEHLER:  Relation »playlists« existiert nicht\r\npsql:/home/invidious/invidious/config/sql/playlist_videos.sql:19: FEHLER:  Relation »public.playlist_videos« existiert nicht\r\n➜ Running /home/invidious/invidious/config/sql/privacy.sql\r\nCREATE TYPE\r\n➜ Running /home/invidious/invidious/config/sql/session_ids.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/users.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/videos.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n✔ Finished Database section\r\n➜ Updating config.yml with new info...\r\n✔ Done.\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nFetching https://github.com/omarroth/lsquic.cr.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nInstalling pg (0.19.0)\r\nInstalling sqlite3 (0.14.0)\r\nInstalling kemal (0.26.1)\r\nInstalling pool (0.2.3)\r\nInstalling protodec (0.1.2)\r\nInstalling lsquic (0.1.9)\r\nInstalling db (0.7.0)\r\nInstalling radix (0.3.9)\r\nInstalling kilt (0.4.0)\r\nInstalling exception_page (0.1.4)\r\nWriting shard.lock\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nFetching https://github.com/omarroth/lsquic.cr.git\r\nUsing pg (0.19.0)\r\nUsing sqlite3 (0.14.0)\r\nUsing kemal (0.26.1)\r\nUsing pool (0.2.3)\r\nUsing protodec (0.1.2)\r\nUsing lsquic (0.1.9)\r\nUsing db (0.7.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.4)\r\nWriting shard.lock\r\nShowing last frame. Use --error-trace for full trace.\r\n\r\nIn lib/pg/src/pq/connection.cr:170:20\r\n\r\n 170 | rescue e : Errno\r\n                  ^----\r\nError: Errno is not a subclass of Exception\r\n✗ Invidious service installation failed...\r\nAdding logrotate configuration...\r\n/home/invidious/invidious/invidious.log {\r\n    rotate 4\r\n    weekly\r\n    notifempty\r\n    missingok\r\n    compress\r\n    minsize 1048576\r\n}\r\n (done)\r\n\r\n\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║\r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.4.7                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n\r\nThank you for using the Invidious Update.sh script.\r\n\r\n\r\n\r\n✔ Invidious install done. Now visit http://localhost:3000\r\n\r\n\r\n\r\n\r\nDocumentation for this script is available here:\r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\n\r\n\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║\r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.4.7                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\nWelcome to the Invidious Update.sh script.\r\n\r\nWhat do you want to do?\r\n\r\n  1) Install Invidious          5) Run Database Maintenance\r\n  2) Update Invidious           6) Start, Stop or Restart\r\n  3) Deploy with Docker         7) Uninstall Invidious\r\n  4) Install Invidious service  8) Set up PostgreSQL Backup\r\n  9) Exit\r\n\r\n\r\nDocumentation for this script is available here:\r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\nSelect an option [1-9]:\r\n\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/491","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/491/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/491/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/491/events","html_url":"https://github.com/kemalcr/kemal/issues/491","id":358321936,"node_id":"MDU6SXNzdWUzNTgzMjE5MzY=","number":491,"title":"Failed to parse multipart message: EOF reading delimiter","user":{"login":"codenoid","id":14269809,"node_id":"MDQ6VXNlcjE0MjY5ODA5","avatar_url":"https://avatars3.githubusercontent.com/u/14269809?v=4","gravatar_id":"","url":"https://api.github.com/users/codenoid","html_url":"https://github.com/codenoid","followers_url":"https://api.github.com/users/codenoid/followers","following_url":"https://api.github.com/users/codenoid/following{/other_user}","gists_url":"https://api.github.com/users/codenoid/gists{/gist_id}","starred_url":"https://api.github.com/users/codenoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codenoid/subscriptions","organizations_url":"https://api.github.com/users/codenoid/orgs","repos_url":"https://api.github.com/users/codenoid/repos","events_url":"https://api.github.com/users/codenoid/events{/privacy}","received_events_url":"https://api.github.com/users/codenoid/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-09-08T19:31:25Z","updated_at":"2020-06-19T21:54:53Z","closed_at":"2018-10-18T18:43:04Z","author_association":"NONE","active_lock_reason":null,"body":"### Description\r\n\r\n`Exception: Failed to parse multipart message: EOF reading delimiter (HTTP::Multipart::Error)`\r\n\r\n### Steps to Reproduce\r\n\r\n1. puts env.redirect with HTTP::FormData.parse\r\n\r\n```\r\nrequire \"kemal\"\r\n\r\npost \"/\" do |env|\r\n  HTTP::FormData.parse(env.request) do |upload|\r\n    filename = upload.filename\r\n\r\n    if !filename.is_a?(String)\r\n      \"No filename included in upload\"\r\n    else\r\n      file_path = ::File.join [Kemal.config.public_folder, \"uploads/\", filename]\r\n      File.open(file_path, \"w\") do |f|\r\n        IO.copy(upload.body, f)\r\n      end\r\n    end\r\n  end\r\n\r\n  env.redirect \"/\"\r\nend\r\n\r\nKemal.run\r\n```\r\n\r\n![image](http://oi65.tinypic.com/25z2rti.jpg)\r\n\r\n**Actual behavior:** [What actually happens]\r\n\r\n```\r\n2018-09-09 02:25:24 +07:00 302 POST / 8.56ms                     \r\nException: Failed to parse multipart message: EOF reading delimiter (HTTP::Multipart::Error)                \r\n  from /usr/share/crystal/src/http/multipart/parser.cr:122:7 in 'fail'                                      \r\n  from /usr/share/crystal/src/http/multipart/parser.cr:0:7 in 'close_delimiter?'                            \r\n  from src/routes/content-management.cr:69:33 in '->'                                                       \r\n  from lib/kemal/src/kemal/route.cr:255:3 in '->'                                                           \r\n  from lib/kemal/src/kemal/route_handler.cr:255:3 in 'process_request'                                      \r\n  from lib/kemal/src/kemal/route_handler.cr:15:7 in 'call'                                                  \r\n  from /usr/share/crystal/src/http/server/handler.cr:24:7 in 'call_next'                                    \r\n  from lib/kemal/src/kemal/websocket_handler.cr:13:14 in 'call'                                             \r\n  from /usr/share/crystal/src/http/server/handler.cr:24:7 in 'call_next'                                    \r\n  from lib/kemal/src/kemal/static_file_handler.cr:12:11 in 'call'                                           \r\n  from /usr/share/crystal/src/http/server/handler.cr:24:7 in 'call_next'                                    \r\n  from lib/kemal/src/kemal/exception_handler.cr:8:7 in 'call'                                               \r\n  from /usr/share/crystal/src/http/server/handler.cr:24:7 in 'call_next'                                    \r\n  from lib/kemal/src/kemal/log_handler.cr:10:35 in 'call'                                                   \r\n  from /usr/share/crystal/src/http/server/handler.cr:24:7 in 'call_next'                                    \r\n  from lib/kemal/src/kemal/init_handler.cr:12:7 in 'call'                                                   \r\n  from /usr/share/crystal/src/http/server/request_processor.cr:39:11 in 'process'                           \r\n  from /usr/share/crystal/src/http/server/request_processor.cr:16:3 in 'process'                            \r\n  from /usr/share/crystal/src/http/server.cr:402:5 in 'handle_client'                                       \r\n  from /usr/share/crystal/src/http/server.cr:368:13 in '->'                                                 \r\n  from /usr/share/crystal/src/fiber.cr:255:3 in 'run'                                                       \r\n  from /usr/share/crystal/src/fiber.cr:29:34 in '->'                                                        \r\n  from ??? \r\n```\r\n\r\n### Versions\r\n\r\nUbuntu 16.04, Crystal 0.26.1, Kemal 0.24.0","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystal-lang/crystal/issues/9214","repository_url":"https://api.github.com/repos/crystal-lang/crystal","labels_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9214/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9214/comments","events_url":"https://api.github.com/repos/crystal-lang/crystal/issues/9214/events","html_url":"https://github.com/crystal-lang/crystal/issues/9214","id":610870426,"node_id":"MDU6SXNzdWU2MTA4NzA0MjY=","number":9214,"title":"BC broken between 0.34.0 and 0.35.0-dev","user":{"login":"Sija","id":988,"node_id":"MDQ6VXNlcjk4OA==","avatar_url":"https://avatars3.githubusercontent.com/u/988?v=4","gravatar_id":"","url":"https://api.github.com/users/Sija","html_url":"https://github.com/Sija","followers_url":"https://api.github.com/users/Sija/followers","following_url":"https://api.github.com/users/Sija/following{/other_user}","gists_url":"https://api.github.com/users/Sija/gists{/gist_id}","starred_url":"https://api.github.com/users/Sija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sija/subscriptions","organizations_url":"https://api.github.com/users/Sija/orgs","repos_url":"https://api.github.com/users/Sija/repos","events_url":"https://api.github.com/users/Sija/events{/privacy}","received_events_url":"https://api.github.com/users/Sija/received_events","type":"User","site_admin":false},"labels":[{"id":20487867,"node_id":"MDU6TGFiZWwyMDQ4Nzg2Nw==","url":"https://api.github.com/repos/crystal-lang/crystal/labels/kind:bug","name":"kind:bug","color":"fc2929","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-05-01T17:31:57Z","updated_at":"2020-05-19T18:57:10Z","closed_at":"2020-05-19T18:57:04Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"My recent nightly [CI build](https://travis-ci.com/github/Sija/gphoto2-web.cr/jobs/322692121) started to fail with:\r\n\r\n```\r\nIn lib/kemal/src/kemal/helpers/helpers.cr:143:7\r\n 143 | Gzip::Writer.open(env.response) do |deflate|\r\n       ^-----------\r\nError: undefined constant Gzip::Writer\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/iv-org/invidious/issues/1110","repository_url":"https://api.github.com/repos/iv-org/invidious","labels_url":"https://api.github.com/repos/iv-org/invidious/issues/1110/labels{/name}","comments_url":"https://api.github.com/repos/iv-org/invidious/issues/1110/comments","events_url":"https://api.github.com/repos/iv-org/invidious/issues/1110/events","html_url":"https://github.com/iv-org/invidious/issues/1110","id":596816923,"node_id":"MDU6SXNzdWU1OTY4MTY5MjM=","number":1110,"title":"Invidious Setup fails on fresh debian installation","user":{"login":"BasePointer","id":15816910,"node_id":"MDQ6VXNlcjE1ODE2OTEw","avatar_url":"https://avatars3.githubusercontent.com/u/15816910?v=4","gravatar_id":"","url":"https://api.github.com/users/BasePointer","html_url":"https://github.com/BasePointer","followers_url":"https://api.github.com/users/BasePointer/followers","following_url":"https://api.github.com/users/BasePointer/following{/other_user}","gists_url":"https://api.github.com/users/BasePointer/gists{/gist_id}","starred_url":"https://api.github.com/users/BasePointer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasePointer/subscriptions","organizations_url":"https://api.github.com/users/BasePointer/orgs","repos_url":"https://api.github.com/users/BasePointer/repos","events_url":"https://api.github.com/users/BasePointer/events{/privacy}","received_events_url":"https://api.github.com/users/BasePointer/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-04-08T19:45:42Z","updated_at":"2020-04-13T17:03:03Z","closed_at":"2020-04-08T20:01:30Z","author_association":"NONE","active_lock_reason":null,"body":"Hi there,\r\n\r\nI made a new virtual machine for invidious. I am using the latest debian (10). The install fails. This is the log:\r\n```\r\n\r\nInvidious is ready to be installed, press any key to continue...\r\n\r\n➜ Downloading Invidious from GitHub\r\nKlone nach 'invidious' ...\r\nremote: Enumerating objects: 61, done.\r\nremote: Counting objects: 100% (61/61), done.\r\nremote: Compressing objects: 100% (51/51), done.\r\nremote: Total 12318 (delta 18), reused 27 (delta 9), pack-reused 12257\r\nEmpfange Objekte: 100% (12318/12318), 15.52 MiB | 2.99 MiB/s, Fertig.\r\nLöse Unterschiede auf: 100% (7871/7871), Fertig.\r\nZu neuem Branch 'release' gewechselt\r\n➜ Done\r\n/home/invidious\r\nSynchronizing state of postgresql.service with SysV service script with /lib/systemd/systemd-sysv-install.\r\nExecuting: /lib/systemd/systemd-sysv-install enable postgresql\r\n➜ Creating user kemal with password invidious\r\nCREATE ROLE\r\n➜ Creating database invidious with owner kemal\r\nCREATE DATABASE\r\n➜ Grant all on database invidious to user kemal\r\nGRANT\r\n➜ Running /home/invidious/invidious/config/sql/annotations.sql\r\nCREATE TABLE\r\nGRANT\r\n➜ Running /home/invidious/invidious/config/sql/channels.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/channel_videos.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/nonces.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/playlists.sql\r\npsql:/home/invidious/invidious/config/sql/playlists.sql:16: FEHLER:  Typ »privacy« existiert nicht\r\nZEILE 10:     privacy privacy,\r\n                      ^\r\npsql:/home/invidious/invidious/config/sql/playlists.sql:18: FEHLER:  Relation »public.playlists« existiert nicht\r\n➜ Running /home/invidious/invidious/config/sql/playlist_videos.sql\r\npsql:/home/invidious/invidious/config/sql/playlist_videos.sql:17: FEHLER:  Relation »playlists« existiert nicht\r\npsql:/home/invidious/invidious/config/sql/playlist_videos.sql:19: FEHLER:  Relation »public.playlist_videos« existiert nicht\r\n➜ Running /home/invidious/invidious/config/sql/privacy.sql\r\nCREATE TYPE\r\n➜ Running /home/invidious/invidious/config/sql/session_ids.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/users.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n➜ Running /home/invidious/invidious/config/sql/videos.sql\r\nCREATE TABLE\r\nGRANT\r\nCREATE INDEX\r\n✔ Finished Database section\r\n➜ Updating config.yml with new info...\r\n✔ Done.\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nFetching https://github.com/omarroth/lsquic.cr.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nInstalling pg (0.19.0)\r\nInstalling sqlite3 (0.14.0)\r\nInstalling kemal (0.26.1)\r\nInstalling pool (0.2.3)\r\nInstalling protodec (0.1.2)\r\nInstalling lsquic (0.1.9)\r\nInstalling db (0.7.0)\r\nInstalling radix (0.3.9)\r\nInstalling kilt (0.4.0)\r\nInstalling exception_page (0.1.4)\r\nWriting shard.lock\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nFetching https://github.com/omarroth/lsquic.cr.git\r\nUsing pg (0.19.0)\r\nUsing sqlite3 (0.14.0)\r\nUsing kemal (0.26.1)\r\nUsing pool (0.2.3)\r\nUsing protodec (0.1.2)\r\nUsing lsquic (0.1.9)\r\nUsing db (0.7.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.4)\r\nWriting shard.lock\r\nShowing last frame. Use --error-trace for full trace.\r\n\r\nIn lib/pg/src/pq/connection.cr:170:20\r\n\r\n 170 | rescue e : Errno\r\n                  ^----\r\nError: Errno is not a subclass of Exception\r\n✗ Invidious service installation failed...\r\nAdding logrotate configuration...\r\n/home/invidious/invidious/invidious.log {\r\n    rotate 4\r\n    weekly\r\n    notifempty\r\n    missingok\r\n    compress\r\n    minsize 1048576\r\n}\r\n (done)\r\n\r\n\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║ \r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.4.7                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n\r\nThank you for using the Invidious Update.sh script.\r\n\r\n\r\n\r\n✔ Invidious install done. Now visit http://192.168.100.63:80\r\n\r\n\r\n\r\n\r\nDocumentation for this script is available here:\r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystal-lang/shards/issues/339","repository_url":"https://api.github.com/repos/crystal-lang/shards","labels_url":"https://api.github.com/repos/crystal-lang/shards/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/shards/issues/339/comments","events_url":"https://api.github.com/repos/crystal-lang/shards/issues/339/events","html_url":"https://github.com/crystal-lang/shards/issues/339","id":589901873,"node_id":"MDU6SXNzdWU1ODk5MDE4NzM=","number":339,"title":"Error when version conflict should say what shards need the conflicting version","user":{"login":"c-cesar","id":350914,"node_id":"MDQ6VXNlcjM1MDkxNA==","avatar_url":"https://avatars1.githubusercontent.com/u/350914?v=4","gravatar_id":"","url":"https://api.github.com/users/c-cesar","html_url":"https://github.com/c-cesar","followers_url":"https://api.github.com/users/c-cesar/followers","following_url":"https://api.github.com/users/c-cesar/following{/other_user}","gists_url":"https://api.github.com/users/c-cesar/gists{/gist_id}","starred_url":"https://api.github.com/users/c-cesar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-cesar/subscriptions","organizations_url":"https://api.github.com/users/c-cesar/orgs","repos_url":"https://api.github.com/users/c-cesar/repos","events_url":"https://api.github.com/users/c-cesar/events{/privacy}","received_events_url":"https://api.github.com/users/c-cesar/received_events","type":"User","site_admin":false},"labels":[{"id":213799840,"node_id":"MDU6TGFiZWwyMTM3OTk4NDA=","url":"https://api.github.com/repos/crystal-lang/shards/labels/question","name":"question","color":"cc317c","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-03-29T22:34:57Z","updated_at":"2020-03-31T02:08:51Z","closed_at":"2020-03-31T01:41:28Z","author_association":"NONE","active_lock_reason":null,"body":"When installing shards that need conflicting versions I get:\r\n`Error resolving db (~> 0.8.0, *, ~> 0.7.0)`\r\nIdeally, this should give me the name of the shards requesting each version, as:\r\n`Error resolving db (sqlite3: ~> 0.8.0, *, crecto: ~> 0.7.0)`\r\n\r\nOBS:\r\nReporting against 0.8.1. Not tested on shards 0.9 because of #338 ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/439","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/439/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/439/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/439/events","html_url":"https://github.com/kemalcr/kemal/issues/439","id":306357782,"node_id":"MDU6SXNzdWUzMDYzNTc3ODI=","number":439,"title":"Remove powered-by header","user":{"login":"dkimot","id":20249639,"node_id":"MDQ6VXNlcjIwMjQ5NjM5","avatar_url":"https://avatars0.githubusercontent.com/u/20249639?v=4","gravatar_id":"","url":"https://api.github.com/users/dkimot","html_url":"https://github.com/dkimot","followers_url":"https://api.github.com/users/dkimot/followers","following_url":"https://api.github.com/users/dkimot/following{/other_user}","gists_url":"https://api.github.com/users/dkimot/gists{/gist_id}","starred_url":"https://api.github.com/users/dkimot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkimot/subscriptions","organizations_url":"https://api.github.com/users/dkimot/orgs","repos_url":"https://api.github.com/users/dkimot/repos","events_url":"https://api.github.com/users/dkimot/events{/privacy}","received_events_url":"https://api.github.com/users/dkimot/received_events","type":"User","site_admin":false},"labels":[{"id":277058249,"node_id":"MDU6TGFiZWwyNzcwNTgyNDk=","url":"https://api.github.com/repos/kemalcr/kemal/labels/question","name":"question","color":"cc317c","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-19T07:31:19Z","updated_at":"2020-03-26T21:43:49Z","closed_at":"2018-03-19T19:41:27Z","author_association":"NONE","active_lock_reason":null,"body":"I want to remove the X-Powered-By header, is there an easy or quick way to do that?","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/42","repository_url":"https://api.github.com/repos/crystaluniverse/publishingtools","labels_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/42/comments","events_url":"https://api.github.com/repos/crystaluniverse/publishingtools/issues/42/events","html_url":"https://github.com/crystaluniverse/publishingtools/issues/42","id":611669088,"node_id":"MDU6SXNzdWU2MTE2NjkwODg=","number":42,"title":"building fails latest development on a fresh DO machine","user":{"login":"xmonader","id":64129,"node_id":"MDQ6VXNlcjY0MTI5","avatar_url":"https://avatars0.githubusercontent.com/u/64129?v=4","gravatar_id":"","url":"https://api.github.com/users/xmonader","html_url":"https://github.com/xmonader","followers_url":"https://api.github.com/users/xmonader/followers","following_url":"https://api.github.com/users/xmonader/following{/other_user}","gists_url":"https://api.github.com/users/xmonader/gists{/gist_id}","starred_url":"https://api.github.com/users/xmonader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmonader/subscriptions","organizations_url":"https://api.github.com/users/xmonader/orgs","repos_url":"https://api.github.com/users/xmonader/repos","events_url":"https://api.github.com/users/xmonader/events{/privacy}","received_events_url":"https://api.github.com/users/xmonader/received_events","type":"User","site_admin":false},"labels":[{"id":2005428107,"node_id":"MDU6TGFiZWwyMDA1NDI4MTA3","url":"https://api.github.com/repos/crystaluniverse/publishingtools/labels/priority_critical","name":"priority_critical","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"xmonader","id":64129,"node_id":"MDQ6VXNlcjY0MTI5","avatar_url":"https://avatars0.githubusercontent.com/u/64129?v=4","gravatar_id":"","url":"https://api.github.com/users/xmonader","html_url":"https://github.com/xmonader","followers_url":"https://api.github.com/users/xmonader/followers","following_url":"https://api.github.com/users/xmonader/following{/other_user}","gists_url":"https://api.github.com/users/xmonader/gists{/gist_id}","starred_url":"https://api.github.com/users/xmonader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmonader/subscriptions","organizations_url":"https://api.github.com/users/xmonader/orgs","repos_url":"https://api.github.com/users/xmonader/repos","events_url":"https://api.github.com/users/xmonader/events{/privacy}","received_events_url":"https://api.github.com/users/xmonader/received_events","type":"User","site_admin":false},"assignees":[{"login":"xmonader","id":64129,"node_id":"MDQ6VXNlcjY0MTI5","avatar_url":"https://avatars0.githubusercontent.com/u/64129?v=4","gravatar_id":"","url":"https://api.github.com/users/xmonader","html_url":"https://github.com/xmonader","followers_url":"https://api.github.com/users/xmonader/followers","following_url":"https://api.github.com/users/xmonader/following{/other_user}","gists_url":"https://api.github.com/users/xmonader/gists{/gist_id}","starred_url":"https://api.github.com/users/xmonader/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmonader/subscriptions","organizations_url":"https://api.github.com/users/xmonader/orgs","repos_url":"https://api.github.com/users/xmonader/repos","events_url":"https://api.github.com/users/xmonader/events{/privacy}","received_events_url":"https://api.github.com/users/xmonader/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/crystaluniverse/publishingtools/milestones/1","html_url":"https://github.com/crystaluniverse/publishingtools/milestone/1","labels_url":"https://api.github.com/repos/crystaluniverse/publishingtools/milestones/1/labels","id":5336528,"node_id":"MDk6TWlsZXN0b25lNTMzNjUyOA==","number":1,"title":"now","description":"","creator":{"login":"rkhamis","id":8425762,"node_id":"MDQ6VXNlcjg0MjU3NjI=","avatar_url":"https://avatars1.githubusercontent.com/u/8425762?v=4","gravatar_id":"","url":"https://api.github.com/users/rkhamis","html_url":"https://github.com/rkhamis","followers_url":"https://api.github.com/users/rkhamis/followers","following_url":"https://api.github.com/users/rkhamis/following{/other_user}","gists_url":"https://api.github.com/users/rkhamis/gists{/gist_id}","starred_url":"https://api.github.com/users/rkhamis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkhamis/subscriptions","organizations_url":"https://api.github.com/users/rkhamis/orgs","repos_url":"https://api.github.com/users/rkhamis/repos","events_url":"https://api.github.com/users/rkhamis/events{/privacy}","received_events_url":"https://api.github.com/users/rkhamis/received_events","type":"User","site_admin":false},"open_issues":11,"closed_issues":78,"state":"open","created_at":"2020-04-22T08:49:33Z","updated_at":"2020-09-30T07:49:45Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2020-05-04T07:45:27Z","updated_at":"2020-05-05T12:28:13Z","closed_at":"2020-05-05T12:28:13Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"```\r\nroot@host1:/tmp/publishingtools# shards build                                                                       \r\nResolving dependencies                                                                                              \r\nFetching https://github.com/icyleaf/markd.git                                                                       \r\nFetching https://github.com/kemalcr/kemal.git                                                                       \r\nFetching https://github.com/luislavena/radix.git                                                                    \r\nFetching https://github.com/jeromegn/kilt.git                                                                       \r\nFetching https://github.com/crystal-loot/exception_page.git                                                         \r\nFetching https://github.com/crystal-community/toml.cr.git                                                           \r\nInstalling markd (0.2.0)                                                                                            \r\nInstalling kemal (0.26.1)                                                                                           \r\nInstalling toml (0.6.1 at d02de85eed68a70dc97ab6d6e52831a4d0e890fe)                                                 \r\nInstalling radix (0.3.9)                                                                                            \r\nInstalling kilt (0.4.0)                                                                                             \r\nInstalling exception_page (0.1.4)        \r\nInstalling markd (0.2.0)                                                                                    [63/130]\r\nInstalling kemal (0.26.1)                                                                                           \r\nInstalling toml (0.6.1 at d02de85eed68a70dc97ab6d6e52831a4d0e890fe)                                                 \r\nInstalling radix (0.3.9)                                                                                            \r\nInstalling kilt (0.4.0)                                                                                             \r\nInstalling exception_page (0.1.4)                                                                                   \r\nWriting shard.lock                                                                                                  \r\nBuilding: tfweb                                                                                                     \r\nError target tfweb failed to compile:                                                                               \r\ncc: error: D-ir5858G-lobber.o: No such file or directory                                                            \r\ncc: error: T-uple40S-tring4432S-tring4432S-tring41.o: No such file or directory                                     \r\ncc: error: A-rray40A-rray40D-cb50b0f80f8f0560de46323236b1192f.o: No such file or directory                          \r\ncc: error: P-ointer40A-rray4-c063451c30ee0e2c359a34203e1aa570.o: No such file or directory                          \r\ncc: error: A-rray40D-ir5858G-fbfbd3b0465abe6937d4ce9852f079cb.o: No such file or directory                          \r\ncc: error: P-ointer40D-ir585-29993c5b9ad800ff233d1e9636f06fa1.o: No such file or directory                          \r\ncc: error: D-ir5858G-lobber5858D-irectoriesO-nly.o: No such file or directory                                       \r\ncc: error: D-ir5858G-lobber5858C-onstantE-ntry.o: No such file or directory                                         \r\ncc: error: D-ir5858G-lobber5858E-ntryM-atch.o: No such file or directory                                            \r\ncc: error: D-ir5858G-lobber5858R-ecursiveD-irectories.o: No such file or directory                                  \r\ncc: error: D-ir5858G-lobber5858C-onstantD-irectory.o: No such file or directory                                     \r\ncc: error: D-ir5858G-lobber5858D-irectoryM-atch.o: No such file or directory                                        \r\ncc: error: D-ir5858G-lobber5858R-ootD-irectory.o: No such file or directory                                         \r\ncc: error: A-rray40T-uple40I-19324b9b5199fbad285e3990f26d7c40.o: No such file or directory                          \r\ncc: error: P-ointer40T-uple4-54fc035efa975afa4fb13fe89efb44b1.o: No such file or directory                          \r\ncc: error: T-uple40S-tring4432S-tring41.o: No such file or directory                                                \r\ncc: error: A-rray40T-F-W-eb5858P-rocessor41.o: No such file or directory                                            \r\ncc: error: P-ointer40T-F-W-eb5858P-rocessor41.o: No such file or directory                                          \r\ncc: error: T-F-W-eb5858R-eadM-eP-rocessor.o: No such file or directory                                              \r\ncc: error: T-F-W-eb5858N-ameF-ixerP-rocessor.o: No such file or directory                                           \r\ncc: error: T-F-W-eb5858M-dP-rocessor.o: No such file or directory                                                   \r\ncc: error: T-F-W-eb5858L-inksI-magesP-rocessor.o: No such file or directory                                         \r\ncc: error: T-F-W-eb5858I-magesD-irP-rocessor.o: No such file or directory                                           \r\ncc: error: T-F-W-eb5858I-mageP-rocessor.o: No such file or directory                                                \r\ncc: error: T-F-W-eb5858D-ocsifyS-idebarF-ixerP-rocessor.o: No such file or directory \r\ncc: error: T-F-W-eb5858L-inksI-magesP-rocessor.o: No such file or directory                                 [33/130]\r\ncc: error: T-F-W-eb5858I-magesD-irP-rocessor.o: No such file or directory                                           \r\ncc: error: T-F-W-eb5858I-mageP-rocessor.o: No such file or directory                                                \r\ncc: error: T-F-W-eb5858D-ocsifyS-idebarF-ixerP-rocessor.o: No such file or directory                                \r\ncc: error: T-F-W-eb5858D-ocsifyR-eadmeF-ixerP-rocessor.o: No such file or directory                                 \r\ncc: error: N-amedT-uple403432345832S-tring41.o: No such file or directory                                           \r\ncc: error: N-amedT-uple403432345832S-tring4432455832S-tring41.o: No such file or directory                          \r\ncc: error: M-arkd5858O-ptions.o: No such file or directory                                                          \r\ncc: error: M-arkd5858P-arser.o: No such file or directory                                                           \r\ncc: error: M-arkd5858P-arser5858B-lock.o: No such file or directory                                                 \r\ncc: error: M-arkd5858P-arser5858I-nline.o: No such file or directory                                                \r\ncc: error: H-ash40S-tring443-a0d07e9a44a4acb259b48f24254c2b6c.o: No such file or directory                          \r\ncc: error: P-ointer40H-ash58-ce8b8aad7e2ab1ba1bbe07c129340d64.o: No such file or directory                          \r\ncc: error: M-arkd5858N-ode.o: No such file or directory                                                             \r\ncc: error: T-uple40N-il4432C-har4432C-har41.o: No such file or directory                                            \r\ncc: error: I-ndexable40T-41.o: No such file or directory                                                            \r\ncc: error: M-arkd5858U-tils.o: No such file or directory                                                            \r\ncc: error: H-T-M-L-.o: No such file or directory                                                                    \r\ncc: error: M-arkd5858H-T-M-L-E-ntities5858D-ecoder.o: No such file or directory                                     \r\ncc: error: H-ash40S-tring443-26cd824b60d3ea27b0fe8d1e98368d38.o: No such file or directory                          \r\ncc: error: P-ointer40H-ash58-6b8db5955c00b95ebeaa86d9bbcc74db.o: No such file or directory                          \r\ncc: error: H-ash5858E-ntry40-28d61bbf7fd471b81e44ca224af9fd35.o: No such file or directory                          \r\ncc: error: H-ash5858E-ntry40-b60fa1af87e0a762274c390b85818d68.o: No such file or directory                          \r\ncc: error: S-tring5858C-harI-terator.o: No such file or directory                                                   \r\ncc: error: I-terator40T-41.o: No such file or directory                                                             \r\ncc: error: M-arkd5858R-ule5858C-ontinueS-tatus.o: No such file or directory                                         \r\ncc: error: T-uple40C-har4432-970bc0c0cdfb86778b2ce9b0a6e081ea.o: No such file or directory                          \r\ncc: error: T-uple40C-har4432C-har4432C-har41.o: No such file or directory                                           \r\ncc: error: M-arkd5858R-ule5858M-atchV-alue.o: No such file or directory                                             \r\ncc: error: F-loat5858P-rinter.o: No such file or directory                                                          \r\ncc: error: F-loat5858P-rinter5858I-E-E-E-.o: No such file or directory                                              \r\ncc: error: S-taticA-rray40U-I-nt8443212841.o: No such file or directory                                             \r\ncc: error: F-loat5858P-rinter5858G-risu3.o: No such file or directory  \r\ncc: error: F-loat5858P-rinter5858D-iyF-P-.o: No such file or directory\r\ncc: error: F-loat5858P-rinter5858C-achedP-owers.o: No such file or directory\r\ncc: error: T-uple40I-nt32443-afadb9c45253e8355fa608b917562caf.o: No such file or directory\r\ncc: error: M-arkd5858N-ode5858W-alker.o: No such file or directory\r\ncc: error: T-uple40M-arkd585-9f899f8815b14cae2e0d962173fe47d9.o: No such file or directory\r\ncc: error: M-arkd5858P-arser5858I-nline5858D-elimiter.o: No such file or directory\r\ncc: error: M-arkd5858P-arser5858I-nline5858B-racket.o: No such file or directory\r\ncc: error: H-ash40C-har4432M-22648d69a657a029fe5a280f17d865d4.o: No such file or directory\r\ncc: error: P-ointer40H-ash58-0b4704a4c5faf7c834d3980103124616.o: No such file or directory\r\ncc: error: H-ash5858E-ntry40-63f344fbd85fc5635a555414964a781c.o: No such file or directory\r\ncc: error: T-F-W-eb5858M-yL-inksI-magesR-enderer.o: No such file or directory\r\ncc: error: N-amedT-uple40455832S-tring41.o: No such file or directory\r\ncc: error: F-ileU-tils.o: No such file or directory\r\ncc: error: T-F-W-eb5858P-rocessor43.o: No such file or directory\r\ncc: error: C-rystal5858S-ystem5858D-ir5858E-ntry.o: No such file or directory\r\ncc: error: A-rray40D-ir41.o: No such file or directory\r\ncc: error: P-ointer40D-ir41.o: No such file or directory\r\ncc: error: T-F-W-eb5858F-I-nfoT-racker.o: No such file or directory\r\ncc: error: T-F-W-eb5858W-iki.o: No such file or directory\r\ncc: error: T-F-W-eb5858G-I-T-R-epo.o: No such file or directory\r\ncc: error: P-rocess5858R-edirect.o: No such file or directory\r\ncc: error: A-rray40P-roc40N-il4141.o: No such file or directory\r\ncc: error: P-ointer40P-roc40N-il4141.o: No such file or directory\r\ncc: error: A-rray40P-ointer40U-I-nt84141.o: No such file or directory\r\ncc: error: C-hannel40E-xception3212432N-il41.o: No such file or directory\r\ncc: error: C-hannel5858R-eceiver40E-xception3212432N-il41.o: No such file or directory\r\ncc: error: P-ointer40C-hanne-114d73e242927723d73c5dcee644d78a.o: No such file or directory\r\nError: execution of command failed with code: 1: `cc \"${@}\" -o '/tmp/publishingtools/bin/tfweb'  -rdynamic  -lyaml -lz `command -v pkg-config > /dev/null && pkg-config --libs --silence-errors libssl || printf %s '-lssl -lcrypto'` `command -v pkg-config > /dev/null && pkg-config --libs --silence-errors libcrypto || printf %s '-lcrypto'` -lpcre -lm /usr/bin/../lib/crystal/lib/libgc.a -lpthread /usr/share/crystal/src/ext/libcrystal.a -levent -lrt -ldl -L/usr/bin/../lib/crystal/lib -L/usr/bin/../lib/crystal/lib`\r\n\r\n\r\n```\r\n\r\n\r\nIt works on commit 4395e3556e398574a571ce249dbe38f52d6c4db7 directly before introducing yaml dep .. libyaml-dev is installed already on the system","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/amberframework/amber/issues/1035","repository_url":"https://api.github.com/repos/amberframework/amber","labels_url":"https://api.github.com/repos/amberframework/amber/issues/1035/labels{/name}","comments_url":"https://api.github.com/repos/amberframework/amber/issues/1035/comments","events_url":"https://api.github.com/repos/amberframework/amber/issues/1035/events","html_url":"https://github.com/amberframework/amber/issues/1035","id":399034689,"node_id":"MDU6SXNzdWUzOTkwMzQ2ODk=","number":1035,"title":"Remove x-powered-by header","user":{"login":"jackturnbull","id":3958636,"node_id":"MDQ6VXNlcjM5NTg2MzY=","avatar_url":"https://avatars2.githubusercontent.com/u/3958636?v=4","gravatar_id":"","url":"https://api.github.com/users/jackturnbull","html_url":"https://github.com/jackturnbull","followers_url":"https://api.github.com/users/jackturnbull/followers","following_url":"https://api.github.com/users/jackturnbull/following{/other_user}","gists_url":"https://api.github.com/users/jackturnbull/gists{/gist_id}","starred_url":"https://api.github.com/users/jackturnbull/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackturnbull/subscriptions","organizations_url":"https://api.github.com/users/jackturnbull/orgs","repos_url":"https://api.github.com/users/jackturnbull/repos","events_url":"https://api.github.com/users/jackturnbull/events{/privacy}","received_events_url":"https://api.github.com/users/jackturnbull/received_events","type":"User","site_admin":false},"labels":[{"id":585735841,"node_id":"MDU6TGFiZWw1ODU3MzU4NDE=","url":"https://api.github.com/repos/amberframework/amber/labels/kind:question","name":"kind:question","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-01-14T19:17:59Z","updated_at":"2020-03-31T13:49:22Z","closed_at":"2019-09-13T03:18:58Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Description\r\n\r\nSubmitting this primarily as a discussion/RFC before spooling up a PR, but I think it would probably be a good idea to remove the `x-powered-by` header that is returned on every request. The primary line of thinking is that if there's ever a security bug found within amber/crystal then amber at least wouldn't advertise what it is, protecting it from automated vulnerability scanners.\r\n\r\n### Steps to Reproduce\r\n\r\n`curl -I localhost:3000`\r\n\r\n### Versions\r\n\r\nAll/Current\r\n\r\n### Additional Information\r\n\r\nSome prior-art and rationale:\r\n\r\n* Express JS docs: https://expressjs.com/en/advanced/best-practice-security.html#at-a-minimum-disable-x-powered-by-header\r\n  * Worth noting the sub-heading of the section highlighting express's severity; _At a minimum_, disable X-Powered-By header.\r\n* Troy Hunt article: https://www.troyhunt.com/shhh-dont-let-your-response-headers/\r\n\r\nNow why express includes this header by default anyway, I'm not sure. It would also be possible to disable this only in production but I'm not sure of the additional value.\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal/issues/501","repository_url":"https://api.github.com/repos/kemalcr/kemal","labels_url":"https://api.github.com/repos/kemalcr/kemal/issues/501/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal/issues/501/comments","events_url":"https://api.github.com/repos/kemalcr/kemal/issues/501/events","html_url":"https://github.com/kemalcr/kemal/issues/501","id":377049536,"node_id":"MDU6SXNzdWUzNzcwNDk1MzY=","number":501,"title":"Url params not parsed when using OverrideMethodHandler","user":{"login":"mang","id":192830,"node_id":"MDQ6VXNlcjE5MjgzMA==","avatar_url":"https://avatars2.githubusercontent.com/u/192830?v=4","gravatar_id":"","url":"https://api.github.com/users/mang","html_url":"https://github.com/mang","followers_url":"https://api.github.com/users/mang/followers","following_url":"https://api.github.com/users/mang/following{/other_user}","gists_url":"https://api.github.com/users/mang/gists{/gist_id}","starred_url":"https://api.github.com/users/mang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mang/subscriptions","organizations_url":"https://api.github.com/users/mang/orgs","repos_url":"https://api.github.com/users/mang/repos","events_url":"https://api.github.com/users/mang/events{/privacy}","received_events_url":"https://api.github.com/users/mang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-11-03T12:16:43Z","updated_at":"2020-02-01T23:50:40Z","closed_at":"2018-11-04T23:21:33Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Description\r\n\r\nWhen defining routes with put/patch/delete and the new OverrideMethodHandler, any url parameters is discarded. This makes it impossible to define routes such as `delete /blog/post/:post_id`\r\n\r\n### Steps to Reproduce\r\n1. Define a put/patch/delete route:\r\n```\r\nadd_handler Kemal::OverrideMethodHandler::INSTANCE\r\n\r\ndelete \"/:id\" do |env|\r\n  p env.params.url.has_key?(\"id\")\r\nend\r\n```\r\n2. Compare the outputs of a \"true\" DELETE request and a POST request with the _method override\r\n```\r\ncurl -X DELETE http://localhost:3000/1\r\ncurl -X POST -d _method=DELETE http://localhost:3000/1\r\n```\r\n\r\n**Expected behavior:** Both requests should return true\r\n\r\n**Actual behavior:** The first request returns true, the second returns false\r\n\r\n**Reproduces how often:** Always\r\n\r\n### Versions\r\n\r\nCrystal 0.27.0 (2018-11-02)\r\nLLVM: 6.0.1\r\nOS: Arch Linux","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/edent/SuperTinyIcons/issues/328","repository_url":"https://api.github.com/repos/edent/SuperTinyIcons","labels_url":"https://api.github.com/repos/edent/SuperTinyIcons/issues/328/labels{/name}","comments_url":"https://api.github.com/repos/edent/SuperTinyIcons/issues/328/comments","events_url":"https://api.github.com/repos/edent/SuperTinyIcons/issues/328/events","html_url":"https://github.com/edent/SuperTinyIcons/issues/328","id":508378035,"node_id":"MDU6SXNzdWU1MDgzNzgwMzU=","number":328,"title":"add Kemal","user":{"login":"alexanderadam","id":372620,"node_id":"MDQ6VXNlcjM3MjYyMA==","avatar_url":"https://avatars1.githubusercontent.com/u/372620?v=4","gravatar_id":"","url":"https://api.github.com/users/alexanderadam","html_url":"https://github.com/alexanderadam","followers_url":"https://api.github.com/users/alexanderadam/followers","following_url":"https://api.github.com/users/alexanderadam/following{/other_user}","gists_url":"https://api.github.com/users/alexanderadam/gists{/gist_id}","starred_url":"https://api.github.com/users/alexanderadam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexanderadam/subscriptions","organizations_url":"https://api.github.com/users/alexanderadam/orgs","repos_url":"https://api.github.com/users/alexanderadam/repos","events_url":"https://api.github.com/users/alexanderadam/events{/privacy}","received_events_url":"https://api.github.com/users/alexanderadam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-17T10:18:29Z","updated_at":"2019-10-18T10:41:05Z","closed_at":"2019-10-18T10:41:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"<!-- If you want a new icon - fill in this form. If you want something else, just type it in here :-) -->\r\n\r\n## The icon I want is:\r\n<!-- We need these three piece of information -->\r\n* Name: Kemal framework\r\n* URL: https://kemalcr.com/\r\n* Link to icon: https://github.com/kemalcr/kemalcr.com/blob/master/img/kemal.png","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/kemalcr/kemal-csrf/issues/17","repository_url":"https://api.github.com/repos/kemalcr/kemal-csrf","labels_url":"https://api.github.com/repos/kemalcr/kemal-csrf/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/kemalcr/kemal-csrf/issues/17/comments","events_url":"https://api.github.com/repos/kemalcr/kemal-csrf/issues/17/events","html_url":"https://github.com/kemalcr/kemal-csrf/issues/17","id":288422354,"node_id":"MDU6SXNzdWUyODg0MjIzNTQ=","number":17,"title":"How to insert the token in the form","user":{"login":"netwarp","id":8652937,"node_id":"MDQ6VXNlcjg2NTI5Mzc=","avatar_url":"https://avatars2.githubusercontent.com/u/8652937?v=4","gravatar_id":"","url":"https://api.github.com/users/netwarp","html_url":"https://github.com/netwarp","followers_url":"https://api.github.com/users/netwarp/followers","following_url":"https://api.github.com/users/netwarp/following{/other_user}","gists_url":"https://api.github.com/users/netwarp/gists{/gist_id}","starred_url":"https://api.github.com/users/netwarp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netwarp/subscriptions","organizations_url":"https://api.github.com/users/netwarp/orgs","repos_url":"https://api.github.com/users/netwarp/repos","events_url":"https://api.github.com/users/netwarp/events{/privacy}","received_events_url":"https://api.github.com/users/netwarp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-14T16:51:25Z","updated_at":"2019-10-25T09:49:21Z","closed_at":"2018-08-13T16:29:07Z","author_association":"NONE","active_lock_reason":null,"body":"I would like to know how to insert the token in the form:\r\n`<input type=\"hidden\" name=\"_csrf\" value=\"<%= env.session.csrf %>\">`\r\nThis doen't work.\r\nThanks.\r\n\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/11","repository_url":"https://api.github.com/repos/tmiland/Invidious-Updater","labels_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/11/comments","events_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/11/events","html_url":"https://github.com/tmiland/Invidious-Updater/issues/11","id":505989185,"node_id":"MDU6SXNzdWU1MDU5ODkxODU=","number":11,"title":"Can't auto-update Invidious instance","user":{"login":"RoiArthurB","id":16764085,"node_id":"MDQ6VXNlcjE2NzY0MDg1","avatar_url":"https://avatars0.githubusercontent.com/u/16764085?v=4","gravatar_id":"","url":"https://api.github.com/users/RoiArthurB","html_url":"https://github.com/RoiArthurB","followers_url":"https://api.github.com/users/RoiArthurB/followers","following_url":"https://api.github.com/users/RoiArthurB/following{/other_user}","gists_url":"https://api.github.com/users/RoiArthurB/gists{/gist_id}","starred_url":"https://api.github.com/users/RoiArthurB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RoiArthurB/subscriptions","organizations_url":"https://api.github.com/users/RoiArthurB/orgs","repos_url":"https://api.github.com/users/RoiArthurB/repos","events_url":"https://api.github.com/users/RoiArthurB/events{/privacy}","received_events_url":"https://api.github.com/users/RoiArthurB/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-10-11T18:12:25Z","updated_at":"2019-10-12T04:37:40Z","closed_at":"2019-10-12T04:37:40Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nThe script can't update my invidious instance because it failed to use installed shards from the OS... \r\n\r\nI tried to install the missing one inside _/home/invidious/invidious_ but it didn't changed anything 😕\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Connect to my VPS in _root_\r\n2. Start `invidious_update.sh` from the _root_ home or the _/home/invidious/invidious_\r\n3. Choose the update version\r\n4. See error\r\n```\r\n\r\n-- Rebuilding /home/invidious/invidious\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nUsing pg (0.18.1)\r\nUsing db (0.6.0)\r\nUsing sqlite3 (0.13.0)\r\nUsing kemal (0.26.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.2)\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nUsing pg (0.18.1)\r\nUsing db (0.6.0)\r\nUsing sqlite3 (0.13.0)\r\nUsing kemal (0.26.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.2)\r\nShowing last frame. Use --error-trace for full trace.\r\n\r\nIn src/invidious.cr:20:1\r\n\r\n 20 | require \"markdown\"\r\n      ^\r\nError: can't find file 'markdown'\r\n\r\nIf you're trying to require a shard:\r\n- Did you remember to run `shards install`?\r\n- Did you make sure you're running the compiler in the same directory as your shard.yml?\r\n/home/invidious/invidious\r\n\r\n✔ Done Rebuilding /home/invidious/invidious \r\n```\r\n\r\n**Expected behavior**\r\nUpdating my Invidious instance\r\n\r\n**Device (please complete the following information):**\r\n - Hoster: DigitalOcean\r\n - OS: Debian Buster\r\n - Version: 1.3.9\r\n\r\n**Additional context**\r\nHere's the full console output :\r\n\r\n```\r\n$ ~/invidious_update.sh \r\n➜ Checking for updates...\r\n✔ No update available.\r\n\r\n\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║\r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.3.9                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\nWelcome to the Invidious Update.sh script.\r\n\r\nWhat do you want to do?\r\n\r\n  1) Install Invidious          5) Run Database Maintenance \r\n  2) Update Invidious           6) Start, Stop or Restart   \r\n  3) Deploy with Docker         7) Uninstall Invidious      \r\n  4) Install Invidious service  8) Set up PostgreSQL Backup \r\n  9) Exit                                                   \r\n\r\nServices running:\r\nInvidious: ● active PostgreSQL: ● active  \r\n\r\nDocumentation for this script is available here: \r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\nSelect an option [1-9]: 2\r\n\r\nLet's go through some configuration options.\r\n\r\nDo you want to checkout Invidious release or master?\r\n\r\n   1) release\r\n   2) master\r\n\r\nSelect an option [1-2]: 2\r\n\r\n\r\nYou entered: \r\n\r\n✔ branch: master\r\n\r\n\r\nInvidious is ready to be updated, press any key to continue...\r\n\r\n➜ Pulling Invidious from GitHub\r\nUpdating 45ad212..7aada3f\r\nerror: Your local changes to the following files would be overwritten by merge:\r\n\tassets/css/default.css\r\nPlease commit your changes or stash them before you merge.\r\nAborting\r\n\r\n*** Please tell me who you are.\r\n\r\nRun\r\n\r\n  git config --global user.email \"you@example.com\"\r\n  git config --global user.name \"Your Name\"\r\n\r\nto set your account's default identity.\r\nOmit --global to set the identity only in this repository.\r\n\r\nfatal: unable to auto-detect email address (got 'root@invidious-debian-Sing2.(none)')\r\nCannot save the current index state\r\nerror: Your local changes to the following files would be overwritten by checkout:\r\n\tassets/css/default.css\r\nPlease commit your changes or stash them before you switch branches.\r\nAborting\r\n\r\n-- Rebuilding /home/invidious/invidious\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nUsing pg (0.18.1)\r\nUsing db (0.6.0)\r\nUsing sqlite3 (0.13.0)\r\nUsing kemal (0.26.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.2)\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nUsing pg (0.18.1)\r\nUsing db (0.6.0)\r\nUsing sqlite3 (0.13.0)\r\nUsing kemal (0.26.0)\r\nUsing radix (0.3.9)\r\nUsing kilt (0.4.0)\r\nUsing exception_page (0.1.2)\r\nShowing last frame. Use --error-trace for full trace.\r\n\r\nIn src/invidious.cr:20:1\r\n\r\n 20 | require \"markdown\"\r\n      ^\r\nError: can't find file 'markdown'\r\n\r\nIf you're trying to require a shard:\r\n- Did you remember to run `shards install`?\r\n- Did you make sure you're running the compiler in the same directory as your shard.yml?\r\n/home/invidious/invidious\r\n\r\n✔ Done Rebuilding /home/invidious/invidious \r\n\r\n-- restarting Invidious\r\n● invidious.service - Invidious (An alternative YouTube front-end)\r\n   Loaded: loaded (/etc/systemd/system/invidious.service; enabled; vendor preset: enabled)\r\n   Active: active (running) since Fri 2019-10-11 18:02:02 UTC; 2s ago\r\n Main PID: 3480 (invidious)\r\n    Tasks: 1 (limit: 1167)\r\n   Memory: 12.1M\r\n   CGroup: /system.slice/invidious.service\r\n           └─3480 /home/invidious/invidious/invidious -o invidious.log\r\n\r\nOct 11 18:02:02 invidious-debian-Sing2 systemd[1]: invidious.service: Main process exited, code=killed, status=15/TERM\r\nOct 11 18:02:02 invidious-debian-Sing2 systemd[1]: invidious.service: Succeeded.\r\nOct 11 18:02:02 invidious-debian-Sing2 systemd[1]: Stopped Invidious (An alternative YouTube front-end).\r\nOct 11 18:02:02 invidious-debian-Sing2 systemd[1]: Started Invidious (An alternative YouTube front-end).\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/14","repository_url":"https://api.github.com/repos/tmiland/Invidious-Updater","labels_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/14/comments","events_url":"https://api.github.com/repos/tmiland/Invidious-Updater/issues/14/events","html_url":"https://github.com/tmiland/Invidious-Updater/issues/14","id":523542626,"node_id":"MDU6SXNzdWU1MjM1NDI2MjY=","number":14,"title":"ERROR: Service 'invidious' failed to build on Centos 7","user":{"login":"pulketo","id":337881,"node_id":"MDQ6VXNlcjMzNzg4MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/337881?v=4","gravatar_id":"","url":"https://api.github.com/users/pulketo","html_url":"https://github.com/pulketo","followers_url":"https://api.github.com/users/pulketo/followers","following_url":"https://api.github.com/users/pulketo/following{/other_user}","gists_url":"https://api.github.com/users/pulketo/gists{/gist_id}","starred_url":"https://api.github.com/users/pulketo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulketo/subscriptions","organizations_url":"https://api.github.com/users/pulketo/orgs","repos_url":"https://api.github.com/users/pulketo/repos","events_url":"https://api.github.com/users/pulketo/events{/privacy}","received_events_url":"https://api.github.com/users/pulketo/received_events","type":"User","site_admin":false},"labels":[{"id":1226349421,"node_id":"MDU6TGFiZWwxMjI2MzQ5NDIx","url":"https://api.github.com/repos/tmiland/Invidious-Updater/labels/invalid","name":"invalid","color":"e4e669","default":true,"description":"This doesn't seem right"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-15T15:42:54Z","updated_at":"2019-11-15T16:43:44Z","closed_at":"2019-11-15T16:43:44Z","author_association":"NONE","active_lock_reason":null,"body":"Welcome to the Invidious Update.sh script.\r\n\r\nWhat do you want to do?\r\n\r\n  1) Install Invidious          5) Run Database Maintenance \r\n  2) Update Invidious           6) Start, Stop or Restart   \r\n  3) Deploy with Docker         7) Uninstall Invidious      \r\n  4) Install Invidious service  8) Set up PostgreSQL Backup \r\n  9) Exit                                                   \r\n \r\nDocker Status:\r\nInvidious: ▲ stopped PostgreSQL: ▲ stopped \r\n\r\nDocumentation for this script is available here: \r\n ➜ https://github.com/tmiland/Invidious-Updater\r\n\r\nSelect an option [1-9]: 3\r\n\r\n\r\n ╔═══════════════════════════════════════════════════════════════════╗\r\n ║                        Invidious Update.sh                        ║\r\n ║               Automatic update script for Invidio.us              ║\r\n ║                      Maintained by @tmiland                       ║\r\n ║                          version: 1.4.1                           ║\r\n ╚═══════════════════════════════════════════════════════════════════╝\r\n\r\n\r\nDeploy Invidious with Docker.\r\n\r\nWhat do you want to do?\r\n   1) Build and start cluster\r\n   2) Start, Stop or Restart cluster\r\n   3) Rebuild cluster\r\n   4) Delete data and rebuild\r\n   5) Install Docker CE\r\n\r\nSelect an option [1-5]: 1\r\n   Build and start cluster? [y/n]: y\r\nCreating network \"invidious_default\" with the default driver\r\nCreating volume \"invidious_postgresdata\" with default driver\r\nBuilding postgres\r\nStep 1/6 : FROM postgres:10\r\n10: Pulling from library/postgres\r\n80369df48736: Pull complete\r\nb18dd0a6efec: Pull complete\r\n5c20c5b8227d: Pull complete\r\nc5a7f905c8ec: Pull complete\r\n5a3f55930dd8: Pull complete\r\nffc097878b09: Pull complete\r\n3106d02490d4: Pull complete\r\n88d1fc513b8f: Pull complete\r\nf19250dffc5e: Pull complete\r\n756351b7a443: Pull complete\r\n0d24b08575ba: Pull complete\r\n31babd3be108: Pull complete\r\n16f2724dc303: Pull complete\r\n69802daaa561: Pull complete\r\nDigest: sha256:3263c8dad1b5aa6be80144786b18515910165ed771863d686c8b8fda30fea1ad\r\nStatus: Downloaded newer image for postgres:10\r\n ---> 9a05a2b9e69f\r\nStep 2/6 : ENV POSTGRES_USER postgres\r\n ---> Running in 9becec36d96a\r\nRemoving intermediate container 9becec36d96a\r\n ---> 0a575e71e917\r\nStep 3/6 : ADD ./config/sql /config/sql\r\n ---> 3c3a06301266\r\nStep 4/6 : ADD ./docker/entrypoint.postgres.sh /entrypoint.sh\r\n ---> 0e8f0fb1779e\r\nStep 5/6 : ENTRYPOINT [ \"/entrypoint.sh\" ]\r\n ---> Running in 0081a465be2a\r\nRemoving intermediate container 0081a465be2a\r\n ---> f030860964cb\r\nStep 6/6 : CMD [ \"postgres\" ]\r\n ---> Running in ddab400ac4db\r\nRemoving intermediate container ddab400ac4db\r\n ---> b3ac904397d4\r\nSuccessfully built b3ac904397d4\r\nSuccessfully tagged invidious_postgres:latest\r\nWARNING: Image for service postgres was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.\r\nBuilding invidious\r\nStep 1/20 : FROM alpine:edge AS builder\r\nedge: Pulling from library/alpine\r\n8c15e203d0eb: Pull complete\r\nDigest: sha256:2f0fcd44f200bb1c0ddaed7370f042e66df1b7106c081285ad894e2fb9ba5bd2\r\nStatus: Downloaded newer image for alpine:edge\r\n ---> 60d63d8e1431\r\nStep 2/20 : RUN apk add --no-cache crystal shards libc-dev     yaml-dev libxml2-dev sqlite-dev zlib-dev openssl-dev     sqlite-static zlib-static openssl-libs-static\r\n ---> Running in 0434ffd68c7a\r\nfetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz\r\nfetch http://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz\r\n(1/57) Installing gc (8.0.4-r0)\r\n(2/57) Installing libgcc (9.2.0-r2)\r\n(3/57) Installing libstdc++ (9.2.0-r2)\r\n(4/57) Installing libgc++ (8.0.4-r0)\r\n(5/57) Installing pkgconf (1.6.3-r0)\r\n(6/57) Installing gc-dev (8.0.4-r0)\r\n(7/57) Installing libatomic_ops (7.6.10-r1)\r\n(8/57) Installing libbz2 (1.0.8-r1)\r\n(9/57) Installing expat (2.2.9-r0)\r\n(10/57) Installing libffi (3.2.1-r6)\r\n(11/57) Installing gdbm (1.13-r1)\r\n(12/57) Installing xz-libs (5.2.4-r0)\r\n(13/57) Installing ncurses-terminfo-base (6.1_p20191019-r0)\r\n(14/57) Installing ncurses-terminfo (6.1_p20191019-r0)\r\n(15/57) Installing ncurses-libs (6.1_p20191019-r0)\r\n(16/57) Installing readline (8.0.1-r0)\r\n(17/57) Installing sqlite-libs (3.30.1-r0)\r\n(18/57) Installing python3 (3.8.0-r0)\r\n(19/57) Installing libevent (2.1.11-r0)\r\n(20/57) Installing libevent-dev (2.1.11-r0)\r\n(21/57) Installing libevent-static (2.1.11-r0)\r\n(22/57) Installing binutils (2.33.1-r0)\r\n(23/57) Installing gmp (6.1.2-r1)\r\n(24/57) Installing isl (0.18-r0)\r\n(25/57) Installing libgomp (9.2.0-r2)\r\n(26/57) Installing libatomic (9.2.0-r2)\r\n(27/57) Installing mpfr4 (4.0.2-r1)\r\n(28/57) Installing mpc1 (1.1.0-r1)\r\n(29/57) Installing gcc (9.2.0-r2)\r\n(30/57) Installing libgmpxx (6.1.2-r1)\r\n(31/57) Installing gmp-dev (6.1.2-r1)\r\n(32/57) Installing libpcre16 (8.43-r0)\r\n(33/57) Installing libpcre32 (8.43-r0)\r\n(34/57) Installing pcre (8.43-r0)\r\n(35/57) Installing libpcrecpp (8.43-r0)\r\n(36/57) Installing pcre-dev (8.43-r0)\r\n(37/57) Installing llvm5-libs (5.0.2-r2)\r\n(38/57) Installing crystal (0.31.1-r1)\r\n(39/57) Installing musl-dev (1.1.24-r0)\r\n(40/57) Installing libc-dev (0.7.1-r0)\r\n(41/57) Installing zlib-dev (1.2.11-r3)\r\n(42/57) Installing xz-dev (5.2.4-r0)\r\n(43/57) Installing libxml2 (2.9.10-r0)\r\n(44/57) Installing libxml2-dev (2.9.10-r0)\r\n(45/57) Installing openssl-dev (1.1.1d-r2)\r\n(46/57) Installing openssl-libs-static (1.1.1d-r2)\r\n(47/57) Installing ca-certificates (20190108-r0)\r\n(48/57) Installing nghttp2-libs (1.39.2-r2)\r\n(49/57) Installing libcurl (7.67.0-r0)\r\n(50/57) Installing pcre2 (10.33-r0)\r\n(51/57) Installing git (2.24.0-r0)\r\n(52/57) Installing yaml (0.2.2-r1)\r\n(53/57) Installing shards (0.9.0-r1)\r\n(54/57) Installing sqlite-dev (3.30.1-r0)\r\n(55/57) Installing sqlite-static (3.30.1-r0)\r\n(56/57) Installing yaml-dev (0.2.2-r1)\r\n(57/57) Installing zlib-static (1.2.11-r3)\r\nExecuting busybox-1.31.1-r0.trigger\r\nExecuting ca-certificates-20190108-r0.trigger\r\nOK: 290 MiB in 71 packages\r\nRemoving intermediate container 0434ffd68c7a\r\n ---> f7c8752a1751\r\nStep 3/20 : WORKDIR /invidious\r\n ---> Running in 2ff490f1e27f\r\nRemoving intermediate container 2ff490f1e27f\r\n ---> 0a746fab55ea\r\nStep 4/20 : COPY ./shard.yml ./shard.yml\r\n ---> c99ce4c8b1f8\r\nStep 5/20 : RUN shards update && shards install\r\n ---> Running in fcbbf72ca8cc\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nInstalling pg (0.19.0)\r\nInstalling sqlite3 (0.14.0)\r\nInstalling kemal (0.26.0)\r\nInstalling pool (0.2.3)\r\nInstalling protodec (0.1.2)\r\nInstalling radix (0.3.9)\r\nInstalling exception_page (0.1.2)\r\nInstalling db (0.7.0)\r\nInstalling kilt (0.4.0)\r\nWriting shard.lock\r\nResolving dependencies\r\nFetching https://github.com/will/crystal-pg.git\r\nFetching https://github.com/crystal-lang/crystal-db.git\r\nFetching https://github.com/crystal-lang/crystal-sqlite3.git\r\nFetching https://github.com/kemalcr/kemal.git\r\nFetching https://github.com/luislavena/radix.git\r\nFetching https://github.com/jeromegn/kilt.git\r\nFetching https://github.com/crystal-loot/exception_page.git\r\nFetching https://github.com/ysbaddaden/pool.git\r\nFetching https://github.com/omarroth/protodec.git\r\nUsing pg (0.19.0)\r\nUsing sqlite3 (0.14.0)\r\nUsing kemal (0.26.0)\r\nUsing pool (0.2.3)\r\nUsing protodec (0.1.2)\r\nUsing radix (0.3.9)\r\nUsing exception_page (0.1.2)\r\nUsing db (0.7.0)\r\nUsing kilt (0.4.0)\r\nWriting shard.lock\r\nRemoving intermediate container fcbbf72ca8cc\r\n ---> cdd5e8ca18aa\r\nStep 6/20 : COPY ./src/ ./src/\r\n ---> a417c5d674fd\r\nStep 7/20 : COPY ./.git/ ./.git/\r\n ---> ddb90d52ef04\r\nStep 8/20 : RUN crystal build --static --release --warnings all --error-on-warnings     -Dmusl     ./src/invidious.cr\r\n ---> Running in 14b8d6e40d48\r\n\r\n**Invalid memory access (signal 11) at address 0x7f715c4428f8\r\n[0x56050030fa36] ???\r\n[0x56050025e7f9] __crystal_sigfault_handler +457\r\n[0x7f7188b1528f] ???\r\nERROR: Service 'invidious' failed to build: The command '/bin/sh -c crystal build --static --release --warnings all --error-on-warnings     -Dmusl     ./src/invidious.cr' returned a non-zero code: 11\r\n✔ Deployment done.**","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/crystal-lang/crystal/issues/3997","repository_url":"https://api.github.com/repos/crystal-lang/crystal","labels_url":"https://api.github.com/repos/crystal-lang/crystal/issues/3997/labels{/name}","comments_url":"https://api.github.com/repos/crystal-lang/crystal/issues/3997/comments","events_url":"https://api.github.com/repos/crystal-lang/crystal/issues/3997/events","html_url":"https://github.com/crystal-lang/crystal/issues/3997","id":205276480,"node_id":"MDU6SXNzdWUyMDUyNzY0ODA=","number":3997,"title":"GC doesn't seem aggressive enough at times","user":{"login":"rdp","id":12496,"node_id":"MDQ6VXNlcjEyNDk2","avatar_url":"https://avatars3.githubusercontent.com/u/12496?v=4","gravatar_id":"","url":"https://api.github.com/users/rdp","html_url":"https://github.com/rdp","followers_url":"https://api.github.com/users/rdp/followers","following_url":"https://api.github.com/users/rdp/following{/other_user}","gists_url":"https://api.github.com/users/rdp/gists{/gist_id}","starred_url":"https://api.github.com/users/rdp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdp/subscriptions","organizations_url":"https://api.github.com/users/rdp/orgs","repos_url":"https://api.github.com/users/rdp/repos","events_url":"https://api.github.com/users/rdp/events{/privacy}","received_events_url":"https://api.github.com/users/rdp/received_events","type":"User","site_admin":false},"labels":[{"id":514722955,"node_id":"MDU6TGFiZWw1MTQ3MjI5NTU=","url":"https://api.github.com/repos/crystal-lang/crystal/labels/status:discussion","name":"status:discussion","color":"bfd4f2","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":112,"created_at":"2017-02-03T21:40:35Z","updated_at":"2020-04-21T05:39:05Z","closed_at":"2019-08-30T05:08:12Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"See if this one seems to use up an inordinate amount of RAM for me (it seems to for me on all OS's I tried anyway):\r\n\r\n```\r\nclass Foo\r\n  def finalize\r\n    # Invoked when Foo is garbage-collected\r\n    a = 3\r\n    \"bye #{3+4}\"\r\n  end\r\n\r\nend\r\n\r\n# Prints \"Bye bye ...!\" for ever\r\nloop do\r\n   Foo.new\r\nend\r\n```\r\n\r\nI wonder if it's related to boehm gc finalization cycle or something.  Let me know if reproducible.  Thank you.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/iv-org/invidious/issues/723","repository_url":"https://api.github.com/repos/iv-org/invidious","labels_url":"https://api.github.com/repos/iv-org/invidious/issues/723/labels{/name}","comments_url":"https://api.github.com/repos/iv-org/invidious/issues/723/comments","events_url":"https://api.github.com/repos/iv-org/invidious/issues/723/events","html_url":"https://github.com/iv-org/invidious/issues/723","id":485137894,"node_id":"MDU6SXNzdWU0ODUxMzc4OTQ=","number":723,"title":"Error writing to socket: Broken pipe","user":{"login":"mrpaul92","id":34910944,"node_id":"MDQ6VXNlcjM0OTEwOTQ0","avatar_url":"https://avatars2.githubusercontent.com/u/34910944?v=4","gravatar_id":"","url":"https://api.github.com/users/mrpaul92","html_url":"https://github.com/mrpaul92","followers_url":"https://api.github.com/users/mrpaul92/followers","following_url":"https://api.github.com/users/mrpaul92/following{/other_user}","gists_url":"https://api.github.com/users/mrpaul92/gists{/gist_id}","starred_url":"https://api.github.com/users/mrpaul92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrpaul92/subscriptions","organizations_url":"https://api.github.com/users/mrpaul92/orgs","repos_url":"https://api.github.com/users/mrpaul92/repos","events_url":"https://api.github.com/users/mrpaul92/events{/privacy}","received_events_url":"https://api.github.com/users/mrpaul92/received_events","type":"User","site_admin":false},"labels":[{"id":829396693,"node_id":"MDU6TGFiZWw4MjkzOTY2OTM=","url":"https://api.github.com/repos/iv-org/invidious/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-08-26T09:23:10Z","updated_at":"2019-08-28T17:02:25Z","closed_at":"2019-08-28T17:01:39Z","author_association":"NONE","active_lock_reason":null,"body":"This issue happening when there are good amount of api calls are being made.\r\ni was trying invidious api to get video information.\r\n\r\n\r\ntried googling and found some ref.\r\nhttps://github.com/kemalcr/kemal/issues/300\r\nbut not able to fix. looking for help to fix the issue..","performed_via_github_app":null,"score":1.0}]}
0

