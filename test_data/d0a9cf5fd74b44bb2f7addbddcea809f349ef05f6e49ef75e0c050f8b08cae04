HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:12:25 GMT
Link: <https://api.github.com/search/issues?q=repo%3Agolang%2Fgo+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Agolang%2Fgo+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CEE6:57C5:3735A2E:71ACFB8:5B1B8BE8
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 28
X-Ratelimit-Reset: 1528532005
X-Runtime-Rack: 0.380041
X-Xss-Protection: 1; mode=block

8000
{"total_count":22140,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/golang/go/issues/25803","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25803/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25803/comments","events_url":"https://api.github.com/repos/golang/go/issues/25803/events","html_url":"https://github.com/golang/go/issues/25803","id":330851954,"node_id":"MDU6SXNzdWUzMzA4NTE5NTQ=","number":25803,"title":"Link to pprof documentation is broken","user":{"login":"ijt","id":15530,"node_id":"MDQ6VXNlcjE1NTMw","avatar_url":"https://avatars0.githubusercontent.com/u/15530?v=4","gravatar_id":"","url":"https://api.github.com/users/ijt","html_url":"https://github.com/ijt","followers_url":"https://api.github.com/users/ijt/followers","following_url":"https://api.github.com/users/ijt/following{/other_user}","gists_url":"https://api.github.com/users/ijt/gists{/gist_id}","starred_url":"https://api.github.com/users/ijt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijt/subscriptions","organizations_url":"https://api.github.com/users/ijt/orgs","repos_url":"https://api.github.com/users/ijt/repos","events_url":"https://api.github.com/users/ijt/events{/privacy}","received_events_url":"https://api.github.com/users/ijt/received_events","type":"User","site_admin":false},"labels":[{"id":150880209,"node_id":"MDU6TGFiZWwxNTA4ODAyMDk=","url":"https://api.github.com/repos/golang/go/labels/Documentation","name":"Documentation","color":"aaffaa","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-09T04:29:01Z","updated_at":"2018-06-09T04:44:41Z","closed_at":"2018-06-09T04:44:40Z","author_association":"NONE","body":"On https://golang.org/pkg/runtime/pprof/, the link to https://github.com/google/pprof/blob/master/doc/pprof.md is broken.\r\nIt should be changed to \r\nhttps://github.com/google/pprof/blob/master/doc/README.md.\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25795","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25795/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25795/comments","events_url":"https://api.github.com/repos/golang/go/issues/25795/events","html_url":"https://github.com/golang/go/issues/25795","id":330559488,"node_id":"MDU6SXNzdWUzMzA1NTk0ODg=","number":25795,"title":"cmd/cover: TestCoverHTML failing on Plan 9","user":{"login":"0intro","id":6043744,"node_id":"MDQ6VXNlcjYwNDM3NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6043744?v=4","gravatar_id":"","url":"https://api.github.com/users/0intro","html_url":"https://github.com/0intro","followers_url":"https://api.github.com/users/0intro/followers","following_url":"https://api.github.com/users/0intro/following{/other_user}","gists_url":"https://api.github.com/users/0intro/gists{/gist_id}","starred_url":"https://api.github.com/users/0intro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0intro/subscriptions","organizations_url":"https://api.github.com/users/0intro/orgs","repos_url":"https://api.github.com/users/0intro/repos","events_url":"https://api.github.com/users/0intro/events{/privacy}","received_events_url":"https://api.github.com/users/0intro/received_events","type":"User","site_admin":false},"labels":[{"id":199753808,"node_id":"MDU6TGFiZWwxOTk3NTM4MDg=","url":"https://api.github.com/repos/golang/go/labels/OS-Plan9","name":"OS-Plan9","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":{"login":"0intro","id":6043744,"node_id":"MDQ6VXNlcjYwNDM3NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6043744?v=4","gravatar_id":"","url":"https://api.github.com/users/0intro","html_url":"https://github.com/0intro","followers_url":"https://api.github.com/users/0intro/followers","following_url":"https://api.github.com/users/0intro/following{/other_user}","gists_url":"https://api.github.com/users/0intro/gists{/gist_id}","starred_url":"https://api.github.com/users/0intro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0intro/subscriptions","organizations_url":"https://api.github.com/users/0intro/orgs","repos_url":"https://api.github.com/users/0intro/repos","events_url":"https://api.github.com/users/0intro/events{/privacy}","received_events_url":"https://api.github.com/users/0intro/received_events","type":"User","site_admin":false},"assignees":[{"login":"0intro","id":6043744,"node_id":"MDQ6VXNlcjYwNDM3NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6043744?v=4","gravatar_id":"","url":"https://api.github.com/users/0intro","html_url":"https://github.com/0intro","followers_url":"https://api.github.com/users/0intro/followers","following_url":"https://api.github.com/users/0intro/following{/other_user}","gists_url":"https://api.github.com/users/0intro/gists{/gist_id}","starred_url":"https://api.github.com/users/0intro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0intro/subscriptions","organizations_url":"https://api.github.com/users/0intro/orgs","repos_url":"https://api.github.com/users/0intro/repos","events_url":"https://api.github.com/users/0intro/events{/privacy}","received_events_url":"https://api.github.com/users/0intro/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/62","html_url":"https://github.com/golang/go/milestone/62","labels_url":"https://api.github.com/repos/golang/go/milestones/62/labels","id":2827591,"node_id":"MDk6TWlsZXN0b25lMjgyNzU5MQ==","number":62,"title":"Go1.11","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":589,"closed_issues":537,"state":"open","created_at":"2017-10-10T13:39:17Z","updated_at":"2018-06-08T17:55:34Z","due_on":"2018-07-31T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-06-08T08:06:21Z","updated_at":"2018-06-08T09:35:54Z","closed_at":"2018-06-08T09:35:54Z","author_association":"MEMBER","body":"CL [116975](https://golang.org/cl/116975) added TestCoverHTML. This test is failing on Plan 9, because the GNU diff tool is called `ape/diff` and not `diff` on Plan 9.\r\n\r\n```\r\nUsage: diff [-abcefmnrw] file1 ... file2\r\n--- FAIL: TestCoverHTML (3.64s)\r\n    cover_test.go:315: exit status: 'diff 6247: error'\r\nFAIL\r\nFAIL\tcmd/cover\t7.169s\r\n```\r\n\r\nSee https://build.golang.org/log/82e588e77c0492cdcd1622330b6c66a72f5d625b","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25792","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25792/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25792/comments","events_url":"https://api.github.com/repos/golang/go/issues/25792/events","html_url":"https://github.com/golang/go/issues/25792","id":330479358,"node_id":"MDU6SXNzdWUzMzA0NzkzNTg=","number":25792,"title":"x/vgo: Unable to reach private AWS CodeCommit repo","user":{"login":"computermouth","id":7377029,"node_id":"MDQ6VXNlcjczNzcwMjk=","avatar_url":"https://avatars1.githubusercontent.com/u/7377029?v=4","gravatar_id":"","url":"https://api.github.com/users/computermouth","html_url":"https://github.com/computermouth","followers_url":"https://api.github.com/users/computermouth/followers","following_url":"https://api.github.com/users/computermouth/following{/other_user}","gists_url":"https://api.github.com/users/computermouth/gists{/gist_id}","starred_url":"https://api.github.com/users/computermouth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/computermouth/subscriptions","organizations_url":"https://api.github.com/users/computermouth/orgs","repos_url":"https://api.github.com/users/computermouth/repos","events_url":"https://api.github.com/users/computermouth/events{/privacy}","received_events_url":"https://api.github.com/users/computermouth/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/71","html_url":"https://github.com/golang/go/milestone/71","labels_url":"https://api.github.com/repos/golang/go/milestones/71/labels","id":3130892,"node_id":"MDk6TWlsZXN0b25lMzEzMDg5Mg==","number":71,"title":"vgo","description":null,"creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":65,"closed_issues":149,"state":"open","created_at":"2018-02-20T19:51:55Z","updated_at":"2018-06-08T05:39:35Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2018-06-08T00:25:01Z","updated_at":"2018-06-08T05:39:35Z","closed_at":"2018-06-08T05:39:35Z","author_association":"NONE","body":"### What version of Go are you using (`go version`)?\r\n\r\n```\r\n$ vgo version\r\ngo version go1.10.3 linux/amd64 vgo:2018-02-20.1\r\n```\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nYes. I was initially reporting the issue on go1.10, but the issue persists on latest.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\n```\r\n$ go env\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOCACHE=\"/home/byoung/.cache/go-build\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/byoung/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTMPDIR=\"\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/linux_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"gcc\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build461856878=/tmp/go-build -gno-record-gcc-switches\"\r\n```\r\n\r\n### What did you do?\r\n\r\nCreated a private repository on AWS CodeCommit for a library. \r\n\r\n```\r\n$ cat go.mod \r\nmodule git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\r\n\r\n$ cat main.go \r\npackage return2\r\n\r\nfunc Doit() int {\r\n\treturn 2\r\n}\r\n```\r\n\r\nCreated a program to use it.\r\n\r\n```\r\n$ cat go.mod \r\nmodule git-codecommit.us-east-1.amazonaws.com/v1/repos/test\r\n\r\n$ cat main.go \r\npackage main\r\n\r\nimport \"fmt\"\r\nimport \"git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\"\r\n\r\nfunc main(){\r\n\tfmt.Println(return2.Doit())\r\n\r\n}\r\n```\r\n\r\nCreated an ssh redirect in my `~/.gitconfig`\r\n\r\n```\r\n[url \"ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/\"]\r\n        insteadOf = https://git-codecommit.us-east-1.amazonaws.com/v1/repos/\r\n```\r\n\r\nIncluded this library\r\n\r\n### What did you expect to see?\r\n\r\nDirect clones work just fine. Neither `go get` nor `vgo build` are able to import:\r\n\r\n```\r\n$ git clone https://git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\r\nCloning into 'return2'...\r\nremote: Counting objects: 19, done.\r\nReceiving objects: 100% (19/19), 1.67 KiB | 0 bytes/s, done.\r\nResolving deltas: 100% (1/1), done.\r\n\r\n$ go get git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\r\npackage git-codecommit.us-east-1.amazonaws.com/v1/repos/return2: unrecognized import path \"git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\" (parse https://git-codecommit.us-east-1.amazonaws.com/v1/repos/return2?go-get=1: no go-import meta tags ())\r\n\r\n$ vgo build\r\nvgo: resolving import \"git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\"\r\nvgo: import \"github.com/computermouth/runret\" ->\r\n\timport \"git-codecommit.us-east-1.amazonaws.com/v1/repos/return2\": unknown module git-codecommit.us-east-1.amazonaws.com/v1/repos/return2: no go-import tags\r\n```\r\n\r\n### What did you see instead?\r\n\r\nEverything works flawlessly with private repos on Gitlab:\r\n\r\n```\r\n$ git clone https://gitlab.com/computermouth/return2\r\nCloning into 'return2'...\r\nremote: Counting objects: 16, done.\r\nremote: Compressing objects: 100% (9/9), done.\r\nremote: Total 16 (delta 1), reused 0 (delta 0)\r\nReceiving objects: 100% (16/16), done.\r\nResolving deltas: 100% (1/1), done.\r\n\r\n$ go get gitlab.com/computermouth/return2\r\n\r\n$ vgo build\r\nvgo: resolving import \"gitlab.com/computermouth/return2\"\r\nvgo: finding gitlab.com/computermouth/return2 (latest)\r\nvgo: adding gitlab.com/computermouth/return2 v0.0.0-20180607214308-f8814bf22457\r\nvgo: finding gitlab.com/computermouth/return2 v0.0.0-20180607214308-f8814bf22457\r\nvgo: downloading gitlab.com/computermouth/return2 v0.0.0-20180607214308-f8814bf22457\r\n```\r\n\r\nI have a sneaking suspicion that the cause is actually based in the way that AWS handles git authentication.\r\n\r\n```\r\n[url \"ssh://git@gitlab.com/\"]\r\n        insteadOf = https://gitlab.com/\r\n[url \"ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/\"]\r\n        insteadOf = https://git-codecommit.us-east-1.amazonaws.com/v1/repos/\r\n```\r\n\r\nNote that the codecommit urls skip the `git@`. I presume that since I have yet to see any kind of restrictions in regards to repository names, and since my user/org is not accounted for in the repo URL, that the repository is presented to the user after some Amazon authentication middleware.\r\n\r\nBut I thought I'd post this here anyways.\r\n\r\nLove `vgo`, it's the package management tool Go has always needed, thanks for all your work!\r\n\r\n-- Ben\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25791","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25791/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25791/comments","events_url":"https://api.github.com/repos/golang/go/issues/25791/events","html_url":"https://github.com/golang/go/issues/25791","id":330470535,"node_id":"MDU6SXNzdWUzMzA0NzA1MzU=","number":25791,"title":"cmd/compile: inlined function with interfaces should promote to concrete types ","user":{"login":"dsnet","id":6354026,"node_id":"MDQ6VXNlcjYzNTQwMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/6354026?v=4","gravatar_id":"","url":"https://api.github.com/users/dsnet","html_url":"https://github.com/dsnet","followers_url":"https://api.github.com/users/dsnet/followers","following_url":"https://api.github.com/users/dsnet/following{/other_user}","gists_url":"https://api.github.com/users/dsnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dsnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsnet/subscriptions","organizations_url":"https://api.github.com/users/dsnet/orgs","repos_url":"https://api.github.com/users/dsnet/repos","events_url":"https://api.github.com/users/dsnet/events{/privacy}","received_events_url":"https://api.github.com/users/dsnet/received_events","type":"User","site_admin":false},"labels":[{"id":150880191,"node_id":"MDU6TGFiZWwxNTA4ODAxOTE=","url":"https://api.github.com/repos/golang/go/labels/Performance","name":"Performance","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-07T23:31:12Z","updated_at":"2018-06-08T16:54:21Z","closed_at":"2018-06-08T16:54:21Z","author_association":"MEMBER","body":"Consider the following code:\r\n```go\r\nfunc main() {\r\n\tnew(FooMessage).ProtoReflect().Type()\r\n}\r\n\r\ntype FooMessage fooMessage\r\n\r\nfunc (m *FooMessage) ProtoReflect() Message {\r\n\treturn (*fooMessage)(m)\r\n}\r\n\r\ntype fooMessage struct{}\r\n\r\nfunc (m *fooMessage) Type() string {\r\n\treturn \"test\"\r\n}\r\n\r\ntype Message interface {\r\n\tType() string\r\n}\r\n```\r\n\r\nWhen compiled with `-gcflags=-m`, you see:\r\n```\r\n./main.go:11:6: can inline (*FooMessage).ProtoReflect\r\n./main.go:17:6: can inline (*fooMessage).Type\r\n./main.go:6:30: inlining call to (*FooMessage).ProtoReflect\r\n./main.go:6:5: new(FooMessage) escapes to heap\r\n```\r\n\r\nNotice how `(*fooMessage).Type` is inlineable, but the call to it on line 6 is not inlined? As a result, you see that `new(FooMessage)` escapes to the heap.\r\n\r\nIt seems that the cause of this is because the `(*FooMessage).ProtoReflect` function returns an interface. However, at the point when inlining happened, it should know that it has a concrete `*fooMessage` type instead of any arbitrary `Message` interface type. Knowing that it has a concrete `*fooMessage` type, then the call to `Type` should also be inlined.\r\n\r\nIf you change the `Message` return type to `*fooMessage`, then this inlines as expected:\r\n```\r\n./main.go:11:6: can inline (*FooMessage).ProtoReflect\r\n./main.go:17:6: can inline (*fooMessage).Type\r\n./main.go:6:30: inlining call to (*FooMessage).ProtoReflect\r\n./main.go:6:37: inlining call to (*fooMessage).Type\r\n./main.go:6:5: main new(FooMessage) does not escape\r\n```\r\nFurthermore, `new(FooMessage)` on line 6 no longer escapes.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25786","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25786/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25786/comments","events_url":"https://api.github.com/repos/golang/go/issues/25786/events","html_url":"https://github.com/golang/go/issues/25786","id":330355269,"node_id":"MDU6SXNzdWUzMzAzNTUyNjk=","number":25786,"title":"Case sensitive FileExists function?","user":{"login":"Fookiwara","id":37213073,"node_id":"MDQ6VXNlcjM3MjEzMDcz","avatar_url":"https://avatars2.githubusercontent.com/u/37213073?v=4","gravatar_id":"","url":"https://api.github.com/users/Fookiwara","html_url":"https://github.com/Fookiwara","followers_url":"https://api.github.com/users/Fookiwara/followers","following_url":"https://api.github.com/users/Fookiwara/following{/other_user}","gists_url":"https://api.github.com/users/Fookiwara/gists{/gist_id}","starred_url":"https://api.github.com/users/Fookiwara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fookiwara/subscriptions","organizations_url":"https://api.github.com/users/Fookiwara/orgs","repos_url":"https://api.github.com/users/Fookiwara/repos","events_url":"https://api.github.com/users/Fookiwara/events{/privacy}","received_events_url":"https://api.github.com/users/Fookiwara/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-07T16:51:13Z","updated_at":"2018-06-07T17:02:41Z","closed_at":"2018-06-07T17:00:05Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\n1.10.2\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nGOOS: windows\r\nGOARCH: 386\r\n\r\n### What did you do?\r\nFrom windows, I ask a Linux server if file exists?\r\nThere are two files inside a folder:\r\ntest.mov\r\n\r\nI would like to verify if file test.MOV not exists (because case sensitivity is different).\r\n\r\nIs it possible in golang?\r\n\r\nIf possible, provide a recipe for reproducing the error.\r\nA complete runnable program is good.\r\nA link on play.golang.org is best.\r\n\r\n\r\n### What did you expect to see?\r\n\r\n\r\n### What did you see instead?\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25784","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25784/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25784/comments","events_url":"https://api.github.com/repos/golang/go/issues/25784/events","html_url":"https://github.com/golang/go/issues/25784","id":330314780,"node_id":"MDU6SXNzdWUzMzAzMTQ3ODA=","number":25784,"title":"cmd/go: TestBinaryOnlyPackages broken","user":{"login":"bradfitz","id":2621,"node_id":"MDQ6VXNlcjI2MjE=","avatar_url":"https://avatars1.githubusercontent.com/u/2621?v=4","gravatar_id":"","url":"https://api.github.com/users/bradfitz","html_url":"https://github.com/bradfitz","followers_url":"https://api.github.com/users/bradfitz/followers","following_url":"https://api.github.com/users/bradfitz/following{/other_user}","gists_url":"https://api.github.com/users/bradfitz/gists{/gist_id}","starred_url":"https://api.github.com/users/bradfitz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradfitz/subscriptions","organizations_url":"https://api.github.com/users/bradfitz/orgs","repos_url":"https://api.github.com/users/bradfitz/repos","events_url":"https://api.github.com/users/bradfitz/events{/privacy}","received_events_url":"https://api.github.com/users/bradfitz/received_events","type":"User","site_admin":false},"labels":[{"id":373399998,"node_id":"MDU6TGFiZWwzNzMzOTk5OTg=","url":"https://api.github.com/repos/golang/go/labels/NeedsFix","name":"NeedsFix","color":"ededed","default":false},{"id":936464699,"node_id":"MDU6TGFiZWw5MzY0NjQ2OTk=","url":"https://api.github.com/repos/golang/go/labels/Soon","name":"Soon","color":"b60205","default":false},{"id":150880205,"node_id":"MDU6TGFiZWwxNTA4ODAyMDU=","url":"https://api.github.com/repos/golang/go/labels/Testing","name":"Testing","color":"aaffaa","default":false}],"state":"closed","locked":false,"assignee":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"assignees":[{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},{"login":"bcmills","id":5200974,"node_id":"MDQ6VXNlcjUyMDA5NzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5200974?v=4","gravatar_id":"","url":"https://api.github.com/users/bcmills","html_url":"https://github.com/bcmills","followers_url":"https://api.github.com/users/bcmills/followers","following_url":"https://api.github.com/users/bcmills/following{/other_user}","gists_url":"https://api.github.com/users/bcmills/gists{/gist_id}","starred_url":"https://api.github.com/users/bcmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcmills/subscriptions","organizations_url":"https://api.github.com/users/bcmills/orgs","repos_url":"https://api.github.com/users/bcmills/repos","events_url":"https://api.github.com/users/bcmills/events{/privacy}","received_events_url":"https://api.github.com/users/bcmills/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/62","html_url":"https://github.com/golang/go/milestone/62","labels_url":"https://api.github.com/repos/golang/go/milestones/62/labels","id":2827591,"node_id":"MDk6TWlsZXN0b25lMjgyNzU5MQ==","number":62,"title":"Go1.11","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":589,"closed_issues":537,"state":"open","created_at":"2017-10-10T13:39:17Z","updated_at":"2018-06-08T17:55:34Z","due_on":"2018-07-31T07:00:00Z","closed_at":null},"comments":4,"created_at":"2018-06-07T15:05:34Z","updated_at":"2018-06-07T21:40:30Z","closed_at":"2018-06-07T21:40:29Z","author_association":"MEMBER","body":"Test flake in https://storage.googleapis.com/go-build-log/ab26aac8/linux-amd64_5812f616.log\r\n\r\n```\r\n--- FAIL: TestBinaryOnlyPackages (0.02s)\r\n    go_test.go:4232: running testgo [list -f {{.Stale}}:{{.StaleReason}} p1]\r\n    go_test.go:4232: standard output:\r\n    go_test.go:4232: true:missing or invalid binary-only package\r\n        \r\n    go_test.go:4232: standard error:\r\n    go_test.go:4232: go build p1: missing or invalid binary-only package\r\n        \r\n    go_test.go:4232: go [list -f {{.Stale}}:{{.StaleReason}} p1] failed unexpectedly: exit status 1\r\nFAIL\r\nFAIL\tcmd/go\t106.462s\r\n```\r\n\r\nFailed on one trybot but passed on all the rest, and passed locally.\r\n\r\nI didn't investigate.\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25780","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25780/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25780/comments","events_url":"https://api.github.com/repos/golang/go/issues/25780/events","html_url":"https://github.com/golang/go/issues/25780","id":330206106,"node_id":"MDU6SXNzdWUzMzAyMDYxMDY=","number":25780,"title":"Go runtime error when using specific array type ([4]interface{})","user":{"login":"icza","id":4719406,"node_id":"MDQ6VXNlcjQ3MTk0MDY=","avatar_url":"https://avatars3.githubusercontent.com/u/4719406?v=4","gravatar_id":"","url":"https://api.github.com/users/icza","html_url":"https://github.com/icza","followers_url":"https://api.github.com/users/icza/followers","following_url":"https://api.github.com/users/icza/following{/other_user}","gists_url":"https://api.github.com/users/icza/gists{/gist_id}","starred_url":"https://api.github.com/users/icza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icza/subscriptions","organizations_url":"https://api.github.com/users/icza/orgs","repos_url":"https://api.github.com/users/icza/repos","events_url":"https://api.github.com/users/icza/events{/privacy}","received_events_url":"https://api.github.com/users/icza/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-07T10:12:29Z","updated_at":"2018-06-07T17:31:40Z","closed_at":"2018-06-07T17:31:40Z","author_association":"NONE","body":"### What version of Go are you using (`go version`)?\r\ngo version go1.10.2 linux/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nUbuntu 16.04, amd64; also reproducible on the Go Playground.\r\n\r\n### What did you do?\r\n\r\nAttempt to run the following app using `go run`, available on the Go Playground: https://play.golang.org/p/zJ5XZMK1EGA\r\n\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n)\r\n\r\nfunc main() {\r\n\ta := [4]interface{}{1, 2, 3, 4}\r\n\tb := [4]interface{}{1, 2, 3, 4}\r\n\t//fmt.Println(a, b, a == b)\r\n\tif a == b {\r\n\t\tfmt.Println(\"ok\")\r\n\t}\r\n}\r\n```\r\n\r\n### What did you expect to see?\r\nExpected to see `\"ok\"` printed.\r\n\r\n### What did you see instead?\r\n\r\nThe output is the following error:\r\n\r\n```\r\ntype..eq.[4]interface {}: call to external function\r\nmain.main: relocation target type..eq.[4]interface {} not defined\r\nmain.main: undefined: \"type..eq.[4]interface {}\"\r\n```\r\n\r\n### Notes:\r\n\r\nNote that `go build` succeeds, and if I run the executable binary, it works as expected.\r\n\r\nAlso if I insert a `fmt.Println()` statement before the `if` statement, the error goes away with `go run` too (try it on the Go Playground: https://play.golang.org/p/wxXyD2D9-iZ):\r\n\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n)\r\n\r\nfunc main() {\r\n\ta := [4]interface{}{1, 2, 3, 4}\r\n\tb := [4]interface{}{1, 2, 3, 4}\r\n\tfmt.Println(a, b, a == b)\r\n\tif a == b {\r\n\t\tfmt.Println(\"ok\")\r\n\t}\r\n}\r\n```\r\n\r\nAnd output will be as expected:\r\n\r\n    [1 2 3 4] [1 2 3 4] true\r\n    ok\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25778","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25778/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25778/comments","events_url":"https://api.github.com/repos/golang/go/issues/25778/events","html_url":"https://github.com/golang/go/issues/25778","id":330192368,"node_id":"MDU6SXNzdWUzMzAxOTIzNjg=","number":25778,"title":"how to know whether struct method by reflect equal","user":{"login":"guogeer","id":5010851,"node_id":"MDQ6VXNlcjUwMTA4NTE=","avatar_url":"https://avatars2.githubusercontent.com/u/5010851?v=4","gravatar_id":"","url":"https://api.github.com/users/guogeer","html_url":"https://github.com/guogeer","followers_url":"https://api.github.com/users/guogeer/followers","following_url":"https://api.github.com/users/guogeer/following{/other_user}","gists_url":"https://api.github.com/users/guogeer/gists{/gist_id}","starred_url":"https://api.github.com/users/guogeer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guogeer/subscriptions","organizations_url":"https://api.github.com/users/guogeer/orgs","repos_url":"https://api.github.com/users/guogeer/repos","events_url":"https://api.github.com/users/guogeer/events{/priva
8000
cy}","received_events_url":"https://api.github.com/users/guogeer/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-07T09:34:54Z","updated_at":"2018-06-07T09:43:15Z","closed_at":"2018-06-07T09:43:14Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\ngo version go1.10.1 \r\n\r\n### Does this issue reproduce with the latest release?\r\nyes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nlinux/amd64\r\n\r\n### What did you do?\r\ntest code below:\r\ntype Child struct{}\r\n\r\nfunc (c *Child) Say() {\r\n    fmt.Print(\"child say\")\r\n}\r\n\r\ntype Father struct {\r\n    *Child\r\n}\r\n\r\nfunc (father *Father) Say() {\r\n    fmt.Print(\"father say\")\r\n}\r\n\r\nfunc main() {\r\n    father := &Father{}\r\n    say1 := reflect.ValueOf(father).Method(0)\r\n    say2 := reflect.ValueOf(father.Child).Method(0)\r\n    fmt.Println(\"struct method equal: \", say1.Pointer(), say2.Pointer())\r\n    // how can i know than say1 is different from say2\r\n    // i try say1.Pointer() == say2.Pointer(), but not ok\r\n    // i know say1.Pointer() return methodValueCall \r\n}       \r\nIf possible, provide a recipe for reproducing the error.\r\nA complete runnable program is good.\r\nA link on play.golang.org is best.\r\n\r\n\r\n### What did you expect to see?\r\nhow can i know than say1 is different from say2\r\n\r\n### What did you see instead?\r\ni don't know how to do\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25777","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25777/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25777/comments","events_url":"https://api.github.com/repos/golang/go/issues/25777/events","html_url":"https://github.com/golang/go/issues/25777","id":330176986,"node_id":"MDU6SXNzdWUzMzAxNzY5ODY=","number":25777,"title":"Can't cross compile project that uses C from linux to windows","user":{"login":"OGFris","id":22847866,"node_id":"MDQ6VXNlcjIyODQ3ODY2","avatar_url":"https://avatars1.githubusercontent.com/u/22847866?v=4","gravatar_id":"","url":"https://api.github.com/users/OGFris","html_url":"https://github.com/OGFris","followers_url":"https://api.github.com/users/OGFris/followers","following_url":"https://api.github.com/users/OGFris/following{/other_user}","gists_url":"https://api.github.com/users/OGFris/gists{/gist_id}","starred_url":"https://api.github.com/users/OGFris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OGFris/subscriptions","organizations_url":"https://api.github.com/users/OGFris/orgs","repos_url":"https://api.github.com/users/OGFris/repos","events_url":"https://api.github.com/users/OGFris/events{/privacy}","received_events_url":"https://api.github.com/users/OGFris/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-06-07T08:53:52Z","updated_at":"2018-06-08T04:49:16Z","closed_at":"2018-06-07T17:28:48Z","author_association":"NONE","body":"### What version of Go are you using (`go version`)?\r\n\r\nGo Version: 1.10.2 linux/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nThis issue reproduce with every Go Version.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\nGOOS=linux / GOARCH=amd64\r\n\r\n### What did you do?\r\n\r\nI built a simple app using github.com/zserge/webview which uses \"C\" and when i try to cross compile for windows i get an error.\r\n\r\n### What did you expect to see?\r\n\r\nI expected to see the cross compiling from linux to windows work but it didn't.\r\n\r\n### What did you see instead?\r\n\r\n`# runtime/cgo\r\n gcc: error: unrecognized command line option ‘-mthreads’`","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25774","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25774/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25774/comments","events_url":"https://api.github.com/repos/golang/go/issues/25774/events","html_url":"https://github.com/golang/go/issues/25774","id":330140623,"node_id":"MDU6SXNzdWUzMzAxNDA2MjM=","number":25774,"title":"cmd/go: error while trying to overwrite a built binary","user":{"login":"agnivade","id":1774000,"node_id":"MDQ6VXNlcjE3NzQwMDA=","avatar_url":"https://avatars1.githubusercontent.com/u/1774000?v=4","gravatar_id":"","url":"https://api.github.com/users/agnivade","html_url":"https://github.com/agnivade","followers_url":"https://api.github.com/users/agnivade/followers","following_url":"https://api.github.com/users/agnivade/following{/other_user}","gists_url":"https://api.github.com/users/agnivade/gists{/gist_id}","starred_url":"https://api.github.com/users/agnivade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agnivade/subscriptions","organizations_url":"https://api.github.com/users/agnivade/orgs","repos_url":"https://api.github.com/users/agnivade/repos","events_url":"https://api.github.com/users/agnivade/events{/privacy}","received_events_url":"https://api.github.com/users/agnivade/received_events","type":"User","site_admin":false},"labels":[{"id":943041965,"node_id":"MDU6TGFiZWw5NDMwNDE5NjU=","url":"https://api.github.com/repos/golang/go/labels/Arch-Wasm","name":"Arch-Wasm","color":"5319e7","default":false},{"id":373399998,"node_id":"MDU6TGFiZWwzNzMzOTk5OTg=","url":"https://api.github.com/repos/golang/go/labels/NeedsFix","name":"NeedsFix","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/62","html_url":"https://github.com/golang/go/milestone/62","labels_url":"https://api.github.com/repos/golang/go/milestones/62/labels","id":2827591,"node_id":"MDk6TWlsZXN0b25lMjgyNzU5MQ==","number":62,"title":"Go1.11","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":589,"closed_issues":537,"state":"open","created_at":"2017-10-10T13:39:17Z","updated_at":"2018-06-08T17:55:34Z","due_on":"2018-07-31T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-06-07T06:57:24Z","updated_at":"2018-06-07T14:47:58Z","closed_at":"2018-06-07T14:28:39Z","author_association":"MEMBER","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n### What version of Go are you using (`go version`)?\r\n`go version devel +33f1768 Thu Jun 7 01:19:13 2018 +0000 linux/amd64`\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOCACHE=\"/home/agniva/.cache/go-build\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/agniva/play/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/home/agniva/play/gosource/go\"\r\nGOTMPDIR=\"\"\r\nGOTOOLDIR=\"/home/agniva/play/gosource/go/pkg/tool/linux_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"gcc\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build730496659=/tmp/go-build -gno-record-gcc-switches\"\r\n```\r\n\r\n### What did you do?\r\n\r\nBuild any wasm binary with js/wasm env vars. Then build the same binary again.\r\n\r\n`GOOS=js GOARCH=wasm gotip build -o binary file.go`\r\nUpdate code.\r\nThen again - `GOOS=js GOARCH=wasm gotip build -o binary file.go`\r\n\r\n\r\n### What did you expect to see?\r\nBinary builds fine. Overwrites existing binary. Just like it happens for normal builds for other platforms.\r\n\r\n### What did you see instead?\r\n```\r\ngo build command-line-arguments: build output \"binary\" already exists and is not an object file\r\n```\r\nThis is annoying during the dev cycle, because now I have to delete the binary every time I need to re-build.\r\n\r\nI think we just need to add the wasm magic header in the `objectMagic` slice in [cmd/go/internal/work/exec.go](https://github.com/golang/go/blob/master/src/cmd/go/internal/work/exec.go#L1460) .\r\n\r\nCan send a CL if this sounds good.\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25772","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25772/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25772/comments","events_url":"https://api.github.com/repos/golang/go/issues/25772/events","html_url":"https://github.com/golang/go/issues/25772","id":330107143,"node_id":"MDU6SXNzdWUzMzAxMDcxNDM=","number":25772,"title":"Why database/sql  rows don't have RowCount() func.","user":{"login":"oylshe1314","id":8720765,"node_id":"MDQ6VXNlcjg3MjA3NjU=","avatar_url":"https://avatars2.githubusercontent.com/u/8720765?v=4","gravatar_id":"","url":"https://api.github.com/users/oylshe1314","html_url":"https://github.com/oylshe1314","followers_url":"https://api.github.com/users/oylshe1314/followers","following_url":"https://api.github.com/users/oylshe1314/following{/other_user}","gists_url":"https://api.github.com/users/oylshe1314/gists{/gist_id}","starred_url":"https://api.github.com/users/oylshe1314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oylshe1314/subscriptions","organizations_url":"https://api.github.com/users/oylshe1314/orgs","repos_url":"https://api.github.com/users/oylshe1314/repos","events_url":"https://api.github.com/users/oylshe1314/events{/privacy}","received_events_url":"https://api.github.com/users/oylshe1314/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-07T03:50:46Z","updated_at":"2018-06-07T04:24:35Z","closed_at":"2018-06-07T04:24:35Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\ngo version go1.10.2 darwin/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nyes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nmacOS 10.13.5\r\n\r\n### What did you do?\r\ndeveloper\r\n\r\nIf possible, provide a recipe for reproducing the error.\r\nA complete runnable program is good.\r\nA link on play.golang.org is best.\r\n\r\n\r\n### What did you expect to see?\r\n\r\n\r\n### What did you see instead?\r\n我想知道为什么database/sql  rows结构为何没有RowCount()函数，导致某些不便，\r\ncode 1：\r\nvar xxl []XX\r\nfor rows.Next {\r\nrows.Scan(&x)\r\nxxs = append(xxl, x)\r\n}\r\n\r\n\r\ncode 2：\r\nvar rowCount = rows.RowCount()\r\nvar xxs = make([]XX, rowCount)\r\nvar i = 0\r\nfor rows.Next {\r\nrows.Scan(&xxs[i])\r\ni++\r\n}\r\n\r\n大行数较多时明显append性能不佳，code2性能明显优于code1，但是rows不提供RowCount()方法，所以无法实现code2.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25771","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25771/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25771/comments","events_url":"https://api.github.com/repos/golang/go/issues/25771/events","html_url":"https://github.com/golang/go/issues/25771","id":330106321,"node_id":"MDU6SXNzdWUzMzAxMDYzMjE=","number":25771,"title":"net/http: content type detection does not work correctly for some documents that start with HTML comments","user":{"login":"guliyevemil1","id":6239702,"node_id":"MDQ6VXNlcjYyMzk3MDI=","avatar_url":"https://avatars1.githubusercontent.com/u/6239702?v=4","gravatar_id":"","url":"https://api.github.com/users/guliyevemil1","html_url":"https://github.com/guliyevemil1","followers_url":"https://api.github.com/users/guliyevemil1/followers","following_url":"https://api.github.com/users/guliyevemil1/following{/other_user}","gists_url":"https://api.github.com/users/guliyevemil1/gists{/gist_id}","starred_url":"https://api.github.com/users/guliyevemil1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guliyevemil1/subscriptions","organizations_url":"https://api.github.com/users/guliyevemil1/orgs","repos_url":"https://api.github.com/users/guliyevemil1/repos","events_url":"https://api.github.com/users/guliyevemil1/events{/privacy}","received_events_url":"https://api.github.com/users/guliyevemil1/received_events","type":"User","site_admin":false},"labels":[{"id":150880209,"node_id":"MDU6TGFiZWwxNTA4ODAyMDk=","url":"https://api.github.com/repos/golang/go/labels/Documentation","name":"Documentation","color":"aaffaa","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-07T03:45:16Z","updated_at":"2018-06-07T04:16:23Z","closed_at":"2018-06-07T04:16:23Z","author_association":"NONE","body":"Some website documents start with \"<!--[if IE]\" or \"<--comment with no space\" and some close it without leaving an actual comment like this: \"<!--->\".\r\n\r\nNone of these cases are detected correctly because \"<!--\" htmlSig is treated like a regular HTML tag when in reality behaves slightly differently.\r\n\r\n### What version of Go are you using (`go version`)?\r\n\r\n❯ go version\r\ngo version go1.10.2 darwin/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nYes.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\n❯ go env\r\nGOARCH=\"amd64\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\n\r\n### What did you do?\r\n\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"net/http\"\r\n)\r\n\r\nfunc main() {\r\n\tfmt.Println(http.DetectContentType([]byte(`<!--[if !IE]> This has been served from cache <![endif]--><html><body>Hello,world</body></html>`)))\r\n\tfmt.Println(http.DetectContentType([]byte(`<!-- [if !IE]> This has been served from cache <![endif]--><html><body>Hello,world</body></html>`)))\r\n}\r\n```\r\n\r\n\r\nhttps://play.golang.org/p/f6-N3OA9FGU\r\n\r\n### What did you expect to see?\r\n\r\ntext/html; charset=utf-8\r\ntext/html; charset=utf-8\r\n\r\n### What did you see instead?\r\n\r\ntext/plain; charset=utf-8\r\ntext/html; charset=utf-8\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25767","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25767/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25767/comments","events_url":"https://api.github.com/repos/golang/go/issues/25767/events","html_url":"https://github.com/golang/go/issues/25767","id":330072832,"node_id":"MDU6SXNzdWUzMzAwNzI4MzI=","number":25767,"title":"cmd/cover: html renderer shows misleading coverage","user":{"login":"mhilton","id":1136018,"node_id":"MDQ6VXNlcjExMzYwMTg=","avatar_url":"https://avatars3.githubusercontent.com/u/1136018?v=4","gravatar_id":"","url":"https://api.github.com/users/mhilton","html_url":"https://github.com/mhilton","followers_url":"https://api.github.com/users/mhilton/followers","following_url":"https://api.github.com/users/mhilton/following{/other_user}","gists_url":"https://api.github.com/users/mhilton/gists{/gist_id}","starred_url":"https://api.github.com/users/mhilton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhilton/subscriptions","organizations_url":"https://api.github.com/users/mhilton/orgs","repos_url":"https://api.github.com/users/mhilton/repos","events_url":"https://api.github.com/users/mhilton/events{/privacy}","received_events_url":"https://api.github.com/users/mhilton/received_events","type":"User","site_admin":false},"labels":[{"id":373399998,"node_id":"MDU6TGFiZWwzNzMzOTk5OTg=","url":"https://api.github.com/repos/golang/go/labels/NeedsFix","name":"NeedsFix","color":"ededed","default":false},{"id":626114820,"node_id":"MDU6TGFiZWw2MjYxMTQ4MjA=","url":"https://api.github.com/repos/golang/go/labels/release-blocker","name":"release-blocker","color":"b60205","default":false}],"state":"closed","locked":false,"assignee":{"login":"dsymonds","id":31506,"node_id":"MDQ6VXNlcjMxNTA2","avatar_url":"https://avatars2.githubusercontent.com/u/31506?v=4","gravatar_id":"","url":"https://api.github.com/users/dsymonds","html_url":"https://github.com/dsymonds","followers_url":"https://api.github.com/users/dsymonds/followers","following_url":"https://api.github.com/users/dsymonds/following{/other_user}","gists_url":"https://api.github.com/users/dsymonds/gists{/gist_id}","starred_url":"https://api.github.com/users/dsymonds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsymonds/subscriptions","organizations_url":"https://api.github.com/users/dsymonds/orgs","repos_url":"https://api.github.com/users/dsymonds/repos","events_url":"https://api.github.com/users/dsymonds/events{/privacy}","received_events_url":"https://api.github.com/users/dsymonds/received_events","type":"User","site_admin":false},"assignees":[{"login":"dsymonds","id":31506,"node_id":"MDQ6VXNlcjMxNTA2","avatar_url":"https://avatars2.githubusercontent.com/u/31506?v=4","gravatar_id":"","url":"https://api.github.com/users/dsymonds","html_url":"https://github.com/dsymonds","followers_url":"https://api.github.com/users/dsymonds/followers","following_url":"https://api.github.com/users/dsymonds/following{/other_user}","gists_url":"https://api.github.com/users/dsymonds/gists{/gist_id}","starred_url":"https://api.github.com/users/dsymonds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsymonds/subscriptions","organizations_url":"https://api.github.com/users/dsymonds/orgs","repos_url":"https://api.github.com/users/dsymonds/repos","events_url":"https://api.github.com/users/dsymonds/events{/privacy}","received_events_url":"https://api.github.com/users/dsymonds/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/62","html_url":"https://github.com/golang/go/milestone/62","labels_url":"https://api.github.com/repos/golang/go/milestones/62/labels","id":2827591,"node_id":"MDk6TWlsZXN0b25lMjgyNzU5MQ==","number":62,"title":"Go1.11","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":589,"closed_issues":537,"state":"open","created_at":"2017-10-10T13:39:17Z","updated_at":"2018-06-08T17:55:34Z","due_on":"2018-07-31T07:00:00Z","closed_at":null},"comments":6,"created_at":"2018-06-07T00:02:06Z","updated_at":"2018-06-07T22:48:23Z","closed_at":"2018-06-07T22:48:23Z","author_association":"NONE","body":"### What version of Go are you using (`go version`)?\r\ngo version devel +db49f76dc5 Tue Jun 5 20:31:21 2018 +0000 linux/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nno, 1.10.2 works fine\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nGOARCH=\"amd64\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\n\r\n### What did you do?\r\nWith the following package:\r\n==> local/x/x.go <==\r\n```\r\npackage x\r\n\r\nimport \"fmt\"\r\n\r\nfunc X() {\r\n\tif false {\r\n\t\tfmt.Printf(\"Hello\")\r\n\t}\r\n}\r\n```\r\n\r\n==> local/x/x_test.go <==\r\n```\r\npackage x_test\r\n\r\nimport (\r\n\t\"testing\"\r\n\t\"local/x\"\r\n)\r\n\r\nfunc TestX(t *testing.T) {\r\n\tx.X()\r\n}\r\n```\r\nRun the following commands:\r\n```\r\n$ go test -coverprofile=/tmp/cover.tmp local/x\r\n$ go tool cover -html=/tmp/cover.tmp\r\n```\r\n\r\n### What did you expect to see?\r\nA code listing showing which statements have been executed.\r\n\r\n### What did you see instead?\r\nA code listing showing that all statements have been executed.\r\n\r\nThe relevant snippet of HTML shows:\r\n```\r\nfunc X() <span class=\"cov8\" title=\"1\">{\r\n        if false <span class=\"cov0\" title=\"0\"></span>{\r\n                fmt.Printf(\"Hello\")\r\n        }</span>\r\n}\r\n```\r\n\r\nUsing 1.10.2 the equivalent snippet is:\r\n```\r\nfunc X() <span class=\"cov8\" title=\"1\">{\r\n        if false </span><span class=\"cov0\" title=\"0\">{\r\n                fmt.Printf(\"Hello\")\r\n        }</span>\r\n}\r\n```\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25765","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25765/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25765/comments","events_url":"https://api.github.com/repos/golang/go/issues/25765/events","html_url":"https://github.com/golang/go/issues/25765","id":330056665,"node_id":"MDU6SXNzdWUzMzAwNTY2NjU=","number":25765,"title":"all: Go 1.10.3 release status","user":{"login":"FiloSottile","id":1225294,"node_id":"MDQ6VXNlcjEyMjUyOTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1225294?v=4","gravatar_id":"","url":"https://api.github.com/users/FiloSottile","html_url":"https://github.com/FiloSottile","followers_url":"https://api.github.com/users/FiloSottile/followers","following_url":"https://api.github.com/users/FiloSottile/following{/other_user}","gists_url":"https://api.github.com/users/FiloSottile/gists{/gist_id}","starred_url":"https://api.github.com/users/FiloSottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FiloSottile/subscriptions","organizations_url":"https://api.github.com/users/FiloSottile/orgs","repos_url":"https://api.github.com/users/FiloSottile/repos","events_url":"https://api.github.com/users/FiloSottile/events{/privacy}","received_events_url":"https://api.github.com/users/FiloSottile/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/75","html_url":"https://github.com/golang/go/milestone/75","labels_url":"https://api.github.com/repos/golang/go/milestones/75/labels","id":3305180,"node_id":"MDk6TWlsZXN0b25lMzMwNTE4MA==","number":75,"title":"Go1.10.3","description":"","creator":{"login":"andybons","id":365204,"node_id":"MDQ6VXNlcjM2NTIwNA==","avatar_url":"https://avatars3.githubusercontent.com/u/365204?v=4","gravatar_id":"","url":"https://api.github.com/users/andybons","html_url":"https://github.com/andybons","followers_url":"https://api.github.com/users/andybons/followers","following_url":"https://api.github.com/users/andybons/following{/other_user}","gists_url":"https://api.github.com/users/andybons/gists{/gist_id}","starred_url":"https://api.github.com/users/andybons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andybons/subscriptions","organizations_url":"https://api.github.com/users/andybons/orgs","repos_url":"https://api.github.com/users/andybons/repos","events_url":"https://api.github.com/users/andybons/events{/privacy}","received_events_url":"https://api.github.com/users/andybons/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":12,"state":"closed","created_at":"2018-04-27T20:28:15Z","updated_at":"2018-06-08T03:29:18Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-06-07T00:23:30Z"},"comments":9,"created_at":"2018-06-06T22:35:18Z","updated_at":"2018-06-08T03:29:18Z","closed_at":"2018-06-08T03:29:18Z","author_association":"MEMBER","body":"Issue tracking the Go1.10.3 release by releasebot.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25762","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25762/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25762/comments","events_url":"https://api.github.com/repos/golang/go/issues/25762/events","html_url":"https://github.com/golang/go/issues/25762","id":330010760,"node_id":"MDU6SXNzdWUzMzAwMTA3NjA=","number":25762,"title":"Troubles with building cross-compiler for musl libc.","user":{"login":"protonesso","id":26525475,"node_id":"MDQ6VXNlcjI2NTI1NDc1","avatar_url":"https://avatars1.githubusercontent.com/u/26525475?v=4","gravatar_id":"","url":"https://api.github.com/users/protonesso","html_url":"https://github.com/protonesso","followers_url":"https://api.github.com/users/protonesso/followers","following_url":"https://api.github.com/users/protonesso/following{/other_user}","gists_url":"https://api.github.com/users/protonesso/gists{/gist_id}","starred_url":"https://api.github.com/users/protonesso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/protonesso/subscriptions","organizations_url":"https://api.github.com/users/protonesso/orgs","repos_url":"https://api.github.com/users/protonesso/repos","events_url":"https://api.github.com/users/protonesso/events{/privacy}","received_events_url":"https://api.github.com/users/protonesso/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-06-06T19:58:11Z","updated_at":"2018-06-07T00:32:29Z","closed_at":"2018-06-06T21:56:59Z","author_association":"NONE","body":"Hi, everyone! I have some troubles with building golang cross-compiler for musl libc. I patched source with these pacthes:\r\n```\r\nhttps://git.alpinelinux.org/cgit/aports/tree/community/go/default-buildmode-pie.patch\r\nhttps://git.alpinelinux.org/cgit/aports/tree/community/go/set-external-linker.patch\r\n```\r\nI'm building host golang(not native). Golang version is 1.10.2.\r\nThis is what commands I've used to compile host package:\r\n```\r\nCC_FOR_BUILD=\"gcc\" \\\r\nCC_FOR_TARGET=\"x86_64-linux-musl-gcc\" \\\r\nGOROOT_FINAL=$TOOLS/usr/lib/go \\\r\nGOOS=linux GOARCH=x86_64 ./make.bash -v\r\n```\r\n\r\nHere is the error message:\r\n```\r\n# cmd/compile\r\nloadinternal: cannot find runtime/cgo\r\nBuilding Go toolchain3 using go_bootstrap and Go toolchain2.\r\ngo tool compile: fork/exec /go/src/go/pkg/tool/linux_amd64/compile: no such file or directory\r\ngo tool compile: fork/exec /go/src/go/pkg/tool/linux_amd64/compile: no such file or directory\r\ngo tool compile: fork/exec /go/src/go/pkg/tool/linux_amd64/compile: no such file or directory\r\ngo tool dist: FAILED: /go/src/go/pkg/tool/linux_amd64/go_bootstrap install -gcflags=all= -ldflags=all= -v -a -i cmd/asm cmd/cgo cmd/compile cmd/link: exit status 1\r\n```\r\n\r\nI've checked if `compile` linked with musl libc.\r\n```\r\ncompile: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-musl-x86_64.so.1, with debug_info, not stripped\r\n```\r\nAs you can see it's linked with musl libc. I'm used Ubuntu 18.04 to build","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25760","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25760/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25760/comments","events_url":"https://api.github.com/repos/golang/go/issues/25760/events","html_url":"https://github.com/golang/go/issues/25760","id":329962244,"node_id":"MDU6SXNzdWUzMjk5NjIyNDQ=","number":25760,"title":"x/build: linux-s390x-crosscompile builder out of order","user":{"login":"FiloSottile","id":1225294,"node_id":"MDQ6VXNlcjEyMjUyOTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1225294?v=4","gravatar_id":"","url":"https://api.github.com/users/FiloSottile","html_url":"https://github.com/FiloSottile","followers_url":"https://api.github.com/users/FiloSottile/followers","following_url":"https://api.github.com/users/FiloSottile/following{/other_user}","gists_url":"https://api.github.com/users/FiloSottile/gists{/gist_id}","starred_url":"https://api.github.com/users/FiloSottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FiloSottile/subscriptions","organizations_url":"https://api.github.com/users/FiloSottile/orgs","repos_url":"https://api.github.com/users/FiloSottile/repos","events_url":"https://api.github.com/users/FiloSottile/events{/privacy}","received_events_url":"https://api.github.com/users/FiloSottile/received_events","type":"User","site_admin":false},"labels":[{"id":223401461,"node_id":"MDU6TGFiZWwyMjM0MDE0NjE=","url":"https://api.github.com/repos/golang/go/labels/Builders","name":"Builders","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/22","html_url":"https://github.com/golang/go/milestone/22","labels_url":"https://api.github.com/repos/golang/go/milestones/22/labels","id":1067491,"node_id":"MDk6TWlsZXN0b25lMTA2NzQ5MQ==","number":22,"title":"Unreleased","description":"Issues that do not affect released Go code and binaries.\r\n","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":863,"closed_issues":1450,"state":"open","created_at":"2015-04-14T18:48:22Z","updated_at":"2018-06-08T17:49:09Z","due_on":"2099-12-31T08:00:00Z","closed_at":null},"comments":1,"created_at":"2018-06-06T17:27:24Z","updated_at":"2018-06-06T18:05:22Z","closed_at":"2018-06-06T18:05:22Z","author_association":"MEMBER","body":"See #25746 for more details.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25759","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25759/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25759/comments","events_url":"https://api.github.com/repos/golang/go/issues/25759/events","html_url":"https://github.com/golang/go/issues/25759","id":329957914,"node_id":"MDU6SXNzdWUzMjk5NTc5MTQ=","number":25759,"title":"x/net/http2: Transport leaks goroutines (newClientConn)","user":{"login":"jadekler","id":3584893,"node_id":"MDQ6VXNlcjM1ODQ4OTM=","avatar_url":"https://avatars3.gith
8000
ubusercontent.com/u/3584893?v=4","gravatar_id":"","url":"https://api.github.com/users/jadekler","html_url":"https://github.com/jadekler","followers_url":"https://api.github.com/users/jadekler/followers","following_url":"https://api.github.com/users/jadekler/following{/other_user}","gists_url":"https://api.github.com/users/jadekler/gists{/gist_id}","starred_url":"https://api.github.com/users/jadekler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadekler/subscriptions","organizations_url":"https://api.github.com/users/jadekler/orgs","repos_url":"https://api.github.com/users/jadekler/repos","events_url":"https://api.github.com/users/jadekler/events{/privacy}","received_events_url":"https://api.github.com/users/jadekler/received_events","type":"User","site_admin":false},"labels":[{"id":373402289,"node_id":"MDU6TGFiZWwzNzM0MDIyODk=","url":"https://api.github.com/repos/golang/go/labels/NeedsInvestigation","name":"NeedsInvestigation","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/65","html_url":"https://github.com/golang/go/milestone/65","labels_url":"https://api.github.com/repos/golang/go/milestones/65/labels","id":3072996,"node_id":"MDk6TWlsZXN0b25lMzA3Mjk5Ng==","number":65,"title":"Go1.12","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":95,"closed_issues":9,"state":"open","created_at":"2018-01-29T21:17:52Z","updated_at":"2018-06-08T14:31:59Z","due_on":"2019-01-31T08:00:00Z","closed_at":null},"comments":12,"created_at":"2018-06-06T17:13:41Z","updated_at":"2018-06-08T16:06:43Z","closed_at":"2018-06-07T14:44:13Z","author_association":"CONTRIBUTOR","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\n`go version go1.10.2 darwin/amd64`\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOCACHE=\"/Users/deklerk/Library/Caches/go-build\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"darwin\"\r\nGOOS=\"darwin\"\r\nGOPATH=\"/Users/deklerk/workspace/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTMPDIR=\"\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/darwin_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"clang\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/lk/zs4m7sv12mq2vzk_wfn2tfvm00h16k/T/go-build884605322=/tmp/go-build -gno-record-gcc-switches -fno-common\"\r\n```\r\n\r\n### What did you do?\r\n\r\nUsing `github.com/fortytw2/leaktest`\r\n\r\n```\r\nfunc TestJean(t *testing.T) {\r\n\tdefer leaktest.Check(t)()\r\n\treq, err := http.NewRequest(\"GET\", \"https://google.com\", nil)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tc := http.Client{}\r\n\tresp, err := c.Do(req)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tfmt.Println(resp.StatusCode)\r\n}\r\n```\r\n\r\n`go test -v -run TestJean`\r\n\r\n\r\n### What did you expect to see?\r\n\r\nPASS\r\n\r\n### What did you see instead?\r\n\r\n```\r\n$ go test -v -run TestJean\r\n=== RUN   TestJean\r\n200\r\n--- FAIL: TestJean (5.31s)\r\n\tleaktest.go:129: leaktest: timed out checking goroutines\r\n\tleaktest.go:147: leaktest: leaked goroutine: goroutine 59 [IO wait]:\r\n\t\tinternal/poll.runtime_pollWait(0x1e44d60, 0x72, 0xc420063858)\r\n\t\t\t/usr/local/go/src/runtime/netpoll.go:173 +0x57\r\n\t\tinternal/poll.(*pollDesc).wait(0xc420406118, 0x72, 0xffffffffffffff00, 0x16bd680, 0x194f608)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_poll_runtime.go:85 +0x9b\r\n\t\tinternal/poll.(*pollDesc).waitRead(0xc420406118, 0xc4200c1c00, 0x400, 0x400)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\n\t\tinternal/poll.(*FD).Read(0xc420406100, 0xc4200c1c00, 0x400, 0x400, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_unix.go:157 +0x1dc\r\n\t\tnet.(*netFD).Read(0xc420406100, 0xc4200c1c00, 0x400, 0x400, 0x1035769, 0xc4201d3200, 0x200000003)\r\n\t\t\t/usr/local/go/src/net/fd_unix.go:202 +0x4f\r\n\t\tnet.(*conn).Read(0xc4201da008, 0xc4200c1c00, 0x400, 0x400, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/net/net.go:176 +0x6a\r\n\t\tcrypto/tls.(*block).readFromUntil(0xc4201d8180, 0x1ec0000, 0xc4201da008, 0x5, 0xc4201da008, 0xc420063a10)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:493 +0x96\r\n\t\tcrypto/tls.(*Conn).readRecord(0xc4201e0700, 0x1674817, 0xc4201e0820, 0xc4201d3200)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:595 +0xe0\r\n\t\tcrypto/tls.(*Conn).Read(0xc4201e0700, 0xc420441000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:1156 +0x100\r\n\t\tbufio.(*Reader).Read(0xc4201903c0, 0xc420432ab8, 0x9, 0x9, 0xc4201e0a30, 0x1221f90, 0xc4201e0a30)\r\n\t\t\t/usr/local/go/src/bufio/bufio.go:216 +0x238\r\n\t\tio.ReadAtLeast(0x16bb4e0, 0xc4201903c0, 0xc420432ab8, 0x9, 0x9, 0x9, 0x128f261, 0xc4201e0700, 0xc420440000)\r\n\t\t\t/usr/local/go/src/io/io.go:309 +0x86\r\n\t\tio.ReadFull(0x16bb4e0, 0xc4201903c0, 0xc420432ab8, 0x9, 0x9, 0x12d5aa4, 0x1e4d1d8, 0xc4201e0700)\r\n\t\t\t/usr/local/go/src/io/io.go:327 +0x58\r\n\t\tnet/http.http2readFrameHeader(0xc420432ab8, 0x9, 0x9, 0x16bb4e0, 0xc4201903c0, 0x0, 0xc400000000, 0x102bda4, 0x16748f0)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:1517 +0x7b\r\n\t\tnet/http.(*http2Framer).ReadFrame(0xc420432a80, 0xc4203cc780, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:1775 +0xa4\r\n\t\tnet/http.(*http2clientConnReadLoop).run(0xc420063fb8, 0x1674218, 0xc42047e7b8)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:8028 +0x90\r\n\t\tnet/http.(*http2ClientConn).readLoop(0xc42027b340)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:7956 +0x68\r\n\t\tcreated by net/http.(*http2Transport).newClientConn\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:7143 +0x65c\r\n\tleaktest.go:147: leaktest: leaked goroutine: goroutine 85 [IO wait]:\r\n\t\tinternal/poll.runtime_pollWait(0x1e44c90, 0x72, 0xc420064858)\r\n\t\t\t/usr/local/go/src/runtime/netpoll.go:173 +0x57\r\n\t\tinternal/poll.(*pollDesc).wait(0xc42018e398, 0x72, 0xffffffffffffff00, 0x16bd680, 0x194f608)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_poll_runtime.go:85 +0x9b\r\n\t\tinternal/poll.(*pollDesc).waitRead(0xc42018e398, 0xc4201a7000, 0x1000, 0x1000)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d\r\n\t\tinternal/poll.(*FD).Read(0xc42018e380, 0xc4201a7000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/internal/poll/fd_unix.go:157 +0x1dc\r\n\t\tnet.(*netFD).Read(0xc42018e380, 0xc4201a7000, 0x1000, 0x1000, 0x102bb3b, 0xc420087080, 0x200000003)\r\n\t\t\t/usr/local/go/src/net/fd_unix.go:202 +0x4f\r\n\t\tnet.(*conn).Read(0xc42020c000, 0xc4201a7000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/net/net.go:176 +0x6a\r\n\t\tcrypto/tls.(*block).readFromUntil(0xc420180420, 0x1ec0000, 0xc42020c000, 0x5, 0xc42020c000, 0xc420064a70)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:493 +0x96\r\n\t\tcrypto/tls.(*Conn).readRecord(0xc4201b6700, 0x1674817, 0xc4201b6820, 0xc420087080)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:595 +0xe0\r\n\t\tcrypto/tls.(*Conn).Read(0xc4201b6700, 0xc4201a6000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/crypto/tls/conn.go:1156 +0x100\r\n\t\tbufio.(*Reader).Read(0xc420090720, 0xc420304ab8, 0x9, 0x9, 0xc4201b6a30, 0x1221f90, 0xc4201b6a30)\r\n\t\t\t/usr/local/go/src/bufio/bufio.go:216 +0x238\r\n\t\tio.ReadAtLeast(0x16bb4e0, 0xc420090720, 0xc420304ab8, 0x9, 0x9, 0x9, 0x128f2b8, 0xc4201b6700, 0xc420307000)\r\n\t\t\t/usr/local/go/src/io/io.go:309 +0x86\r\n\t\tio.ReadFull(0x16bb4e0, 0xc420090720, 0xc420304ab8, 0x9, 0x9, 0x12d5aa4, 0x1e4d1d8, 0xc4201b6700)\r\n\t\t\t/usr/local/go/src/io/io.go:327 +0x58\r\n\t\tnet/http.http2readFrameHeader(0xc420304ab8, 0x9, 0x9, 0x16bb4e0, 0xc420090720, 0x0, 0xc400000000, 0x102bda4, 0x16748f0)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:1517 +0x7b\r\n\t\tnet/http.(*http2Framer).ReadFrame(0xc420304a80, 0xc42038fe20, 0x0, 0x0, 0x0)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:1775 +0xa4\r\n\t\tnet/http.(*http2clientConnReadLoop).run(0xc420064fb8, 0x1674218, 0xc42047e7b8)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:8028 +0x90\r\n\t\tnet/http.(*http2ClientConn).readLoop(0xc42038a540)\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:7956 +0x68\r\n\t\tcreated by net/http.(*http2Transport).newClientConn\r\n\t\t\t/usr/local/go/src/net/http/h2_bundle.go:7143 +0x65c\r\nFAIL\r\n```","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25758","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25758/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25758/comments","events_url":"https://api.github.com/repos/golang/go/issues/25758/events","html_url":"https://github.com/golang/go/issues/25758","id":329951212,"node_id":"MDU6SXNzdWUzMjk5NTEyMTI=","number":25758,"title":"x/vgo: “unknown revision” when attempting to build from multi-module repo","user":{"login":"bcmills","id":5200974,"node_id":"MDQ6VXNlcjUyMDA5NzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5200974?v=4","gravatar_id":"","url":"https://api.github.com/users/bcmills","html_url":"https://github.com/bcmills","followers_url":"https://api.github.com/users/bcmills/followers","following_url":"https://api.github.com/users/bcmills/following{/other_user}","gists_url":"https://api.github.com/users/bcmills/gists{/gist_id}","starred_url":"https://api.github.com/users/bcmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcmills/subscriptions","organizations_url":"https://api.github.com/users/bcmills/orgs","repos_url":"https://api.github.com/users/bcmills/repos","events_url":"https://api.github.com/users/bcmills/events{/privacy}","received_events_url":"https://api.github.com/users/bcmills/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/71","html_url":"https://github.com/golang/go/milestone/71","labels_url":"https://api.github.com/repos/golang/go/milestones/71/labels","id":3130892,"node_id":"MDk6TWlsZXN0b25lMzEzMDg5Mg==","number":71,"title":"vgo","description":null,"creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":65,"closed_issues":149,"state":"open","created_at":"2018-02-20T19:51:55Z","updated_at":"2018-06-08T05:39:35Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2018-06-06T16:52:58Z","updated_at":"2018-06-06T21:28:51Z","closed_at":"2018-06-06T21:28:51Z","author_association":"MEMBER","body":"Based on discussion in https://golang.org/cl/116235, I decided to do some experimentation with cyclic modules hosted in the same repository. (I'm not actually sure whether that's a sensible thing to do, which is why I wanted to experiment.)\r\n\r\nUnfortunately, I can't even get acyclic modules working in a multi-module repo. The “Multiple-Module Repositories” section of https://research.swtch.com/vgo-module seems to claim that it's supported, but `vgo list -t` won't list versions for any of the submodules and `vgo get` won't fetch them.\r\n\r\nMy attempt is in https://github.com/bcmills/vgotest. It's entirely possible that I'm missing something obvious, but I'm not sure what: this may just be a documentation problem. (I'm fairly new to both vgo and Git tags.)\r\n```\r\n~$ cd $(mktemp -d)\r\n\r\n/tmp/tmp.eQdtHRpVrY$ git clone git@github.com:bcmills/vgotest.git\r\nCloning into 'vgotest'...\r\nremote: Counting objects: 11, done.\r\nremote: Compressing objects: 100% (8/8), done.\r\nremote: Total 11 (delta 0), reused 11 (delta 0), pack-reused 0\r\nReceiving objects: 100% (11/11), done.\r\n\r\n/tmp/tmp.eQdtHRpVrY$ cd vgotest\r\n\r\n/tmp/tmp.eQdtHRpVrY/vgotest$ git checkout v0.1.0\r\nHEAD is now at 434c49a a,b: add mutually-dependent modules\r\n\r\n/tmp/tmp.eQdtHRpVrY/vgotest$ find ./*\r\n./a\r\n./a/go.mod\r\n./a/a.go\r\n./b\r\n./b/go.mod\r\n./b/b.go\r\n./LICENSE\r\n\r\n\r\n/tmp/tmp.eQdtHRpVrY/vgotest$ cd a\r\n\r\n/tmp/tmp.eQdtHRpVrY/vgotest/a$ vgo build .\r\nvgo: finding github.com/bcmills/vgotest/b v0.1.0\r\nvgo: github.com/bcmills/vgotest/b v0.1.0: unknown revision \"b/v0.1.0\"\r\nvgo: finding github.com/bcmills/vgotest/b v0.1.0\r\nvgo: github.com/bcmills/vgotest/b v0.1.0: unknown revision \"b/v0.1.0\"\r\nvgo: unknown revision \"b/v0.1.0\"\r\n```\r\n\r\nCC: @rsc @myitcv","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25754","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25754/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25754/comments","events_url":"https://api.github.com/repos/golang/go/issues/25754/events","html_url":"https://github.com/golang/go/issues/25754","id":329823460,"node_id":"MDU6SXNzdWUzMjk4MjM0NjA=","number":25754,"title":"net/http: can remove function 'cleanHost'?","user":{"login":"Luanana","id":36941993,"node_id":"MDQ6VXNlcjM2OTQxOTkz","avatar_url":"https://avatars0.githubusercontent.com/u/36941993?v=4","gravatar_id":"","url":"https://api.github.com/users/Luanana","html_url":"https://github.com/Luanana","followers_url":"https://api.github.com/users/Luanana/followers","following_url":"https://api.github.com/users/Luanana/following{/other_user}","gists_url":"https://api.github.com/users/Luanana/gists{/gist_id}","starred_url":"https://api.github.com/users/Luanana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Luanana/subscriptions","organizations_url":"https://api.github.com/users/Luanana/orgs","repos_url":"https://api.github.com/users/Luanana/repos","events_url":"https://api.github.com/users/Luanana/events{/privacy}","received_events_url":"https://api.github.com/users/Luanana/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-06T11:15:41Z","updated_at":"2018-06-07T18:17:48Z","closed_at":"2018-06-07T18:17:48Z","author_association":"NONE","body":"https://github.com/golang/go/blob/555eb70db2f7ff4aa22768339425430c1dfdf6ac/src/net/http/request.go#L671\r\nI want to make a tool to test http host inject, but the host header content can't have space or  /.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25753","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25753/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25753/comments","events_url":"https://api.github.com/repos/golang/go/issues/25753/events","html_url":"https://github.com/golang/go/issues/25753","id":329815574,"node_id":"MDU6SXNzdWUzMjk4MTU1NzQ=","number":25753,"title":"cmd/link: handle repeated \"unresolved inter-package jump\" errors","user":{"login":"Quasilyte","id":6286655,"node_id":"MDQ6VXNlcjYyODY2NTU=","avatar_url":"https://avatars3.githubusercontent.com/u/6286655?v=4","gravatar_id":"","url":"https://api.github.com/users/Quasilyte","html_url":"https://github.com/Quasilyte","followers_url":"https://api.github.com/users/Quasilyte/followers","following_url":"https://api.github.com/users/Quasilyte/following{/other_user}","gists_url":"https://api.github.com/users/Quasilyte/gists{/gist_id}","starred_url":"https://api.github.com/users/Quasilyte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Quasilyte/subscriptions","organizations_url":"https://api.github.com/users/Quasilyte/orgs","repos_url":"https://api.github.com/users/Quasilyte/repos","events_url":"https://api.github.com/users/Quasilyte/events{/privacy}","received_events_url":"https://api.github.com/users/Quasilyte/received_events","type":"User","site_admin":false},"labels":[{"id":373399998,"node_id":"MDU6TGFiZWwzNzMzOTk5OTg=","url":"https://api.github.com/repos/golang/go/labels/NeedsFix","name":"NeedsFix","color":"ededed","default":false},{"id":150880205,"node_id":"MDU6TGFiZWwxNTA4ODAyMDU=","url":"https://api.github.com/repos/golang/go/labels/Testing","name":"Testing","color":"aaffaa","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-06-06T10:51:35Z","updated_at":"2018-06-08T21:33:15Z","closed_at":"2018-06-08T21:33:15Z","author_association":"CONTRIBUTOR","body":"[CL113955](https://golang.org/cl/113955) fixes duplicated \"unresolved symbol\" messages, but for architectures with trampoline support we also have \"unresolved inter-package jump\" errors (they are also repeated).\r\n\r\nThis caused some builders to break due to failing `TestUndefinedRelocErrors` test.\r\n\r\nGiven program used in test:\r\n```go\r\npackage main\r\n\r\nfunc undefined()\r\n\r\nfunc defined1() int {\r\n\t// To check multiple errors for a single symbol,\r\n\t// reference undefined more than once.\r\n\tundefined()\r\n\tundefined()\r\n\treturn 0\r\n}\r\n\r\nfunc defined2() {\r\n\tundefined()\r\n\tundefined()\r\n}\r\n\r\nfunc init() {\r\n\t_ = defined1()\r\n\tdefined2()\r\n}\r\n\r\n// The \"main\" function remains undeclared.\r\n```\r\n\r\nWith pre-updated linker we get and `GOARCH=ppc64`:\r\n```\r\nmain.defined1: unresolved inter-package jump to main.undefined()\r\nmain.defined1: unresolved inter-package jump to main.undefined()\r\nmain.defined2: unresolved inter-package jump to main.undefined()\r\nmain.defined2: unresolved inter-package jump to main.undefined()\r\nmain.defined1: relocation target main.undefined not defined\r\nmain.defined1: relocation target main.undefined not defined\r\nmain.defined2: relocation target main.undefined not defined\r\nmain.defined2: relocation target main.undefined not defined\r\nruntime.main_main·f: relocation target main.main not defined\r\nmain.defined1: undefined: \"main.undefined\"\r\nmain.defined1: undefined: \"main.undefined\"\r\nmain.defined2: undefined: \"main.undefined\"\r\nmain.defined2: undefined: \"main.undefined\"\r\nruntime.main_main·f: undefined: \"main.main\"\r\n```\r\nWith CL mentioned above we get less errors, but some unexpected and duplicated errors remain:\r\n```\r\nmain.defined1: unresolved inter-package jump to main.undefined()\r\nmain.defined1: unresolved inter-package jump to main.undefined()\r\nmain.defined2: unresolved inter-package jump to main.undefined()\r\nmain.defined2: unresolved inter-package jump to main.undefined()\r\n```\r\nLeading to [failure](https://build.golang.org/log/4434c8a63e4763ab39d89bc71dbe0b5dcc340f26):\r\n```\r\n--- FAIL: TestUndefinedRelocErrors (0.21s)\r\n    ld_test.go:68: unexpected error: main.defined2: unresolved inter-package jump to main.undefined() (x2)\r\n    ld_test.go:68: unexpected error: main.defined1: unresolved inter-package jump to main.undefined() (x2)\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25752","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25752/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25752/comments","events_url":"https://api.github.com/repos/golang/go/issues/25752/events","html_url":"https://github.com/golang/go/issues/25752","id":329790060,"node_id":"MDU6SXNzdWUzMjk3OTAwNjA=","number":25752,"title":"cmd/vet: cannot run 'go vet' on testdata files","user":{"login":"dlsniper","id":607868,"node_id":"MDQ6VXNlcjYwNzg2OA==","avatar_url":"https://avatars2.githubusercontent.com/u/607868?v=4","gravatar_id":"","url":"https://api.github.com/users/dlsniper","html_url":"https://github.com/dlsniper","followers_url":"https://api.github.com/users/dlsniper/followers","following_url":"https://api.github.com/users/dlsniper/following{/other_user}","gists_url":"https://api.github.com/users/dlsniper/gists{/gist_id}","starred_url":"https://api.github.com/users/dlsniper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlsniper/subscriptions","organizations_url":"https://api.github.com/users/dlsniper/orgs","repos_url":"https://api.github.com/users/dlsniper/repos","events_url":"https://api.github.com/users/dlsniper/events{/privacy}","received_events_url":"https://api.github.com/users/dlsniper/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-06-06T09:32:52Z","updated_at":"2018-06-06T14:12:55Z","closed_at":"2018-06-06T14:12:55Z","author_association":"CONTRIBUTOR","body":"### What version of Go are you using (`go version`)?\r\ngo version go1.10.2 windows/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nyes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\n\r\n### What did you do?\r\n\r\nI ran ` go vet ` on the file here: https://raw.githubusercontent.com/golang/go/27fb26c77c0374ec1876223593078e4d6b98d4f0/src/cmd/vet/testdata/cgo/cgo.go\r\n\r\n\r\n### What did you expect to see?\r\n\r\nVet errors as described by the comments ` // ERROR \"embedded pointer\" ` \r\n\r\n### What did you see instead?\r\n\r\n```\r\nC:\\Go1.10\\bin\\go.exe vet D:\\go\\src\\github.com\\dlsniper\\u\\tmp\\vet\\vet.go\r\n# command-line-arguments\r\nC:\\Users\\florin\\AppData\\Local\\Temp\\go-build553891458\\b001\\_x002.o: In function `_cgo_3d8b191c8128_Cfunc_f':\r\n/tmp/go-build/cgo-gcc-prolog:37: undefined reference to `f'\r\ncollect2.exe: error: ld returned 1 exit status\r\n```\r\n\r\nI've tried this on Linux as well as Windows. Same compile error and vet never has a chance to actually work. Do I miss anything here?\r\nThank you.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25751","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25751/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25751/comments","events_url":"https://api.github.com/repos/golang/go/issues/25751/events","html_url":"https://github.com/golang/go/issues/25751","id":329743376,"node_id":"MDU6SXNzdWUzMjk3NDMzNzY=","number":25751,"title":"string([]byte]{128}) is not Ç","user":{"login":"kbudde","id":1072181,"node_id":"MDQ6VXNlcjEwNzIxODE=","avatar_url":"https://avatars2.githubusercontent.com/u/1072181?v=4","gravatar_id":"","url":"https://api.github.com/users/kbudde","html_url":"https://github.com/kbudde","followers_url":"https://api.github.com/users/kbudde/followers","following_url":"https://api.github.com/users/kbudde/following{/other_user}","gists_url":"https://api.github.com/users/kbudde/gists{/gist_id}","starred_url":"https://api.github.com/users/kbudde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbudde/subscriptions","organizations_url":"https://api.github.com/users/kbudde/orgs","repos_url":"https://api.github.com/users/kbudde/repos","events_url":"https://api.github.com/users/kbudde/events{/privacy}","received_events_url":"https://api.github.com/users/kbudde/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-06-06T07:27:03Z","updated_at":"2018-06-06T12:31:48Z","closed_at":"2018-06-06T07:43:28Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\ngo version go1.10.2 windows/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nset GOARCH=amd64\r\nset GOBIN=\r\nset GOCACHE=C:\\Users\\kbudde\\AppData\\Local\\go-build\r\nset GOEXE=.exe\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\nset GOPATH=C:\\Users\\kbudde\\projects\\go\r\nset GORACE=\r\nset GOROOT=C:\\Go\r\nset GOTMPDIR=\r\nset GOTOOLDIR=C:\\Go\\pkg\\tool\\windows_amd64\r\nset GCCGO=gccgo\r\nset CC=gcc\r\nset CXX=g++\r\nset CGO_ENABLED=1\r\nset CGO_CFLAGS=-g -O2\r\nset CGO_CPPFLAGS=\r\nset CGO_CXXFLAGS=-g -O2\r\nset CGO_FFLAGS=-g -O2\r\nset CGO_LDFLAGS=-g -O2\r\nset PKG_CONFIG=pkg-config\r\nset GOGCCFLAGS=-m64 -mthreads -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=C:\\Users\\kbudde\\AppData\\Local\\Temp\\go-build109976714=/tmp/go-build -gno-record-gcc-switches\r\n\r\n### What did you do?\r\n\r\nhttps://play.golang.org/p/w1B2mB8_JXw\r\n\r\nI converted byte 128 to a string.\r\n\r\n### What did you expect to see?\r\nI expected a \"Ç\". \r\nhttp://www.theasciicode.com.ar/extended-ascii-code/majuscule-c-cedilla-uppercase-ascii-code-128.html\r\n\r\n### What did you see instead?\r\nA different character\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25749","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25749/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25749/comments","events_url":"https://api.github.com/repos/golang/go/issues/25749/events","html_url":"https://github.com/golang/go/issues/25749","id":329721996,"node_id":"MDU6SXNzdWUzMjk3MjE5OTY=","number":25749,"title":"doc: remove the colon after \"usage\" in flag package","user":{"login":"hellozee","id":12135951,"node_id":"MDQ6VXNlcjEyMTM1OTUx","avatar_url":"https://avatars1.githubusercontent.com/u/12135951?v=4","gravatar_id":"","url":"https://api.github.com/users/hellozee","html_url":"https://github.com/hellozee","followers_url":"https://api.github.com/users/hellozee/followers","following_url":"https://api.github.com/users/hellozee/following{/other_user}","gists_url":"https://api.github.com/users/hellozee/gists{/gist_id}","starred_url":"https://api.github.com/users/hellozee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellozee/subscriptions","organizations_url":"https://api.github.com/users/hellozee/orgs","repos_url":"https://api.github.com/users/hellozee/repos","events_url":"https://api.github.com/users/hellozee/events{/privacy}","received_events_url":"https://api.github.com/users/hellozee/received_events","type":"User","site_admin":false},"labels":[{"id":150880209,"node_id":"MDU6TGFiZWwxNTA4ODAyMDk=","url":"https://api.github.com/repos/golang/go/labels/Documentation","name":"Documentation","color":"aaffaa","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-06T06:04:05Z","updated_at":"2018-06-07T07:01:14Z","closed_at":"2018-06-07T07:01:14Z","author_association":"CONTRIBUTOR","body":"Removing the colon after \"Usage\" will make it a header when interpreted by godoc","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25748","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25748/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25748/comments","events_url":"https://api.github.com/repos/golang/go/issues/25748/events","html_url":"https://github.com/golang/go/issues/25748","id":329684279,"node_id":"MDU6SXNzdWUzMjk2ODQyNzk=","number":25748,"title":"ioutil.ReadAll error when reading from gzip Reader","user":{"login":"ismlsmile","id":1876179,"node_id":"MDQ6VXNlcjE4NzYxNzk=","avatar_url":"https://avatars0.githubusercontent.com/u/1876179?v=4","gravatar_id":"","url":"https://api.github.com/users/ismlsmile","html_url":"https://github.com/ismlsmile","followers_url":"https://api.github.com/users/ismlsmile/followers","following_url":"https://api.github.com/users/ismlsmile/following{/other_user}","gists_url":"https://api.github.com/users/ismlsmile/gists{/gist_id}","starred_url":"https://api.github.com/users/ismlsmile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ismlsmile/subscriptions","organizations_url":"https://api.github.com/users/ismlsmile/orgs","repos_url":"https://api.github.com/users/ismlsmile/repos","events_url":"https://api.github.com/users/ismlsmile/events{/privacy}","received_events_url":"https://api.github.com/users/ismlsmile/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-06T02:03:44Z","updated_at":"2018-06-06T03:57:20Z","closed_at":"2018-06-06T03:57:20Z","author_association":"NONE","body":"### What version of Go are you using (`go version`)?\r\ngo version go1.10.2 windows/amd64\r\n\r\n### Does this issue reproduce with the latest release?\r\nyes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nset GOARCH=amd64\r\nset GOHOSTARCH=amd64\r\nset GOHOSTOS=windows\r\nset GOOS=windows\r\n\r\n### What did you do?\r\nThis program panic:\r\n\r\npackage main\r\n\r\nimport (\r\n\t\"io/ioutil\"\r\n\t\"bytes\"\r\n\t\"compress/gzip\"\r\n)\r\n\r\nfunc main() {\r\n\tdata := []byte(\"HelloWorld\")\r\n\r\n\tvar b bytes.Buffer\r\n\tw := gzip.NewWriter(&b)\r\n\tdefer w.Close()\r\n\tw.Write(data)\r\n\tw.Flush()\r\n\r\n\tr, _ := gzip.NewReader(&b)\r\n\tdefer r.Close()\r\n\trawData, err := ioutil.ReadAll(r)\r\n\tprintln(string(rawData))\r\n\tif err != nil {\r\n\t\tpanic(err.Error())\r\n\t}\r\n}\r\n\r\n\r\nThe rawData is OK, but ioutil.ReadAll return an error : \"unexpected EOF\"","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25747","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25747/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25747/comments","events_url":"https://api.github.com/repos/golang/go/issues/25747/events","html_url":"https://github.com/golang/go/issues/25747","id":329677300,"node_id":"MDU6SXNzdWUzMjk2NzczMDA=","number":25747,"title":"The filename, directory name, or volume label syntax is incorrect.","user":{"login":"cre8andctrl","id":8800974,"node_id":"MDQ6VXNlcjg4MDA5NzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/8800974?v=4","gravatar_id":"","url":"https://api.github.com/users/cre8andctrl","html_url":"https://github.com/cre8andctrl","followers_url":"https://api.github.com/users/cre8andctrl/followers","following_url":"https://api.github.com/users/cre8andctrl/following{/other_user}","gists_url":"https://api.github.com/users/cre8andctrl/gists{/gist_id}","starred_url":"https://api.github.com/users/cre8andctrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cre8andctrl/subscriptions","organizations_url":"https://api.github.com/users/cre8andctrl/orgs","repos_url":"https://api.github.com/users/cre8andctrl
60be
/repos","events_url":"https://api.github.com/users/cre8andctrl/events{/privacy}","received_events_url":"https://api.github.com/users/cre8andctrl/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-06T01:18:01Z","updated_at":"2018-06-06T02:10:44Z","closed_at":"2018-06-06T01:44:36Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\n1.10\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nWindows Server\r\n\r\n### What did you do?\r\n\r\nTrying to create a file passing the readstring argument to a function.\r\nCan anyone figure this out? I think the problem might be in the readstring() method when being passed to a function. Please help. Thank you\r\n\r\n`//create file\r\n//write to file\r\n//read from file\r\n\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"bufio\"\r\n    \"log\"\r\n    \"strings\"\r\n    //\"io/ioutil\"\r\n    \"os\"\r\n)\r\n\t\r\nfunc main() {\r\n    fmt.Print(\"Enter filename to create: \")\r\n\r\n    reader := bufio.NewReader(os.Stdin)\r\n   \r\n    text, _ := reader.ReadString('\\n')\r\n    text = strings.TrimSuffix(text, \"\\n\")\r\n    \r\n\r\n    if len(text) > 3 {\r\n    \t//newFile, err := os.Create(text)\r\n    \tfmt.Println(\"Name:\"+text)\r\n    \tcreateFile(text)\r\n    } else {\r\n    \tfmt.Println(\"invalid filename\")\r\n    }\r\n\r\n}\r\n\r\nfunc createFile(fileName string){\r\n\tvar newFile *os.File\r\n\tvar err error\r\n\r\n\t\r\n\tfmt.Println(fileName)\r\n\r\n\tnewFile, err = os.Create(fileName)\r\n\tif err != nil {\r\n        log.Fatal(err)\r\n    }\r\n    newFile.Close()\r\n}\r\n`\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25746","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25746/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25746/comments","events_url":"https://api.github.com/repos/golang/go/issues/25746/events","html_url":"https://github.com/golang/go/issues/25746","id":329677160,"node_id":"MDU6SXNzdWUzMjk2NzcxNjA=","number":25746,"title":"all: Go 1.9.7 release status","user":{"login":"FiloSottile","id":1225294,"node_id":"MDQ6VXNlcjEyMjUyOTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1225294?v=4","gravatar_id":"","url":"https://api.github.com/users/FiloSottile","html_url":"https://github.com/FiloSottile","followers_url":"https://api.github.com/users/FiloSottile/followers","following_url":"https://api.github.com/users/FiloSottile/following{/other_user}","gists_url":"https://api.github.com/users/FiloSottile/gists{/gist_id}","starred_url":"https://api.github.com/users/FiloSottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FiloSottile/subscriptions","organizations_url":"https://api.github.com/users/FiloSottile/orgs","repos_url":"https://api.github.com/users/FiloSottile/repos","events_url":"https://api.github.com/users/FiloSottile/events{/privacy}","received_events_url":"https://api.github.com/users/FiloSottile/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/76","html_url":"https://github.com/golang/go/milestone/76","labels_url":"https://api.github.com/repos/golang/go/milestones/76/labels","id":3309582,"node_id":"MDk6TWlsZXN0b25lMzMwOTU4Mg==","number":76,"title":"Go1.9.7","description":"","creator":{"login":"andybons","id":365204,"node_id":"MDQ6VXNlcjM2NTIwNA==","avatar_url":"https://avatars3.githubusercontent.com/u/365204?v=4","gravatar_id":"","url":"https://api.github.com/users/andybons","html_url":"https://github.com/andybons","followers_url":"https://api.github.com/users/andybons/followers","following_url":"https://api.github.com/users/andybons/following{/other_user}","gists_url":"https://api.github.com/users/andybons/gists{/gist_id}","starred_url":"https://api.github.com/users/andybons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andybons/subscriptions","organizations_url":"https://api.github.com/users/andybons/orgs","repos_url":"https://api.github.com/users/andybons/repos","events_url":"https://api.github.com/users/andybons/events{/privacy}","received_events_url":"https://api.github.com/users/andybons/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2018-04-30T16:40:56Z","updated_at":"2018-06-08T03:29:33Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-06-06T01:35:28Z"},"comments":15,"created_at":"2018-06-06T01:16:57Z","updated_at":"2018-06-08T03:29:34Z","closed_at":"2018-06-08T03:29:33Z","author_association":"MEMBER","body":"# Go 1.9.7 release status\n\nIssue tracking the %s release by releasebot.\n\n— golang.org/x/build/cmd/releasebot, Jun  6 01:16:56 UTC\n","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25745","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25745/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25745/comments","events_url":"https://api.github.com/repos/golang/go/issues/25745/events","html_url":"https://github.com/golang/go/issues/25745","id":329673071,"node_id":"MDU6SXNzdWUzMjk2NzMwNzE=","number":25745,"title":"runtime: sigaction problem when using cgo on FreeBSD","user":{"login":"billziss-gh","id":15330948,"node_id":"MDQ6VXNlcjE1MzMwOTQ4","avatar_url":"https://avatars3.githubusercontent.com/u/15330948?v=4","gravatar_id":"","url":"https://api.github.com/users/billziss-gh","html_url":"https://github.com/billziss-gh","followers_url":"https://api.github.com/users/billziss-gh/followers","following_url":"https://api.github.com/users/billziss-gh/following{/other_user}","gists_url":"https://api.github.com/users/billziss-gh/gists{/gist_id}","starred_url":"https://api.github.com/users/billziss-gh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billziss-gh/subscriptions","organizations_url":"https://api.github.com/users/billziss-gh/orgs","repos_url":"https://api.github.com/users/billziss-gh/repos","events_url":"https://api.github.com/users/billziss-gh/events{/privacy}","received_events_url":"https://api.github.com/users/billziss-gh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-06T00:49:17Z","updated_at":"2018-06-06T03:28:14Z","closed_at":"2018-06-06T01:15:02Z","author_association":"CONTRIBUTOR","body":"### What version of Go are you using (`go version`)?\r\n\r\n```\r\ngo version go1.10.1 freebsd/amd64\r\n```\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nLikely.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOCACHE=\"/home/billziss/.cache/go-build\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"freebsd\"\r\nGOOS=\"freebsd\"\r\nGOPATH=\"/home/billziss/go\"\r\nGORACE=\"\"\r\nGOROOT=\"/usr/local/go\"\r\nGOTMPDIR=\"\"\r\nGOTOOLDIR=\"/usr/local/go/pkg/tool/freebsd_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"clang\"\r\nCXX=\"clang++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build089165738=/tmp/go-build -gno-record-gcc-switches\"\r\n```\r\n\r\n### What did you do?\r\n\r\nThe following simple cgo program:\r\n\r\n```go\r\npackage main\r\n\r\n/*\r\n#include <stdio.h>\r\n#include <signal.h>\r\n\r\nstatic void sigprint(int sig) {\r\n\tstruct sigaction sa;\r\n\tint ret = sigaction(sig, 0, &sa);\r\n\tfprintf(stderr, \"ret=%d handler=%p\\n\", ret, sa.sa_handler);\r\n}\r\n*/\r\nimport \"C\"\r\nimport \"syscall\"\r\n\r\nfunc main() {\r\n\tC.sigprint(C.int(syscall.SIGTERM))\r\n}\r\n```\r\n\r\nSucceeds (prints a non-0 signal handler) on Darwin and Linux:\r\n\r\n```console\r\n$ go run sigbug.go\r\nret=0 handler=0x4034150\r\n```\r\n\r\nBut fails (prints a 0 signal handler) on FreeBSD:\r\n\r\n```console\r\n$ go run sigbug.go\r\nret=0 handler=0x0\r\n```\r\n\r\n### What did you expect to see?\r\n\r\nI expected to see the signal handler that the go runtime installs.\r\n\r\n### What did you see instead?\r\n\r\nThe C `sigaction` function thinks that there is no signal handler.\r\n\r\n### Investigation\r\n\r\nI believe the reason for the \"mysterious\" `sigaction` behavior is that the Go runtime invokes [`sigaction`](https://github.com/golang/go/blob/release-branch.go1.10/src/runtime/os_freebsd.go#L310-L319) using [`SYSCALL`](https://github.com/golang/go/blob/release-branch.go1.10/src/runtime/sys_freebsd_amd64.s#L180-L188). However FreeBSD expects that C (and cgo) programs should use the libc [`sigaction`](https://github.com/freebsd/freebsd/blob/release/11.1.0/lib/libc/sys/sigaction.c#L44-L50), which is [\"interposed\"](https://github.com/freebsd/freebsd/blob/release/11.1.0/lib/libthr/thread/thr_syscalls.c#L668) by libthr to [`__thr_sigaction`](https://github.com/freebsd/freebsd/blob/release/11.1.0/lib/libthr/thread/thr_sig.c#L518). Libthr maintains its own [copy](https://github.com/freebsd/freebsd/blob/release/11.1.0/lib/libthr/thread/thr_sig.c#L58-L65) of `sigaction`'s and [overrides](https://github.com/freebsd/freebsd/blob/release/11.1.0/lib/libthr/thread/thr_sig.c#L567-L572) what the kernel returns.\r\n\r\nA likely fix for this is to do what Linux does for `sigaction`. Invoke it using `SYSCALL` if \"!cgo\" or use the C library `sigaction` if \"cgo\". See [`rt_sigaction`](https://github.com/golang/go/blob/release-branch.go1.10/src/runtime/cgo_sigaction.go#L20).\r\n\r\nAdditional information at [billziss-gh/cgofuse#18](https://github.com/billziss-gh/cgofuse/issues/18#issuecomment-390497573).","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25741","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25741/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25741/comments","events_url":"https://api.github.com/repos/golang/go/issues/25741/events","html_url":"https://github.com/golang/go/issues/25741","id":329595669,"node_id":"MDU6SXNzdWUzMjk1OTU2Njk=","number":25741,"title":"cmd/compile: internal compiler error: not lowered: v15, OffPtr PTR64 PTR64 on wasm","user":{"login":"ALTree","id":3586803,"node_id":"MDQ6VXNlcjM1ODY4MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/3586803?v=4","gravatar_id":"","url":"https://api.github.com/users/ALTree","html_url":"https://github.com/ALTree","followers_url":"https://api.github.com/users/ALTree/followers","following_url":"https://api.github.com/users/ALTree/following{/other_user}","gists_url":"https://api.github.com/users/ALTree/gists{/gist_id}","starred_url":"https://api.github.com/users/ALTree/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ALTree/subscriptions","organizations_url":"https://api.github.com/users/ALTree/orgs","repos_url":"https://api.github.com/users/ALTree/repos","events_url":"https://api.github.com/users/ALTree/events{/privacy}","received_events_url":"https://api.github.com/users/ALTree/received_events","type":"User","site_admin":false},"labels":[{"id":943041965,"node_id":"MDU6TGFiZWw5NDMwNDE5NjU=","url":"https://api.github.com/repos/golang/go/labels/Arch-Wasm","name":"Arch-Wasm","color":"5319e7","default":false},{"id":373402289,"node_id":"MDU6TGFiZWwzNzM0MDIyODk=","url":"https://api.github.com/repos/golang/go/labels/NeedsInvestigation","name":"NeedsInvestigation","color":"ededed","default":false},{"id":626114820,"node_id":"MDU6TGFiZWw2MjYxMTQ4MjA=","url":"https://api.github.com/repos/golang/go/labels/release-blocker","name":"release-blocker","color":"b60205","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/62","html_url":"https://github.com/golang/go/milestone/62","labels_url":"https://api.github.com/repos/golang/go/milestones/62/labels","id":2827591,"node_id":"MDk6TWlsZXN0b25lMjgyNzU5MQ==","number":62,"title":"Go1.11","description":"","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":589,"closed_issues":537,"state":"open","created_at":"2017-10-10T13:39:17Z","updated_at":"2018-06-08T17:55:34Z","due_on":"2018-07-31T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-06-05T19:35:07Z","updated_at":"2018-06-06T14:41:13Z","closed_at":"2018-06-06T14:41:12Z","author_association":"MEMBER","body":"```\r\n$ gotip version\r\ngo version devel +2c01b7d632 Tue Jun 5 16:49:07 2018 +0000 linux/amd64\r\n```\r\n\r\nThe following program:\r\n\r\n```\r\npackage p\r\n\r\nfunc f() {\r\n\tvar i int\r\n\tvar s []string\r\n\tfor true {\r\n\t\ti = -len(\"a\")\r\n\t\ts[i] = \"\"\r\n\t\ts = []string{\"\"}\r\n\t}\r\n\t_, _ = i, s\r\n}\r\n```\r\n\r\ncrashes the tip compiler when building for the `wasm` architecture:\r\n\r\n```\r\n$ GOARCH=wasm GOOS=js gotip build crash.go\r\n# command-line-arguments\r\n./crash.go:6:2: internal compiler error: not lowered: v15, OffPtr PTR64 PTR64\r\n\r\ngoroutine 10 [running]:\r\nruntime/debug.Stack(0x0, 0x0, 0x0)\r\n\t/home/alberto/go/src/runtime/debug/stack.go:24 +0xa7\r\ncmd/compile/internal/gc.Fatalf(0xc9d685, 0x2, 0xc000046d30, 0x1, 0x1)\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/subr.go:182 +0x1f7\r\ncmd/compile/internal/gc.(*ssafn).Fatalf(0xc00007b9e0, 0x602100000002, 0xc9d685, 0x2, 0xc000046d30, 0x1, 0x1)\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/ssa.go:5540 +0x67\r\ncmd/compile/internal/ssa.(*Func).Fatalf(0xc0003582c0, 0xc9d685, 0x2, 0xc000046d30, 0x1, 0x1)\r\n\t/home/alberto/go/src/cmd/compile/internal/ssa/func.go:562 +0x73\r\ncmd/compile/internal/ssa.checkLower(0xc0003582c0)\r\n\t/home/alberto/go/src/cmd/compile/internal/ssa/lower.go:36 +0x34d\r\ncmd/compile/internal/ssa.Compile(0xc0003582c0)\r\n\t/home/alberto/go/src/cmd/compile/internal/ssa/compile.go:70 +0x300\r\ncmd/compile/internal/gc.buildssa(0xc000358000, 0x3, 0x0)\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/ssa.go:210 +0xaa7\r\ncmd/compile/internal/gc.compileSSA(0xc000358000, 0x3)\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/pgen.go:259 +0x39\r\ncmd/compile/internal/gc.compileFunctions.func2(0xc0004b8120, 0xc000012680, 0x3)\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/pgen.go:323 +0x49\r\ncreated by cmd/compile/internal/gc.compileFunctions\r\n\t/home/alberto/go/src/cmd/compile/internal/gc/pgen.go:321 +0x11a\r\n```","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25739","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25739/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25739/comments","events_url":"https://api.github.com/repos/golang/go/issues/25739/events","html_url":"https://github.com/golang/go/issues/25739","id":329582063,"node_id":"MDU6SXNzdWUzMjk1ODIwNjM=","number":25739,"title":"x/vgo: should we allow replace for \"old\" code?","user":{"login":"myitcv","id":3374574,"node_id":"MDQ6VXNlcjMzNzQ1NzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/3374574?v=4","gravatar_id":"","url":"https://api.github.com/users/myitcv","html_url":"https://github.com/myitcv","followers_url":"https://api.github.com/users/myitcv/followers","following_url":"https://api.github.com/users/myitcv/following{/other_user}","gists_url":"https://api.github.com/users/myitcv/gists{/gist_id}","starred_url":"https://api.github.com/users/myitcv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myitcv/subscriptions","organizations_url":"https://api.github.com/users/myitcv/orgs","repos_url":"https://api.github.com/users/myitcv/repos","events_url":"https://api.github.com/users/myitcv/events{/privacy}","received_events_url":"https://api.github.com/users/myitcv/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/71","html_url":"https://github.com/golang/go/milestone/71","labels_url":"https://api.github.com/repos/golang/go/milestones/71/labels","id":3130892,"node_id":"MDk6TWlsZXN0b25lMzEzMDg5Mg==","number":71,"title":"vgo","description":null,"creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":65,"closed_issues":149,"state":"open","created_at":"2018-02-20T19:51:55Z","updated_at":"2018-06-08T05:39:35Z","due_on":null,"closed_at":null},"comments":9,"created_at":"2018-06-05T18:53:24Z","updated_at":"2018-06-07T07:54:10Z","closed_at":"2018-06-07T00:39:42Z","author_association":"MEMBER","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\n\r\n```\r\ngo version go1.10.2 linux/amd64 vgo:2018-02-20.1\r\nvgo commit: 416f375193bdc882469e470452be5d856646df76\r\n```\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nYes. Per above\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\n```\r\nGOARCH=\"amd64\"\r\nGOBIN=\"\"\r\nGOCACHE=\"/home/myitcv/.cache/go-build\"\r\nGOEXE=\"\"\r\nGOHOSTARCH=\"amd64\"\r\nGOHOSTOS=\"linux\"\r\nGOOS=\"linux\"\r\nGOPATH=\"/home/myitcv/vgo-by-example/.gopath\"\r\nGOPROXY=\"\"\r\nGORACE=\"\"\r\nGOROOT=\"/home/myitcv/gos\"\r\nGOTMPDIR=\"\"\r\nGOTOOLDIR=\"/home/myitcv/gos/pkg/tool/linux_amd64\"\r\nGCCGO=\"gccgo\"\r\nCC=\"gcc\"\r\nCXX=\"g++\"\r\nCGO_ENABLED=\"1\"\r\nCGO_CFLAGS=\"-g -O2\"\r\nCGO_CPPFLAGS=\"\"\r\nCGO_CXXFLAGS=\"-g -O2\"\r\nCGO_FFLAGS=\"-g -O2\"\r\nCGO_LDFLAGS=\"-g -O2\"\r\nPKG_CONFIG=\"pkg-config\"\r\nGOGCCFLAGS=\"-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build361133570=/tmp/go-build -gno-record-gcc-switches\"\r\nVGOMODROOT=\"\"\r\n```\r\n\r\n### What did you do?\r\n\r\nCreate ourselves a simple module that depends on an \"old\" Go package (`rsc.io/pdf` at `v0.1.1` is\r\n\"old\", non-module code):\r\n\r\n```\r\n$ mkdir hello\r\n$ cd hello\r\n$ cat <<EOD >hello.go\r\npackage main // import \"example.com/hello\"\r\n\r\nimport (\r\n        \"fmt\"\r\n\r\n        \"rsc.io/pdf\"\r\n)\r\n\r\nfunc main() {\r\n        fmt.Println(pdf.Point{})\r\n}\r\nEOD\r\n$ echo >go.mod\r\n```\r\n\r\nNow we get that specific version of `rsc.io/pdf` that is known to be \"old\" Go code:\r\n\r\n\r\n```\r\n$ vgo get rsc.io/pdf@v0.1.1\r\nvgo: finding rsc.io/pdf v0.1.1\r\nvgo: downloading rsc.io/pdf v0.1.1\r\n$ cat go.mod\r\nmodule example.com/hello\r\n\r\nrequire rsc.io/pdf v0.1.1\r\n```\r\n\r\nNow check our code builds and runs:\r\n\r\n```\r\n$ vgo build\r\n$ ./hello\r\n{0 0}\r\n```\r\n\r\nCreate a local copy of `rsc.io/pdf` and add a replace directive to use it:\r\n\r\n```\r\n$ git clone https://github.com/rsc/pdf pdf\r\nCloning into 'pdf'...\r\n$ cd pdf\r\n$ git checkout v0.1.1\r\nHEAD is now at 48d0402... pdf: add a Go import comment\r\n$ cd ..\r\n$ cat <<EOD >>go.mod\r\nreplace rsc.io/pdf v0.1.1 => ./pdf\r\nEOD\r\n$ cat go.mod\r\nmodule example.com/hello\r\n\r\nrequire rsc.io/pdf v0.1.1\r\nreplace rsc.io/pdf v0.1.1 => ./pdf\r\n```\r\n\r\nNow check our code still builds:\r\n\r\n```\r\n$ vgo build\r\nvgo: open /go/hello/pdf/go.mod: no such file or directory\r\n```\r\n\r\nIt doesn't; seems we need to mark that directory as a Go module with a `go.mod`:\r\n\r\n\r\n```\r\n$ cd pdf\r\n$ cat <<EOD >go.mod\r\nmodule rsc.io/pdf\r\nEOD\r\n$ cd ..\r\n```\r\n\r\nNow check our code builds and runs:\r\n\r\n```\r\n$ vgo build\r\n$ ./hello\r\n{0 0}\r\n```\r\n\r\n\r\n### What did you expect to see?\r\n\r\nIt's unclear whether we can/want to allow replace directives to apply to \"old\" (where \"old\" is the opposite of [\"new\"](https://github.com/golang/go/issues/25069)). Doing so would obviate the need for creating the `go.mod` file in the `pdf` directory; but I'm unclear what other \"problems\" this might introduce.\r\n\r\n### What did you see instead?\r\n\r\nPer above.","score":1.0},{"url":"https://api.github.com/repos/golang/go/issues/25735","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/25735/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/25735/comments","events_url":"https://api.github.com/repos/golang/go/issues/25735/events","html_url":"https://github.com/golang/go/issues/25735","id":329503497,"node_id":"MDU6SXNzdWUzMjk1MDM0OTc=","number":25735,"title":"html/template panics when {{ range }} has no arguments","user":{"login":"watchforstock","id":5538881,"node_id":"MDQ6VXNlcjU1Mzg4ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/5538881?v=4","gravatar_id":"","url":"https://api.github.com/users/watchforstock","html_url":"https://github.com/watchforstock","followers_url":"https://api.github.com/users/watchforstock/followers","following_url":"https://api.github.com/users/watchforstock/following{/other_user}","gists_url":"https://api.github.com/users/watchforstock/gists{/gist_id}","starred_url":"https://api.github.com/users/watchforstock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/watchforstock/subscriptions","organizations_url":"https://api.github.com/users/watchforstock/orgs","repos_url":"https://api.github.com/users/watchforstock/repos","events_url":"https://api.github.com/users/watchforstock/events{/privacy}","received_events_url":"https://api.github.com/users/watchforstock/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-05T15:14:21Z","updated_at":"2018-06-05T15:38:53Z","closed_at":"2018-06-05T15:38:53Z","author_association":"NONE","body":"Please answer these questions before submitting your issue. Thanks!\r\n\r\n\r\n### What version of Go are you using (`go version`)?\r\n1.8.3\r\n\r\n### Does this issue reproduce with the latest release?\r\nYes (assuming playground is running latest)\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\nLinux, AMD64\r\n\r\n### What did you do?\r\n\r\nI accidentally included a `{{ range }}` tag without a variable.\r\n\r\nhttps://play.golang.org/p/a8inCrlhRzM\r\n\r\n### What did you expect to see?\r\n\r\nI was expecting to see an error returned from the execution\r\n\r\n### What did you see instead?\r\n\r\nThe call panic'ed:\r\n\r\n`panic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0xffffffff addr=0x0 pc=0x170de6]`\r\n","score":1.0}]}
0

