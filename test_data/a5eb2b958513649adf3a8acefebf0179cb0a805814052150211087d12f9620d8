HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Nov 2020 21:06:58 GMT
Link: <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fbalderdashy%2Fsails+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fbalderdashy%2Fsails+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
Vary: Accept, Authorization, Cookie, X-GitHub-OTP
Vary: Accept-Encoding, Accept, X-Requested-With
Vary: Accept-Encoding
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D80F:13F4:414BB8F:4B4CA41:5FB046F1
X-Oauth-Scopes: repo
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 14
X-Ratelimit-Reset: 1605388065
X-Ratelimit-Used: 16
X-Xss-Protection: 1; mode=block

1ddb4
{"total_count":1685,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/plankanban/planka/issues/32","repository_url":"https://api.github.com/repos/plankanban/planka","labels_url":"https://api.github.com/repos/plankanban/planka/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/plankanban/planka/issues/32/comments","events_url":"https://api.github.com/repos/plankanban/planka/issues/32/events","html_url":"https://github.com/plankanban/planka/issues/32","id":688770929,"node_id":"MDU6SXNzdWU2ODg3NzA5Mjk=","number":32,"title":"Not able to connect to postgres in development mode","user":{"login":"niraj1234567890","id":47218325,"node_id":"MDQ6VXNlcjQ3MjE4MzI1","avatar_url":"https://avatars1.githubusercontent.com/u/47218325?v=4","gravatar_id":"","url":"https://api.github.com/users/niraj1234567890","html_url":"https://github.com/niraj1234567890","followers_url":"https://api.github.com/users/niraj1234567890/followers","following_url":"https://api.github.com/users/niraj1234567890/following{/other_user}","gists_url":"https://api.github.com/users/niraj1234567890/gists{/gist_id}","starred_url":"https://api.github.com/users/niraj1234567890/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niraj1234567890/subscriptions","organizations_url":"https://api.github.com/users/niraj1234567890/orgs","repos_url":"https://api.github.com/users/niraj1234567890/repos","events_url":"https://api.github.com/users/niraj1234567890/events{/privacy}","received_events_url":"https://api.github.com/users/niraj1234567890/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-08-30T18:49:35Z","updated_at":"2020-08-31T15:25:15Z","closed_at":"2020-08-31T11:46:04Z","author_association":"NONE","active_lock_reason":null,"body":"When I am trying to **login** to planka after installing all the dependencies and starting both the servers[in **development mode**], I am not getting response from **postgres database**. Login page is not not getting response from the backend and thus it is just waiting..\r\nAfter looking into the backend code and manually consoling (console.log()), I got to know that, code is getting stuck at where it is trying to connect to the database in  **get-user.js**  helper file. \r\n\r\nSo application is not getting response from the database at this code: **User.findOne(criteria)**\r\nIs there something I am missing?? I have looked around but didn't get to the solution of this problem.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4530","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4530/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4530/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4530/events","html_url":"https://github.com/balderdashy/sails/issues/4530","id":370547080,"node_id":"MDU6SXNzdWUzNzA1NDcwODA=","number":4530,"title":"Typescript file based action ignored","user":{"login":"ptdede","id":3388701,"node_id":"MDQ6VXNlcjMzODg3MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/3388701?v=4","gravatar_id":"","url":"https://api.github.com/users/ptdede","html_url":"https://github.com/ptdede","followers_url":"https://api.github.com/users/ptdede/followers","following_url":"https://api.github.com/users/ptdede/following{/other_user}","gists_url":"https://api.github.com/users/ptdede/gists{/gist_id}","starred_url":"https://api.github.com/users/ptdede/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptdede/subscriptions","organizations_url":"https://api.github.com/users/ptdede/orgs","repos_url":"https://api.github.com/users/ptdede/repos","events_url":"https://api.github.com/users/ptdede/events{/privacy}","received_events_url":"https://api.github.com/users/ptdede/received_events","type":"User","site_admin":false},"labels":[{"id":196943581,"node_id":"MDU6TGFiZWwxOTY5NDM1ODE=","url":"https://api.github.com/repos/balderdashy/sails/labels/needs%20better%20error%20message","name":"needs better error message","color":"C08040","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-10-16T10:36:44Z","updated_at":"2020-09-26T15:59:02Z","closed_at":"2020-09-26T15:59:02Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact us directly\r\nat http://sailsjs.com/contact.\r\n\r\nFIRST THINGS FIRST: before posting, please carefully\r\nread the contribution guide (http://bit.ly/sails-issue-guide),\r\nparticularly if this is a security issue or an issue of a\r\nnon-technical nature (Github org issues, code of conduct\r\nissues, etc.).  Those should be sent directly at\r\nhttp://sailsjs.com/contact.\r\n\r\nNOW THEN: please fill out the following info\r\n(Don't change text between **)\r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Sails version**: \"^1.0.2\",\r\n**Node version**: v8.12.0\r\n**NPM version**: 6.4.1\r\n**DB adapter name**: N/A\r\n**DB adapter version**: N/A\r\n**Operating system**: Mac OSX High Sierra\r\n\r\n<!--\r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully\r\n(Sailsbot will know if you don't)!\r\n======================================================\r\n\r\nBefore you submit an issue for Sails, please make sure you have read the issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [x] I am experiencing a concrete technical issue (aka a bug) with Sails (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [x] I am not asking a question about how to use Sails or about whether or not Sails has a certain feature (please refer to the documentation(http://sailsjs.com), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [x] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [x] My issue title is concise, on-topic and polite (\"jst.js being removed from layout.ejs on lift\" is good; \"templates dont work\" or \"why is sails dumb\" are not so good).\r\n\r\n- [x] I have tried all the following (if relevant) and my issue remains:\r\n  - Make sure you have the right app lifted.\r\n  - Make sure you've killed the Sails server with CTRL+C and started it again.\r\n  - Make sure you closed any open browser tabs pointed at localhost before starting Sails.\r\n  - Make sure you do not have any other Sails apps running in other terminal windows.\r\n  - Make sure the app you are using to reproduce the issue has a clean node_modules/ directory, meaning:\r\n    * no dependencies are linked (e.g. you haven't run npm link foo)\r\n    * that you haven't made any inline changes to files in the node_modules/ folder\r\n    * that you don't have any weird global dependency loops. The easiest way to double-check any of the above, if you aren't sure, is to run: rm -rf node_modules && npm cache clear && npm install.\r\n\r\nand finally...\r\n- [x] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/sails-issue-repro).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code (a forgotten policy file, perhaps?) or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n<hr/>\r\n\r\nHi guys, i decided to try typescript with sailsJS. I got this warning: \r\n<img width=\"321\" alt=\"screen shot 2018-10-16 at 16 30 37\" src=\"https://user-images.githubusercontent.com/3388701/47003020-e0009400-d160-11e8-88b5-460f1ee3777f.png\">\r\n\r\ninside my create-business.ts action file: \r\n```\r\nexport async function createBusiness(_, res) {\r\n    return res.status(200).json({ message: \"clean typescript\" });\r\n}\r\n```\r\n\r\nI am able to fix this by replacing `export` with `module.exports = `\r\nIs this the right way to do this?\r\n\r\nAlso i think the warning message is slightly wrong because my file is actually in kebab-case for the action file but sails is not able to detect my action file. When using format `BusinessController`, sails successfully able to find this file. Is this related to content inside the file?\r\n\r\nmy BusinessController.ts : \r\n```\r\nexport async function registerBusiness(req, res) {\r\n    // some logics\r\n}\r\n\r\nexport async function getBusinesses(_, res) {\r\n    // some logics\r\n}\r\n```\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/6937","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/6937/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/6937/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/6937/events","html_url":"https://github.com/balderdashy/sails/issues/6937","id":552669957,"node_id":"MDU6SXNzdWU1NTI2Njk5NTc=","number":6937,"title":"Getting error `option sameSite is invalid` while setting `sameSite:none` in cookie options.","user":{"login":"kriss1897","id":21290092,"node_id":"MDQ6VXNlcjIxMjkwMDky","avatar_url":"https://avatars1.githubusercontent.com/u/21290092?v=4","gravatar_id":"","url":"https://api.github.com/users/kriss1897","html_url":"https://github.com/kriss1897","followers_url":"https://api.github.com/users/kriss1897/followers","following_url":"https://api.github.com/users/kriss1897/following{/other_user}","gists_url":"https://api.github.com/users/kriss1897/gists{/gist_id}","starred_url":"https://api.github.com/users/kriss1897/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriss1897/subscriptions","organizations_url":"https://api.github.com/users/kriss1897/orgs","repos_url":"https://api.github.com/users/kriss1897/repos","events_url":"https://api.github.com/users/kriss1897/events{/privacy}","received_events_url":"https://api.github.com/users/kriss1897/received_events","type":"User","site_admin":false},"labels":[{"id":910422103,"node_id":"MDU6TGFiZWw5MTA0MjIxMDM=","url":"https://api.github.com/repos/balderdashy/sails/labels/has%20pr","name":"has pr","color":"fbca04","default":false,"description":"There is an open pull request (in this repo or elsewhere) related to this issue."},{"id":311568364,"node_id":"MDU6TGFiZWwzMTE1NjgzNjQ=","url":"https://api.github.com/repos/balderdashy/sails/labels/proposal","name":"proposal","color":"207de5","default":false,"description":null},{"id":321983834,"node_id":"MDU6TGFiZWwzMjE5ODM4MzQ=","url":"https://api.github.com/repos/balderdashy/sails/labels/try%20this%20out%20please","name":"try this out please","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-01-21T07:22:10Z","updated_at":"2020-10-16T20:13:37Z","closed_at":"2020-10-16T20:13:36Z","author_association":"NONE","active_lock_reason":null,"body":"**Node version**: 10.x\r\n**Sails version** _(sails)_: 1.2.3\r\n<hr/>\r\nGetting error `option sameSite is invalid` while setting `sameSite:none` in response cookie options.\r\n\r\nThis is because sails is using `express@4.16.x` which uses `cookie@0.3.0`, which does not support `SameSite=None` option in cookies. This support was added to the `cookie` package in version `0.4.x`. To fix it can we update `express` to `4.17.x`, which is using `cookie@0.4.x`.\r\n\r\nExpress Changelog: https://expressjs.com/en/changelog/4x.html\r\n\r\nI am happy to create a PR if required.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/eggjs/egg/issues/388","repository_url":"https://api.github.com/repos/eggjs/egg","labels_url":"https://api.github.com/repos/eggjs/egg/issues/388/labels{/name}","comments_url":"https://api.github.com/repos/eggjs/egg/issues/388/comments","events_url":"https://api.github.com/repos/eggjs/egg/issues/388/events","html_url":"https://github.com/eggjs/egg/issues/388","id":207734491,"node_id":"MDU6SXNzdWUyMDc3MzQ0OTE=","number":388,"title":"eggjs orm plugin specification","user":{"login":"jtyjty99999","id":893152,"node_id":"MDQ6VXNlcjg5MzE1Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/893152?v=4","gravatar_id":"","url":"https://api.github.com/users/jtyjty99999","html_url":"https://github.com/jtyjty99999","followers_url":"https://api.github.com/users/jtyjty99999/followers","following_url":"https://api.github.com/users/jtyjty99999/following{/other_user}","gists_url":"https://api.github.com/users/jtyjty99999/gists{/gist_id}","starred_url":"https://api.github.com/users/jtyjty99999/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtyjty99999/subscriptions","organizations_url":"https://api.github.com/users/jtyjty99999/orgs","repos_url":"https://api.github.com/users/jtyjty99999/repos","events_url":"https://api.github.com/users/jtyjty99999/events{/privacy}","received_events_url":"https://api.github.com/users/jtyjty99999/received_events","type":"User","site_admin":false},"labels":[{"id":424351576,"node_id":"MDU6TGFiZWw0MjQzNTE1NzY=","url":"https://api.github.com/repos/eggjs/egg/labels/type:%20discussion","name":"type: discussion","color":"D4C5F9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2017-02-15T08:13:09Z","updated_at":"2020-08-29T02:29:47Z","closed_at":"2017-04-28T03:51:59Z","author_association":"MEMBER","active_lock_reason":null,"body":"Now there are more and more orm framework requirements, most orm framework are Active-record-pattern-like(https://en.wikipedia.org/wiki/Active_record_pattern), similar to the view plugin(https://eggjs.org/zh-cn/advanced/view-plugin.html), we need a specification for egg orm plugin.\r\n\r\nOrm framework generally has the following features:\r\n\r\n- transform table to object, and use files under app/models to define.\r\n- Relationship between several tables.\r\n- Syntactic sugar for query, update, delete etc.\r\n...\r\n\r\nSo let us discuss whether a specification is needed or not?\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/7013","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/7013/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/7013/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/7013/events","html_url":"https://github.com/balderdashy/sails/issues/7013","id":642543961,"node_id":"MDU6SXNzdWU2NDI1NDM5NjE=","number":7013,"title":"Handle generated columns in MySQL","user":{"login":"HoneyB4dger","id":35425388,"node_id":"MDQ6VXNlcjM1NDI1Mzg4","avatar_url":"https://avatars3.githubusercontent.com/u/35425388?v=4","gravatar_id":"","url":"https://api.github.com/users/HoneyB4dger","html_url":"https://github.com/HoneyB4dger","followers_url":"https://api.github.com/users/HoneyB4dger/followers","following_url":"https://api.github.com/users/HoneyB4dger/following{/other_user}","gists_url":"https://api.github.com/users/HoneyB4dger/gists{/gist_id}","starred_url":"https://api.github.com/users/HoneyB4dger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoneyB4dger/subscriptions","organizations_url":"https://api.github.com/users/HoneyB4dger/orgs","repos_url":"https://api.github.com/users/HoneyB4dger/repos","events_url":"https://api.github.com/users/HoneyB4dger/events{/privacy}","received_events_url":"https://api.github.com/users/HoneyB4dger/received_events","type":"User","site_admin":false},"labels":[{"id":1079419403,"node_id":"MDU6TGFiZWwxMDc5NDE5NDAz","url":"https://api.github.com/repos/balderdashy/sails/labels/does%20this%20answer%20your%20question?","name":"does this answer your question?","color":"009800","default":false,"description":""},{"id":1330941056,"node_id":"MDU6TGFiZWwxMzMwOTQxMDU2","url":"https://api.github.com/repos/balderdashy/sails/labels/mysql","name":"mysql","color":"eeeeee","default":false,"description":"Issue only occurs when using MySQL"},{"id":196939390,"node_id":"MDU6TGFiZWwxOTY5MzkzOTA=","url":"https://api.github.com/repos/balderdashy/sails/labels/orm","name":"orm","color":"eeeeee","default":false,"description":"Related to models, datastores, orm config, Waterline, sails-hook-orm, etc."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-21T11:21:28Z","updated_at":"2020-09-09T20:23:31Z","closed_at":"2020-09-09T20:23:31Z","author_association":"NONE","active_lock_reason":null,"body":"**Node version**: 10.15.3\r\n**Sails version** _(sails)_:  1.2.3\r\n**ORM hook version** _(sails-hook-orm)_: 2.1.1\r\n**Sockets hook version** _(sails-hook-sockets)_: 2.0.0\r\n**Organics hook version** _(sails-hook-organics)_: 0.16.1\r\n**Grunt hook version** _(sails-hook-grunt)_: 4.0.1\r\n**Uploads hook version** _(sails-hook-uploads)_: -\r\n**DB adapter & version** _(e.g. sails-mysql@5.55.5)_: sails-mysql@1.0.1\r\n**Skipper adapter & version** _(e.g. skipper-s3@5.55.5)_: skipper-disk@0.5.12\r\n<hr/>\r\n\r\nIn MySQL it's possible to create a column which automatically populates based on other columns in the row. This does not seem supported by Sails/Waterline - when creating a record, Waterline query always uses all of the columns in the model, even if they are not defined (insert value is then null). MySQL requires for the generated column not to be set to anything when doing the insert.\r\n\r\nIt should be possible to set add a setting in models to a field which excludes it from insert when it's not defined.\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/3690","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/3690/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/3690/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/3690/events","html_url":"https://github.com/balderdashy/sails/issues/3690","id":146888151,"node_id":"MDU6SXNzdWUxNDY4ODgxNTE=","number":3690,"title":"Compiling an entire sails project src and running from a sub/build directory","user":{"login":"Salakar","id":5347038,"node_id":"MDQ6VXNlcjUzNDcwMzg=","avatar_url":"https://avatars0.githubusercontent.com/u/5347038?v=4","gravatar_id":"","url":"https://api.github.com/users/Salakar","html_url":"https://github.com/Salakar","followers_url":"https://api.github.com/users/Salakar/followers","following_url":"https://api.github.com/users/Salakar/following{/other_user}","gists_url":"https://api.github.com/users/Salakar/gists{/gist_id}","starred_url":"https://api.github.com/users/Salakar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Salakar/subscriptions","organizations_url":"https://api.github.com/users/Salakar/orgs","repos_url":"https://api.github.com/users/Salakar/repos","events_url":"https://api.github.com/users/Salakar/events{/privacy}","received_events_url":"https://api.github.com/users/Salakar/received_events","type":"User","site_admin":false},"labels":[{"id":196936239,"node_id":"MDU6TGFiZWwxOTY5MzYyMzk=","url":"https://api.github.com/repos/balderdashy/sails/labels/question","name":"question","color":"5319e7","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-04-08T10:33:58Z","updated_at":"2020-10-06T11:52:50Z","closed_at":"2016-04-09T03:30:38Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact\r\nsgress454@treeline.io\r\n\r\nFIRST THINGS FIRST: before posting, please carefully \r\nread the contribution guide (http://bit.ly/sails-issue-guide), \r\nparticularly if this is a security issue or an issue of a \r\nnon-technical nature (Github org issues, code of conduct\r\nissues, etc.).  Those should be sent directly to inquiries@treeline.io.\r\n\r\nNOW THEN: please fill out the following info \r\n(Don't change text between **) \r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Sails version**: 0.12.1\r\n**Node version**: 5.10.1\r\n**NPM version**: 3.8.3\r\n**Operating system**: OSX / Debian\r\n\r\n<!-- \r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully \r\n(Sailsbot will know if you don't)!  \r\n======================================================\r\n\r\nBefore you submit an issue for Sails, please make sure you have read the issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [X] I am experiencing a concrete technical issue (aka a bug) with Sails (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [X] I am not asking a question about how to use Sails or about whether or not Sails has a certain feature (please refer to the documentation(http://sailsjs.org), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [X] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [X] My issue title is concise, on-topic and polite (\"jst.js being removed from layout.ejs on lift\" is good; \"templates dont work\" or \"why is sails dumb\" are not so good).\r\n\r\n- [X] I have tried all the following (if relevant) and my issue remains:\r\n  - Make sure you have the right app lifted.\r\n  - Make sure you've killed the Sails server with CTRL+C and started it again.\r\n  - Make sure you closed any open browser tabs pointed at localhost before starting Sails.\r\n  - Make sure you do not have any other Sails apps running in other terminal windows.\r\n  - Make sure the app you are using to reproduce the issue has a clean node_modules/ directory, meaning:\r\n    * no dependencies are linked (e.g. you haven't run npm link foo)\r\n    * that you haven't made any inline changes to files in the node_modules/ folder\r\n    * that you don't have any weird global dependency loops. The easiest way to double-check any of the above, if you aren't sure, is to run: rm -rf node_modules && npm cache clear && npm install.\r\n\r\nand finally...\r\n- [X] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/sails-issue-repro).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code (a forgotten policy file, perhaps?) or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n\r\n<hr/>\r\n\r\nAt the moment sails uses hard paths and always assumes node_modules is located at appPath/node_modules - this is hard coded in a lot of places (**path.resolve** and **require**), i.e. hook loading from package.json files.\r\n\r\nIf you wanted to completely write your sails project in ES2015 onwards or something like coffee script 🙊   (by completely I mean everything including config, services etc) your options are limited, for example writing a complete ES2015 project in sails would require using the babel require hook - which for production is way too heavy.\r\n\r\n### Example project structure:\r\n\r\n``` text\r\n    node_modules/\r\n            ...\r\n    src/\r\n        api/\r\n            ...\r\n        config/\r\n            ...\r\n        app.js\r\n    build/\r\n        api/\r\n            ...\r\n        config/\r\n            ...\r\n        app.js\r\n    .sailsrc\r\n    package.json\r\n```\r\n\r\nAnd then to lift my app I run `node build/app.js`.\r\n\r\nI have a npm script which just watches for changes and re-compiles the affected files.\r\n`\"build-watch\": \"babel src --watch --out-dir build --copy-files --source-maps inline\"`\r\n\r\nI am aware you can set `appPath` in the sails config - which works fine. But there is no way of overriding the node_modules path as it's all hard coded. Managed to make a work around... \r\n\r\n### Workaround\r\n\r\n``` javascript\r\n// src/app.js\r\n// this assumes your build directory is /build\r\n\r\nimport Module from 'module';\r\nimport Path from 'path';\r\n\r\nconst originalRequire = Module.prototype.require;\r\nconst originalResolve = Path.resolve;\r\n\r\n// override resolve to intercept invalid sails node_module paths\r\nPath.resolve = function () {\r\n  const args = [].slice.call(arguments);\r\n  if (args.length >= 2 && typeof args[0] === 'string' && typeof args[1] === 'string') {\r\n    if (args[0].endsWith('/build') && args[1] === 'node_modules') {\r\n      args[1] = './../node_modules'; // force resolve to go up one dir\r\n    }\r\n  }\r\n  return originalResolve.apply(this, args);\r\n};\r\n\r\n// override require to intercept invalid sails node_module require paths\r\nModule.prototype.require = function () {\r\n  const args = [].slice.call(arguments);\r\n  if (args.length && typeof args[0] === 'string') {\r\n    if (args[0].includes('/build/node_modules/')) {\r\n      args[0] = args[0].replace('/build/node_modules/', '/node_modules/');\r\n    }\r\n  }\r\n  return originalRequire.apply(this, args);\r\n};\r\n\r\n(function () {\r\n  require('sails').lift(Object.assign(require('rc')('sails'), {\r\n    appPath: __dirname // set the appPath to this dir - so when compiled it's projectDir/build\r\n  }));\r\n})();\r\n```\r\n\r\nThis works well, but I'm just wondering is there not a better way to do this? Could sails not have an option to set the node_modules path the same as all the other paths at `sails.config.paths` (but this is everywhere though and in other modules, so probably a lot of changes to get this working).\r\n\r\nThoughts?\r\n\r\nDanke!\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/5262","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/5262/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/5262/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/5262/events","html_url":"https://github.com/balderdashy/sails/issues/5262","id":439256529,"node_id":"MDU6SXNzdWU0MzkyNTY1Mjk=","number":5262,"title":"Transforming columnNames back to attribute names","user":{"login":"Alessy","id":18100933,"node_id":"MDQ6VXNlcjE4MTAwOTMz","avatar_url":"https://avatars1.githubusercontent.com/u/18100933?v=4","gravatar_id":"","url":"https://api.github.com/users/Alessy","html_url":"https://github.com/Alessy","followers_url":"https://api.github.com/users/Alessy/followers","following_url":"https://api.github.com/users/Alessy/following{/other_user}","gists_url":"https://api.github.com/users/Alessy/gists{/gist_id}","starred_url":"https://api.github.com/users/Alessy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alessy/subscriptions","organizations_url":"https://api.github.com/users/Alessy/orgs","repos_url":"https://api.github.com/users/Alessy/repos","events_url":"https://api.github.com/users/Alessy/events{/privacy}","received_events_url":"https://api.github.com/users/Alessy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2017-05-17T13:28:02Z","updated_at":"2020-08-17T12:17:50Z","closed_at":"2019-05-01T17:56:50Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact us directly\r\nat http://sailsjs.com/contact\r\n\r\nFIRST THINGS FIRST: please fill out the following info\r\n(Don't change text between **)\r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Waterline version**: 0.13.0-rc9\r\n**Node version**: v7.9.0\r\n**NPM version**: 4.2.0\r\n**Operating system**: Windows 10 pro\r\n\r\n<!--\r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully\r\n(Sailsbot will know if you don't)!\r\n======================================================\r\n\r\nBefore you submit an issue for Waterline, please make sure you have read the Sails issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [X ] I am experiencing a concrete technical issue with Waterline (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [X ] I am not asking a question about how to use Waterline or about whether or not Waterline has a certain feature (please refer to the documentation(http://sailsjs.org), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [X ] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [X ] My issue title is concise, on-topic and polite.\r\n\r\nand finally...\r\n- [X ] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/waterline-issue-repo).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n<hr/>\r\n\r\nWarning: After transforming columnNames back to attribute names, a record\r\nin the result has a value with an unexpected data type for property `created`.\r\nThe corresponding attribute declares `type: 'string'` but instead\r\nof that, the actual value is:\r\n```\r\n2017-05-17T11:08:24.000Z\r\n```\r\n> You are seeing this warning because there are records in your database that don't\r\n> match up with your models.  This is often the result of a model definition being\r\n> changed without also migrating leftover data.  But it could also be because records\r\n> were added or modified in your database from somewhere outside of Sails/Waterline\r\n> (e.g. phpmyadmin, or another app).  In either case, to make this warning go away,\r\n> you have a few options.  First of all, you could change your model definition so\r\n> that it matches the existing records in your database.  Or you could update/destroy\r\n> the old records in your database; either by hand, or using a migration script.\r\n> \r\n> (For example, to wipe all data, you might just use `migrate: drop`.)\r\n> \r\n> More rarely, this warning could mean there is a bug in the adapter itself.  If you\r\n> believe that is the case, then please contact the maintainer of this adapter by opening\r\n> an issue, or visit http://sailsjs.com/support for help.\r\n\r\n\r\nHere is my model:\r\n\r\n`module.exports = {\r\n   attributes: {\r\n    someDate: {\r\n      type: 'string', \r\n      columnType: 'datetime'\r\n    }\r\n  }\r\n};`\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4476","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4476/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4476/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4476/events","html_url":"https://github.com/balderdashy/sails/issues/4476","id":342733270,"node_id":"MDU6SXNzdWUzNDI3MzMyNzA=","number":4476,"title":"Model afterDestroy hook not being called, after blueprint DESTROY action","user":{"login":"tikijian","id":1406569,"node_id":"MDQ6VXNlcjE0MDY1Njk=","avatar_url":"https://avatars1.githubusercontent.com/u/1406569?v=4","gravatar_id":"","url":"https://api.github.com/users/tikijian","html_url":"https://github.com/tikijian","followers_url":"https://api.github.com/users/tikijian/followers","following_url":"https://api.github.com/users/tikijian/following{/other_user}","gists_url":"https://api.github.com/users/tikijian/gists{/gist_id}","starred_url":"https://api.github.com/users/tikijian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tikijian/subscriptions","organizations_url":"https://api.github.com/users/tikijian/orgs","repos_url":"https://api.github.com/users/tikijian/repos","events_url":"https://api.github.com/users/tikijian/events{/privacy}","received_events_url":"https://api.github.com/users/tikijian/received_events","type":"User","site_admin":false},"labels":[{"id":196942752,"node_id":"MDU6TGFiZWwxOTY5NDI3NTI=","url":"https://api.github.com/repos/balderdashy/sails/labels/blueprints","name":"blueprints","color":"eeeeee","default":false,"description":"Issue only occurs when using the blueprint API"},{"id":303514250,"node_id":"MDU6TGFiZWwzMDM1MTQyNTA=","url":"https://api.github.com/repos/balderdashy/sails/labels/inconsistency","name":"inconsistency","color":"C08040","default":false,"description":null},{"id":196939390,"node_id":"MDU6TGFiZWwxOTY5MzkzOTA=","url":"https://api.github.com/repos/balderdashy/sails/labels/orm","name":"orm","color":"eeeeee","default":false,"description":"Related to models, datastores, orm config, Waterline, sails-hook-orm, etc."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-07-19T13:41:28Z","updated_at":"2020-07-07T16:52:51Z","closed_at":"2019-04-11T17:42:03Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact us directly\r\nat http://sailsjs.com/contact.\r\n\r\nFIRST THINGS FIRST: before posting, please carefully\r\nread the contribution guide (http://bit.ly/sails-issue-guide),\r\nparticularly if this is a security issue or an issue of a\r\nnon-technical nature (Github org issues, code of conduct\r\nissues, etc.).  Those should be sent directly at\r\nhttp://sailsjs.com/contact.\r\n\r\nNOW THEN: please fill out the following info\r\n(Don't change text between **)\r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Sails version**: 1.0.2\r\n**Node version**: 8.9.0\r\n**NPM version**: 6.2.0\r\n**DB adapter name**: pg\r\n**DB adapter version**: 1.0.1\r\n**Operating system**: mac OS X\r\n\r\n<!--\r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully\r\n(Sailsbot will know if you don't)!\r\n======================================================\r\n\r\nBefore you submit an issue for Sails, please make sure you have read the issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [x] I am experiencing a concrete technical issue (aka a bug) with Sails (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [x] I am not asking a question about how to use Sails or about whether or not Sails has a certain feature (please refer to the documentation(http://sailsjs.com), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [x] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [x] My issue title is concise, on-topic and polite (\"jst.js being removed from layout.ejs on lift\" is good; \"templates dont work\" or \"why is sails dumb\" are not so good).\r\n\r\n- [x] I have tried all the following (if relevant) and my issue remains:\r\n  - Make sure you have the right app lifted.\r\n  - Make sure you've killed the Sails server with CTRL+C and started it again.\r\n  - Make sure you closed any open browser tabs pointed at localhost before starting Sails.\r\n  - Make sure you do not have any other Sails apps running in other terminal windows.\r\n  - Make sure the app you are using to reproduce the issue has a clean node_modules/ directory, meaning:\r\n    * no dependencies are linked (e.g. you haven't run npm link foo)\r\n    * that you haven't made any inline changes to files in the node_modules/ folder\r\n    * that you don't have any weird global dependency loops. The easiest way to double-check any of the above, if you aren't sure, is to run: rm -rf node_modules && npm cache clear && npm install.\r\n\r\nand finally...\r\n- [x] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/sails-issue-repro).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code (a forgotten policy file, perhaps?) or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n<hr/>\r\n\r\nHello.\r\nI found inconsistency in blueprints REST routes. Specifically DESTROY action.\r\n\r\n**The problem**: Model lifecycle hook `afterDestroy` not being called when you hit model DESTROY action, generated by blueprint.\r\n\r\nIt happens, because [here in sourcecode](https://github.com/balderdashy/sails/blob/master/lib/hooks/blueprints/actions/destroy.js#L59) `.meta(queryOptions.meta)` is not being called on `Model.create(data)` and there is no way to pass `meta.fetch = true` through query params.\r\n\r\nOther blueprint actions (create/update) work as expected: I defined `afterCreate` and `afterUpdate` model hooks and they get called properly after blueprint action.\r\n\r\nI don't know if it is a bug or a feature, but I found it inconsistent. Now I am implementing one feature, where I define similar `afterCreate`, `afterUpdate` and `afterDestroy` hooks on some of my models, and since I'm using them with blueprints - I expect similar behaviour. \r\n\r\nIf it's **not** a bug, then it turns out that I should override _only_ blueprint_ DESTROY actions for my models, which is not cool 😅  ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/6968","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/6968/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/6968/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/6968/events","html_url":"https://github.com/balderdashy/sails/issues/6968","id":590879436,"node_id":"MDU6SXNzdWU1OTA4Nzk0MzY=","number":6968,"title":"CHANGELOG missing entries for 1.2.x minor versions","user":{"login":"alxndrsn","id":191496,"node_id":"MDQ6VXNlcjE5MTQ5Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/191496?v=4","gravatar_id":"","url":"https://api.github.com/users/alxndrsn","html_url":"https://github.com/alxndrsn","followers_url":"https://api.github.com/users/alxndrsn/followers","following_url":"https://api.github.com/users/alxndrsn/following{/other_user}","gists_url":"https://api.github.com/users/alxndrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/alxndrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alxndrsn/subscriptions","organizations_url":"https://api.github.com/users/alxndrsn/orgs","repos_url":"https://api.github.com/users/alxndrsn/repos","events_url":"https://api.github.com/users/alxndrsn/events{/privacy}","received_events_url":"https://api.github.com/users/alxndrsn/received_events","type":"User","site_admin":false},"labels":[{"id":1261263702,"node_id":"MDU6TGFiZWwxMjYxMjYzNzAy","url":"https://api.github.com/repos/balderdashy/sails/labels/docs","name":"docs","color":"eeeeee","default":false,"description":"Related to the content of the documentation itself  (i.e. not any particular feature on sailsjs.com)"},{"id":1270146239,"node_id":"MDU6TGFiZWwxMjcwMTQ2MjM5","url":"https://api.github.com/repos/balderdashy/sails/labels/helpful%20info%20or%20workaround","name":"helpful info or workaround","color":"009800","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-03-31T07:51:34Z","updated_at":"2020-07-29T16:19:39Z","closed_at":"2020-07-29T16:19:39Z","author_association":"NONE","active_lock_reason":null,"body":"","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/6842","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/6842/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/6842/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/6842/events","html_url":"https://github.com/balderdashy/sails/issues/6842","id":481937289,"node_id":"MDU6SXNzdWU0ODE5MzcyODk=","number":6842,"title":"'sails' is not recognized as an internal or external command","user":{"login":"acayseth","id":16132740,"node_id":"MDQ6VXNlcjE2MTMyNzQw","avatar_url":"https://avatars2.githubusercontent.com/u/16132740?v=4","gravatar_id":"","url":"https://api.github.com/users/acayseth","html_url":"https://github.com/acayseth","followers_url":"https://api.github.com/users/acayseth/followers","following_url":"https://api.github.com/users/acayseth/following{/other_user}","gists_url":"https://api.github.com/users/acayseth/gists{/gist_id}","starred_url":"https://api.github.com/users/acayseth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acayseth/subscriptions","organizations_url":"https://api.github.com/users/acayseth/orgs","repos_url":"https://api.github.com/users/acayseth/repos","events_url":"https://api.github.com/users/acayseth/events{/privacy}","received_events_url":"https://api.github.com/users/acayseth/received_events","type":"User","site_admin":false},"labels":[{"id":321983834,"node_id":"MDU6TGFiZWwzMjE5ODM4MzQ=","url":"https://api.github.com/repos/balderdashy/sails/labels/try%20this%20out%20please","name":"try this out please","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-08-17T23:55:29Z","updated_at":"2020-05-13T10:39:29Z","closed_at":"2020-05-13T10:39:29Z","author_association":"NONE","active_lock_reason":null,"body":"**OS**: Windows 10\r\n**Node version**: \r\nnode -v \r\nv10.16.2 \r\nnpm -v\r\n6.10.3\r\n\r\n**Sails version** _(sails)_: 1.2.3\r\n\r\n<hr/>\r\n\r\nhttps://github.com/balderdashy/sails/issues/1196 **- not solved**\r\n\r\n![image](https://user-images.githubusercontent.com/16132740/63218397-7f682c00-c162-11e9-987a-56610759bb8e.png)\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/pantsel/konga/issues/545","repository_url":"https://api.github.com/repos/pantsel/konga","labels_url":"https://api.github.com/repos/pantsel/konga/issues/545/labels{/name}","comments_url":"https://api.github.com/repos/pantsel/konga/issues/545/comments","events_url":"https://api.github.com/repos/pantsel/konga/issues/545/events","html_url":"https://github.com/pantsel/konga/issues/545","id":582124417,"node_id":"MDU6SXNzdWU1ODIxMjQ0MTc=","number":545,"title":"postgres12 compatible","user":{"login":"shangxinbo","id":3213618,"node_id":"MDQ6VXNlcjMyMTM2MTg=","avatar_url":"https://avatars1.githubusercontent.com/u/3213618?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinbo","html_url":"https://github.com/shangxinbo","followers_url":"https://api.github.com/users/shangxinbo/followers","following_url":"https://api.github.com/users/shangxinbo/following{/other_user}","gists_url":"https://api.github.com/users/shangxinbo/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinbo/subscriptions","organizations_url":"https://api.github.com/users/shangxinbo/orgs","repos_url":"https://api.github.com/users/shangxinbo/repos","events_url":"https://api.github.com/users/shangxinbo/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinbo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-03-16T09:10:23Z","updated_at":"2020-05-03T21:59:09Z","closed_at":"2020-05-03T21:59:09Z","author_association":"NONE","active_lock_reason":null,"body":"docker image  pantsel/konga:latest\r\n[root@localhost /]# docker run --rm --network=kong-net pantsel/konga:latest -c prepare -a postgres -u postgresql://kong:123123@postgres:5432/konga\r\ndebug: Preparing database...\r\nUsing postgres DB Adapter.\r\nDatabase `konga` does not exist. Creating...\r\nDatabase `konga` created! Continue...\r\nerror: A hook (`orm`) failed to load!\r\nerror: Failed to prepare database: error: column r.consrc does not exist\r\n    at Connection.parseE (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:539:11)\r\n    at Connection.parseMessage (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:366:17)\r\n    at Socket.<anonymous> (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:105:22)\r\n    at Socket.emit (events.js:198:13)\r\n    at Socket.EventEmitter.emit (domain.js:448:20)\r\n    at addChunk (_stream_readable.js:288:12)\r\n    at readableAddChunk (_stream_readable.js:269:11)\r\n    at Socket.Readable.push (_stream_readable.js:224:10)\r\n    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/3938","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/3938/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/3938/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/3938/events","html_url":"https://github.com/balderdashy/sails/issues/3938","id":197493901,"node_id":"MDU6SXNzdWUxOTc0OTM5MDE=","number":3938,"title":"NPM ERR 'sailshq/lodash' is not in the npm registry","user":{"login":"kocil","id":12780805,"node_id":"MDQ6VXNlcjEyNzgwODA1","avatar_url":"https://avatars0.githubusercontent.com/u/12780805?v=4","gravatar_id":"","url":"https://api.github.com/users/kocil","html_url":"https://github.com/kocil","followers_url":"https://api.github.com/users/kocil/followers","following_url":"https://api.github.com/users/kocil/following{/other_user}","gists_url":"https://api.github.com/users/kocil/gists{/gist_id}","starred_url":"https://api.github.com/users/kocil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocil/subscriptions","organizations_url":"https://api.github.com/users/kocil/orgs","repos_url":"https://api.github.com/users/kocil/repos","events_url":"https://api.github.com/users/kocil/events{/privacy}","received_events_url":"https://api.github.com/users/kocil/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2016-12-25T09:26:24Z","updated_at":"2020-08-06T13:37:41Z","closed_at":"2016-12-26T07:47:46Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact\r\nsgress454@treeline.io\r\n\r\nFIRST THINGS FIRST: before posting, please carefully \r\nread the contribution guide (http://bit.ly/sails-issue-guide), \r\nparticularly if this is a security issue or an issue of a \r\nnon-technical nature (Github org issues, code of conduct\r\nissues, etc.).  Those should be sent directly to inquiries@treeline.io.\r\n\r\nNOW THEN: please fill out the following info \r\n(Don't change text between **) \r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Sails version**: 0.12.11\r\n**Node version**: 0.10.25\r\n**NPM version**: 1.4.28\r\n**Operating system**: Ubuntu jessie/sid\r\n\r\n<!-- \r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully \r\n(Sailsbot will know if you don't)!  \r\n======================================================\r\n\r\nBefore you submit an issue for Sails, please make sure you have read the issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [x] I am experiencing a concrete technical issue (aka a bug) with Sails (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [x] I am not asking a question about how to use Sails or about whether or not Sails has a certain feature (please refer to the documentation(http://sailsjs.org), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [x] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [x] My issue title is concise, on-topic and polite (\"jst.js being removed from layout.ejs on lift\" is good; \"templates dont work\" or \"why is sails dumb\" are not so good).\r\n\r\n- [x] I have tried all the following (if relevant) and my issue remains:\r\n  - Make sure you have the right app lifted.\r\n  - Make sure you've killed the Sails server with CTRL+C and started it again.\r\n  - Make sure you closed any open browser tabs pointed at localhost before starting Sails.\r\n  - Make sure you do not have any other Sails apps running in other terminal windows.\r\n  - Make sure the app you are using to reproduce the issue has a clean node_modules/ directory, meaning:\r\n    * no dependencies are linked (e.g. you haven't run npm link foo)\r\n    * that you haven't made any inline changes to files in the node_modules/ folder\r\n    * that you don't have any weird global dependency loops. The easiest way to double-check any of the above, if you aren't sure, is to run: rm -rf node_modules && npm cache clear && npm install.\r\n\r\nand finally...\r\n- [x] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/sails-issue-repro).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code (a forgotten policy file, perhaps?) or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n<hr/>\r\n\r\nDear sir.\r\nI'm just a first time user, so forgive me if this is so newbie.\r\nI installed sails with the command and got the error as follow:\r\n---------------------\r\n> $ :~$ sudo npm -g install sails \r\n> |\r\n> sails@0.12.11 preinstall /usr/local/lib/node_modules/sails\r\n> node ./lib/preinstall_npmcheck.js\r\n>\r\n> Sails.js Installation: Checking npm-version successful\r\n> npm ERR! 404 Not Found\r\n> npm ERR! 404 \r\n> npm ERR! 404 'sailshq/lodash' is not in the npm registry.\r\n> npm ERR! 404 You should bug the author to publish it\r\n> npm ERR! 404 It was specified as a dependency of 'sails'\r\n----------------------\r\nSince the direction was, You should bug the author to publish it,\r\nI submitted this issue.\r\n\r\nHappy Merry Christmas.\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4995","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4995/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4995/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4995/events","html_url":"https://github.com/balderdashy/sails/issues/4995","id":438894617,"node_id":"MDU6SXNzdWU0Mzg4OTQ2MTc=","number":4995,"title":"How to find records based on association attributes in many-to-many relationships","user":{"login":"dinana","id":1944157,"node_id":"MDQ6VXNlcjE5NDQxNTc=","avatar_url":"https://avatars0.githubusercontent.com/u/1944157?v=4","gravatar_id":"","url":"https://api.github.com/users/dinana","html_url":"https://github.com/dinana","followers_url":"https://api.github.com/users/dinana/followers","following_url":"https://api.github.com/users/dinana/following{/other_user}","gists_url":"https://api.github.com/users/dinana/gists{/gist_id}","starred_url":"https://api.github.com/users/dinana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dinana/subscriptions","organizations_url":"https://api.github.com/users/dinana/orgs","repos_url":"https://api.github.com/users/dinana/repos","events_url":"https://api.github.com/users/dinana/events{/privacy}","received_events_url":"https://api.github.com/users/dinana/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2014-05-09T11:43:47Z","updated_at":"2020-08-11T14:23:10Z","closed_at":"2019-04-30T17:37:13Z","author_association":"NONE","active_lock_reason":null,"body":"[As per the example in: http://beta.sailsjs.org/#/documentation/reference/ModelAssociations/Many-to-Many.html ]\n\nThere is no documented way of how to search for users (User.find().. ) whose pets are blue. I think this must be added.\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apigee-127/bagpipes/issues/42","repository_url":"https://api.github.com/repos/apigee-127/bagpipes","labels_url":"https://api.github.com/repos/apigee-127/bagpipes/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/apigee-127/bagpipes/issues/42/comments","events_url":"https://api.github.com/repos/apigee-127/bagpipes/issues/42/events","html_url":"https://github.com/apigee-127/bagpipes/issues/42","id":523719343,"node_id":"MDU6SXNzdWU1MjM3MTkzNDM=","number":42,"title":"Switch off machinepack-http to fix lodash vulnerability","user":{"login":"chrisbellman","id":4149988,"node_id":"MDQ6VXNlcjQxNDk5ODg=","avatar_url":"https://avatars3.githubusercontent.com/u/4149988?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisbellman","html_url":"https://github.com/chrisbellman","followers_url":"https://api.github.com/users/chrisbellman/followers","following_url":"https://api.github.com/users/chrisbellman/following{/other_user}","gists_url":"https://api.github.com/users/chrisbellman/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisbellman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisbellman/subscriptions","organizations_url":"https://api.github.com/users/chrisbellman/orgs","repos_url":"https://api.github.com/users/chrisbellman/repos","events_url":"https://api.github.com/users/chrisbellman/events{/privacy}","received_events_url":"https://api.github.com/users/chrisbellman/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2019-11-15T22:23:37Z","updated_at":"2020-05-15T18:07:43Z","closed_at":"2020-05-15T18:07:43Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks for upgrading `lodash` in [this PR](https://github.com/apigee-127/bagpipes/issues/36) to fix the prototype pollution vulnerability\r\n\r\nHowever, it looks like the bagpipes dependency `machinepack-http` still requires a pre-patched version of `lodash`, even in its latest release - https://github.com/sailshq/machinepack-http/blob/master/package.json .\r\n\r\nThis should be remedied per - https://nodesecurity.io/advisories/577 & https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2018-16487\r\n\r\nCan this library switch to using a different HTTP dependency such as `request` (which `machinepack-http` uses under the hood anyway) or `axios` (fewer dependencies) that doesn't have any known vulnerabilities? It doesn't look too complicated to replace - https://github.com/apigee-127/bagpipes/blob/master/lib/fittings/http.js ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/7003","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/7003/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/7003/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/7003/events","html_url":"https://github.com/balderdashy/sails/issues/7003","id":629005373,"node_id":"MDU6SXNzdWU2MjkwMDUzNzM=","number":7003,"title":"When posting a 200k file on multipart/form-data, E_MISSING_OR_INVALID_PARAMS error occurs as field order","user":{"login":"jaeseok-park","id":8565274,"node_id":"MDQ6VXNlcjg1NjUyNzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/8565274?v=4","gravatar_id":"","url":"https://api.github.com/users/jaeseok-park","html_url":"https://github.com/jaeseok-park","followers_url":"https://api.github.com/users/jaeseok-park/followers","following_url":"https://api.github.com/users/jaeseok-park/following{/other_user}","gists_url":"https://api.github.com/users/jaeseok-park/gists{/gist_id}","starred_url":"https://api.github.com/users/jaeseok-park/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaeseok-park/subscriptions","organizations_url":"https://api.github.com/users/jaeseok-park/orgs","repos_url":"https://api.github.com/users/jaeseok-park/repos","events_url":"https://api.github.com/users/jaeseok-park/events{/privacy}","received_events_url":"https://api.github.com/users/jaeseok-park/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-02T08:25:58Z","updated_at":"2020-06-02T09:33:45Z","closed_at":"2020-06-02T09:33:44Z","author_association":"NONE","active_lock_reason":null,"body":"**Node version**: v10.20.1\r\n**Sails version** _(sails)_: v1.2.4\r\n**ORM hook version** _(sails-hook-orm)_: v2.1.1\r\n**Sockets hook version** _(sails-hook-sockets)_: v2.0.0\r\n**Organics hook version** _(sails-hook-organics)_: v0.16.1\r\n**Grunt hook version** _(sails-hook-grunt)_: v4.0.1\r\n**Uploads hook version** _(sails-hook-uploads)_: Not installed\r\n**DB adapter & version** _(e.g. sails-mysql@5.55.5)_: Not installed.\r\n**Skipper adapter & version** _(e.g. skipper-s3@5.55.5)_: skipper@0.9.0-4, skipper-disk@0.5.12\r\n<hr/>\r\n\r\nWhen posting a 200k file on multipart/form-data, `E_MISSING_OR_INVALID_PARAMS` error occurs as field order.\r\n\r\nI just add an simple action, `order-test` and route it.\r\n\r\n```\r\nmodule.exports = {\r\n  friendlyName: 'Order test',\r\n  description: '',\r\n  files: ['file'],\r\n  inputs: {\r\n    file: {\r\n      example: '===',\r\n      required: true\r\n    },\r\n    field1: {\r\n      type: 'string',\r\n      required: true\r\n    },\r\n    field2: {\r\n      type: 'string',\r\n      required: true\r\n    }\r\n  },\r\n  exits: {\r\n  },\r\n  fn: async function (inputs, exits) {\r\n    const { file } = inputs;\r\n\r\n    file.upload(async (err, files) => {\r\n      if (err) {\r\n        return exits.error(err);\r\n      }\r\n      sails.log.debug(files);\r\n      return exits.success();\r\n    });\r\n  }\r\n}\r\n```\r\nAnd to test it, I used both curl commands.\r\n```\r\ncurl -F 'field1=1' -F 'field2=1' -F 'file=@./sample.png' http://localhost:1337/order-test\r\n```\r\n```\r\ncurl -F 'file=@./sample.png' -F 'field1=1' -F 'field2=1' http://localhost:8084/order-test\r\n```\r\nThe former works well, but the latter occurs `E_MISSING_OR_INVALID_PARAMS`.\r\n\r\nThough using the latter command, if the file is smaller as 10~20k, it works welll, too.\r\n\r\nIs it a sails bug? Or does my source code bug?\r\nHow can it work well for both commands?\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4897","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4897/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4897/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4897/events","html_url":"https://github.com/balderdashy/sails/issues/4897","id":438520835,"node_id":"MDU6SXNzdWU0Mzg1MjA4MzU=","number":4897,"title":"SSL vs. Non SSL","user":{"login":"corbanb","id":140186,"node_id":"MDQ6VXNlcjE0MDE4Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/140186?v=4","gravatar_id":"","url":"https://api.github.com/users/corbanb","html_url":"https://github.com/corbanb","followers_url":"https://api.github.com/users/corbanb/followers","following_url":"https://api.github.com/users/corbanb/following{/other_user}","gists_url":"https://api.github.com/users/corbanb/gists{/gist_id}","starred_url":"https://api.github.com/users/corbanb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/corbanb/subscriptions","organizations_url":"https://api.github.com/users/corbanb/orgs","repos_url":"https://api.github.com/users/corbanb/repos","events_url":"https://api.github.com/users/corbanb/events{/privacy}","received_events_url":"https://api.github.com/users/corbanb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":48,"created_at":"2015-03-11T04:44:49Z","updated_at":"2020-06-30T11:59:42Z","closed_at":"2019-04-29T21:42:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I am working on a sails 0.11 app and just ran into an issue with multi-from data. When the form is posted via non-SSL everything works fine. When its posted via SSL the post data shows up missing.\n\nI should also note that IF an image is not attached the same POST works great either way on SSL and non-SSL.\n\nAnyone have thoughts on how this could even be possible?\n\nnode: 0.10.33\nsails: 0.11.0\nskipper: 0.5.5\n\nAll running on Heroku and their SSL. I have narrowed it down to that but having a hard time validating locally with an SSL cert to be able to step into it.\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/pantsel/konga/issues/139","repository_url":"https://api.github.com/repos/pantsel/konga","labels_url":"https://api.github.com/repos/pantsel/konga/issues/139/labels{/name}","comments_url":"https://api.github.com/repos/pantsel/konga/issues/139/comments","events_url":"https://api.github.com/repos/pantsel/konga/issues/139/events","html_url":"https://github.com/pantsel/konga/issues/139","id":276261862,"node_id":"MDU6SXNzdWUyNzYyNjE4NjI=","number":139,"title":"Cannot connect to Postgres with SSL","user":{"login":"bluemalkin","id":2703290,"node_id":"MDQ6VXNlcjI3MDMyOTA=","avatar_url":"https://avatars1.githubusercontent.com/u/2703290?v=4","gravatar_id":"","url":"https://api.github.com/users/bluemalkin","html_url":"https://github.com/bluemalkin","followers_url":"https://api.github.com/users/bluemalkin/followers","following_url":"https://api.github.com/users/bluemalkin/following{/other_user}","gists_url":"https://api.github.com/users/bluemalkin/gists{/gist_id}","starred_url":"https://api.github.com/users/bluemalkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluemalkin/subscriptions","organizations_url":"https://api.github.com/users/bluemalkin/orgs","repos_url":"https://api.github.com/users/bluemalkin/repos","events_url":"https://api.github.com/users/bluemalkin/events{/privacy}","received_events_url":"https://api.github.com/users/bluemalkin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2017-11-23T04:06:34Z","updated_at":"2020-04-11T20:37:23Z","closed_at":"2018-03-02T21:36:27Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nFor some reason Konga won't connect to RDS Postgres in SSL.\r\n\r\nHere's the compose:\r\n```  konga:\r\n    image: pantsel/konga:latest\r\n    environment:\r\n      DB_ADAPTER: postgres\r\n      DB_DATABASE: xxxx\r\n      DB_HOST: xxxxx\r\n      DB_PASSWORD: xxxxx\r\n      NODE_ENV: development\r\n      DB_SSL: 'true'\r\n    stdin_open: true\r\n    tty: true\r\n    command:\r\n    - printenv\r\n    - '&&'\r\n    - /bin/bash\r\n    - ./start.sh\r\n```\r\n\r\nAnd the error log:\r\n```23/11/2017 15:02:53Using postgres DB Adapter.\r\n23/11/2017 15:02:53Failed to connect to DB named `xxxx` { error: no pg_hba.conf entry for host \"x.x.x.x\", user \"xxx\", database \"xxx\", SSL off\r\n23/11/2017 15:02:53    at Connection.parseE (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:539:11)\r\n23/11/2017 15:02:53    at Connection.parseMessage (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:366:17)\r\n23/11/2017 15:02:53    at Socket.<anonymous> (/app/node_modules/sails-postgresql/node_modules/pg/lib/connection.js:105:22)\r\n23/11/2017 15:02:53    at emitOne (events.js:96:13)\r\n23/11/2017 15:02:53    at Socket.emit (events.js:188:7)\r\n23/11/2017 15:02:53    at readableAddChunk (_stream_readable.js:176:18)\r\n23/11/2017 15:02:53    at TCP.onread (net.js:547:20)\r\n23/11/2017 15:02:53  name: 'error',\r\n23/11/2017 15:02:53  length: 152,\r\n23/11/2017 15:02:53  severity: 'FATAL',\r\n23/11/2017 15:02:53  code: '28000',\r\n23/11/2017 15:02:53  detail: undefined,\r\n23/11/2017 15:02:53  hint: undefined,\r\n23/11/2017 15:02:53  position: undefined,\r\n23/11/2017 15:02:53  internalPosition: undefined,\r\n23/11/2017 15:02:53  internalQuery: undefined,\r\n23/11/2017 15:02:53  where: undefined,\r\n23/11/2017 15:02:53  schema: undefined,\r\n23/11/2017 15:02:53  table: undefined,\r\n23/11/2017 15:02:53  column: undefined,\r\n23/11/2017 15:02:53  dataType: undefined,\r\n23/11/2017 15:02:53  constraint: undefined,\r\n23/11/2017 15:02:53  file: 'auth.c',\r\n23/11/2017 15:02:53  line: '467',\r\n23/11/2017 15:02:53  routine: 'ClientAuthentication' }\r\n```\r\n\r\nAs you can see in the log it has SSL off, despite it being enabled in the environment variables.\r\n\r\nIt looks like this line is being ignored: https://github.com/pantsel/konga/blob/master/config/connections.js#L82","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/issues/11","repository_url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator","labels_url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/issues/11/comments","events_url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/issues/11/events","html_url":"https://github.com/theoomoregbee/sails-hook-swagger-generator/issues/11","id":290470985,"node_id":"MDU6SXNzdWUyOTA0NzA5ODU=","number":11,"title":"Not generating routes from controller correctly","user":{"login":"devlinpadayachee","id":4748730,"node_id":"MDQ6VXNlcjQ3NDg3MzA=","avatar_url":"https://avatars1.githubusercontent.com/u/4748730?v=4","gravatar_id":"","url":"https://api.github.com/users/devlinpadayachee","html_url":"https://github.com/devlinpadayachee","followers_url":"https://api.github.com/users/devlinpadayachee/followers","following_url":"https://api.github.com/users/devlinpadayachee/following{/other_user}","gists_url":"https://api.github.com/users/devlinpadayachee/gists{/gist_id}","starred_url":"https://api.github.com/users/devlinpadayachee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devlinpadayachee/subscriptions","organizations_url":"https://api.github.com/users/devlinpadayachee/orgs","repos_url":"https://api.github.com/users/devlinpadayachee/repos","events_url":"https://api.github.com/users/devlinpadayachee/events{/privacy}","received_events_url":"https://api.github.com/users/devlinpadayachee/received_events","type":"User","site_admin":false},"labels":[{"id":840674310,"node_id":"MDU6TGFiZWw4NDA2NzQzMTA=","url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/labels/enlightenment","name":"enlightenment","color":"fef2c0","default":false,"description":null},{"id":868773374,"node_id":"MDU6TGFiZWw4Njg3NzMzNzQ=","url":"https://api.github.com/repos/theoomoregbee/sails-hook-swagger-generator/labels/sails%20v1.0","name":"sails v1.0","color":"0e8a16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2018-01-22T13:48:06Z","updated_at":"2020-05-10T15:45:40Z","closed_at":"2020-05-10T14:43:34Z","author_association":"NONE","active_lock_reason":null,"body":"Hi I get something along the lines of \r\n\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\nNo tag for this identity 'v1/vdc'\r\n\r\nWhen I sails lift. These are related to the functions in my controller. Is there anyway to have the swagger document generated without having to directly specify the routes again in config.routes.js \r\n\r\nlike so\r\n\r\n  ```\r\n'get /v1/vdc/provisionNew': {\r\n    controller: 'v1/vdcController',\r\n    action: 'provisionNew',\r\n    swagger: {\r\n      summary: 'ProvisionNew',\r\n      description: 'This is for authentication of any user',\r\n      body: {\r\n        username: { type: 'string', required: true },\r\n        password: { type: 'password', required: true }\r\n      },\r\n      query: [{ $ref: '#/parameters/IDPathParam' }]\r\n    }\r\n  }\r\n```\r\n\r\nIt would be better if it could autogenerate from the controller without having to redo the routes.\r\n\r\n\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/3312","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/3312/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/3312/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/3312/events","html_url":"https://github.com/balderdashy/sails/issues/3312","id":112148220,"node_id":"MDU6SXNzdWUxMTIxNDgyMjA=","number":3312,"title":"sails-mongo usage in session.js gives me an error","user":{"login":"angel1st","id":8547131,"node_id":"MDQ6VXNlcjg1NDcxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/8547131?v=4","gravatar_id":"","url":"https://api.github.com/users/angel1st","html_url":"https://github.com/angel1st","followers_url":"https://api.github.com/users/angel1st/followers","following_url":"https://api.github.com/users/angel1st/following{/other_user}","gists_url":"https://api.github.com/users/angel1st/gists{/gist_id}","starred_url":"https://api.github.com/users/angel1st/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angel1st/subscriptions","organizations_url":"https://api.github.com/users/angel1st/orgs","repos_url":"https://api.github.com/users/angel1st/repos","events_url":"https://api.github.com/users/angel1st/events{/privacy}","received_events_url":"https://api.github.com/users/angel1st/received_events","type":"User","site_admin":false},"labels":[{"id":196936239,"node_id":"MDU6TGFiZWwxOTY5MzYyMzk=","url":"https://api.github.com/repos/balderdashy/sails/labels/question","name":"question","color":"5319e7","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-10-19T13:48:48Z","updated_at":"2020-03-11T04:49:28Z","closed_at":"2015-10-25T02:18:11Z","author_association":"NONE","active_lock_reason":null,"body":"Hi there,\nThe below issue was originally reported by me in `sails-mongo` (see https://github.com/balderdashy/sails-mongo/issues/355), but @devinivy pointed me to report it here. \nHopefully it will properly answered / handled at this place.\nI would like to have persistent sessions and choose MongoDB for session store, since this DB is my project choice.\nSo I look at `config/session.js` and uncomment following lines:\n\n```\n   adapter: 'mongo',\n   host: 'localhost',\n   port: 27017,\n   db: 'myDB',\n   collection: 'sessions', \n```\n\nI already have `sails-mongo` installed in my project, so I thought all is fine.\n\nHowever, as long as I tried to lift the server, I have got following errors:\n\n```\nerror: A hook (`session`) failed to load!\nerror: Could not load Connect session adapter :: connect-mongo\n```\n\nSo my question is - why I cannot use already installed sails-mongo adapter for sessions?\n\nIf I miss something or you can tell me how to alter the code in order to start using `sails-mongo` instead of `connect-mongo` it would be nice.\n\nBest Regards,\nAngel\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/5472","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/5472/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/5472/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/5472/events","html_url":"https://github.com/balderdashy/sails/issues/5472","id":444045219,"node_id":"MDU6SXNzdWU0NDQwNDUyMTk=","number":5472,"title":"Need a way to query associated object's attributes","user":{"login":"gregorypierce","id":95954,"node_id":"MDQ6VXNlcjk1OTU0","avatar_url":"https://avatars1.githubusercontent.com/u/95954?v=4","gravatar_id":"","url":"https://api.github.com/users/gregorypierce","html_url":"https://github.com/gregorypierce","followers_url":"https://api.github.com/users/gregorypierce/followers","following_url":"https://api.github.com/users/gregorypierce/following{/other_user}","gists_url":"https://api.github.com/users/gregorypierce/gists{/gist_id}","starred_url":"https://api.github.com/users/gregorypierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gregorypierce/subscriptions","organizations_url":"https://api.github.com/users/gregorypierce/orgs","repos_url":"https://api.github.com/users/gregorypierce/repos","events_url":"https://api.github.com/users/gregorypierce/events{/privacy}","received_events_url":"https://api.github.com/users/gregorypierce/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":77,"created_at":"2014-02-08T10:54:36Z","updated_at":"2020-05-20T18:45:41Z","closed_at":"2019-05-14T17:49:30Z","author_association":"NONE","active_lock_reason":null,"body":"If an object has an associated collection, it is not clear how (or even if its possible) to query into that associated object stuff.\n\nPet has an Owner\nOwner has an emailAddress\n\nHow do I select all of the Pets whose owner has an `emailAddress == \"foo@bar.com\"`\n\nWhile its easy to do 2 queries to accomplish this:\n1) Find the owner who has an `emailAddress == \"foo@bar.com\"` and get that persons `id`\n2) Find all Pets who have the `id` from query 1\n\nIt seems that there would be a better syntax for this:\n\n``` javascript\nPet.findAll({ \"owner.emailAddress\" : \"foo@bar.com\" })\n```\n\nNow whether or not this is internally optimized or just syntactic sugar doesn't matter, its much easier to read and write.\n\nFurther, if a Pet has a breed how would I select the email addresses of all of the owners whose `Pet.breed == \"beagle\"`\n\n``` javascript\nOwner.findAll({\"pet.breed\" : \"beagle\"})\n```\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/Packebian/Backend-Controller-env/issues/2","repository_url":"https://api.github.com/repos/Packebian/Backend-Controller-env","labels_url":"https://api.github.com/repos/Packebian/Backend-Controller-env/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/Packebian/Backend-Controller-env/issues/2/comments","events_url":"https://api.github.com/repos/Packebian/Backend-Controller-env/issues/2/events","html_url":"https://github.com/Packebian/Backend-Controller-env/issues/2","id":206255518,"node_id":"MDU6SXNzdWUyMDYyNTU1MTg=","number":2,"title":"Sails container cannot use forever --watch","user":{"login":"gattazr","id":2280044,"node_id":"MDQ6VXNlcjIyODAwNDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/2280044?v=4","gravatar_id":"","url":"https://api.github.com/users/gattazr","html_url":"https://github.com/gattazr","followers_url":"https://api.github.com/users/gattazr/followers","following_url":"https://api.github.com/users/gattazr/following{/other_user}","gists_url":"https://api.github.com/users/gattazr/gists{/gist_id}","starred_url":"https://api.github.com/users/gattazr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gattazr/subscriptions","organizations_url":"https://api.github.com/users/gattazr/orgs","repos_url":"https://api.github.com/users/gattazr/repos","events_url":"https://api.github.com/users/gattazr/events{/privacy}","received_events_url":"https://api.github.com/users/gattazr/received_events","type":"User","site_admin":false},"labels":[{"id":534215096,"node_id":"MDU6TGFiZWw1MzQyMTUwOTY=","url":"https://api.github.com/repos/Packebian/Backend-Controller-env/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"gattazr","id":2280044,"node_id":"MDQ6VXNlcjIyODAwNDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/2280044?v=4","gravatar_id":"","url":"https://api.github.com/users/gattazr","html_url":"https://github.com/gattazr","followers_url":"https://api.github.com/users/gattazr/followers","following_url":"https://api.github.com/users/gattazr/following{/other_user}","gists_url":"https://api.github.com/users/gattazr/gists{/gist_id}","starred_url":"https://api.github.com/users/gattazr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gattazr/subscriptions","organizations_url":"https://api.github.com/users/gattazr/orgs","repos_url":"https://api.github.com/users/gattazr/repos","events_url":"https://api.github.com/users/gattazr/events{/privacy}","received_events_url":"https://api.github.com/users/gattazr/received_events","type":"User","site_admin":false},"assignees":[{"login":"gattazr","id":2280044,"node_id":"MDQ6VXNlcjIyODAwNDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/2280044?v=4","gravatar_id":"","url":"https://api.github.com/users/gattazr","html_url":"https://github.com/gattazr","followers_url":"https://api.github.com/users/gattazr/followers","following_url":"https://api.github.com/users/gattazr/following{/other_user}","gists_url":"https://api.github.com/users/gattazr/gists{/gist_id}","starred_url":"https://api.github.com/users/gattazr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gattazr/subscriptions","organizations_url":"https://api.github.com/users/gattazr/orgs","repos_url":"https://api.github.com/users/gattazr/repos","events_url":"https://api.github.com/users/gattazr/events{/privacy}","received_events_url":"https://api.github.com/users/gattazr/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2017-02-08T16:46:50Z","updated_at":"2020-02-19T11:41:05Z","closed_at":"2020-02-19T11:41:05Z","author_association":"MEMBER","active_lock_reason":null,"body":"If the command of the sails container is  `forever -w -c \"npm start\" ./`, the error `ENOSPC` is thrown and the container crashes.\r\n\r\nDuring development, it forces the container to be restarted every time the sources are modified\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/hapijs/hapi/issues/2932","repository_url":"https://api.github.com/repos/hapijs/hapi","labels_url":"https://api.github.com/repos/hapijs/hapi/issues/2932/labels{/name}","comments_url":"https://api.github.com/repos/hapijs/hapi/issues/2932/comments","events_url":"https://api.github.com/repos/hapijs/hapi/issues/2932/events","html_url":"https://github.com/hapijs/hapi/issues/2932","id":115273271,"node_id":"MDU6SXNzdWUxMTUyNzMyNzE=","number":2932,"title":"How do I use mysql on hapi?","user":{"login":"jonahzheng","id":5125282,"node_id":"MDQ6VXNlcjUxMjUyODI=","avatar_url":"https://avatars1.githubusercontent.com/u/5125282?v=4","gravatar_id":"","url":"https://api.github.com/users/jonahzheng","html_url":"https://github.com/jonahzheng","followers_url":"https://api.github.com/users/jonahzheng/followers","following_url":"https://api.github.com/users/jonahzheng/following{/other_user}","gists_url":"https://api.github.com/users/jonahzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jonahzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonahzheng/subscriptions","organizations_url":"https://api.github.com/users/jonahzheng/orgs","repos_url":"https://api.github.com/users/jonahzheng/repos","events_url":"https://api.github.com/users/jonahzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jonahzheng/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":{"login":"Marsup","id":796194,"node_id":"MDQ6VXNlcjc5NjE5NA==","avatar_url":"https://avatars2.githubusercontent.com/u/796194?v=4","gravatar_id":"","url":"https://api.github.com/users/Marsup","html_url":"https://github.com/Marsup","followers_url":"https://api.github.com/users/Marsup/followers","following_url":"https://api.github.com/users/Marsup/following{/other_user}","gists_url":"https://api.github.com/users/Marsup/gists{/gist_id}","starred_url":"https://api.github.com/users/Marsup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Marsup/subscriptions","organizations_url":"https://api.github.com/users/Marsup/orgs","repos_url":"https://api.github.com/users/Marsup/repos","events_url":"https://api.github.com/users/Marsup/events{/privacy}","received_events_url":"https://api.github.com/users/Marsup/received_events","type":"User","site_admin":false},"assignees":[{"login":"Marsup","id":796194,"node_id":"MDQ6VXNlcjc5NjE5NA==","avatar_url":"https://avatars2.githubusercontent.com/u/796194?v=4","gravatar_id":"","url":"https://api.github.com/users/Marsup","html_url":"https://github.com/Marsup","followers_url":"https://api.github.com/users/Marsup/followers","following_url":"https://api.github.com/users/Marsup/following{/other_user}","gists_url":"https://api.github.com/users/Marsup/gists{/gist_id}","starred_url":"https://api.github.com/users/Marsup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Marsup/subscriptions","organizations_url":"https://api.github.com/users/Marsup/orgs","repos_url":"https://api.github.com/users/Marsup/repos","events_url":"https://api.github.com/users/Marsup/events{/privacy}","received_events_url":"https://api.github.com/users/Marsup/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2015-11-05T12:27:00Z","updated_at":"2020-01-09T16:57:00Z","closed_at":"2015-11-05T14:02:23Z","author_association":"NONE","active_lock_reason":"resolved","body":"I want to use mysql on hapi, because In my system, other applications use the mysql.\nvery thankful\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/6841","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/6841/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/6841/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/6841/events","html_url":"https://github.com/balderdashy/sails/issues/6841","id":481335323,"node_id":"MDU6SXNzdWU0ODEzMzUzMjM=","number":6841,"title":"Is the Sails team willing to support beforeValidation?","user":{"login":"cristianszwarc","id":4663952,"node_id":"MDQ6VXNlcjQ2NjM5NTI=","avatar_url":"https://avatars3.githubusercontent.com/u/4663952?v=4","gravatar_id":"","url":"https://api.github.com/users/cristianszwarc","html_url":"https://github.com/cristianszwarc","followers_url":"https://api.github.com/users/cristianszwarc/followers","following_url":"https://api.github.com/users/cristianszwarc/following{/other_user}","gists_url":"https://api.github.com/users/cristianszwarc/gists{/gist_id}","starred_url":"https://api.github.com/users/cristianszwarc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cristianszwarc/subscriptions","organizations_url":"https://api.github.com/users/cristianszwarc/orgs","repos_url":"https://api.github.com/users/cristianszwarc/repos","events_url":"https://api.github.com/users/cristianszwarc/events{/privacy}","received_events_url":"https://api.github.com/users/cristianszwarc/received_events","type":"User","site_admin":false},"labels":[{"id":1270146239,"node_id":"MDU6TGFiZWwxMjcwMTQ2MjM5","url":"https://api.github.com/repos/balderdashy/sails/labels/helpful%20info%20or%20workaround","name":"helpful info or workaround","color":"009800","default":false,"description":""},{"id":311568364,"node_id":"MDU6TGFiZWwzMTE1NjgzNjQ=","url":"https://api.github.com/repos/balderdashy/sails/labels/proposal","name":"proposal","color":"207de5","default":false,"description":null},{"id":1103166666,"node_id":"MDU6TGFiZWwxMTAzMTY2NjY2","url":"https://api.github.com/repos/balderdashy/sails/labels/resolved","name":"resolved","color":"009800","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-08-15T20:56:29Z","updated_at":"2020-03-22T00:14:07Z","closed_at":"2019-08-27T21:29:56Z","author_association":"NONE","active_lock_reason":null,"body":"**History**\r\nthere is mention of a `beforeValidate` lifecycle callback but I don't see it being implemented:\r\nhttps://github.com/balderdashy/waterline/blob/1d5a3dc6e65fe69c061a72249019adfcf3c52cb6/lib/waterline/utils/system/lifecycle-callback-builder.js#L28\r\n\r\nthe migration to 1.0 docs states: `beforeValidate` and `afterValidate` lifecycle callbacks no longer exist\" https://next.sailsjs.com/documentation/upgrading/to-v-1-0 \r\n\r\n**Other missing lifecycle callbacks**\r\nI have been working on enabling other listed but not available lifecycle callbacks (afterFind/afterFindOne) #6839 .\r\n\r\n**Need for beforeValidate**\r\nas others, I found that if the record being created/updated contains extra a field not defined in the model, it would remove/normalise it before the `beforeCreate` or `beforeUpdate` callbacks are executed.\r\n\r\nI don't see where in the model I could add validations that are not related to individual fields, it feels that `beforeValidate` would be a great place for actions like validations across different fields \r\n\r\nexample. you might not want to allow a `newMember.receiveCasinoPromos` to be true while `newMember.dob` shows is a minor.\r\n\r\n(In our edge situation we have extra dynamic fields that should affect the real fields before being discarded)\r\n\r\nrelated: #5625 \r\n\r\n**Question**\r\nIs the Sails team willing to support `beforeValidation`? If so, I'm happy to put some hours on it instead of creating a custom solution.\r\n\r\ncheers!\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4069","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4069/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4069/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4069/events","html_url":"https://github.com/balderdashy/sails/issues/4069","id":221398675,"node_id":"MDU6SXNzdWUyMjEzOTg2NzU=","number":4069,"title":"Could not tear down the ORM hook.  Error details: Error: Consistency violation: Attempting to tear down a datastore (`default`) which is not currently registered with this adapter...  :: Regression with sails-mongo@v1.0.0-7","user":{"login":"eliottvincent","id":24720375,"node_id":"MDQ6VXNlcjI0NzIwMzc1","avatar_url":"https://avatars3.githubusercontent.com/u/24720375?v=4","gravatar_id":"","url":"https://api.github.com/users/eliottvincent","html_url":"https://github.com/eliottvincent","followers_url":"https://api.github.com/users/eliottvincent/followers","following_url":"https://api.github.com/users/eliottvincent/following{/other_user}","gists_url":"https://api.github.com/users/eliottvincent/gists{/gist_id}","starred_url":"https://api.github.com/users/eliottvincent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eliottvincent/subscriptions","organizations_url":"https://api.github.com/users/eliottvincent/orgs","repos_url":"https://api.github.com/users/eliottvincent/repos","events_url":"https://api.github.com/users/eliottvincent/events{/privacy}","received_events_url":"https://api.github.com/users/eliottvincent/received_events","type":"User","site_admin":false},"labels":[{"id":196943581,"node_id":"MDU6TGFiZWwxOTY5NDM1ODE=","url":"https://api.github.com/repos/balderdashy/sails/labels/needs%20better%20error%20message","name":"needs better error message","color":"C08040","default":false,"description":null},{"id":519366577,"node_id":"MDU6TGFiZWw1MTkzNjY1Nzc=","url":"https://api.github.com/repos/balderdashy/sails/labels/v1.x","name":"v1.x","color":"eeeeee","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2017-04-12T21:41:16Z","updated_at":"2020-04-14T03:11:46Z","closed_at":"2017-05-19T23:00:42Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n======================================================\r\nHELLO, and welcome to the (experimental) Sailsbot\r\nissue-submission system.  If you encounter any\r\nproblems with this system, please contact us directly\r\nat http://sailsjs.com/contact.\r\n\r\nFIRST THINGS FIRST: before posting, please carefully\r\nread the contribution guide (http://bit.ly/sails-issue-guide),\r\nparticularly if this is a security issue or an issue of a\r\nnon-technical nature (Github org issues, code of conduct\r\nissues, etc.).  Those should be sent directly at\r\nhttp://sailsjs.com/contact.\r\n\r\nNOW THEN: please fill out the following info\r\n(Don't change text between **)\r\n======================================================\r\n### BEGIN VERSION INFO ###\r\n-->\r\n\r\n**Sails version**: 1.0.0-33\r\n**Node version**: 7.5.0\r\n**NPM version**: 4.4.4\r\n**Operating system**: macOS Sierra 10.12.4\r\n\r\n<!--\r\n### END VERSION INFO ###\r\n======================================================\r\nGREAT! - Now read carefully\r\n(Sailsbot will know if you don't)!\r\n======================================================\r\n\r\nBefore you submit an issue for Sails, please make sure you have read the issue contribution guide (http://bit.ly/sails-issue-guide) carefully, and then verify the following by typing an X in between each set of [ ] brackets below (don't make any other changes to the text!):\r\n\r\n### BEGIN PLEDGE ###\r\n- [ X ] I am experiencing a concrete technical issue (aka a bug) with Sails (ideas and feature proposals should follow the guide for proposing features and enhancements (http://bit.ly/sails-feature-guide), which involves making a pull request).  If you're not 100% certain whether it's a bug or not, that's okay--you may continue.  The worst that can happen is that the issue will be closed and we'll point you in the right direction.\r\n\r\n- [ X ] I am not asking a question about how to use Sails or about whether or not Sails has a certain feature (please refer to the documentation(http://sailsjs.com), or post on http://stackoverflow.com, our Google Group (http://bit.ly/sails-google-group) or our live chat (https://gitter.im/balderdashy/sails).\r\n\r\n- [ X ] I have already searched for related issues, and found none open (if you found a related _closed_ issue, please link to it in your post).\r\n\r\n- [ X ] My issue title is concise, on-topic and polite (\"jst.js being removed from layout.ejs on lift\" is good; \"templates dont work\" or \"why is sails dumb\" are not so good).\r\n\r\n- [ X ] I have tried all the following (if relevant) and my issue remains:\r\n  - Make sure you have the right app lifted.\r\n  - Make sure you've killed the Sails server with CTRL+C and started it again.\r\n  - Make sure you closed any open browser tabs pointed at localhost before starting Sails.\r\n  - Make sure you do not have any other Sails apps running in other terminal windows.\r\n  - Make sure the app you are using to reproduce the issue has a clean node_modules/ directory, meaning:\r\n    * no dependencies are linked (e.g. you haven't run npm link foo)\r\n    * that you haven't made any inline changes to files in the node_modules/ folder\r\n    * that you don't have any weird global dependency loops. The easiest way to double-check any of the above, if you aren't sure, is to run: rm -rf node_modules && npm cache clear && npm install.\r\n\r\nand finally...\r\n- [ X ] **I can provide steps to reproduce this issue that others can follow.**\r\n\r\nIdeally, this involves creating a new repo that demonstrates the problem (see instructions at http://bit.ly/sails-issue-repro).  Even though your issue may seem so simple to reproduce that a new repo is unnecessary, you'd be surprised how many solutions present themselves when you start from `sails new` and attempt to recreate your issue from scratch in a new app.  This ensures that the real issue isn't in your user code (a forgotten policy file, perhaps?) or in a third-party module.  If you're absolutely _convinced_ that a new repo is unnecessary, provide clear, concise and _specific_ steps to reproduce the problem in your post (not \"create a model then do blueprint create\").\r\n### END PLEDGE ###\r\n\r\nOKAY--THANKS FOR READING!  Continue posting details of your issue below. -->\r\n<hr/>\r\n\r\nHello, when I start my sails app, I'm experiencing this error with sails-mongo@v1.0.0-7:\r\n\r\n```/usr/local/bin/node /usr/local/lib/node_modules/npm/bin/npm-cli.js run start-dev\r\n> NODE_ENV=development node $NODE_DEBUG_OPTION app.js\r\n\r\ninfo: ·• Auto-migrating...  (alter)\r\ninfo:    Hold tight, this could take a moment.\r\nerror: A hook (`orm`) failed to load!\r\nerror: Could not tear down the ORM hook.  Error details: Error: Consistency violation: Attempting to tear down a datastore (`default`) which is not currently registered with this adapter.  This is usually due to a race condition in userland code (e.g. attempting to tear down the same ORM instance more than once), or it could be due to a bug in this adapter.  (If you get stumped, reach out at http://sailsjs.com/support.)\r\n    at Object.teardown (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails-mongo/lib/index.js:346:19)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline/lib/waterline.js:327:27\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:3047:20\r\n    at eachOfArrayLike (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1002:13)\r\n    at eachOf (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1052:9)\r\n    at Object.eachLimit (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:3111:7)\r\n    at Object.teardown (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline/lib/waterline.js:311:11)\r\n    at Hook.teardown (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails-hook-orm/index.js:246:30)\r\n    at Sails.wrapper (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/@sailshq/lodash/lib/index.js:3250:19)\r\n    at Object.onceWrapper (events.js:291:19)\r\n    at emitNone (events.js:86:13)\r\n    at Sails.emit (events.js:186:7)\r\n    at Sails.emitter.emit (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails/lib/app/private/after.js:56:26)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails/lib/app/lower.js:67:11\r\n    at beforeShutdown (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails/lib/app/lower.js:45:12)\r\n    at Sails.lower (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails/lib/app/lower.js:49:3)\r\nerror: Failed to lift app: Error: The model `token` has attributes with non-unique column names. Each attribute in the model must have a unique column name.\r\n    at parseCollections (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline-schema/lib/waterline-schema/checks.js:44:13)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/@sailshq/lodash/lib/index.js:3228:15\r\n    at baseForOwn (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/@sailshq/lodash/lib/index.js:2199:14)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/@sailshq/lodash/lib/index.js:3198:18\r\n    at Function.<anonymous> (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/@sailshq/lodash/lib/index.js:3501:13)\r\n    at sanityChecks (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline-schema/lib/waterline-schema/checks.js:15:5)\r\n    at new WaterlineSchema (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline-schema/lib/waterline-schema.js:48:3)\r\n    at Object.initialize (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/waterline/lib/waterline.js:155:26)\r\n    at buildOntologyAndRunAutoMigrations (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails-hook-orm/lib/build-ontology-and-run-auto-migrations.js:55:7)\r\n    at async.auto._buildOntology (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/sails-hook-orm/lib/initialize.js:436:7)\r\n    at runTask (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1660:17)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1602:17\r\n    at processQueue (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1612:17)\r\n    at taskComplete (/Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1630:13)\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:1653:21\r\n    at /Users/eliottvincent/Development/tmp-family-abcde/node_modules/async/dist/async.js:339:31\r\nerror: (You are seeing this error message because no callback was provided to `.lift()`.)\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nThe first error is the most obscure for me. I will create a separated issue for the second one.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/817","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/817/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/817/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/817/events","html_url":"https://github.com/balderdashy/sails/issues/817","id":18896957,"node_id":"MDU6SXNzdWUxODg5Njk1Nw==","number":817,"title":"Use MySQL As Session Store?","user":{"login":"JohnPostlethwait","id":39127,"node_id":"MDQ6VXNlcjM5MTI3","avatar_url":"https://avatars3.githubusercontent.com/u/39127?v=4","gravatar_id":"","url":"https://api.github.com/users/JohnPostlethwait","html_url":"https://github.com/JohnPostlethwait","followers_url":"https://api.github.com/users/JohnPostlethwait/followers","following_url":"https://api.github.com/users/JohnPostlethwait/following{/other_user}","gists_url":"https://api.github.com/users/JohnPostlethwait/gists{/gist_id}","starred_url":"https://api.github.com/users/JohnPostlethwait/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohnPostlethwait/subscriptions","organizations_url":"https://api.github.com/users/JohnPostlethwait/orgs","repos_url":"https://api.github.com/users/JohnPostlethwait/repos","events_url":"https://api.github.com/users/JohnPostlethwait/events{/privacy}","received_events_url":"https://api.github.com/users/JohnPostlethwait/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2013-09-03T09:11:05Z","updated_at":"2020-03-24T01:28:39Z","closed_at":"2013-09-03T20:59:33Z","author_association":"NONE","active_lock_reason":null,"body":"I have searched all over – is this possible at the moment? \n\nI found the documentation on Mongo and Redis, but nothing for other adapters... \n\nIf this is not possible, do I have any options for storing sessions at the moment besides switching/adding Mongo/Redis?\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/6258","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/6258/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/6258/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/6258/events","html_url":"https://github.com/balderdashy/sails/issues/6258","id":446322629,"node_id":"MDU6SXNzdWU0NDYzMjI2Mjk=","number":6258,"title":"Case sensitive `find`","user":{"login":"mikermcneil","id":618009,"node_id":"MDQ6VXNlcjYxODAwOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/618009?v=4","gravatar_id":"","url":"https://api.github.com/users/mikermcneil","html_url":"https://github.com/mikermcneil","followers_url":"https://api.github.com/users/mikermcneil/followers","following_url":"https://api.github.com/users/mikermcneil/following{/other_user}","gists_url":"https://api.github.com/users/mikermcneil/gists{/gist_id}","starred_url":"https://api.github.com/users/mikermcneil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikermcneil/subscriptions","organizations_url":"https://api.github.com/users/mikermcneil/orgs","repos_url":"https://api.github.com/users/mikermcneil/repos","events_url":"https://api.github.com/users/mikermcneil/events{/privacy}","received_events_url":"https://api.github.com/users/mikermcneil/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":48,"created_at":"2014-01-22T02:14:09Z","updated_at":"2020-03-19T11:57:15Z","closed_at":"2019-05-20T21:39:36Z","author_association":"MEMBER","active_lock_reason":null,"body":"``` javascript\nUser.find({\n  role: 'admin',\n  name: { \n    equals: 'Gabe'\n    caseSensitive: true\n  }\n})\n```\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/5549","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/5549/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/5549/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/5549/events","html_url":"https://github.com/balderdashy/sails/issues/5549","id":444542113,"node_id":"MDU6SXNzdWU0NDQ1NDIxMTM=","number":5549,"title":"Add support for .populate({ select: [] })","user":{"login":"anasyb","id":3670201,"node_id":"MDQ6VXNlcjM2NzAyMDE=","avatar_url":"https://avatars1.githubusercontent.com/u/3670201?v=4","gravatar_id":"","url":"https://api.github.com/users/anasyb","html_url":"https://github.com/anasyb","followers_url":"https://api.github.com/users/anasyb/followers","following_url":"https://api.github.com/users/anasyb/following{/other_user}","gists_url":"https://api.github.com/users/anasyb/gists{/gist_id}","starred_url":"https://api.github.com/users/anasyb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anasyb/subscriptions","organizations_url":"https://api.github.com/users/anasyb/orgs","repos_url":"https://api.github.com/users/anasyb/repos","events_url":"https://api.github.com/users/anasyb/events{/privacy}","received_events_url":"https://api.github.com/users/anasyb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":63,"created_at":"2015-03-31T03:08:48Z","updated_at":"2020-03-03T17:43:11Z","closed_at":"2019-05-15T16:49:31Z","author_association":"NONE","active_lock_reason":null,"body":"The `select` is being ignored.. getting back the full records instead of just the titles.\n\n``` javascript\nModel.find().populate(assoc.alias, { select: ['title']});\n```\n\nNot sure if its only on mongo?\n\n**UPDATE @dmarcelino**: changed this issue into a feature request.\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/1160","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/1160/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/1160/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/1160/events","html_url":"https://github.com/balderdashy/sails/issues/1160","id":23558486,"node_id":"MDU6SXNzdWUyMzU1ODQ4Ng==","number":1160,"title":"Feature Request: Dynamic Models at runtime!","user":{"login":"ArdentZeal","id":5508364,"node_id":"MDQ6VXNlcjU1MDgzNjQ=","avatar_url":"https://avatars0.githubusercontent.com/u/5508364?v=4","gravatar_id":"","url":"https://api.github.com/users/ArdentZeal","html_url":"https://github.com/ArdentZeal","followers_url":"https://api.github.com/users/ArdentZeal/followers","following_url":"https://api.github.com/users/ArdentZeal/following{/other_user}","gists_url":"https://api.github.com/users/ArdentZeal/gists{/gist_id}","starred_url":"https://api.github.com/users/ArdentZeal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArdentZeal/subscriptions","organizations_url":"https://api.github.com/users/ArdentZeal/orgs","repos_url":"https://api.github.com/users/ArdentZeal/repos","events_url":"https://api.github.com/users/ArdentZeal/events{/privacy}","received_events_url":"https://api.github.com/users/ArdentZeal/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/balderdashy/sails/milestones/2","html_url":"https://github.com/balderdashy/sails/milestone/2","labels_url":"https://api.github.com/repos/balderdashy/sails/milestones/2/labels","id":345428,"node_id":"MDk6TWlsZXN0b25lMzQ1NDI4","number":2,"title":"Feature Requests / Ideas","description":"Ideas for features / improvements","creator":{"login":"mikermcneil","id":618009,"node_id":"MDQ6VXNlcjYxODAwOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/618009?v=4","gravatar_id":"","url":"https://api.github.com/users/mikermcneil","html_url":"https://github.com/mikermcneil","followers_url":"https://api.github.com/users/mikermcneil/followers","following_url":"https://api.github.com/users/mikermcneil/following{/other_user}","gists_url":"https://api.github.com/users/mikermcneil/gists{/gist_id}","starred_url":"https://api.github.com/users/mikermcneil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikermcneil/subscriptions","organizations_url":"https://api.github.com/users/mikermcneil/orgs","repos_url":"https://api.github.com/users/mikermcneil/repos","events_url":"https://api.github.com/users/mikermcneil/events{/privacy}","received_events_url":"https://api.github.com/users/mikermcneil/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":191,"state":"closed","created_at":"2013-05-31T07:24:00Z","updated_at":"2019-04-11T19:06:32Z","due_on":null,"closed_at":"2019-04-11T19:06:32Z"},"comments":26,"created_at":"2013-12-02T08:38:34Z","updated_at":"2020-03-04T13:35:19Z","closed_at":"2014-05-20T00:47:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hello dear Sails-Community,\n\nwe are developing a prototype for a new application in our company. We would like to be able to implement Sailsjs for all its nice features in the final product. So basically we want to change from the MEAN Stack in the prototype app to the MEANS Stack in the production app.\n\nWhile there are still some issues with Angular and Sails which are not perfect yet, there seems to be a workaround for most of them. Saddly there is one special requirement we would need, which seems to be nearly impossible at the moment.\n\nThe app is able to generate Database Schemata provided by the end-user \"on-the-fly\". Which means we need to be able to generate routing \"on-the-fly\" as well, which looks sth like this in the MEAN Stack.\n\n``` js\nvar setupStaticRoutesForDynamicObject = function(dynamicObject) {\n\n    removeRouteToAngular();\n    var model_tol = dynamicObject.model.toLowerCase();\n\n    app.get(\"/api/\" + model_tol, RoutesDynamic.all(dynamicObject));\n    app.get(\"/api/\" + model_tol + \"/:id\", RoutesDynamic.show(dynamicObject));\n    app.post(\"/api/\" + model_tol, RoutesDynamic.create(dynamicObject));\n    app.put(\"/api/\"  + model_tol + \"/:id\", RoutesDynamic.update(dynamicObject));\n    app.del(\"/api/\"  + model_tol + \"/:id\", RoutesDynamic.del(dynamicObject));\n\n    addRouteToAngular();\n};\n```\n\nIs there a way this is already possible with Sailsjs and i am just too blind to see?\n\nthe second part ist the removeRouteToAngular(); and addRouteToAngular();. The angular app takes over routing, for anything but the dataapi and the index.html, so we need a catchAll block **at the end** to catch all routes not related to the dataapi and the index.html to be routed to angular. \n\nSo at the moment we remove the catchAll Route from app.routes, add our dynamic Routes, and add the catchAll again at the end. \n\nSome guidance on handling this behaviour in Sailsjs would be much appreciated.\n\nThanks for this amazing framework.\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/5773","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/5773/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/5773/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/5773/events","html_url":"https://github.com/balderdashy/sails/issues/5773","id":446271114,"node_id":"MDU6SXNzdWU0NDYyNzExMTQ=","number":5773,"title":"Need to load/create new collection after waterline.initialize()","user":{"login":"vicneanschi","id":2883540,"node_id":"MDQ6VXNlcjI4ODM1NDA=","avatar_url":"https://avatars0.githubusercontent.com/u/2883540?v=4","gravatar_id":"","url":"https://api.github.com/users/vicneanschi","html_url":"https://github.com/vicneanschi","followers_url":"https://api.github.com/users/vicneanschi/followers","following_url":"https://api.github.com/users/vicneanschi/following{/other_user}","gists_url":"https://api.github.com/users/vicneanschi/gists{/gist_id}","starred_url":"https://api.github.com/users/vicneanschi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicneanschi/subscriptions","organizations_url":"https://api.github.com/users/vicneanschi/orgs","repos_url":"https://api.github.com/users/vicneanschi/repos","events_url":"https://api.github.com/users/vicneanschi/events{/privacy}","received_events_url":"https://api.github.com/users/vicneanschi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-10-29T21:12:40Z","updated_at":"2020-03-03T16:56:34Z","closed_at":"2019-05-20T19:22:58Z","author_association":"NONE","active_lock_reason":null,"body":"I need a way to declare/load new collections after waterline was initialized.\n\nHere is an example:\n\n``` javascript\nvar Waterline = require('waterline');\nvar sailsMemoryAdapter = require('sails-memory');\nvar waterline = new Waterline();\n\n// Define your collection (aka model)\nvar userCollection = Waterline.Collection.extend({\n    identity: 'user',\n    connection: 'default'\n});\n\nwaterline.loadCollection(userCollection);\n\nvar config = {\n    adapters: {\n        'memory': sailsMemoryAdapter\n    },\n\n    connections: {\n        default: {\n            adapter: 'memory'\n        }\n    }\n};\n\nwaterline.initialize(config, function (err, ontology) {\n    if (err) {\n        return console.error(err);\n    }\n\n    // Tease out fully initialized models.\n    var User = ontology.collections.user;\n}\n\n// here I'd like to define and load dynamically another collection (based on some conditions and context)\nvar orderCollection = Waterline.Collection.extend({\n    identity: 'order',\n    connection: 'default'\n});\n\nwaterline.loadCollection(orderCollection);\n\n// ??? how to initialize new collection ???\n\n```\n\nThe workaround I found is to \n1. waterline.teardown(), \n2. waterline.loadCollection(newCollection) \n3. waterline.initialize() again. \nWhich is not convenient because I'm loosing all previous references to collections.\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/balderdashy/sails/issues/4864","repository_url":"https://api.github.com/repos/balderdashy/sails","labels_url":"https://api.github.com/repos/balderdashy/sails/issues/4864/labels{/name}","comments_url":"https://api.github.com/repos/balderdashy/sails/issues/4864/comments","events_url":"https://api.github.com/repos/balderdashy/sails/issues/4864/events","html_url":"https://github.com/balderdashy/sails/issues/4864","id":438516701,"node_id":"MDU6SXNzdWU0Mzg1MTY3MDE=","number":4864,"title":"Empty upload fields","user":{"login":"sixpounder","id":187334,"node_id":"MDQ6VXNlcjE4NzMzNA==","avatar_url":"https://avatars3.githubusercontent.com/u/187334?v=4","gravatar_id":"","url":"https://api.github.com/users/sixpounder","html_url":"https://github.com/sixpounder","followers_url":"https://api.github.com/users/sixpounder/followers","following_url":"https://api.github.com/users/sixpounder/following{/other_user}","gists_url":"https://api.github.com/users/sixpounder/gists{/gist_id}","starred_url":"https://api.github.com/users/sixpounder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixpounder/subscriptions","organizations_url":"https://api.github.com/users/sixpounder/orgs","repos_url":"https://api.github.com/users/sixpounder/repos","events_url":"https://api.github.com/users/sixpounder/events{/privacy}","received_events_url":"https://api.github.com/users/sixpounder/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2014-07-27T14:30:36Z","updated_at":"2020-02-26T13:49:11Z","closed_at":"2019-04-29T21:30:06Z","author_association":"NONE","active_lock_reason":null,"body":"If e.g. a form is uploaded with an empty input field skipper fails with\n\nError: ETIMEOUT: An Upstream (`undefined`) timed out waiting for file(s). No files were sent after waiting 500ms.\n\neven if .upload() method is not called at all. It is enough to call req.file('fileId') somewhere in the code (for example, to check if an optional file field has files in it)\n\nShouldn't it be fail safe when an input file field is present but empty? (req.file('something')._files.length == 0)\n","performed_via_github_app":null,"score":1.0}]}
0

