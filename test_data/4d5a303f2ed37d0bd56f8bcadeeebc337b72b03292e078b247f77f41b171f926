HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 24 Mar 2018 12:32:19 GMT
Link: <https://api.github.com/search/issues?q=repo%3Ayiisoft%2Fyii2+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Ayiisoft%2Fyii2+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D082:5F57:3DC0664:80BA118:5AB64552
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 22
X-Ratelimit-Reset: 1521894757
X-Runtime-Rack: 0.346017
X-Xss-Protection: 1; mode=block

8000
{"total_count":9058,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15952","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15952/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15952/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15952/events","html_url":"https://github.com/yiisoft/yii2/issues/15952","id":307928459,"number":15952,"title":"PHPUnit can't find model in Yii2 Framework","user":{"login":"TomaIvanovTomov","id":25176854,"avatar_url":"https://avatars1.githubusercontent.com/u/25176854?v=4","gravatar_id":"","url":"https://api.github.com/users/TomaIvanovTomov","html_url":"https://github.com/TomaIvanovTomov","followers_url":"https://api.github.com/users/TomaIvanovTomov/followers","following_url":"https://api.github.com/users/TomaIvanovTomov/following{/other_user}","gists_url":"https://api.github.com/users/TomaIvanovTomov/gists{/gist_id}","starred_url":"https://api.github.com/users/TomaIvanovTomov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomaIvanovTomov/subscriptions","organizations_url":"https://api.github.com/users/TomaIvanovTomov/orgs","repos_url":"https://api.github.com/users/TomaIvanovTomov/repos","events_url":"https://api.github.com/users/TomaIvanovTomov/events{/privacy}","received_events_url":"https://api.github.com/users/TomaIvanovTomov/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-23T07:35:25Z","updated_at":"2018-03-23T09:38:27Z","closed_at":"2018-03-23T09:38:27Z","author_association":"NONE","body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 6.5\r\n| PHP version         | 7.2\r\n| Installation Method | Composer \r\n\r\nI am trying to test my model by very basic case. If it has a static field. Don't want to use Yii2 tests but the installed by me PHPUnit. In the frontend directroy I made folder `PHPUnit` in which I`ve installed it via composer. This is my composer file ( in the PHPUnit folder):\r\n```\r\n{\r\n  \"require-dev\": {\r\n    \"phpunit/phpunit\": \"^6.5\",\r\n    \"phpunit/phpunit-selenium\": \"^4.1\"\r\n  }\r\n}\r\n```\r\nWhen I try to execute the test I get an error:\r\n```\r\n$ phpunit TestLogin.php\r\nPHPUnit 7.0.2 by Sebastian Bergmann and contributors.\r\n\r\nE                                                                   1 / 1 (100%)\r\n\r\nTime: 106 ms, Memory: 4.00MB\r\n\r\nThere was 1 error:\r\n\r\n1) TestLogin::testStatic\r\nError: Class 'frontend\\models\\LoginForm' not found\r\n\r\nZ:\\toma\\toma-metropizza\\htdocs\\frontend\\PHPUnit\\TestLogin.php:7\r\n\r\nERRORS!\r\nTests: 1, Assertions: 0, Errors: 1.\r\n```\r\nAnd this is my `TestLogin.php`:\r\n```\r\n<?php\r\n\r\nclass TestLogin extends PHPUnit\\Framework\\TestCase\r\n{\r\n    public function setUp()\r\n    {\r\n        $login = new \\frontend\\models\\LoginForm();\r\n    }\r\n\r\n    public function testStatic()\r\n    {\r\n        $this->assertClassHasStaticAttribute('test', \"LoginForm\");\r\n    }\r\n}\r\n```\r\nWhat I should do in this situation? The dekrium user model is in the right place but can't be found by the test. This is the directory of my project:\r\n```\r\napp/\r\n   /frontned\r\n      /PHPUnit\r\n          /vendor\r\n          composer.json\r\n          conposer.lock\r\n          TestLogin.php\r\n     /models\r\n         LoginForm.php\r\n   /vendor \r\n (the rest are standard yii2-advanced folders.)\r\n```\r\nThe PHP version on our server is `5.6` but I set my XAMPP an interpreter which has php version `7.2`. Thank you in advance!","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15951","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15951/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15951/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15951/events","html_url":"https://github.com/yiisoft/yii2/issues/15951","id":307922311,"number":15951,"title":"TimestampBehavior not working [2]","user":{"login":"i-panov","id":16288735,"avatar_url":"https://avatars0.githubusercontent.com/u/16288735?v=4","gravatar_id":"","url":"https://api.github.com/users/i-panov","html_url":"https://github.com/i-panov","followers_url":"https://api.github.com/users/i-panov/followers","following_url":"https://api.github.com/users/i-panov/following{/other_user}","gists_url":"https://api.github.com/users/i-panov/gists{/gist_id}","starred_url":"https://api.github.com/users/i-panov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i-panov/subscriptions","organizations_url":"https://api.github.com/users/i-panov/orgs","repos_url":"https://api.github.com/users/i-panov/repos","events_url":"https://api.github.com/users/i-panov/events{/privacy}","received_events_url":"https://api.github.com/users/i-panov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-23T07:03:50Z","updated_at":"2018-03-23T09:41:55Z","closed_at":"2018-03-23T09:41:49Z","author_association":"NONE","body":"I'll duplicate [this](https://github.com/yiisoft/yii2/issues/15946) issue. I ask you not to close it! It was not a question. I'm 100% sure that your TimestampBehavior has broken! The problem arose not only with me.","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15948","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15948/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15948/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15948/events","html_url":"https://github.com/yiisoft/yii2/issues/15948","id":307703512,"number":15948,"title":" Create Custom actionColumn with link","user":{"login":"Karango","id":16499752,"avatar_url":"https://avatars3.githubusercontent.com/u/16499752?v=4","gravatar_id":"","url":"https://api.github.com/users/Karango","html_url":"https://github.com/Karango","followers_url":"https://api.github.com/users/Karango/followers","following_url":"https://api.github.com/users/Karango/following{/other_user}","gists_url":"https://api.github.com/users/Karango/gists{/gist_id}","starred_url":"https://api.github.com/users/Karango/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Karango/subscriptions","organizations_url":"https://api.github.com/users/Karango/orgs","repos_url":"https://api.github.com/users/Karango/repos","events_url":"https://api.github.com/users/Karango/events{/privacy}","received_events_url":"https://api.github.com/users/Karango/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-22T15:51:14Z","updated_at":"2018-03-22T16:06:06Z","closed_at":"2018-03-22T16:06:06Z","author_association":"NONE","body":"Hi,\r\n\r\nI have a problem.\r\nI had 3 table to manage stock:\r\n- Items_table (item_id,label,stock...) the column stock has 0 as default value.\r\n- orders_table (order_id,at_date,status) the column status has 0 as default value.\r\n- orders_items_table(orderitem_id,order_id,item_id,quantity).\r\nwhat I want to do is to create an actionStatus to validate order, by clicking on validate button in gridview. and this action must able to update column status from orders_table with 1, and after update column stock from Items_table quantity of appropriate item_id.\r\nHow can I do in my action and view to do that?\r\n\r\nplease save me! \r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15946","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15946/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15946/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15946/events","html_url":"https://github.com/yiisoft/yii2/issues/15946","id":307638794,"number":15946,"title":"TimestampBehavior not working","user":{"login":"i-panov","id":16288735,"avatar_url":"https://avatars0.githubusercontent.com/u/16288735?v=4","gravatar_id":"","url":"https://api.github.com/users/i-panov","html_url":"https://github.com/i-panov","followers_url":"https://api.github.com/users/i-panov/followers","following_url":"https://api.github.com/users/i-panov/following{/other_user}","gists_url":"https://api.github.com/users/i-panov/gists{/gist_id}","starred_url":"https://api.github.com/users/i-panov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i-panov/subscriptions","organizations_url":"https://api.github.com/users/i-panov/orgs","repos_url":"https://api.github.com/users/i-panov/repos","events_url":"https://api.github.com/users/i-panov/events{/privacy}","received_events_url":"https://api.github.com/users/i-panov/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":27,"created_at":"2018-03-22T13:17:55Z","updated_at":"2018-03-23T15:39:15Z","closed_at":"2018-03-22T13:22:16Z","author_association":"NONE","body":"The project and this model is already six months old and all worked fine before, but suddenly the TimestampBehavior broke down. The database writes all the time zeros (in those fields where there should be time). I did not change anything related to this. It feels like a crash somewhere inside the framework...\r\n\r\nImportant! I noticed in the debugger that after saving the model the fields it is not empty !!! But the database still writes zeros. It's very strange...\r\n\r\nHere is my model:\r\n\r\n```\r\n/**\r\n * @property integer $id\r\n * @property integer $category_id\r\n * @property integer $user_id\r\n * @property integer $status_id\r\n * @property string $name\r\n * @property string $text\r\n * @property integer $created_at\r\n * @property integer $updated_at\r\n */\r\nclass Article extends ActiveRecord {\r\n    public static function tableName() {\r\n        return '{{%article}}';\r\n    }\r\n\r\n    public function behaviors() {\r\n        return [\r\n            'timestamp' => TimestampBehavior::class,\r\n        ];\r\n    }\r\n\r\n    public function rules() {\r\n        return [\r\n            ['id', 'safe'],\r\n            [['name', 'category_id'], 'required'],\r\n            ['user_id', 'default', 'value' => Yii::$app->user->id],\r\n        ];\r\n    }\r\n}\r\n```\r\n\r\nYii 2.0.14","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15944","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15944/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15944/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15944/events","html_url":"https://github.com/yiisoft/yii2/issues/15944","id":307521164,"number":15944,"title":"yii\\base\\Security.php ->generateRandomKey -> mcrypt_create_iv 正式环境http卡死，测试环境超时","user":{"login":"xasong","id":30643708,"avatar_url":"https://avatars3.githubusercontent.com/u/30643708?v=4","gravatar_id":"","url":"https://api.github.com/users/xasong","html_url":"https://github.com/xasong","followers_url":"https://api.github.com/users/xasong/followers","following_url":"https://api.github.com/users/xasong/following{/other_user}","gists_url":"https://api.github.com/users/xasong/gists{/gist_id}","starred_url":"https://api.github.com/users/xasong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xasong/subscriptions","organizations_url":"https://api.github.com/users/xasong/orgs","repos_url":"https://api.github.com/users/xasong/repos","events_url":"https://api.github.com/users/xasong/events{/privacy}","received_events_url":"https://api.github.com/users/xasong/received_events","type":"User","site_admin":false},"labels":[{"id":145356565,"url":"https://api.github.com/repos/yiisoft/yii2/labels/status:need%20more%20info","name":"status:need more info","color":"d4c5f9","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-03-22T06:28:37Z","updated_at":"2018-03-23T02:42:07Z","closed_at":"2018-03-22T10:57:42Z","author_association":"NONE","body":"running environment\r\ncentos 6.5/6.8 ,apache 2.4.48(2.2.15normal),PHP 5.5.38 \r\nExecution or normal, through the command line.\r\n![image](https://user-images.githubusercontent.com/30643708/37754630-44648fb4-2ddd-11e8-9455-241156b739ea.png)\r\nThe program will be stuck here。\r\nDo a brief description for the first time，The following is the following:\r\nIn Apache 2.4.28 there will be stuck, but the command test.php example of normal output with the value of PHP mcrypt_create_iv, http test.php HTTP will visit the death card, http process cpu100%, formal test environment and test are the same, use the apache2.2.15 version of HTTP access is normal.","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15942","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15942/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15942/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15942/events","html_url":"https://github.com/yiisoft/yii2/issues/15942","id":307453511,"number":15942,"title":"route site%2Frequest-password-reset cause error syntax error, unexpected '?'","user":{"login":"tvitcom","id":11320988,"avatar_url":"https://avatars1.githubusercontent.com/u/11320988?v=4","gravatar_id":"","url":"https://api.github.com/users/tvitcom","html_url":"https://github.com/tvitcom","followers_url":"https://api.github.com/users/tvitcom/followers","following_url":"https://api.github.com/users/tvitcom/following{/other_user}","gists_url":"https://api.github.com/users/tvitcom/gists{/gist_id}","starred_url":"https://api.github.com/users/tvitcom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvitcom/subscriptions","organizations_url":"https://api.github.com/users/tvitcom/orgs","repos_url":"https://api.github.com/users/tvitcom/repos","events_url":"https://api.github.com/users/tvitcom/events{/privacy}","received_events_url":"https://api.github.com/users/tvitcom/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-21T23:28:13Z","updated_at":"2018-03-21T23:34:28Z","closed_at":"2018-03-21T23:31:40Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\nI install new yii2 advance app and do restore password on my user - and see this error:\r\n PHP Parse Error – yii\\base\\ErrorException \r\nin describe:  in /home/www/seosalt/app/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/SimpleMessage.php at line 496 \r\n### What steps will reproduce the problem?\r\n\r\n### What is the expected result?\r\n\r\n### What do you get instead?\r\n\r\n\r\n### Additional info\r\n - Updating yiisoft/yii2 (2.0.14.2 => 2.0.15.1): Loading from cache\r\n - Updating yiisoft/yii2-swiftmailer (2.0.7 => 2.1.0): Loading from cache\r\n 2.0.15.1 PHP \r\n| Q                   | A\r\n| ----------------  | ---\r\n| Yii version      | 2.0.15.1 |\r\n| PHP version   | 5.6.33-0+deb8u1 \r\n| Operating system: Debian 8 |\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15939","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15939/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15939/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15939/events","html_url":"https://github.com/yiisoft/yii2/issues/15939","id":307266482,"number":15939,"title":"ArrayDataProvider defaultOrder","user":{"login":"i-panov","id":16288735,"avatar_url":"https://avatars0.githubusercontent.com/u/16288735?v=4","gravatar_id":"","url":"https://api.github.com/users/i-panov","html_url":"https://github.com/i-panov","followers_url":"https://api.github.com/users/i-panov/followers","following_url":"https://api.github.com/users/i-panov/following{/other_user}","gists_url":"https://api.github.com/users/i-panov/gists{/gist_id}","starred_url":"https://api.github.com/users/i-panov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i-panov/subscriptions","organizations_url":"https://api.github.com/users/i-panov/orgs","repos_url":"https://api.github.com/users/i-panov/repos","events_url":"https://api.github.com/users/i-panov/events{/privacy}","received_events_url":"https://api.github.com/users/i-panov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-21T14:24:03Z","updated_at":"2018-03-21T14:39:28Z","closed_at":"2018-03-21T14:39:05Z","author_association":"NONE","body":"I want to get sorting elements (only default) with ArrayDataProvider (there are few elements, so I do not need ActiveDataProvider). I apply with GridView:\r\n\r\n```\r\nnew ArrayDataProvider([\r\n        'allModels' => $models,\r\n        'sort' => [\r\n            'defaultOrder' => [\r\n                'created_at' => SORT_ASC\r\n            ]\r\n        ]\r\n    ])\r\n```\r\n\r\nand I get an error `Getting unknown property: backend\\models\\MyModel::0` :( What am I doing wrong? Or ArrayDataProvider does not know in defaultOrder?","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15936","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15936/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15936/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15936/events","html_url":"https://github.com/yiisoft/yii2/issues/15936","id":307136044,"number":15936,"title":"Extends yii\\base\\ErrorHandler.php code","user":{"login":"macklus","id":3457708,"avatar_url":"https://avatars1.githubusercontent.com/u/3457708?v=4","gravatar_id":"","url":"https://api.github.com/users/macklus","html_url":"https://github.com/macklus","followers_url":"https://api.github.com/users/macklus/followers","following_url":"https://api.github.com/users/macklus/following{/other_user}","gists_url":"https://api.github.com/users/macklus/gists{/gist_id}","starred_url":"https://api.github.com/users/macklus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklus/subscriptions","organizations_url":"https://api.github.com/users/macklus/orgs","repos_url":"https://api.github.com/users/macklus/repos","events_url":"https://api.github.com/users/macklus/events{/privacy}","received_events_url":"https://api.github.com/users/macklus/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-03-21T06:54:59Z","updated_at":"2018-03-21T12:30:24Z","closed_at":"2018-03-21T08:41:02Z","author_association":"NONE","body":"**Disclaimer:** I not sure if this is a bug or just system normal work. Even that, i think that base question was:\r\n\r\n**How can i extend or modify yii response when i get error 500 or other errors than dont go to normal errorHandler?**\r\n\r\n### What steps will reproduce the problem?\r\n\r\nTry to extends yii\\base\\ErrorHandler with code:\r\nweb.php\r\n```\r\n'errorHandler' => [\r\n            'class' => 'app\\base\\MiError',\r\n            'errorAction' => 'site/error',\r\n        ],\r\n```\r\nMiError class\r\n```\r\n<?php\r\nnamespace app\\base;\r\n\r\nuse Yii;\r\nuse yii\\base\\ErrorHandler;\r\n\r\nabstract class MiError extends ErrorHandler\r\n{\r\n    protected function handleFallbackExceptionMessage($exception, $previousException)\r\n    {\r\n        exit('funciona!');\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n### What is the expected result?\r\n\r\nExtends behaviour of yii\\base\\ErrorHandler (i need to modifiy error 500 code)\r\n\r\n### What do you get instead?\r\n```\r\n2018/03/21 06:48:16 [error] 988#988: *9 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught yii\\di\\NotInstantiableException: Can not instantiate app\\base\\MiError. in framework/vendor/yiisoft/yii2/di/Container.php:372\r\nStack trace:\r\n#0 framework/vendor/yiisoft/yii2/di/Container.php(156): yii\\di\\Container->build('app\\\\base\\\\MiErro...', Array, Array)\r\n#1 framework/vendor/yiisoft/yii2/BaseYii.php(349): yii\\di\\Container->get('app\\\\base\\\\MiErro...', Array, Array)\r\n#2 framework/vendor/yiisoft/yii2/di/ServiceLocator.php(137): yii\\BaseYii::createObject(Array)\r\n#3 framework/vendor/yiisoft/yii2/base/Module.php(742): yii\\di\\ServiceLocator->get('errorHandler', true)\r\n#4 framework/vendor/yiisoft/yii2/web/Application.php(151): yii\\base\\Module->get('errorHandler')\r\n#5 framework/vendor/yiisoft/yii2/base/Application.php(347): yii\\web\\Application->getErro\" while reading response header from upstream, client: 192.168.0.69, server: erp.garrampa.local, request: \"GET / HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php-erp.garrampa.local.sock:\", host: \"erp.garrampa.local\"```\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14\r\n| PHP version      | 7.2.3 \r\n| Operating system | CentOS\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15935","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15935/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15935/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15935/events","html_url":"https://github.com/yiisoft/yii2/issues/15935","id":307086789,"number":15935,"title":"Call to a member function getRoute() on null","user":{"login":"sgh370","id":25865344,"avatar_url":"https://avatars0.githubusercontent.com/u/25865344?v=4","gravatar_id":"","url":"https://api.github.com/users/sgh370","html_url":"https://github.com/sgh370","followers_url":"https://api.github.com/users/sgh370/followers","following_url":"https://api.github.com/users/sgh370/following{/other_user}","gists_url":"https://api.github.com/users/sgh370/gists{/gist_id}","starred_url":"https://api.github.com/users/sgh370/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgh370/subscriptions","organizations_url":"https://api.github.com/users/sgh370/orgs","repos_url":"https://api.github.com/users/sgh370/repos","events_url":"https://api.github.com/users/sgh370/events{/privacy}","received_events_url":"https://api.github.com/users/sgh370/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-21T00:36:35Z","updated_at":"2018-03-21T09:09:43Z","closed_at":"2018-03-21T09:09:43Z","author_association":"NONE","body":"Hi, when i open the site url, get 500 error in all pages and again when refresh it, its gone and in the ajax request i get 500 error. this error is happend:\r\n```php\r\nPHP Fatal Error – yii\\base\\ErrorException\r\nCall to a member function getRoute() on null\r\nin C:\\xampp\\htdocs\\myshop\\lib\\vendor\\yiisoft\\yii2\\helpers\\BaseUrl.php\r\n                      * - string: generating an absolute URL with the specified scheme (either `http`, `https` or empty string\r\n     *   for protocol-relative URL).\r\n     *\r\n     * @return string the generated URL\r\n     * @since 2.0.3\r\n     */\r\n    public static function current(array $params = [], $scheme = false)\r\n    {\r\n        $currentParams = Yii::$app->getRequest()->getQueryParams();\r\n        $currentParams[0] = '/' . Yii::$app->controller->getRoute();  \r\n        $route = array_replace_recursive($currentParams, $params);\r\n        return static::toRoute($route, $scheme);\r\n    }\r\n```\r\n\r\nerror release in here in the function:\r\n`$currentParams[0] = '/' . Yii::$app->controller->getRoute(); `\r\nplease help me. please help me. thanks","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15933","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15933/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15933/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15933/events","html_url":"https://github.com/yiisoft/yii2/issues/15933","id":306987526,"number":15933,"title":"2.0.13.2 hotfix broke ActiveRecord::refresh() method","user":{"login":"PowerGamer1","id":8275897,"avatar_url":"https://avatars1.githubusercontent.com/u/8275897?v=4","gravatar_id":"","url":"https://api.github.com/users/PowerGamer1","html_url":"https://github.com/PowerGamer1","followers_url":"https://api.github.com/users/PowerGamer1/followers","following_url":"https://api.github.com/users/PowerGamer1/following{/other_user}","gists_url":"https://api.github.com/users/PowerGamer1/gists{/gist_id}","starred_url":"https://api.github.com/users/PowerGamer1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PowerGamer1/subscriptions","organizations_url":"https://api.github.com/users/PowerGamer1/orgs","repos_url":"https://api.github.com/users/PowerGamer1/repos","events_url":"https://api.github.com/users/PowerGamer1/events{/privacy}","received_events_url":"https://api.github.com/users/PowerGamer1/received_events","type":"User","site_admin":false},"labels":[{"id":33208443,"url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false}],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"assignees":[{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/33","html_url":"https://github.com/yiisoft/yii2/milestone/33","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/33/labels","id":3206887,"number":33,"title":"2.0.13.3","description":"","creator":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":1,"state":"closed","created_at":"2018-03-21T16:57:19Z","updated_at":"2018-03-21T18:53:38Z","due_on":"2018-03-21T07:00:00Z","closed_at":"2018-03-21T18:53:38Z"},"comments":8,"created_at":"2018-03-20T18:30:01Z","updated_at":"2018-03-21T18:53:21Z","closed_at":"2018-03-21T18:52:58Z","author_association":"CONTRIBUTOR","body":"### What steps will reproduce the problem?\r\n```PHP\r\n$model = User::findOne(['id' => 123]); // user 123 exists in database\r\n$model->refresh();\r\n```\r\n### What is the expected result?\r\nNo errors.\r\n\r\n### What do you get instead?\r\nyii\\base\\InvalidParamException\r\nKey \"user.id\" is not a column name and can not be used as a filter\r\n\r\n### Additional info\r\nThe example code above works fine in Yii2 2.0.13.1.\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.13.2\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15929","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15929/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15929/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15929/events","html_url":"https://github.com/yiisoft/yii2/issues/15929","id":306891617,"number":15929,"title":"Command before SELECT using yii\\db\\Query","user":{"login":"devaptas","id":36535740,"avatar_url":"https://avatars2.githubusercontent.com/u/36535740?v=4","gravatar_id":"","url":"https://api.github.com/users/devaptas","html_url":"https://github.com/devaptas","followers_url":"https://api.github.com/users/devaptas/followers","following_url":"https://api.github.com/users/devaptas/following{/other_user}","gists_url":"https://api.github.com/users/devaptas/gists{/gist_id}","starred_url":"https://api.github.com/users/devaptas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devaptas/subscriptions","organizations_url":"https://api.github.com/users/devaptas/orgs","repos_url":"https://api.github.com/users/devaptas/repos","events_url":"https://api.github.com/users/devaptas/events{/privacy}","received_events_url":"https://api.github.com/users/devaptas/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-20T14:32:52Z","updated_at":"2018-03-20T17:04:15Z","closed_at":"2018-03-20T17:04:15Z","author_association":"NONE","body":"How can I bound a CTE (PostgreSQL) before do a select using yii\\db\\Query on ModelSearch? It's possible? for example:\r\n\r\n```\r\nWITH RECURSIVE downlots as (\r\n        SELECT sl1.sadt_lot_id, 0 AS level, sl1.sadt_lot_id as root_id\r\n        FROM sadt_lot sl1\r\n        WHE
8000
RE sl1.parent_lot_id IS NULL\r\n    UNION\r\n        SELECT sl2.sadt_lot_id, d.level + 1, d.sadt_lot_id as root_id\r\n        FROM sadt_lot sl2\r\n        INNER JOIN downlots d ON d.sadt_lot_id = sl2.parent_lot_id\r\n)\r\nSELECT sl.sadt_lot_id, array_agg(s.sadt_id)\r\nFROM sadt_lot sl\r\nLEFT JOIN downlots d ON d.root_id = sl.sadt_lot_id\r\nLEFT JOIN sadt s ON s.sadt_lot_id = d.sadt_lot_id\r\nWHERE sl.parent_lot_id IS NULL \r\nGROUP BY sl.sadt_lot_id\r\nORDER BY sl.sadt_lot_id;\r\n```","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15925","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15925/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15925/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15925/events","html_url":"https://github.com/yiisoft/yii2/issues/15925","id":306510593,"number":15925,"title":"Не работает addErrorClassIfNeeded в случае массовой загрузки данных","user":{"login":"wartur","id":1358236,"avatar_url":"https://avatars1.githubusercontent.com/u/1358236?v=4","gravatar_id":"","url":"https://api.github.com/users/wartur","html_url":"https://github.com/wartur","followers_url":"https://api.github.com/users/wartur/followers","following_url":"https://api.github.com/users/wartur/following{/other_user}","gists_url":"https://api.github.com/users/wartur/gists{/gist_id}","starred_url":"https://api.github.com/users/wartur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wartur/subscriptions","organizations_url":"https://api.github.com/users/wartur/orgs","repos_url":"https://api.github.com/users/wartur/repos","events_url":"https://api.github.com/users/wartur/events{/privacy}","received_events_url":"https://api.github.com/users/wartur/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-19T15:26:14Z","updated_at":"2018-03-19T15:57:28Z","closed_at":"2018-03-19T15:57:28Z","author_association":"NONE","body":"Имеем массив моделей, они массово грузятся и массово сохраняются через форму согласно инструкции по массовой загрузке данных\r\n```php\r\n<?php foreach ($dataarray as $index => $entryModel): ?>\r\n<?= $form->field($entryModel, \"[$index]fieldname\")->textInput() ?>\r\n<?php endforeach;?>\r\n```\r\n\r\n### What steps will reproduce the problem?\r\n1) Создать все согласно инструкции по массовой загрузке\r\n2) Отключить клиентскую валидацию\r\n3) Создать ситуацию ошибки\r\n4) Обнаруживается что класс has-error в этом случае не добавляется\r\n\r\n### What is the expected result?\r\nдобавление класса has-error в форме к блоку с данными\r\n\r\n### What do you get instead?\r\nкласс не добавляется\r\n\r\n### Additional info\r\nОшибка кроется в парсинге hasErrors, надо как-то переделать $this->attribute\r\n```php\r\n    /**\r\n     * Adds validation class to the input options if needed.\r\n     * @param $options array input options\r\n     * @since 2.0.14\r\n     */\r\n    protected function addErrorClassIfNeeded(&$options)\r\n    {\r\n        if ($this->model->hasErrors($this->attribute)) {\r\n            Html::addCssClass($options, $this->form->errorCssClass);\r\n        }\r\n    }\r\n```\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14\r\n| PHP version  |     7.0.8| \r\n| Operating system |  Windows|\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15924","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15924/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15924/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15924/events","html_url":"https://github.com/yiisoft/yii2/issues/15924","id":306456523,"number":15924,"title":"How to use setRetryHandler","user":{"login":"Choate","id":8521151,"avatar_url":"https://avatars1.githubusercontent.com/u/8521151?v=4","gravatar_id":"","url":"https://api.github.com/users/Choate","html_url":"https://github.com/Choate","followers_url":"https://api.github.com/users/Choate/followers","following_url":"https://api.github.com/users/Choate/following{/other_user}","gists_url":"https://api.github.com/users/Choate/gists{/gist_id}","starred_url":"https://api.github.com/users/Choate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Choate/subscriptions","organizations_url":"https://api.github.com/users/Choate/orgs","repos_url":"https://api.github.com/users/Choate/repos","events_url":"https://api.github.com/users/Choate/events{/privacy}","received_events_url":"https://api.github.com/users/Choate/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-19T13:12:39Z","updated_at":"2018-03-19T14:53:49Z","closed_at":"2018-03-19T14:53:49Z","author_association":"NONE","body":"","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15923","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15923/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15923/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15923/events","html_url":"https://github.com/yiisoft/yii2/issues/15923","id":306353757,"number":15923,"title":"yii2 multiple device login","user":{"login":"patel28","id":2745267,"avatar_url":"https://avatars3.githubusercontent.com/u/2745267?v=4","gravatar_id":"","url":"https://api.github.com/users/patel28","html_url":"https://github.com/patel28","followers_url":"https://api.github.com/users/patel28/followers","following_url":"https://api.github.com/users/patel28/following{/other_user}","gists_url":"https://api.github.com/users/patel28/gists{/gist_id}","starred_url":"https://api.github.com/users/patel28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patel28/subscriptions","organizations_url":"https://api.github.com/users/patel28/orgs","repos_url":"https://api.github.com/users/patel28/repos","events_url":"https://api.github.com/users/patel28/events{/privacy}","received_events_url":"https://api.github.com/users/patel28/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-19T07:10:52Z","updated_at":"2018-03-19T09:20:19Z","closed_at":"2018-03-19T09:20:16Z","author_association":"NONE","body":"Can you please provide inbuilt support for multiple device login like facebook and google \r\nI want to \r\n##  yii2 disable multiple device login\r\nor \r\nUser can manage session like facebook and google \r\nwhere user can manage logged in devices \r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.?\r\n| PHP version      | 7.0\r\n| Operating system | ALL\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15922","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15922/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15922/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15922/events","html_url":"https://github.com/yiisoft/yii2/issues/15922","id":306350699,"number":15922,"title":"no setConditionClasses() method in yii\\db\\QueryBuilder","user":{"login":"ung0vernab1e","id":29980888,"avatar_url":"https://avatars3.githubusercontent.com/u/29980888?v=4","gravatar_id":"","url":"https://api.github.com/users/ung0vernab1e","html_url":"https://github.com/ung0vernab1e","followers_url":"https://api.github.com/users/ung0vernab1e/followers","following_url":"https://api.github.com/users/ung0vernab1e/following{/other_user}","gists_url":"https://api.github.com/users/ung0vernab1e/gists{/gist_id}","starred_url":"https://api.github.com/users/ung0vernab1e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ung0vernab1e/subscriptions","organizations_url":"https://api.github.com/users/ung0vernab1e/orgs","repos_url":"https://api.github.com/users/ung0vernab1e/repos","events_url":"https://api.github.com/users/ung0vernab1e/events{/privacy}","received_events_url":"https://api.github.com/users/ung0vernab1e/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-19T06:53:30Z","updated_at":"2018-03-19T07:00:15Z","closed_at":"2018-03-19T07:00:15Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\nHello. I am trying to register a new condition in a query builder by adding an element to a classmap.\r\nBut the classmap property as i see do not have a setter.\r\n\r\n### What steps will reproduce the problem?\r\n```\r\n// db config\r\nreturn [\r\n    'class' => 'yii\\db\\Connection',\r\n    ...\r\n    'queryBuilder' => [\r\n        ...\r\n        'conditionClasses' => [\r\n            'IJSONB' => 'app\\components\\JsonbCondition',\r\n        ]\r\n    ],\r\n```\r\n\r\n### What is the expected result?\r\nThe new condition added.\r\n\r\nThe comments in code:\r\n```\r\n    /**\r\n     * ...\r\n     * In case you want to add custom conditions support, use the [[setConditionClasses()]] method.\r\n     *\r\n     * @see setConditonClasses()\r\n     * ...\r\n     */\r\n    protected $conditionClasses = [];\r\n```\r\n\r\n### What do you get instead?\r\n```\r\nUnknown Method – yii\\base\\UnknownMethodException\r\nCalling unknown method: yii\\db\\pgsql\\QueryBuilder::setConditionClasses()\r\n```\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.1\r\n| PHP version      | 7.0.26\r\n| Operating system | Mac OS\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15920","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15920/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15920/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15920/events","html_url":"https://github.com/yiisoft/yii2/issues/15920","id":306273607,"number":15920,"title":"Action executed Twice while redirecting","user":{"login":"mmezzawi","id":7659930,"avatar_url":"https://avatars2.githubusercontent.com/u/7659930?v=4","gravatar_id":"","url":"https://api.github.com/users/mmezzawi","html_url":"https://github.com/mmezzawi","followers_url":"https://api.github.com/users/mmezzawi/followers","following_url":"https://api.github.com/users/mmezzawi/following{/other_user}","gists_url":"https://api.github.com/users/mmezzawi/gists{/gist_id}","starred_url":"https://api.github.com/users/mmezzawi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmezzawi/subscriptions","organizations_url":"https://api.github.com/users/mmezzawi/orgs","repos_url":"https://api.github.com/users/mmezzawi/repos","events_url":"https://api.github.com/users/mmezzawi/events{/privacy}","received_events_url":"https://api.github.com/users/mmezzawi/received_events","type":"User","site_admin":false},"labels":[{"id":38412944,"url":"https://api.github.com/repos/yiisoft/yii2/labels/status:to%20be%20verified","name":"status:to be verified","color":"fbca04","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2018-03-18T19:30:22Z","updated_at":"2018-03-20T21:00:46Z","closed_at":"2018-03-20T20:57:15Z","author_association":"NONE","body":"### What steps will reproduce the problem?\r\n\r\n```php\r\npublic function actionLaunch()\r\n {\r\n   return $this->redirect(['site/index']);\r\n }\r\n\t\r\npublic function actionIndex()\r\n    {\r\n       if(!empty($_SESSION['basic']))\r\n\t\t\t$_SESSION['basic']++;\r\n\t\telse\r\n\t\t\t$_SESSION['basic']= 1;\r\n\r\n\t\techo $_SESSION['basic'];\r\n    }\r\n```\r\n\r\n### What is the expected result?\r\nSession will be incremented by one while redirect\r\nwhich mean the action is executed once\r\n\r\n### What do you get instead?\r\nSession will be incremented by two ( not always )\r\nwhich mean the action is executed twice\r\n\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.2\r\n| PHP version      |  7.0\r\n| Operating system |  windows\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15917","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15917/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15917/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15917/events","html_url":"https://github.com/yiisoft/yii2/issues/15917","id":306233974,"number":15917,"title":"Cookie not removing","user":{"login":"mezlad","id":10708196,"avatar_url":"https://avatars3.githubusercontent.com/u/10708196?v=4","gravatar_id":"","url":"https://api.github.com/users/mezlad","html_url":"https://github.com/mezlad","followers_url":"https://api.github.com/users/mezlad/followers","following_url":"https://api.github.com/users/mezlad/following{/other_user}","gists_url":"https://api.github.com/users/mezlad/gists{/gist_id}","starred_url":"https://api.github.com/users/mezlad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mezlad/subscriptions","organizations_url":"https://api.github.com/users/mezlad/orgs","repos_url":"https://api.github.com/users/mezlad/repos","events_url":"https://api.github.com/users/mezlad/events{/privacy}","received_events_url":"https://api.github.com/users/mezlad/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-18T11:57:06Z","updated_at":"2018-03-19T21:34:56Z","closed_at":"2018-03-18T22:29:23Z","author_association":"NONE","body":"The issue I am having is that the cookie wont remove. The steps I use were found on http://www.bsourcecode.com/yiiframework2/cookies-handling-in-yii-framework2-0/. The cookie is added successfully but its not being removed.\r\n\r\nMy code snippet is as follows:\r\n\r\n```php\r\npublic function actionIndex()\r\n{\r\n    if (!\\Yii::$app->user->isGuest) {\r\n        if(empty(Yii::$app->session->get('user')->activeUserTerms)){\r\n            return $this->redirect(\\Yii::$app->urlManager->createUrl(['site/terms']));\r\n        }\r\n        else{\r\n            return $this->render('index');\r\n        }\r\n    }\r\n    else{            \r\n        $this->layout = 'login';\r\n        $model = new LoginForm();\r\n        $model->scenario = \"login\";\r\n        $forget = new ForgetForm();\r\n\r\n        if ( $model->load(Yii::$app->request->post()) ) {\r\n\r\n            $message = $model->backendLogin();\r\n\r\n            $cookies = Yii::$app->response->cookies;\r\n            if(!empty($cookies->get('remember_me'))){\r\n                $cookies->remove('remember_me');\r\n                unset($cookies['remember_me']);\r\n            }\r\n\r\n            if($model->rememberMe){\r\n                $cookies = Yii::$app->response->cookies;\r\n                $cookies->add(new \\yii\\web\\Cookie([\r\n                    'name' => 'remember_me',\r\n                    'value' => $model->email,\r\n                    'expire' => time() + (60*60*24*365)\r\n                ]));\r\n            }\r\n\r\n            if( !empty($message->status) && (int) $message->status === 201 ){\r\n                Yii::$app->user->login(new FrontUser(),0);                    \r\n\r\n                $message->user->backendUserLog = $message->user_log->user_log;\r\n\r\n                Yii::$app->session->set('user',$message->user);\r\n\r\n                if(!empty($message->user->user->userRoleMappings)){\r\n                    foreach ($message->user->user->userRoleMappings as $key => $value) {\r\n\r\n                        if(!empty($value->userRole) && strtolower($value->userRole->User_Type) === \"superadmin\"){\r\n                            Yii::$app->session->set('superadmin',1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return $this->redirect(\\Yii::$app->urlManager->createUrl(\"\"));\r\n        }\r\n        elseif ($forget->load(Yii::$app->request->post()) && $forget->forgetPassword()){\r\n            return $this->redirect(\\Yii::$app->urlManager->createUrl(\"\"));\r\n        }\r\n        else{\r\n\r\n            \r\n\r\n            $cookies = Yii::$app->request->cookies;\r\n            \r\n            if(!empty($cookies->get('remember_me'))){\r\n                $model->email = $cookies->getValue('remember_me');\r\n                $model->rememberMe = true;                    \r\n            }\r\n            \r\n            return $this->render('login',['model'=>$model,'forget'=>$forget]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAfter the remove cookie method is executed and the page reloads, the cookie still exists.","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15916","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15916/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15916/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15916/events","html_url":"https://github.com/yiisoft/yii2/issues/15916","id":306136137,"number":15916,"title":"'Update User: {nameAttribute}'","user":{"login":"pptyasar","id":21305090,"avatar_url":"https://avatars0.githubusercontent.com/u/21305090?v=4","gravatar_id":"","url":"https://api.github.com/users/pptyasar","html_url":"https://github.com/pptyasar","followers_url":"https://api.github.com/users/pptyasar/followers","following_url":"https://api.github.com/users/pptyasar/following{/other_user}","gists_url":"https://api.github.com/users/pptyasar/gists{/gist_id}","starred_url":"https://api.github.com/users/pptyasar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pptyasar/subscriptions","organizations_url":"https://api.github.com/users/pptyasar/orgs","repos_url":"https://api.github.com/users/pptyasar/repos","events_url":"https://api.github.com/users/pptyasar/events{/privacy}","received_events_url":"https://api.github.com/users/pptyasar/received_events","type":"User","site_admin":false},"labels":[{"id":67525403,"url":"https://api.github.com/repos/yiisoft/yii2/labels/ext:gii","name":"ext:gii","color":"bfd4f2","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-17T07:32:36Z","updated_at":"2018-03-17T11:15:54Z","closed_at":"2018-03-17T11:15:54Z","author_association":"NONE","body":"When creating CRUD with gii in update page getting title incorrect.\r\nGii generating as below.\r\n\r\n`$this->title = 'Update User: {nameAttribute}';`\r\n\r\nIs this intended or bug?","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15915","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15915/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15915/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15915/events","html_url":"https://github.com/yiisoft/yii2/issues/15915","id":306130969,"number":15915,"title":"Yii2 how to achieve data batch updates?","user":{"login":"hey-onlybaby","id":4952182,"avatar_url":"https://avatars0.githubusercontent.com/u/4952182?v=4","gravatar_id":"","url":"https://api.github.com/users/hey-onlybaby","html_url":"https://github.com/hey-onlybaby","followers_url":"https://api.github.com/users/hey-onlybaby/followers","following_url":"https://api.github.com/users/hey-onlybaby/following{/other_user}","gists_url":"https://api.github.com/users/hey-onlybaby/gists{/gist_id}","starred_url":"https://api.github.com/users/hey-onlybaby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hey-onlybaby/subscriptions","organizations_url":"https://api.github.com/users/hey-onlybaby/orgs","repos_url":"https://api.github.com/users/hey-onlybaby/repos","events_url":"https://api.github.com/users/hey-onlybaby/events{/privacy}","received_events_url":"https://api.github.com/users/hey-onlybaby/received_events","type":"User","site_admin":false},"labels":[{"id":315614343,"url":"https://api.github.com/repos/yiisoft/yii2/labels/question","name":"question","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-17T05:51:45Z","updated_at":"2018-03-17T11:44:43Z","closed_at":"2018-03-17T11:44:40Z","author_association":"NONE","body":"Table structure： spec_value_id (primary key), spec_value_name, spec_id, sort\r\ndata array:\r\n$old_batch_data[] = [ 'spec_value_id' => 22, 'spec_value_name' => 'XL',  'spec_id' => 2,  'sort' => 50];\r\n$old_batch_data[] = [ 'spec_value_id' => 23, 'spec_value_name' => 'X',  'spec_id' => 2,  'sort' => 50];\r\n$old_batch_data[] = [ 'spec_value_id' => 24, 'spec_value_name' => 'M',  'spec_id' => 2,  'sort' => 50];\r\n\r\nHow to implement batch update of the above data in the table, the condition is where(['spec_id' => $this->spec_id]),\r\n(Note: Not executing sql in a loop statement)\r\n\r\nyii has been implemented（batchInsert）\r\n$new_batch_data[] = ['M', 2, 50];\r\n$new_batch_data[] = ['XL', 2, 30];\r\n\r\nself::getDb()->createCommand()\r\n                        ->batchInsert(XXModel::tableName(), ['spec_value_name', 'spec_id', 'sort'], $new_batch_data)\r\n                        ->execute();\r\n\r\nHow to batch update for  replace into？\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15912","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15912/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15912/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15912/events","html_url":"https://github.com/yiisoft/yii2/issues/15912","id":305988161,"number":15912,"title":"yii\\widgets\\MaskedInput removes custom classes and attributes applied via inputOptions","user":{"login":"buttflattery","id":1536454,"avatar_url":"https://avatars1.githubusercontent.com/u/1536454?v=4","gravatar_id":"","url":"https://api.github.com/users/buttflattery","html_url":"https://github.com/buttflattery","followers_url":"https://api.github.com/users/buttflattery/followers","following_url":"https://api.github.com/users/buttflattery/following{/other_user}","gists_url":"https://api.github.com/users/buttflattery/gists{/gist_id}","starred_url":"https://api.github.com/users/buttflattery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buttflattery/subscriptions","organizations_url":"https://api.github.com/users/buttflattery/orgs","repos_url":"https://api.github.com/users/buttflattery/repos","events_url":"https://api.github.com/users/buttflattery/events{/privacy}","received_events_url":"https://api.github.com/users/buttflattery/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/25","html_url":"https://github.com/yiisoft/yii2/milestone/25","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/25/labels","id":2562828,"number":25,"title":"2.0.16","description":"","creator":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"open_issues":156,"closed_issues":21,"state":"open","created_at":"2017-06-05T18:03:36Z","updated_at":"2018-03-23T18:08:21Z","due_on":"2018-04-20T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-03-16T16:10:52Z","updated_at":"2018-03-19T11:51:06Z","closed_at":"2018-03-17T11:44:06Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nUsing `ActiveForm` Create a Masked Input and add a class `my-control` to it via `inputOptions` in `field()` and provide a `style` attribute with `display:none` like below \r\n```\r\n<?=\r\n        $form->field($model, 'mobile_phone', [\r\n            'inputOptions' => ['class' => 'my-control', 'useSessionFlash' => true,'style'=>'display:none'],\r\n            'template' => '<div class=\"form-line\">{label}{input}</div>{error}',\r\n        ])->widget(\\yii\\widgets\\MaskedInput::className(), [\r\n            'mask' => '999-999-9999'\r\n        ])->label(null, ['class' => 'form-label']);\r\n        ?>\r\n```\r\n\r\n### What is the expected result?\r\nThe rendered input should have the class applied in the class attribute and should have a style attribute defined with `display:none `\r\n```\r\n<input id=\"leadform-mobile_phone\" class=\"my-control\" name=\"LeadForm[mobile_phone]\" data-plugin-inputmask=\"inputmask_7b93eb48\" type=\"text\" style=\"display:none\">\r\n```\r\n\r\n### What do you get instead?\r\n\r\nThe renderd input shows the default class `form-control` on the input and there isnt any `style` attribute defined where as it should have the custom class `my-control` it renders the input like below \r\n\r\n```\r\n<input id=\"leadform-mobile_phone\" class=\"form-control\" name=\"LeadForm[mobile_phone]\" data-plugin-inputmask=\"inputmask_7b93eb48\" type=\"text\">\r\n```\r\nIf we remove he `MaskedInput` widget everything works as normal\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.1\r\n| PHP version      | 5.6\r\n| Operating system |Ubuntu\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15910","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15910/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15910/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15910/events","html_url":"https://github.com/yiisoft/yii2/issues/15910","id":305922202,"number":15910,"title":"i18n Formatter.php defaultTimeZone bug","user":{"login":"shengbinxu","id":3232275,"avatar_url":"https://avatars2.githubusercontent.com/u/3232275?v=4","gravatar_id":"","url":"https://api.github.com/users/shengbinxu","html_url":"https://github.com/shengbinxu","followers_url":"https://api.github.com/users/shengbinxu/followers","following_url":"https://api.github.com/users/shengbinxu/following{/other_user}","gists_url":"https://api.github.com/users/shengbinxu/gists{/gist_id}","starred_url":"https://api.github.com/users/shengbinxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shengbinxu/subscriptions","organizations_url":"https://api.github.com/users/shengbinxu/orgs","repos_url":"https://api.github.com/users/shengbinxu/repos","events_url":"https://api.github.com/users/shengbinxu/events{/privacy}","received_events_url":"https://api.github.com/users/shengbinxu/received_events","type":"User","site_admin":false},"labels":[{"id":33241821,"url":"https://api.github.com/repos/yiisoft/yii2/labels/status:under%20discussion","name":"status:under discussion","color":"f7c6c7","default":false},{"id":33332028,"url":"https://api.github.com/repos/yiisoft/yii2/labels/type:enhancement","name":"type:enhancement","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"assignees":[{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/22","html_url":"https://github.com/yiisoft/yii2/milestone/22","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/22/labels","id":1962396,"number":22,"title":"2.1.0","description":"","creator":{"login":"samdark","id":47294,"avatar_url":"https://avatars2.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","site_admin":false},"open_issues":242,"closed_issues":123,"state":"open","created_at":"2016-08-25T07:42:19Z","updated_at":"2018-03-23T23:49:07Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2018-03-16T13:11:12Z","updated_at":"2018-03-18T10:5
8000
5:59Z","closed_at":"2018-03-18T10:43:37Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nI am in china, my php.ini  date.timezone = 'Asia/Shanghai', when I run the follow code:\r\n\r\n        \\Yii::$app->formatter->timeFormat = 'short';\r\n\r\n        // \\Yii::$app->formatter->defaultTimeZone = ini_get('date.timezone');\r\n\r\n        echo \\Yii::$app->formatter->asTime('2018-03-16 20:56');\r\n\r\nIt will output：\r\n上午4:56\r\nIt means morning 4：56， but really it is afternoon 8:56,  the difference is 8 hours。\r\nwhen I uncomment the code:\r\n\r\n`\r\n\\Yii::$app->formatter->defaultTimeZone = ini_get('date.timezone');\r\n`\r\nIt will output:\r\n下午8:56\r\nIt is ok。\r\n\r\nso I think in i18n/Formatter.php， the default value of defaultTimeZone attribute  should be set  to `ini_get('date.timezone')`\r\n\r\n### What is the expected result?\r\n\r\nin i18n/Formatter.php， the default value of defaultTimeZone attribute  should be set to `ini_get('date.timezone')` , not UTC\r\n\r\n### What do you get instead?\r\n\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.1\r\n| PHP version      | 7.1\r\n| Operating system | centos\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15907","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15907/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15907/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15907/events","html_url":"https://github.com/yiisoft/yii2/issues/15907","id":305799306,"number":15907,"title":"Determine length for bindValues as bindParam does","user":{"login":"xyluet","id":18754851,"avatar_url":"https://avatars2.githubusercontent.com/u/18754851?v=4","gravatar_id":"","url":"https://api.github.com/users/xyluet","html_url":"https://github.com/xyluet","followers_url":"https://api.github.com/users/xyluet/followers","following_url":"https://api.github.com/users/xyluet/following{/other_user}","gists_url":"https://api.github.com/users/xyluet/gists{/gist_id}","starred_url":"https://api.github.com/users/xyluet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyluet/subscriptions","organizations_url":"https://api.github.com/users/xyluet/orgs","repos_url":"https://api.github.com/users/xyluet/repos","events_url":"https://api.github.com/users/xyluet/events{/privacy}","received_events_url":"https://api.github.com/users/xyluet/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-16T04:31:36Z","updated_at":"2018-03-16T08:45:04Z","closed_at":"2018-03-16T08:45:04Z","author_association":"NONE","body":"so in\r\n`\r\npublic function bindParam($name, &$value, $dataType = null, $length = null, $driverOptions = null)\r\n`\r\n\r\nit determine the length of the datatype which is i'm using PDO.\r\n\r\nin bindvalues ?\r\n\r\nI'm using oracle stored procedure with out param\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.x\r\n| PHP version      | 5.6\r\n| DB | Oracle","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15906","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15906/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15906/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15906/events","html_url":"https://github.com/yiisoft/yii2/issues/15906","id":305757391,"number":15906,"title":"Problem with discovering real user IP in case of reverse proxy","user":{"login":"MattRh","id":9138285,"avatar_url":"https://avatars0.githubusercontent.com/u/9138285?v=4","gravatar_id":"","url":"https://api.github.com/users/MattRh","html_url":"https://github.com/MattRh","followers_url":"https://api.github.com/users/MattRh/followers","following_url":"https://api.github.com/users/MattRh/following{/other_user}","gists_url":"https://api.github.com/users/MattRh/gists{/gist_id}","starred_url":"https://api.github.com/users/MattRh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MattRh/subscriptions","organizations_url":"https://api.github.com/users/MattRh/orgs","repos_url":"https://api.github.com/users/MattRh/repos","events_url":"https://api.github.com/users/MattRh/events{/privacy}","received_events_url":"https://api.github.com/users/MattRh/received_events","type":"User","site_admin":false},"labels":[{"id":145356565,"url":"https://api.github.com/repos/yiisoft/yii2/labels/status:need%20more%20info","name":"status:need more info","color":"d4c5f9","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-03-15T23:47:59Z","updated_at":"2018-03-16T15:09:53Z","closed_at":"2018-03-16T15:09:53Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nUse reverse proxy that will store real user IP address in headers `HTTP_X_REAL_IP` or `HTTP_X_FORWARDED_FOR` and overrides `REMOTE_ADDR` with it's own IP\r\n### What is the expected result?\r\n`Yii::$app->request->userIP` or `Yii::$app->request->remoteIP` should still return user's IP, not IP of the reverse proxy\r\n### What do you get instead?\r\nBoth of properties returns IP adress of reverse proxy\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.2\r\n| PHP version      | 7.2.3 \r\n| Operating system | Debian 9.4\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15905","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15905/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15905/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15905/events","html_url":"https://github.com/yiisoft/yii2/issues/15905","id":305564065,"number":15905,"title":"cebe/markdown","user":{"login":"free6k","id":1732637,"avatar_url":"https://avatars2.githubusercontent.com/u/1732637?v=4","gravatar_id":"","url":"https://api.github.com/users/free6k","html_url":"https://github.com/free6k","followers_url":"https://api.github.com/users/free6k/followers","following_url":"https://api.github.com/users/free6k/following{/other_user}","gists_url":"https://api.github.com/users/free6k/gists{/gist_id}","starred_url":"https://api.github.com/users/free6k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/free6k/subscriptions","organizations_url":"https://api.github.com/users/free6k/orgs","repos_url":"https://api.github.com/users/free6k/repos","events_url":"https://api.github.com/users/free6k/events{/privacy}","received_events_url":"https://api.github.com/users/free6k/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"assignees":[{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/10","html_url":"https://github.com/yiisoft/yii2/milestone/10","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/10/labels","id":838439,"number":10,"title":"infrastructure","description":"","creator":{"login":"samdark","id":47294,"avatar_url":"https://avatars2.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","site_admin":false},"open_issues":16,"closed_issues":88,"state":"open","created_at":"2014-10-24T00:17:21Z","updated_at":"2018-03-15T14:20:49Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2018-03-15T14:00:09Z","updated_at":"2018-03-19T13:44:42Z","closed_at":"2018-03-15T14:20:48Z","author_association":"NONE","body":"16 hours ago was be change composer.json for cebe/markdown. our ci system is degraded...\r\ni have next errors in composer:\r\n\r\n```\r\nInstallation request for yiisoft/yii2 2.0.12 -> satisfiable by yiisoft/yii2[2.0.12].\r\nyiisoft/yii2 2.0.12 requires cebe/markdown ~1.0.0 | ~1.1.0 -> no matching package found.\r\n```\r\n\r\nok, i read upgrade.md and got next error:\r\n\r\n```\r\n The requested package cebe/markdown ~1.1.0 exists as cebe/markdown[1.2.x-dev, dev-master] but th\r\n  ese are rejected by your constraint.\r\n```\r\n\r\nis it time to upgrade yii version? :)","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15903","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15903/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15903/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15903/events","html_url":"https://github.com/yiisoft/yii2/issues/15903","id":305505643,"number":15903,"title":"codeception functional tests: Class SebastianBergmann\\Timer\\Timer not found","user":{"login":"macklus","id":3457708,"avatar_url":"https://avatars1.githubusercontent.com/u/3457708?v=4","gravatar_id":"","url":"https://api.github.com/users/macklus","html_url":"https://github.com/macklus","followers_url":"https://api.github.com/users/macklus/followers","following_url":"https://api.github.com/users/macklus/following{/other_user}","gists_url":"https://api.github.com/users/macklus/gists{/gist_id}","starred_url":"https://api.github.com/users/macklus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/macklus/subscriptions","organizations_url":"https://api.github.com/users/macklus/orgs","repos_url":"https://api.github.com/users/macklus/repos","events_url":"https://api.github.com/users/macklus/events{/privacy}","received_events_url":"https://api.github.com/users/macklus/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T11:04:44Z","updated_at":"2018-03-15T13:52:03Z","closed_at":"2018-03-15T13:52:03Z","author_association":"NONE","body":"### What steps will reproduce the problem?\r\n\r\ninstall codeception \r\nrun ./vendor/bin/codeception run\r\n\r\n### What is the expected result?\r\n\r\nClass should be loaded\r\n\r\n### What do you get instead?\r\n\r\nError:\r\n```\r\nFunctional Tests (10) -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n- ContactFormCest: Open contact page<pre>Exception &#039;Error&#039; with message &#039;Class &#039;SebastianBergmann\\Timer\\Timer&#039; not found&#039; \r\n\r\nin framework/vendor/codeception/base/src/Codeception/Test/Test.php:87\r\n\r\nStack trace:\r\n#0 framework/vendor/phpunit/phpunit/src/Framework/TestSuite.php(744): Codeception\\Test\\Test-&gt;run(Object(PHPUnit\\Framework\\TestResult))\r\n#1 framework/vendor/codeception/phpunit-wrapper/src/Runner.php(106): PHPUnit\\Framework\\TestSuite-&gt;run(Object(PHPUnit\\Framework\\TestResult))\r\n#2 framework/vendor/codeception/base/src/Codeception/SuiteManager.php(157): Codeception\\PHPUnit\\Runner-&gt;doEnhancedRun(Object(Codeception\\Suite), Object(PHPUnit\\Framework\\TestResult), Array)\r\n#3 framework/vendor/codeception/base/src/Codeception/Codecept.php(189): Codeception\\SuiteManager-&gt;run(Object(Codeception\\PHPUnit\\Runner), Object(PHPUnit\\Framework\\TestResult), Array)\r\n#4 framework/vendor/codeception/base/src/Codeception/Codecept.php(158): Codeception\\Codecept-&gt;runSuite(Array, &#039;functional&#039;, NULL)\r\n#5 framework/vendor/codeception/base/src/Codeception/Command/Run.php(466): Codeception\\Codecept-&gt;run(&#039;functional&#039;)\r\n#6 framework/vendor/codeception/base/src/Codeception/Command/Run.php(361): Codeception\\Command\\Run-&gt;runSuites(Array, Array)\r\n#7 framework/vendor/symfony/console/Command/Command.php(252): Codeception\\Command\\Run-&gt;execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#8 framework/vendor/symfony/console/Application.php(946): Symfony\\Component\\Console\\Command\\Command-&gt;run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#9 framework/vendor/symfony/console/Application.php(248): Symfony\\Component\\Console\\Application-&gt;doRunCommand(Object(Codeception\\Command\\Run), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#10 framework/vendor/symfony/console/Application.php(148): Symfony\\Component\\Console\\Application-&gt;doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#11 framework/vendor/codeception/base/src/Codeception/Application.php(108): Symfony\\Component\\Console\\Application-&gt;run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#12 framework/vendor/codeception/codeception/package/bin(36): Codeception\\Application-&gt;run()\r\n#13 framework/vendor/codeception/base/autoload.php(12): require(&#039;/home/erp/web/e...&#039;)\r\n#14 framework/vendor/codeception/base/codecept(7): require_once(&#039;/home/erp/web/e...&#039;)\r\n#15 {main}</pre>PHP Fatal error:  Uncaught RuntimeException: Command Did Not Finish Properly in framework/vendor/codeception/base/src/Codeception/Subscriber/ErrorHandler.php:101\r\nStack trace:\r\n#0 [internal function]: Codeception\\Subscriber\\ErrorHandler->shutdownHandler()\r\n#1 {main}\r\n  thrown in framework/vendor/codeception/base/src/Codeception/Subscriber/ErrorHandler.php on line 101\r\n```\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | dev-master\r\n| PHP version      | 7.2.1\r\n| Operating system | CentOS Linux release 7.4.1708 (Core)\r\n\r\nI try, to install required package:\r\n```\r\ncomposer require phpunit/php-timer\r\ncomposer require --dev phpunit/php-timer\r\ncomposer require phpunit/php-timer:1.0.9\r\ncomposer global require phpunit/php-timer\r\ncomposer global require phpunit/php-timer:1.0.9\r\n```\r\n\r\nwithout success\r\n**Note:** I always remove previous package before install next\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15902","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15902/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15902/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15902/events","html_url":"https://github.com/yiisoft/yii2/issues/15902","id":305473355,"number":15902,"title":"Yii Log FileTarget except does not work","user":{"login":"rockccf","id":12827457,"avatar_url":"https://avatars1.githubusercontent.com/u/12827457?v=4","gravatar_id":"","url":"https://api.github.com/users/rockccf","html_url":"https://github.com/rockccf","followers_url":"https://api.github.com/users/rockccf/followers","following_url":"https://api.github.com/users/rockccf/following{/other_user}","gists_url":"https://api.github.com/users/rockccf/gists{/gist_id}","starred_url":"https://api.github.com/users/rockccf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rockccf/subscriptions","organizations_url":"https://api.github.com/users/rockccf/orgs","repos_url":"https://api.github.com/users/rockccf/repos","events_url":"https://api.github.com/users/rockccf/events{/privacy}","received_events_url":"https://api.github.com/users/rockccf/received_events","type":"User","site_admin":false},"labels":[{"id":38412944,"url":"https://api.github.com/repos/yiisoft/yii2/labels/status:to%20be%20verified","name":"status:to be verified","color":"fbca04","default":false},{"id":33208443,"url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T09:28:59Z","updated_at":"2018-03-22T09:54:37Z","closed_at":"2018-03-17T11:31:09Z","author_association":"NONE","body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nIn config,\r\n```\r\n'log' => [\r\n            'traceLevel' => YII_DEBUG ? 3 : 0,\r\n            'targets' => [\r\n                [\r\n                    'class' => 'yii\\log\\FileTarget',\r\n                    'levels' => ['error', 'warning', 'info'],\r\n                    'maxFileSize' => 102400, //1024000KB - 100MB\r\n                    'except' => [\r\n                        'email',\r\n                        'yii\\db\\*'\r\n                    ]\r\n                ],\r\n            ]\r\n        ]\r\n```\r\n\r\n### What is the expected result?\r\nExpected the db queries not to be logged in app.log file\r\n\r\n### What do you get instead?\r\n2018-03-15 15:26:54 [::1][163][-][info][yii\\db\\Command::query] SELECT * FROM `auth_assignment` WHERE `user_id`='163'\r\n\r\nDB queries still getting logged.\r\n\r\n### Additional info\r\nHowever, if I set the file target to write the logs elsewhere (other than app.log)\r\n```\r\n[\r\n                    'class' => 'yii\\log\\FileTarget',\r\n                    'levels' => ['error', 'warning', 'info'],\r\n                    'maxFileSize' => 102400, //1024000KB - 100MB\r\n                    'logFile' => '@runtime/logs/app2.log',\r\n                    'except' => [\r\n                        'email',\r\n                        'yii\\db\\*'\r\n                    ]\r\n                ],\r\n```\r\n\r\nIt will work. DB queries will not be logged in app2.log\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.13.1\r\n| PHP version      | 7.1.5\r\n| Operating system | Windows 10\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15899","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15899/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15899/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15899/events","html_url":"https://github.com/yiisoft/yii2/issues/15899","id":305331946,"number":15899,"title":"Update cebe/markdown constraint for 1.2.0","user":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"labels":[{"id":33332028,"url":"https://api.github.com/repos/yiisoft/yii2/labels/type:enhancement","name":"type:enhancement","color":"d7e102","default":false}],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"assignees":[{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/25","html_url":"https://github.com/yiisoft/yii2/milestone/25","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/25/labels","id":2562828,"number":25,"title":"2.0.16","description":"","creator":{"login":"cebe","id":189796,"avatar_url":"https://avatars0.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","site_admin":false},"open_issues":156,"closed_issues":21,"state":"open","created_at":"2017-06-05T18:03:36Z","updated_at":"2018-03-23T18:08:21Z","due_on":"2018-04-20T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-03-14T21:17:04Z","updated_at":"2018-03-15T12:19:36Z","closed_at":"2018-03-15T12:19:35Z","author_association":"OWNER","body":"Just released version 1.2.0 of cebe/markdown, providing a lot of markdown consistency fixes that were waiting for a long time. https://github.com/cebe/markdown/releases/tag/1.2.0\r\n\r\nWe should update the version constraint and add an upgrade note with the next release.","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15896","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15896/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15896/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15896/events","html_url":"https://github.com/yiisoft/yii2/issues/15896","id":305168306,"number":15896,"title":"Adding new validation rules breaks a different rule","user":{"login":"skills-up","id":27212393,"avatar_url":"https://avatars2.githubusercontent.com/u/27212393?v=4","gravatar_id":"","url":"https://api.github.com/users/skills-up","html_url":"https://github.com/skills-up","followers_url":"https://api.github.com/users/skills-up/followers","following_url":"https://api.github.com/users/skills-up/following{/other_user}","gists_url":"https://api.github.com/users/skills-up/gists{/gist_id}","starred_url":"https://api.github.com/users/skills-up/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skills-up/subscriptions","organizations_url":"https://api.github.com/users/skills-up/orgs","repos_url":"https://api.github.com/users/skills-up/repos","events_url":"https://api.github.com/users/skills-up/events{/privacy}","received_events_url":"https://api.github.com/users/skills-up/received_events","type":"User","site_admin":false},"labels":[{"id":67525403,"url":"https://api.github.com/repos/yiisoft/yii2/labels/ext:gii","name":"ext:gii","color":"bfd4f2","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-14T13:56:00Z","updated_at":"2018-03-14T21:53:30Z","closed_at":"2018-03-14T21:53:30Z","author_association":"NONE","body":"Hi,\r\n\r\nI'm getting the following error after adding custom validation rules to existing model:\r\n`Setting unknown property: yii\\validators\\RequiredValidator::max`\r\n\r\nWhen I'm trying to add the last two rules (travel_time_from and travel_time_to):\r\n````\r\n    public function rules()\r\n    {\r\n        return array_replace_recursive(parent::rules(),\r\n\t    [\r\n            [['client', 'travellers', 'from_city', 'to_city', 'travel_date'], 'required'],\r\n            [['travel_type', 'travel_time_preference', 'return_time_preference', 'cabin_preference', 'meal_preference', 'seat_preference', 'cabin_position', 'fare_type', 'request_XML', 'booking_options'], 'string'],\r\n            [['travel_date', 'return_date', 'travel_time_from', 'travel_time_to', 'return_time_from', 'return_time_to', 'created_at', 'modified_at'], 'safe'],\r\n            [['preferred_only'], 'integer'],\r\n            [['client', 'created_by', 'modified_by'], 'string', 'max' => 127],\r\n            [['from_city', 'to_city'], 'string', 'max' => 3],\r\n            [['travel_time_from'], 'required', 'when' => function($model) {\r\n                return !empty($model->travel_time_preference);\r\n            }, 'whenClient' => \"function (att, val) {\r\n                return $('#flightbooking-travel_time_preference').val() != '';\r\n            }\"],\r\n            [['travel_time_to'], 'required', 'when' => function($model) {\r\n                return strpos($model->travel_time_preference, 'Between') !== false;\r\n            }, 'whenClient' => \"function (att, val) {\r\n                return $('#flightbooking-travel_time_preference').val().indexOf('Between')>0;\r\n            }\"],\r\n        ]);\r\n    }\r\n````\r\n\r\nI've also faced similar issues earlier, when on adding new rules things would break, and then changing the position of the rules, it would work alright.\r\n\r\nIs there a specific order in which validation rules should be added?","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15895","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15895/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15895/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15895/events","html_url":"https://github.com/yiisoft/yii2/issues/15895","id":305157497,"number":15895,"title":"Issue after upgrading php 7.2 and composer update","user":{"login":"vzani","id":8211953,"avatar_url":"https://avatars2.githubusercontent.com/u/8211953?v=4","gravatar_id":"","url":"https://api.github.com/users/vzani","html_url":"https://github.com/vzani","followers_url":"https://api.github.com/users/vzani/followers","following_url":"https://api.github.com/users/vzani/following{/other_user}","gists_url":"https://api.github.com/users/vzani/gists{/gist_id}","starred_url":"https://api.github.com/users/vzani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzani/subscriptions","organizations_url":"https://api.github.com/users/vzani/orgs","repos_url":"https://api.github.com/users/vzani/repos","events_url":"https://api.github.com/users/vzani/events{/privacy}","received_events_url":"https://api.github.com/users/vzani/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-14T13:27:15Z","updated_at":"2018-03-14T21:50:34Z","closed_at":"2018-03-14T21:50:33Z","author_association":"NONE","body":"After upgrading php to 7.2 and running composer update, started facing the following issues:\r\n\r\n```\r\n\r\nAn Error occurred while handling another error:\r\nyii\\base\\InvalidConfigException: Unknown component ID: request in /home/xxx/public_html/poc/vendor/yiisoft/yii2/di/ServiceLocator.php:139\r\nStack trace:\r\n#0 /home/xxx/public_html/poc/vendor/yiisoft/yii2/base/Module.php(742): yii\\di\\ServiceLocator->get('request', true)\r\n#1 /home/xxx/public_html/poc/vendor/yiisoft/yii2/web/Application.php(160): yii\\base\\Module->get('request')\r\n#2 /home/xxx/public_html/poc/vendor/yiisoft/yii2/web/ErrorHandler.php(501): yii\\web\\Application->getRequest()\r\n#3 /home/xxx/public_html/poc/vendor/yiisoft/yii2/web/ErrorHandler.php(115): yii\\web\\ErrorHandler->shouldRenderSimpleHtml()\r\n#4 /home/xxx/public_html/poc/vendor/yiisoft/yii2/base/ErrorHandler.php(104): yii\\web\\ErrorHandler->renderException(Object(yii\\base\\InvalidConfigException))\r\n#5 [internal function]: yii\\base\\ErrorHandler->handleException(Object(yii\\base\\InvalidConfigException))\r\n#6 {main}\r\nPrevious exception:\r\nyii\\base\\InvalidConfigException: The configuration for the \"log\" component must contain a \"__class\" element. in /home/www/public_html/poc/vendor/yiisoft/yii2/di/ServiceLocator.php:206\r\nStack trace:\r\n#0 /home/xxx/public_html/poc/vendor/yiisoft/yii2/di/ServiceLocator.php(262): yii\\di\\ServiceLoca
132a
tor->set('log', Array)\r\n#1 /home/xxx/public_html/poc/vendor/yiisoft/yii2/base/Component.php(180): yii\\di\\ServiceLocator->setComponents(Array)\r\n#2 /home/xxx/public_html/poc/vendor/yiisoft/yii2/BaseYii.php(566): yii\\base\\Component->__set('components', Array)\r\n#3 /home/xxx/public_html/poc/vendor/yiisoft/yii2/base/BaseObject.php(97): yii\\BaseYii::configure(Object(yii\\web\\Application), Array)\r\n#4 /home/xxx/public_html/poc/vendor/yiisoft/yii2/base/Application.php(207): yii\\base\\BaseObject->__construct(Array)\r\n#5 /home/xxx/public_html/poc/index.php(19): yii\\base\\Application->__construct(Array)\r\n#6 {main}\r\n\r\n```\r\nMy composer.json require:\r\n\r\n    \"require\": {\r\n        \"php\": \">=5.4.0\",\r\n        \"bower-asset/jquery\": \">=2.2.1\",\r\n        \"yiisoft/yii2\": \">=2.0.6\",\r\n        \"yiisoft/yii2-bootstrap\": \"*\",        \r\n        \"yiisoft/yii2-swiftmailer\": \"*\",\r\n\t\t\"kartik-v/yii2-nav-x\": \"*\",\r\n\t\t\"kartik-v/yii2-icons\": \"*\",\r\n\t\t\"newerton/yii2-jcrop\": \"dev-master\",\r\n\t\t\"kartik-v/yii2-grid\": \"@dev\",\r\n\t\t\"yiisoft/yii2-imagine\": \"~2.0.0\",\r\n\t\t\"serhatozles/yii2-simplehtmldom\": \"dev-master\",\r\n\t\t\"yiisoft/yii2-authclient\": \"~2.0.0\",\r\n\t\t\"kartik-v/yii2-widgets\": \"*\",\r\n\t\t\"kartik-v/yii2-datecontrol\": \"dev-master\",\t\t\r\n\t\t\"alexandernst/yii2-device-detect\": \"0.0.9\",\r\n    \t\"filsh/yii2-oauth2-server\": \"2.0.1.x-dev\",\r\n    \t\"kartik-v/yii2-mpdf\": \"dev-master\",\r\n    \t\"kartik-v/yii2-helpers\": \"dev-master\"\r\n\t\t\r\n    }\r\n\r\n\r\nMy \"components\"\r\n\r\n```\r\n    'components' => [\r\n    \t'mailer' => [\r\n    \t\t'class' => 'yii\\swiftmailer\\Mailer',\r\n    \t\t'useFileTransport' => false\r\n    \t],\r\n    \t\r\n        'user' => [\r\n            'identityClass' => 'common\\models\\User',\r\n    \t\t'enableAutoLogin' => false,\r\n    \t\t//'enableSession' => true,\r\n        \t\r\n        ],\r\n    \t\r\n        'log' => [\r\n            'traceLevel' => YII_DEBUG ? 3 : 0,\r\n            'targets' => [\r\n                [\r\n                    'class' => 'yii\\log\\FileTarget',\r\n                    'levels' => ['error', 'warning'],\r\n                ],\r\n            ],\r\n        ],\r\n        'errorHandler' => [\r\n            'errorAction' => 'site/error',\r\n        ],\r\n    \t'urlManager' => [\r\n    \t\t'class' => 'yii\\web\\UrlManager',\r\n    \t\t'enableStrictParsing' => true,\r\n    \t\t'showScriptName' => false,\r\n    \t\t'enablePrettyUrl' => true,\r\n    \t\t \r\n    \t\t'rules' => [\r\n    \t\t\t'/' => '/index',\r\n    \t\t\t'<controller:[-\\w]+>/<id:\\d+>' => '<controller>/view',\r\n    \t\t\t'<controller:[-\\w]+>/<action:[-\\w]+>/<id:\\d+>' => '<controller>/<action>',\r\n    \t\t\t'<controller:[-\\w]+>/<action:[-\\w]+>' => '<controller>/<action>',\r\n    \t\r\n    \t\r\n    \t\t],\r\n    \t], \r\n\r\n    ]\r\n\r\n```\r\nThanks\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/15893","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/15893/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/15893/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/15893/events","html_url":"https://github.com/yiisoft/yii2/issues/15893","id":304925729,"number":15893,"title":"With tabular input, the active field  not receive the model  real attribute for adding an has-error class","user":{"login":"DAGpro","id":9422078,"avatar_url":"https://avatars2.githubusercontent.com/u/9422078?v=4","gravatar_id":"","url":"https://api.github.com/users/DAGpro","html_url":"https://github.com/DAGpro","followers_url":"https://api.github.com/users/DAGpro/followers","following_url":"https://api.github.com/users/DAGpro/following{/other_user}","gists_url":"https://api.github.com/users/DAGpro/gists{/gist_id}","starred_url":"https://api.github.com/users/DAGpro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DAGpro/subscriptions","organizations_url":"https://api.github.com/users/DAGpro/orgs","repos_url":"https://api.github.com/users/DAGpro/repos","events_url":"https://api.github.com/users/DAGpro/events{/privacy}","received_events_url":"https://api.github.com/users/DAGpro/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-13T20:35:21Z","updated_at":"2018-03-13T21:25:48Z","closed_at":"2018-03-13T21:25:48Z","author_association":"NONE","body":"The method addErrorClassIfNeeded does not have an helper Html::getAttributeName to get the real attribute\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.14.1\r\n| PHP version      |  7.2\r\n| Operating system | windows 10\r\n","score":1.0}]}
0

