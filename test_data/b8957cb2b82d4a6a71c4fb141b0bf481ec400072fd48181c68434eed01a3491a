HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:07:40 GMT
Link: <https://api.github.com/search/issues?q=repo%3Apedestal%2Fpedestal+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Apedestal%2Fpedestal+type%3Aissue+state%3Aclosed&page=10>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CB02:57C3:1EE2A85:44F688A:5B1B8ACB
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 1
X-Ratelimit-Reset: 1528531675
X-Runtime-Rack: 0.454740
X-Xss-Protection: 1; mode=block

8000
{"total_count":273,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/pedestal/pedestal/issues/560","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/560/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/560/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/560/events","html_url":"https://github.com/pedestal/pedestal/issues/560","id":321445242,"node_id":"MDU6SXNzdWUzMjE0NDUyNDI=","number":560,"title":"SSE dispatch loop abort without proper clean up","user":{"login":"kotokz","id":4405423,"node_id":"MDQ6VXNlcjQ0MDU0MjM=","avatar_url":"https://avatars3.githubusercontent.com/u/4405423?v=4","gravatar_id":"","url":"https://api.github.com/users/kotokz","html_url":"https://github.com/kotokz","followers_url":"https://api.github.com/users/kotokz/followers","following_url":"https://api.github.com/users/kotokz/following{/other_user}","gists_url":"https://api.github.com/users/kotokz/gists{/gist_id}","starred_url":"https://api.github.com/users/kotokz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kotokz/subscriptions","organizations_url":"https://api.github.com/users/kotokz/orgs","repos_url":"https://api.github.com/users/kotokz/repos","events_url":"https://api.github.com/users/kotokz/events{/privacy}","received_events_url":"https://api.github.com/users/kotokz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-09T06:23:50Z","updated_at":"2018-05-24T16:49:12Z","closed_at":"2018-05-24T16:49:11Z","author_association":"NONE","body":"# Description\r\nThe current SSE dispatch loop not able to handle exception which thrown by send-event function. \r\nThe loop simply abort without closing the event channel and calling on-client-disconnect call back.\r\n\r\nThis issue heavy impact application which depends on the on-client-disconnect function.\r\nwe fixed it by putting loop under a try-finally block to handle the resource cleanup\r\n\r\n## Expected Behavior\r\nthe event-channel, response-channel should be closed\r\non-client-disconnect\r\n\r\n## Actual Behavior\r\nonly response channel can be closed.\r\n\r\n## Steps to reproduce\r\ntrigger a exception which only can be caught by \"send-event\" function. \r\nfor example, trigger a channel buffer full scenario: \r\n[async-dispatch-3] io.pedestal.http.sse -- {:msg \"exception sending event\", :throwable #error {\r\n :cause \"Assert failed: No more than 1024 pending puts are allowed on a single channel. Consider using a windowed buffer.\\n(< (.size puts) impl/MAX-QUEUE-SIZE)\"\r\n :via\r\n [{:type java.lang.AssertionError\r\n   :message \"Assert failed: No more than 1024 pending puts are allowed on a single channel. Consider using a windowed buffer.\\n(< (.size puts) impl/MAX-QUEUE-SIZE)\"\r\n   :at [clojure.core.async.impl.channels.ManyToManyChannel put_BANG_ \"channels.clj\" 152]}]\r\n :trace\r\n [[clojure.core.async.impl.channels.ManyToManyChannel put_BANG_ \"channels.clj\" 152]\r\n  [clojure.core.async$put_BANG_ invokeStatic \"async.clj\" 165]\r\n  [clojure.core.async$put_BANG_ invoke \"async.clj\" 158]\r\n  [io.pedestal.http.sse$send_event invokeStatic \"sse.clj\" 93]\r\n  [io.pedestal.http.sse$send_event invoke \"sse.clj\" 81]\r\n  [io.pedestal.http.sse$start_dispatch_loop$fn__8544$state_machine__5275__auto____8557$fn__8560 invoke \"sse.clj\" 133]\r\n  [io.pedestal.http.sse$start_dispatch_loop$fn__8544$state_machine__5275__auto____8557 invoke \"sse.clj\" 133]\r\n  [clojure.core.async.impl.ioc_macros$run_state_machine invokeStatic \"ioc_macros.clj\" 973]\r\n  [clojure.core.async.impl.ioc_macros$run_state_machine invoke \"ioc_macros.clj\" 972]\r\n  [clojure.core.async.impl.ioc_macros$run_state_machine_wrapped invokeStatic \"ioc_macros.clj\" 977]\r\n  [clojure.core.async.impl.ioc_macros$run_state_machine_wrapped invoke \"ioc_macros.clj\" 975]\r\n  [clojure.core.async$ioc_alts_BANG_$fn__5490 invoke \"async.clj\" 384]\r\n  [clojure.core.async$do_alts$fn__5430$fn__5433 invoke \"async.clj\" 253]\r\n  [clojure.core.async.impl.channels.ManyToManyChannel$fn__904$fn__905 invoke \"channels.clj\" 95]\r\n  [clojure.lang.AFn run \"AFn.java\" 22]\r\n  [java.util.concurrent.ThreadPoolExecutor runWorker \"ThreadPoolExecutor.java\" 1142]\r\n  [java.util.concurrent.ThreadPoolExecutor$Worker run \"ThreadPoolExecutor.java\" 617]\r\n\r\n# Environment\r\nlatest pedestal version.\r\n\r\n## Operating System (including version).\r\nLinux gbl13945 2.6.32-642.6.2.el6.x86_64 #1 SMP Mon Oct 24 10:22:33 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n## Your current Leiningen or Boot version (`lein --version` or `boot --version`)\r\nLeiningen 2.7.1 on Java 1.8.0_141 Java HotSpot(TM) 64-Bit Server VM\r\n\r\n## Pedestal version\r\n0.5.3","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/557","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/557/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/557/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/557/events","html_url":"https://github.com/pedestal/pedestal/issues/557","id":319906673,"node_id":"MDU6SXNzdWUzMTk5MDY2NzM=","number":557,"title":"`nil` hosts should be handled by Pedestal, not containers","user":{"login":"ohpauleez","id":153929,"node_id":"MDQ6VXNlcjE1MzkyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/153929?v=4","gravatar_id":"","url":"https://api.github.com/users/ohpauleez","html_url":"https://github.com/ohpauleez","followers_url":"https://api.github.com/users/ohpauleez/followers","following_url":"https://api.github.com/users/ohpauleez/following{/other_user}","gists_url":"https://api.github.com/users/ohpauleez/gists{/gist_id}","starred_url":"https://api.github.com/users/ohpauleez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohpauleez/subscriptions","organizations_url":"https://api.github.com/users/ohpauleez/orgs","repos_url":"https://api.github.com/users/ohpauleez/repos","events_url":"https://api.github.com/users/ohpauleez/events{/privacy}","received_events_url":"https://api.github.com/users/ohpauleez/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-03T12:49:50Z","updated_at":"2018-05-24T16:49:29Z","closed_at":"2018-05-24T16:49:29Z","author_association":"MEMBER","body":"If a service map is missing the `:http/host` key or otherwise has a `nil` value, the resolution of the host binding is determined by the container implementation.\r\n\r\nI'm proposing a breaking change.  When Pedestal processes the service map and [prepares the server options map](https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http.clj#L339), we should set a default `:host` of `127.0.0.1`.  In the spirit of being security-focused, we should prevent folks from accidentally exposing services, and in the spirit of consistency, we should unify behavior across various containers when possible.\r\n\r\nTo signal to developers that the host should be purposefully set, we should uncomment the [host setting in service template](https://github.com/pedestal/pedestal/blob/master/service-template/src/leiningen/new/pedestal_service/service.clj#L70) and add appropriate docs/comments instructing the developer how/why to set new host values.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/556","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/556/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/556/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/556/events","html_url":"https://github.com/pedestal/pedestal/issues/556","id":319901600,"node_id":"MDU6SXNzdWUzMTk5MDE2MDA=","number":556,"title":"Pedestal Log should include protocols for Tracing","user":{"login":"ohpauleez","id":153929,"node_id":"MDQ6VXNlcjE1MzkyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/153929?v=4","gravatar_id":"","url":"https://api.github.com/users/ohpauleez","html_url":"https://github.com/ohpauleez","followers_url":"https://api.github.com/users/ohpauleez/followers","following_url":"https://api.github.com/users/ohpauleez/following{/other_user}","gists_url":"https://api.github.com/users/ohpauleez/gists{/gist_id}","starred_url":"https://api.github.com/users/ohpauleez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohpauleez/subscriptions","organizations_url":"https://api.github.com/users/ohpauleez/orgs","repos_url":"https://api.github.com/users/ohpauleez/repos","events_url":"https://api.github.com/users/ohpauleez/events{/privacy}","received_events_url":"https://api.github.com/users/ohpauleez/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-03T12:34:50Z","updated_at":"2018-05-24T15:21:54Z","closed_at":"2018-05-24T15:21:54Z","author_association":"MEMBER","body":"In the most recent changes to `io.pedestal.log`, Logging and Metrics were turned into protocols to allow developers to extend the library into their systems' specific implementations.  By default, logging is backed by SLF4J (a generic logging facade) and metrics are backed by DropWizard Metrics (a common JVM metrics API with various backends).\r\n\r\nDistributed tracing is becoming increasingly prominent in systems created today, enabling comprehensive insight not easily offered by logging or metrics alone.  Furthermore, [the OpenTracing](http://opentracing.io/) API offers a generic API-focused facade for tracing systems that is popular, well-supported, and well-documented.\r\n\r\nTo accommodate tracing in Pedestal, we need:\r\n * Tracing support in Pedestal Log, backed by protocols (to enable any tracing system, like AWS X-Ray), and a default implementation for the OpenTracing API (a Java library).\r\n * A tracing interceptor, which will first inspect the Context's Servlet (if present) to resolve the current tracing segment/span.  If no tracing ID is found, it will inspect Headers (if available) for tracing segment/span IDs.  It will also start/stop a new segment/span for Pedestal processing and add tracing information to the Pedestal context (should you need to make inter-service calls).  This interceptor will have it's own dedicated namespace and will not be a default interceptor.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/555","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/555/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/555/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/555/events","html_url":"https://github.com/pedestal/pedestal/issues/555","id":319305146,"node_id":"MDU6SXNzdWUzMTkzMDUxNDY=","number":555,"title":"Illegal reflective access warning on loading jetty classes","user":{"login":"rafaeldff","id":99284,"node_id":"MDQ6VXNlcjk5Mjg0","avatar_url":"https://avatars2.githubusercontent.com/u/99284?v=4","gravatar_id":"","url":"https://api.github.com/users/rafaeldff","html_url":"https://github.com/rafaeldff","followers_url":"https://api.github.com/users/rafaeldff/followers","following_url":"https://api.github.com/users/rafaeldff/following{/other_user}","gists_url":"https://api.github.com/users/rafaeldff/gists{/gist_id}","starred_url":"https://api.github.com/users/rafaeldff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rafaeldff/subscriptions","organizations_url":"https://api.github.com/users/rafaeldff/orgs","repos_url":"https://api.github.com/users/rafaeldff/repos","events_url":"https://api.github.com/users/rafaeldff/events{/privacy}","received_events_url":"https://api.github.com/users/rafaeldff/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-01T19:48:57Z","updated_at":"2018-05-24T16:50:53Z","closed_at":"2018-05-24T16:50:52Z","author_association":"NONE","body":"# Description\r\nOpening a Java 9 JVM in a project with `[io.pedestal/pedestal.jetty \"0.5.3\"]` will show _Illegal reflective access_ warnings. This apparently was fixed in jetty upstream (https://github.com/eclipse/jetty.project/issues/1262).\r\n\r\n## Expected Behavior\r\nExpected not to see any warnings\r\n\r\n## Actual Behavior\r\nSee warning such as\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.eclipse.jetty.util.BufferUtil (file:/home/rafael/.m2/repository/org/eclipse/jetty/jetty-util/9.4.0.v20161208/jetty-util-9.4.0.v20161208.jar) to field java.nio.MappedByteBuffer.fd\r\nWARNING: Please consider reporting this to the maintainers of org.eclipse.jetty.util.BufferUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\n## Steps to reproduce\r\nOpen a REPL with Java 9 on a project depending on `[io.pedestal/pedestal.jetty \"0.5.3\"]`, then require pedestal.jetty - `(require '[io.pedestal.http.jetty])`. You will see the warnings as above.\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\nLinux rffnix 4.15.17 #1-NixOS SMP Thu Apr 12 10:31:21 UTC 2018 x86_64 GNU/Linux\r\n\r\n## Your current Leiningen or Boot version (`lein --version` or `boot --version`)\r\nLeinigen 2.8.1\r\njava 9.0.4\r\nJava(TM) SE Runtime Environment (build 9.0.4+11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n\r\n## Pedestal version\r\n```\r\n[io.pedestal/pedestal.service \"0.5.3\" :exclusions [org.slf4j/slf4j-nop]]\r\n[io.pedestal/pedestal.service-tools \"0.5.3\"] \r\n[io.pedestal/pedestal.jetty \"0.5.3\"]\r\n```","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/554","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/554/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/554/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/554/events","html_url":"https://github.com/pedestal/pedestal/issues/554","id":319241177,"node_id":"MDU6SXNzdWUzMTkyNDExNzc=","number":554,"title":"Correctly handle nil values in :headers map when using io.pedestal.test/response-for","user":{"login":"kennyjwilli","id":2453976,"node_id":"MDQ6VXNlcjI0NTM5NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/2453976?v=4","gravatar_id":"","url":"https://api.github.com/users/kennyjwilli","html_url":"https://github.com/kennyjwilli","followers_url":"https://api.github.com/users/kennyjwilli/followers","following_url":"https://api.github.com/users/kennyjwilli/following{/other_user}","gists_url":"https://api.github.com/users/kennyjwilli/gists{/gist_id}","starred_url":"https://api.github.com/users/kennyjwilli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kennyjwilli/subscriptions","organizations_url":"https://api.github.com/users/kennyjwilli/orgs","repos_url":"https://api.github.com/users/kennyjwilli/repos","events_url":"https://api.github.com/users/kennyjwilli/events{/privacy}","received_events_url":"https://api.github.com/users/kennyjwilli/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-05-01T16:00:17Z","updated_at":"2018-05-24T16:49:41Z","closed_at":"2018-05-24T16:49:41Z","author_association":"NONE","body":"# Description\r\nCalling `response-for` with `nil` as a header value will result in an exception being logged as an ERROR. The error message is not thrown in the REPL. Additionally, an incorrect response map is returned.\r\n\r\n## Expected Behavior\r\n`nil` values in the `:headers` map are handled gracefully with no exception thrown. The correct response map is returned.\r\n\r\n## Actual Behavior\r\n[This exception](https://pastebin.com/P6A0Pm9S) is thrown in the logs when called with a nil header value (see below steps). Also an incorrect response map is returned: \r\n\r\n```clojure\r\n{:status nil, :body \"\", :headers nil}\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n```clojure\r\n(io.pedestal.test/response-for\r\n  service-fn\r\n  :post \"/my-route\"\r\n  :headers {\"cookie\" nil})\r\n=> {:status nil, :body \"\", :headers nil}\r\n```\r\n\r\nThis exception is caused by the elements array passed to `String/join` being `null` [here](https://github.com/pedestal/pedestal/blob/e9230c3a49b7036b195267c7c24b0c4881c941b5/service/src/io/pedestal/http/request.clj#L27). `(enumeration-seq (.getHeaders servlet-req key))` is null.\r\n\r\n## Pedestal version\r\n`[io.pedestal/pedestal.service \"0.5.3\"]`","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/552","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/552/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/552/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/552/events","html_url":"https://github.com/pedestal/pedestal/issues/552","id":312338343,"node_id":"MDU6SXNzdWUzMTIzMzgzNDM=","number":552,"title":"Jetty 9.4.7.v20170914 -> 9.4.8.v20171121 doesn't start correctly","user":{"login":"claj","id":353113,"node_id":"MDQ6VXNlcjM1MzExMw==","avatar_url":"https://avatars1.githubusercontent.com/u/353113?v=4","gravatar_id":"","url":"https://api.github.com/users/claj","html_url":"https://github.com/claj","followers_url":"https://api.github.com/users/claj/followers","following_url":"https://api.github.com/users/claj/following{/other_user}","gists_url":"https://api.github.com/users/claj/gists{/gist_id}","starred_url":"https://api.github.com/users/claj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claj/subscriptions","organizations_url":"https://api.github.com/users/claj/orgs","repos_url":"https://api.github.com/users/claj/repos","events_url":"https://api.github.com/users/claj/events{/privacy}","received_events_url":"https://api.github.com/users/claj/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-08T20:31:45Z","updated_at":"2018-05-24T16:50:12Z","closed_at":"2018-05-24T16:50:12Z","author_association":"NONE","body":"# Description\r\n\r\nWe have a non trivial pedestal application using Component as depency injection.\r\n\r\nWhen upgrading from 9.4.7 to 9.4.8 some of my tests breaks. There's an NPE when starting the server with Jetty 9.4.8 when starting the component. The problem can be almost anywhere, will try to spot it more clearly.\r\n\r\nThe problem is not there with version `9.4.7.v20170914` but occurs for versions `9.4.8.v20171121` and `9.4.9.v20180320`\r\n\r\n## Expected Behavior\r\n\r\n## Actual Behavior\r\n\r\n## Steps to reproduce\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\n\r\nMacOS High Sierra 10.13.4\r\n\r\n## Your current Leiningen or Boot version (`lein --version` or `boot --version`)\r\n\r\nLeiningen 2.8.1 on Java 1.8.0_152 Java HotSpot(TM) 64-Bit Server VM\r\n\r\n## Pedestal version\r\n\r\n[io.pedestal/pedestal.service \"0.5.3\"]\r\n[io.pedestal/pedestal.jetty \"0.5.3\"]\r\n[org.eclipse.jetty.alpn/alpn-api \"1.1.3.v20160715\"]\r\n\r\n`jetty-version` as above\r\n\r\n[org.eclipse.jetty.http2/http2-server ~jetty-version]\r\n[org.eclipse.jetty.websocket/websocket-api ~jetty-version]\r\n[org.eclipse.jetty.websocket/websocket-client ~jetty-version]\r\n[org.eclipse.jetty.websocket/websocket-server ~jetty-version]\r\n[org.eclipse.jetty.websocket/websocket-servlet ~jetty-version]\r\n[org.mortbay.jetty.alpn/jetty-alpn-agent \"2.0.7\"]\r\n[org.eclipse.jetty/jetty-alpn-server ~jetty-version]\r\n[org.eclipse.jetty/jetty-client ~jetty-version]\r\n[org.eclipse.jetty/jetty-security ~jetty-version]\r\n[org.eclipse.jetty/jetty-server ~jetty-version]\r\n[org.eclipse.jetty/jetty-servlet ~jetty-version]\r\n[org.eclipse.jetty/jetty-servlets ~jetty-version]\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/549","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/549/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/549/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/549/events","html_url":"https://github.com/pedestal/pedestal/issues/549","id":308682386,"node_id":"MDU6SXNzdWUzMDg2ODIzODY=","number":549,"title":"Version updates on dependencies needed","user":{"login":"mtnygard","id":116714,"node_id":"MDQ6VXNlcjExNjcxNA==","avatar_url":"https://avatars2.githubusercontent.com/u/116714?v=4","gravatar_id":"","url":"https://api.github.com/users/mtnygard","html_url":"https://github.com/mtnygard","followers_url":"https://api.github.com/users/mtnygard/followers","following_url":"https://api.github.com/users/mtnygard/following{/other_user}","gists_url":"https://api.github.com/users/mtnygard/gists{/gist_id}","starred_url":"https://api.github.com/users/mtnygard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtnygard/subscriptions","organizations_url":"https://api.github.com/users/mtnygard/orgs","repos_url":"https://api.github.com/users/mtnygard/repos","events_url":"https://api.github.com/users/mtnygard/events{/privacy}","received_events_url":"https://api.github.com/users/mtnygard/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-26T18:20:48Z","updated_at":"2018-05-24T16:51:32Z","closed_at":"2018-05-24T16:51:32Z","author_association":"CONTRIBUTOR","body":"# Description\r\n\r\n## Expected Behavior\r\n\r\nMixing Pedestal in with other contemporary Clojure projects should be easy.\r\n\r\n## Actual Behavior\r\n\r\nVersion mismatches in dependencies make it hard to get a consistent set. Particularly aggravating on projects which use Leiningen's `:pedantic? :abort`\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/547","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/547/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/547/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/547/events","html_url":"https://github.com/pedestal/pedestal/issues/547","id":300073005,"node_id":"MDU6SXNzdWUzMDAwNzMwMDU=","number":547,"title":":path-params are not url decoded","user":{"login":"patrickthebold","id":5789991,"node_id":"MDQ6VXNlcjU3ODk5OTE=","avatar_url":"https://avatars0.githubusercontent.com/u/5789991?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickthebold","html_url":"https://github.com/patrickthebold","followers_url":"https://api.github.com/users/patrickthebold/followers","following_url":"https://api.github.com/users/patrickthebold/following{/other_user}","gists_url":"https://api.github.com/users/patrickthebold/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickthebold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickthebold/subscriptions","organizations_url":"https://api.github.com/users/patrickthebold/orgs","repos_url":"https://api.github.com/users/patrickthebold/repos","events_url":"https://api.github.com/users/patrickthebold/events{/privacy}","received_events_url":"https://api.github.com/users/patrickthebold/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-25T23:33:23Z","updated_at":"2018-05-23T21:14:21Z","closed_at":"2018-05-23T21:14:21Z","author_association":"NONE","body":"In the :request map the :query-params are url decoded, but the :path-params are not. This seems oddly inconsistent.\r\nFor example I was testing with random data and expected:\r\n```\r\nPUT /user/u%3A%27%24%5D%3FK%40%3As%7DC1%5B07A%27FQQ%3FBE%2F%29%094G%23%2Ci_%0A-%3D%3F-v%29b%22%24G%3FG%5D%3B%24%3B%26M%60L%3DX%5E-z%3ASENn\r\n```\r\nto be decoded.\r\nIf I put the same data in the query string, the string is decoded.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/545","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/545/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/545/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/545/events","html_url":"https://github.com/pedestal/pedestal/issues/545","id":289147435,"node_id":"MDU6SXNzdWUyODkxNDc0MzU=","number":545,"title":"Rename `negotiate-content` function","user":{"login":"cloojure","id":7083783,"node_id":"MDQ6VXNlcjcwODM3ODM=","avatar_url":"https://avatars0.githubusercontent.com/u/7083783?v=4","gravatar_id":"","url":"https://api.github.com/users/cloojure","html_url":"https://github.com/cloojure","followers_url":"https://api.github.com/users/cloojure/followers","following_url":"https://api.github.com/users/cloojure/following{/other_user}","gists_url":"https://api.github.com/users/cloojure/gists{/gist_id}","starred_url":"https://api.github.com/users/cloojure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloojure/subscriptions","organizations_url":"https://api.github.com/users/cloojure/orgs","repos_url":"https://api.github.com/users/cloojure/repos","events_url":"https://api.github.com/users/cloojure/events{/privacy}","received_events_url":"https://api.github.com/users/cloojure/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-17T05:32:14Z","updated_at":"2018-05-01T16:54:20Z","closed_at":"2018-05-01T16:54:20Z","author_association":"CONTRIBUTOR","body":"# Description\r\nAs with #542, this issue seeks to improve naming.\r\n\r\nThe function `negotiate-content` **_does not_** \"negotiate content\". Rather, it returns an interceptor that will perform content negotiation for incoming requests.  As such, a better name would be something like the following (in order of increasing brevity):\r\n\r\n - generate-content-negotiation-interceptor\r\n - gen-content-negotiation-interceptor\r\n - content-negotiator\r\n\r\nOr, since the namespace is pretty small, perhaps just:\r\n\r\n - io.pedestal.http.content-negotiation/interceptor      ; returns an interceptor\r\n\r\nThere are probably other functions and/or namespaces that could be improved, if viewed through  a fresh set of eyes. Just as it is very difficult to proofread one's own writing, it is easier for a newcomer to Pedestal to notice confusing, inconsistent, or conflicting names.\r\n\r\n## Pedestal version\r\n0.5.3","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/541","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/541/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/541/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/541/events","html_url":"https://github.com/pedestal/pedestal/issues/541","id":273584049,"node_id":"MDU6SXNzdWUyNzM1ODQwNDk=","number":541,"title":"SSE data is not serialized correctly","user":{"login":"kennyjwilli","id":2453976,"node_id":"MDQ6VXNlcjI0NTM5NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/2453976?v=4","gravatar_id":"","url":"https://api.github.com/users/kennyjwilli","html_url":"https://github.com/kennyjwilli","followers_url":"https://api.github.com/users/kennyjwilli/followers","following_url":"https://api.github.com/users/kennyjwilli/following{/other_user}","gists_url":"https://api.github.com/users/kennyjwilli/gists{/gist_id}","starred_url":"https://api.github.com/users/kennyjwilli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kennyjwilli/subscriptions","organizations_url":"https://api.github.com/users/kennyjwilli/orgs","repos_url":"https://api.github.com/users/kennyjwilli/repos","events_url":"https://api.github.com/users/kennyjwilli/events{/privacy}","received_events_url":"https://api.github.com/users/kennyjwilli/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-13T21:28:27Z","updated_at":"2017-11-14T02:32:29Z","closed_at":"2017-11-14T02:32:29Z","author_association":"NONE","body":"# Description\r\n\r\nI have a route that looks like this: \r\n```\r\n[\"/subscribe\" :get [(http-sse/start-event-stream stream-ready)] :route-name :subscribe]\r\n```\r\nwhere `stream-ready` is defined like this: \r\n```\r\n(require '[clojure.core.async :as async])\r\n(require '[io.pedestal.http.sse :as sse])\r\n\r\n(defn stream-ready\r\n  [event-chan ctx]\r\n  (async/go-loop []\r\n    (async/<! (async/timeout 1000))\r\n    (sse/send-event event-chan \"example\" \"test\")\r\n    (recur)))\r\n```\r\nIn the browser I created an `EventSource` object and set the `onmessage` handler to just print out the event result. I get a new event message once per second. The event `data` looks something like this `\"[B@100394d9\"`, however. That looks a whole lot like how Clojure prints out Byte arrays. I'm wondering if Pedestal is incorrectly serializing SSE messages. \r\n\r\nThese are the Pedestal dependencies that I have: \r\n```\r\n[io.pedestal/pedestal.service \"0.5.3\"]\r\n[io.pedestal/pedestal.route \"0.5.3\"]\r\n[io.pedestal/pedestal.jetty \"0.5.3\"]\r\n```\r\n\r\n## Expected Behavior\r\nThe event data in the browser should be deserialized JSON.\r\n\r\n## Actual Behavior\r\nEvent data is a string of text.\r\n\r\n## Steps to reproduce\r\nClone [this](https://github.com/kennyjwilli/pedestal-sse-issue) repository and follow the instructions in its README.\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\nUbuntu 16.10, Chrome 59.0.3071.109, Firefox 53.0.3.\r\n\r\n## Your current Leiningen or Boot version (`lein --version` or `boot --version`)\r\nBoot 2.7.2\r\n## Pedestal version\r\n0.5.3","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/537","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/537/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/537/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/537/events","html_url":"https://github.com/pedestal/pedestal/issues/537","id":264170130,"node_id":"MDU6SXNzdWUyNjQxNzAxMzA=","number":537,"title":"multimethods as route handlers error","user":{"login":"Zallin","id":6391474,"node_id":"MDQ6VXNlcjYzOTE0NzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6391474?v=4","gravatar_id":"","url":"https://api.github.com/users/Zallin","html_url":"https://github.com/Zallin","followers_url":"https://api.github.com/users/Zallin/followers","following_url":"https://api.github.com/users/Zallin/following{/other_user}","
8000
gists_url":"https://api.github.com/users/Zallin/gists{/gist_id}","starred_url":"https://api.github.com/users/Zallin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zallin/subscriptions","organizations_url":"https://api.github.com/users/Zallin/orgs","repos_url":"https://api.github.com/users/Zallin/repos","events_url":"https://api.github.com/users/Zallin/events{/privacy}","received_events_url":"https://api.github.com/users/Zallin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-10-10T10:07:02Z","updated_at":"2017-10-10T18:32:58Z","closed_at":"2017-10-10T11:04:11Z","author_association":"NONE","body":"# Description\r\nMultimethods can not be used as handlers\r\n## Expected Behavior\r\nI expect that mm can be used as a handler\r\n## Actual Behavior\r\nFollowing exception is thrown\r\n```clojure\r\n`#error {\r\n :cause You're trying to use something as an interceptor that isn't supported by the protocol; Perhaps you need to extend it?\r\n :data {:t #object[clojure.lang.MultiFn 0x19f72e12 clojure.lang.MultiFn@19f72e12], :type clojure.lang.MultiFn}\r\n :via\r\n [{:type clojure.lang.Compiler$CompilerException\r\n   :message clojure.lang.ExceptionInfo: You're trying to use something as an interceptor that isn't supported by the protocol; Perhaps you need to extend it? {:t #object[clojure.lang.MultiFn 0x19f72e12 \"clojure.lang.MultiFn@19f72e12\"], :type clojure.lang.MultiFn}, compiling:(my_ped/server.clj:7:1)\r\n   :at [clojure.lang.Compiler load Compiler.java 7391]}\r\n  {:type clojure.lang.ExceptionInfo\r\n   :message You're trying to use something as an interceptor that isn't supported by the protocol; Perhaps you need to extend it?\r\n   :data {:t #object[clojure.lang.MultiFn 0x19f72e12 clojure.lang.MultiFn@19f72e12], :type clojure.lang.MultiFn}\r\n   :at [clojure.core$ex_info invokeStatic core.clj 4617]}]\r\n :trace\r\n [[clojure.core$ex_info invokeStatic core.clj 4617]\r\n  [clojure.core$ex_info invoke core.clj 4617]\r\n  [io.pedestal.interceptor$interceptor invokeStatic interceptor.clj 82]\r\n  [io.pedestal.interceptor$interceptor invoke interceptor.clj 78]\r\n  [io.pedestal.interceptor$eval176$fn__177 invoke interceptor.clj 53]\r\n  [io.pedestal.interceptor$eval136$fn__137$G__127__142 invoke interceptor.clj 23]\r\n  [io.pedestal.interceptor$interceptor invokeStatic interceptor.clj 87]\r\n  [io.pedestal.interceptor$interceptor invoke interceptor.clj 78]\r\n  [io.pedestal.interceptor$eval172$fn__173 invoke interceptor.clj 50]\r\n  [io.pedestal.interceptor$eval136$fn__137$G__127__142 invoke interceptor.clj 23]\r\n  [io.pedestal.interceptor$interceptor invokeStatic interceptor.clj 87]\r\n  [io.pedestal.interceptor$interceptor invoke interceptor.clj 78]\r\n  [clojure.core$mapv$fn__6953 invoke core.clj 6627]\r\n  [clojure.lang.PersistentVector reduce PersistentVector.java 341]\r\n  [clojure.core$reduce invokeStatic core.clj 6544]\r\n  [clojure.core$mapv invokeStatic core.clj 6618]\r\n  [clojure.core$mapv invoke core.clj 6618]\r\n  [io.pedestal.http.route.definition.table$parse_handlers invokeStatic table.clj 77]\r\n  [io.pedestal.http.route.definition.table$parse_handlers invoke table.clj 70]\r\n  [io.pedestal.http.route.definition.table$route_table_row invokeStatic table.clj 123]\r\n  [io.pedestal.http.route.definition.table$route_table_row invoke table.clj 121]\r\n  [clojure.core$partial$fn__4759 invoke core.clj 2516]\r\n  [clojure.core$map_indexed$mapi__7050$fn__7051 invoke core.clj 7022]\r\n  [clojure.lang.LazySeq sval LazySeq.java 40]\r\n  [clojure.lang.LazySeq seq LazySeq.java 49]\r\n  [clojure.lang.RT seq RT.java 521]\r\n  [clojure.core$seq__4357 invokeStatic core.clj 137]\r\n  [clojure.core$map$fn__4785 invoke core.clj 2637]\r\n  [clojure.lang.LazySeq sval LazySeq.java 40]\r\n  [clojure.lang.LazySeq seq LazySeq.java 49]\r\n  [clojure.lang.RT seq RT.java 521]\r\n  [clojure.core$seq__4357 invokeStatic core.clj 137]\r\n  [clojure.core.protocols$seq_reduce invokeStatic protocols.clj 24]\r\n  [clojure.core.protocols$fn__6738 invokeStatic protocols.clj 75]\r\n  [clojure.core.protocols$fn__6738 invoke protocols.clj 75]\r\n  [clojure.core.protocols$fn__6684$G__6679__6697 invoke protocols.clj 13]\r\n  [clojure.core$reduce invokeStatic core.clj 6545]\r\n  [clojure.core$reduce invoke core.clj 6527]\r\n  [io.pedestal.http.route.definition$prioritize_constraints invokeStatic definition.clj 54]\r\n  [io.pedestal.http.route.definition$prioritize_constraints invoke definition.clj 47]\r\n  [io.pedestal.http.route.definition$ensure_routes_integrity invokeStatic definition.clj 72]\r\n  [io.pedestal.http.route.definition$ensure_routes_integrity invoke definition.clj 71]\r\n  [io.pedestal.http.route.definition.table$table_routes invokeStatic table.clj 160]\r\n  [io.pedestal.http.route.definition.table$table_routes invoke table.clj 151]\r\n  [io.pedestal.http.route.definition.table$table_routes invokeStatic table.clj 153]\r\n  [io.pedestal.http.route.definition.table$table_routes invoke table.clj 151]\r\n  [io.pedestal.http.route$eval9962$fn__9963 invoke route.clj 362]\r\n  [io.pedestal.http.route$eval9937$fn__9938$G__9928__9943 invoke route.clj 346]\r\n  [io.pedestal.http.route$expand_routes invokeStatic route.clj 379]\r\n  [io.pedestal.http.route$expand_routes invoke route.clj 364]\r\n  [io.pedestal.http$default_interceptors invokeStatic http.clj 240]\r\n  [io.pedestal.http$default_interceptors invoke http.clj 182]\r\n  [io.pedestal.http$create_provider invokeStatic http.clj 317]\r\n  [io.pedestal.http$create_provider invoke http.clj 313]\r\n  [io.pedestal.http$create_server invokeStatic http.clj 353]\r\n  [io.pedestal.http$create_server invoke http.clj 348]\r\n  [io.pedestal.http$create_server invokeStatic http.clj 350]\r\n  [io.pedestal.http$create_server invoke http.clj 348]\r\n  [my_ped.server$eval14055 invokeStatic server.clj 9]\r\n  [my_ped.server$eval14055 invoke server.clj 9]\r\n  [clojure.lang.Compiler eval Compiler.java 6927]\r\n  [clojure.lang.Compiler load Compiler.java 7379]\r\n  [clojure.lang.RT loadResourceScript RT.java 372]\r\n  [clojure.lang.RT loadResourceScript RT.java 363]\r\n  [clojure.lang.RT load RT.java 453]\r\n  [clojure.lang.RT load RT.java 419]\r\n  [clojure.core$load$fn__5677 invoke core.clj 5893]\r\n  [clojure.core$load invokeStatic core.clj 5892]\r\n  [clojure.core$load doInvoke core.clj 5876]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5697]\r\n  [clojure.core$load_one invoke core.clj 5692]\r\n  [clojure.core$load_lib$fn__5626 invoke core.clj 5737]\r\n  [clojure.core$load_lib invokeStatic core.clj 5736]\r\n  [clojure.core$load_lib doInvoke core.clj 5717]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$apply invokeStatic core.clj 648]\r\n  [clojure.core$load_libs invokeStatic core.clj 5774]\r\n  [clojure.core$load_libs doInvoke core.clj 5758]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 648]\r\n  [clojure.core$require invokeStatic core.clj 5796]\r\n  [clojure.core$require doInvoke core.clj 5796]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [user$eval5 invokeStatic form-init8953028771762633769.clj 1]\r\n  [user$eval5 invoke form-init8953028771762633769.clj 1]\r\n  [clojure.lang.Compiler eval Compiler.java 6927]\r\n  [clojure.lang.Compiler eval Compiler.java 6916]\r\n  [clojure.lang.Compiler eval Compiler.java 6916]\r\n  [clojure.lang.Compiler load Compiler.java 7379]\r\n  [clojure.lang.Compiler loadFile Compiler.java 7317]\r\n  [clojure.main$load_script invokeStatic main.clj 275]\r\n  [clojure.main$init_opt invokeStatic main.clj 277]\r\n  [clojure.main$init_opt invoke main.clj 277]\r\n  [clojure.main$initialize invokeStatic main.clj 308]\r\n  [clojure.main$null_opt invokeStatic main.clj 342]\r\n  [clojure.main$null_opt invoke main.clj 339]\r\n  [clojure.main$main invokeStatic main.clj 421]\r\n  [clojure.main$main doInvoke main.clj 384]\r\n  [clojure.lang.RestFn invoke RestFn.java 421]\r\n  [clojure.lang.Var invoke Var.java 383]\r\n  [clojure.lang.AFn applyToHelper AFn.java 156]\r\n  [clojure.lang.Var applyTo Var.java 700]\r\n  [clojure.main main main.java 37]]}`\r\n```\r\n## Steps to reproduce\r\n1. Create new pedestal project \r\n`lein new pedestal-service my-ped`\r\n2. Create multimethod \r\n```clojure\r\n(defmulti mm (fn [req] (:method req))) \r\n(defmethod mm :default [req] {:status 200 :body \"OK\"})\r\n```\r\n3. Set it to be route handler\r\n```clojure\r\n(def routes #{[\"/\" :get (conj common-interceptors `mm)] [\"/about\" :get (conj common-interceptors `about-page)]})\r\n```\r\n\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\nmacOS Sierra 10.12.6 (16G29)\r\n## Your current Leiningen or Boot version (`lein --version` or `boot --version`)\r\n` Leiningen 2.7.1 on Java 1.8.0_144 Java HotSpot(TM) 64-Bit Server VM `\r\n## Pedestal version\r\n```clojure\r\n[org.clojure/clojure \"1.8.0\"]\r\n[io.pedestal/pedestal.service \"0.5.3\"]\r\n[io.pedestal/pedestal.jetty \"0.5.3\"]\r\n;; [io.pedestal/pedestal.immutant \"0.5.3\"]\r\n```","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/535","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/535/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/535/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/535/events","html_url":"https://github.com/pedestal/pedestal/issues/535","id":262233321,"node_id":"MDU6SXNzdWUyNjIyMzMzMjE=","number":535,"title":"require fails with pedestal 0.5.2 and clojure1.9.0-beta1","user":{"login":"nfisher","id":18616,"node_id":"MDQ6VXNlcjE4NjE2","avatar_url":"https://avatars3.githubusercontent.com/u/18616?v=4","gravatar_id":"","url":"https://api.github.com/users/nfisher","html_url":"https://github.com/nfisher","followers_url":"https://api.github.com/users/nfisher/followers","following_url":"https://api.github.com/users/nfisher/following{/other_user}","gists_url":"https://api.github.com/users/nfisher/gists{/gist_id}","starred_url":"https://api.github.com/users/nfisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfisher/subscriptions","organizations_url":"https://api.github.com/users/nfisher/orgs","repos_url":"https://api.github.com/users/nfisher/repos","events_url":"https://api.github.com/users/nfisher/events{/privacy}","received_events_url":"https://api.github.com/users/nfisher/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-10-02T21:23:21Z","updated_at":"2017-10-03T14:44:02Z","closed_at":"2017-10-03T14:44:02Z","author_association":"CONTRIBUTOR","body":"# Description\r\n\r\nFollowing the hello world guide using Clojure 1.9.0 Beta1 (and alpha19) with pedestal 0.5.2 results in a spectacle of exceptions. Weeeee!!!\r\n\r\nI think this will be resolved when you release 0.5.3 as it appears you've bumped the core.async version to the latest in 0.5.3-SNAPSHOT on master.\r\n\r\n## Expected Behavior\r\n\r\n`(require 'hello)` should return nil and load the namespace\r\n\r\n## Actual Behavior\r\n\r\nThe following exceptions are vomited into the console:\r\n\r\n```\r\n            clojure.lang.ExceptionInfo: Call to clojure.core/refer-clojure did not conform to spec:\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :exclude :op :quoted-spec :spec] predicate: #{:exclude}\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :only :op :quoted-spec :spec] predicate: #{:only}\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :rename :op :quoted-spec :spec] predicate: #{:rename}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :exclude :op :spec] predicate: #{:exclude}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :only :op :spec] predicate: #{:only}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :rename :op :spec] predicate: #{:rename}\r\n\r\n                                         :clojure.spec.alpha/spec  #object[clojure.spec.alpha$regex_spec_impl$reify__1200 0x6feea4d \"clojure.spec.alpha$regex_spec_impl$reify__1200@6feea4d\"]\r\n\r\n                                         :clojure.spec.alpha/value  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n                                         :clojure.spec.alpha/args  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n                                         \r\n\r\nclojure.lang.Compiler$CompilerException: clojure.lang.ExceptionInfo: Call to clojure.core/refer-clojure did not conform to spec:\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :exclude :op :quoted-spec :spec] predicate: #{:exclude}\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :only :op :quoted-spec :spec] predicate: #{:only}\r\n\r\n                                         In: [2 1] val: :as fails at: [:args :rename :op :quoted-spec :spec] predicate: #{:rename}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :exclude :op :spec] predicate: #{:exclude}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :only :op :spec] predicate: #{:only}\r\n\r\n                                         In: [2] val: (quote :as) fails at: [:args :rename :op :spec] predicate: #{:rename}\r\n\r\n                                         :clojure.spec.alpha/spec  #object[clojure.spec.alpha$regex_spec_impl$reify__1200 0x6feea4d \"clojure.spec.alpha$regex_spec_impl$reify__1200@6feea4d\"]\r\n\r\n                                         :clojure.spec.alpha/value  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n                                         :clojure.spec.alpha/args  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n                                          #:clojure.spec.alpha{:problems ({:path [:args :exclude :op :spec], :pred #{:exclude}, :val (quote :as), :via [], :in [2]} {:path [:args :exclude :op :quoted-spec :spec], :pred #{:exclude}, :val :as, :via [], :in [2 1]} {:path [:args :only :op :spec], :pred #{:only}, :val (quote :as), :via [], :in [2]} {:path [:args :only :op :quoted-spec :spec], :pred #{:only}, :val :as, :via [], :in [2 1]} {:path [:args :rename :op :spec], :pred #{:rename}, :val (quote :as), :via [], :in [2]} {:path [:args :rename :op :quoted-spec :spec], :pred #{:rename}, :val :as, :via [], :in [2 1]}), :spec #object[clojure.spec.alpha$regex_spec_impl$reify__1200 0x6feea4d \"clojure.spec.alpha$regex_spec_impl$reify__1200@6feea4d\"], :value ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core)), :args ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))}, compiling:(clojure/core/async.clj:9:1)\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nFollow the steps here but set the version of Clojure to 1.9.0-beta1 and pedestal to 0.5.2: http://pedestal.io/guides/hello-world\r\n\r\nbuild.boot\r\n\r\n```clojure\r\n; vim: set filetype=clojure :\r\n(set-env!\r\n  :local-repo \"third_party\"\r\n  :source-paths #{\"src\"}\r\n  :dependencies\r\n  '[[io.pedestal/pedestal.service \"0.5.2\" :exclusions [org.clojure/clojure org.clojure/core.async]]\r\n    [io.pedestal/pedestal.route   \"0.5.2\" :exclusions [org.clojure/clojure org.clojure/core.async]]\r\n    [io.pedestal/pedestal.jetty   \"0.5.2\" :exclusions [org.clojure/clojure org.clojure/core.async]]\r\n    [org.slf4j/slf4j-simple       \"1.7.25\"]\r\n    ; this fixes it, exclusions get rid of classpath loader noise\r\n    [org.clojure/core.async       \"0.3.443\" :exclusions [org.clojure/clojure]]])\r\n```\r\n\r\nboot.properties\r\n\r\n```shell\r\n#http://boot-clj.com\r\n#Mon Oct 02 21:10:38 BST 2017\r\nBOOT_CLOJURE_NAME=org.clojure/clojure\r\nBOOT_CLOJURE_VERSION=1.9.0-beta1\r\nBOOT_VERSION=2.7.2\r\n```\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\n\r\nOS X High Sierra\r\n\r\n## Your current Leiningen version (`lein --version`)\r\n\r\nboot 2.7.2\r\n\r\n## Pedestal version\r\n\r\n0.5.2","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/533","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/533/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/533/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/533/events","html_url":"https://github.com/pedestal/pedestal/issues/533","id":252809742,"node_id":"MDU6SXNzdWUyNTI4MDk3NDI=","number":533,"title":"Why the complex dependencies?","user":{"login":"JayAndCatchFire","id":10983817,"node_id":"MDQ6VXNlcjEwOTgzODE3","avatar_url":"https://avatars0.githubusercontent.com/u/10983817?v=4","gravatar_id":"","url":"https://api.github.com/users/JayAndCatchFire","html_url":"https://github.com/JayAndCatchFire","followers_url":"https://api.github.com/users/JayAndCatchFire/followers","following_url":"https://api.github.com/users/JayAndCatchFire/following{/other_user}","gists_url":"https://api.github.com/users/JayAndCatchFire/gists{/gist_id}","starred_url":"https://api.github.com/users/JayAndCatchFire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayAndCatchFire/subscriptions","organizations_url":"https://api.github.com/users/JayAndCatchFire/orgs","repos_url":"https://api.github.com/users/JayAndCatchFire/repos","events_url":"https://api.github.com/users/JayAndCatchFire/events{/privacy}","received_events_url":"https://api.github.com/users/JayAndCatchFire/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-25T06:29:41Z","updated_at":"2017-08-25T17:40:48Z","closed_at":"2017-08-25T10:52:57Z","author_association":"NONE","body":"Hey, I'm a fan of the project and I wanted to give back by helping update some of the outdated dependencies.\r\n\r\nI started updating dependencies and I noticed some oddities.  For example, `potemkin` is used by `clj-http` as a dev dependency in `pedestal.service`, but it's excluded there.  It's a dependency of `pedestal.immutant` even though it's never actually used in the code anywhere.\r\n\r\nAnother example is that `javax.servlet/javax.servlet-api` is a dependency of `pedestal.immutant` but it's never used anywhere in that project.\r\n\r\nAnother example is that `crypto-equality` is excluded from the dependency `ring/ring-core` in `pedestal.service` and then included on its own.  I figured this was probably to get a specific version of `crypto-equality`.  However, the version of `ring/ring-core` (1.5.1, which is out of date incidentally) doesn't depend on `crypto-equality` anymore.\r\n\r\nSo are the dependencies of the pedestal packages in need of some pruning or is there some method to the madness?  Because if it's the former I'd be more than happy to volunteer my time weeding some of this stuff out.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/532","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/532/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/532/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/532/events","html_url":"https://github.com/pedestal/pedestal/issues/532","id":252550717,"node_id":"MDU6SXNzdWUyNTI1NTA3MTc=","number":532,"title":"Problem in routing","user":{"login":"ikitommi","id":567532,"node_id":"MDQ6VXNlcjU2NzUzMg==","avatar_url":"https://avatars1.githubusercontent.com/u/567532?v=4","gravatar_id":"","url":"https://api.github.com/users/ikitommi","html_url":"https://github.com/ikitommi","followers_url":"https://api.github.com/users/ikitommi/followers","following_url":"https://api.github.com/users/ikitommi/following{/other_user}","gists_url":"https://api.github.com/users/ikitommi/gists{/gist_id}","starred_url":"https://api.github.com/users/ikitommi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikitommi/subscriptions","organizations_url":"https://api.github.com/users/ikitommi/orgs","repos_url":"https://api.github.com/users/ikitommi/repos","events_url":"https://api.github.com/users/ikitommi/events{/privacy}","received_events_url":"https://api.github.com/users/ikitommi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2017-08-24T10:00:57Z","updated_at":"2017-11-20T16:09:09Z","closed_at":"2017-08-25T10:29:10Z","author_association":"NONE","body":"# Description\r\n\r\nA wildcard route masks non-wildcard routes with prefix-tree router.\r\n\r\n## Expected Behavior\r\n\r\nRoute should match.\r\n\r\n## Actual Behavior\r\n\r\nDoes not.\r\n\r\n## Steps to reproduce\r\n\r\n```clj\r\n(require '[io.pedestal.http.route.definition.table :as table])\r\n(require '[io.pedestal.http.route.map-tree :as map-tree])\r\n(require '[io.pedestal.http.route.router :as router])\r\n\r\n(router/find-route\r\n  (map-tree/router\r\n    (table/table-routes\r\n      [[\"/:a\" :get (constantly \"\") :route-name ::ping]\r\n       [\"/evil/ping\" :get (constantly \"\") :route-name ::evil-ping]]))\r\n  {:path-info \"/evil/ping\" :request-method :get})\r\n; => nil\r\n```\r\n\r\n# Environment\r\n\r\n```clj\r\n[io.pedestal/pedestal.service       \"0.5.2\"]\r\n```","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/528","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/528/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/528/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/528/events","html_url":"https://github.com/pedestal/pedestal/issues/528","id":241391885,"node_id":"MDU6SXNzdWUyNDEzOTE4ODU=","number":528,"title":"Handlers should be able to return a channel.","user":{"login":"patrickthebold","id":5789991,"node_id":"MDQ6VXNlcjU3ODk5OTE=","avatar_url":"https://avatars0.githubusercontent.com/u/5789991?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickthebold","html_url":"https://github.com/patrickthebold","followers_url":"https://api.github.com/users/patrickthebold/followers","following_url":"https://api.github.com/users/patrickthebold/following{/other_user}","gists_url":"https://api.github.com/users/patrickthebold/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickthebold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickthebold/subscriptions","organizations_url":"https://api.github.com/users/patrickthebold/orgs","repos_url":"https://api.github.com/users/patrickthebold/repos","events_url":"https://api.github.com/users/patrickthebold/events{/privacy}","received_events_url":"https://api.github.com/users/patrickthebold/received_events","type":"User","site_admin":false},"labels":[{"id":30598902,"node_id":"MDU6TGFiZWwzMDU5ODkwMg==","url":"https://api.github.com/repos/pedestal/pedestal/labels/enhancement","name":"enhancement","color":"84b6eb","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-07-07T22:04:05Z","updated_at":"2017-07-08T20:12:53Z","closed_at":"2017-07-08T10:12:10Z","author_association":"NONE","body":"In general, an interceptor can return a channel that eventually produces a context map. Handlers should be able to return a channel that returns a response map.\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/527","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/527/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/527/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/527/events","html_url":"https://github.com/pedestal/pedestal/issues/527","id":239959363,"node_id":"MDU6SXNzdWUyMzk5NTkzNjM=","number":527,"title":"war-example repl grumpy","user":{"login":"bherrmann7","id":33614,"node_id":"MDQ6VXNlcjMzNjE0","avatar_url":"https://avatars3.githubusercontent.com/u/33614?v=4","gravatar_id":"","url":"https://api.github.com/users/bherrmann7","html_url":"https://github.com/bherrmann7","followers_url":"https://api.github.com/users/bherrmann7/followers","following_url":"https://api.github.com/users/bherrmann7/following{/other_user}","gists_url":"https://api.github.com/users/bherrmann7/gists{/gist_id}","starred_url":"https://api.github.com/users/bherrmann7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bherrmann7/subscriptions","organizations_url":"https://api.github.com/users/bherrmann7/orgs","repos_url":"https://api.github.com/users/bherrmann7/repos","events_url":"https://api.github.com/users/bherrmann7/events{/privacy}","received_events_url":"https://api.github.com/users/bherrmann7/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-07-01T16:38:31Z","updated_at":"2017-07-07T23:23:42Z","closed_at":"2017-07-07T22:20:20Z","author_association":"NONE","body":"# Description\r\nexception on startup of the repl for the war-example\r\n## Expected Behavior\r\na happy repl\r\n## Actual Behavior\r\na grump replv- can't invoke (run-dev)\r\n## Steps to reproduce\r\n\r\n$ git clone https://github.com/pedestal/pedestal.git pp\r\n$ cd pp/samples/war-example/\r\n$ lein repl\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\nOSX \r\n$ uname -a \r\nDarwin talkie 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:21:16 PDT 2017; root:xnu-3789.60.24~6/RELEASE_X86_64 x86_64\r\n\r\n## Your current Leiningen version (`lein --version`)\r\n\r\n$ lein --version\r\nLeiningen 2.6.1 on Java 1.8.0_121 Java HotSpot(TM) 64-Bit Server VM\r\n\r\n## Pedestal version\r\n[io.pedestal/pedestal.service \"0.5.1\"]\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/523","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/523/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/523/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/523/events","html_url":"https://github.com/pedestal/pedestal/issues/523","id":236684306,"node_id":"MDU6SXNzdWUyMzY2ODQzMDY=","number":523,"title":"SSE Heartbeat Buffering Error","user":{"login":"LusciousPear","id":177046,"node_id":"MDQ6VXNlcjE3NzA0Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/177046?v=4","gravatar_id":"","url":"https://api.github.com/users/LusciousPear","html_url":"https://github.com/LusciousPear","followers_url":"https://api.github.com/users/LusciousPear/followers","following_url":"https://api.github.com/users/LusciousPear/following{/other_user}","gists_url":"https://api.github.com/users/LusciousPear/gists{/gist_id}","starred_url":"https://api.github.com/users/LusciousPear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LusciousPear/subscriptions","organizations_url":"https://api.github.com/users/LusciousPear/orgs","repos_url":"https://api.github.com/users/LusciousPear/repos","events_url":"https://api.github.com/users/LusciousPear/events{/privacy}","received_events_url":"https://api.github.com/users/LusciousPear/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-06-17T21:08:37Z","updated_at":"2017-06-20T00:54:40Z","closed_at":"2017-06-20T00:54:40Z","author_association":"NONE","body":"Hi,\r\n\r\nI'm encountering a strange buffering problem with the Pedestal SSE system. I'm on Pedestal 0.5.2 but also repro'd in 0.5.3-SNAPSHOT. \r\n\r\nIf I put a value in the event-ch, it *immediately* sends a heartbeat to the client (even if the interval is 20 seconds). I would expect it to send the event, instead.\r\n\r\nWhen the next heartbeat is supposed to send, it actually sends that event I put in 1 or 2 heartbeat-intervals ago.\r\n\r\nThis gradually increases ... it takes 20 seconds to send an event, then 40, then 60, then 80 etc.\r\n\r\nI've looked at the pedestal SSE code, and I'm not sure how this could be happening, but I'm rather new to core.async.\r\n\r\nHere's my code. \r\n\r\nI'm basically maintaining a pool of HTTP proxies that register and then have requests sent to them.\r\n\r\n```\r\n(def proxy-send-pool (ref {}))\r\n\r\n(defn update-proxy-pool [ip event-ch country]\r\n  (dosync (alter proxy-send-pool (fn [v i event]\r\n                                   (assoc-in v [i] event)) ip event-ch)))\r\n\r\n(defn sse-stream-ready\r\n  \"Starts sending counter events to client.\"\r\n  [event-ch ctx]\r\n  (let [{:keys [request response-channel]} ctx\r\n        addr (or (get (:headers request) \"x-forwarded-for\") (:remote-addr request))\r\n        country (get (Util/getGeo addr) \"country_code\")]\r\n    (update-proxy-pool addr event-ch country)\r\n    (async/put! event-ch (generate-string {:ip @afghan.util/this-ip}))))\r\n\r\n\r\n(defn add-work-item [request ip]\r\n  (async/put! (fetch-ip-channel ip) {:name \"request\" :data (generate-string request)}))\r\n\r\n\r\n(defroutes routes\r\n           [[[\"/register\" {:get [::events (sse/start-event-stream sse-stream-ready 20 100000 {:on-client-disconnect close-conn})]}]]])\r\n\r\n\r\n```","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/520","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/520/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/520/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/520/events","html_url":"https://github.com/pedestal/pedestal/issues/520","id":235998193,"node_id":"MDU6SXNzdWUyMzU5OTgxOTM=","number":520,"title":"Move Servlet interceptor chain provider specifics to servlet-specific namespaces","user":{"login":"ddeaguiar","id":5809,"node_id":"MDQ6VXNlcjU4MDk=","avatar_url":"https://avatars3.githubusercontent.com/u/5809?v=4","gravatar_id":"","url":"https://api.github.com/users/ddeaguiar","html_url":"https://github.com/ddeaguiar","followers_url":"https://api.github.com/users/ddeaguiar/followers","following_url":"https://api.github.com/users/ddeaguiar/following{/other_user}","gists_url":"https://api.github.com/users/ddeaguiar/gists{/gist_id}","starred_url":"https://api.github.com/users/ddeaguiar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddeaguiar/subscriptions","organizations_url":"https://api.github.com/users/ddeaguiar/orgs","repos_url":"https://api.github.com/users/ddeaguiar/repos","events_url":"https://api.github.com/users/ddeaguiar/events{/privacy}","received_events_url":"https://api.github.com/users/ddeaguiar/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-06-14T20:21:01Z","updated_at":"2018-05-24T15:29:23Z","closed_at":"2018-05-24T15:29:23Z","author_association":"CONTRIBUTOR","body":"# Description\r\nThe implementation of HTTP-based, non-servlet interceptor providers is hampered by the inclusion of Servlet-specific implementation details in the following namespaces: [io.pedestal.http.request](https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http/request.clj#L13), 
8000
[io.pedestal.http.ring-middlewares](https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http/ring_middlewares.clj#L34), [io.pedestal.http.request.map](https://github.com/pedestal/pedestal/blob/f89d0abe244d0e8385d66a697724ef56180a00e5/service/src/io/pedestal/http/request/map.clj#L3).\r\n\r\n## Expected Behavior\r\nThe implementation of HTTP-based, non-servlet interceptor providers should be able to benefit from the request/response abstractions, processing utilities and generic ring middleware implementations that Pedestal provides.\r\n\r\n## Proposed Solution\r\n* Remove the type hint from the [io.pedestal.http.request.map/fast-resource](https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http/ring_middlewares.clj#L168) implementation.\r\n* Move the servlet-specific bits in the `io.pedestal.http.request` and `io.pedestal.http.request.map` namespaces to the following new namespaces`io.pedestal.http.servlet.request` and `io.pedestal.http.servlet.request.map`, respectively.\r\n\r\n## Pedestal version\r\n0.5.2","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/516","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/516/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/516/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/516/events","html_url":"https://github.com/pedestal/pedestal/issues/516","id":235019631,"node_id":"MDU6SXNzdWUyMzUwMTk2MzE=","number":516,"title":"Secure headers not applied to static files","user":{"login":"stuartsierra","id":95044,"node_id":"MDQ6VXNlcjk1MDQ0","avatar_url":"https://avatars3.githubusercontent.com/u/95044?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartsierra","html_url":"https://github.com/stuartsierra","followers_url":"https://api.github.com/users/stuartsierra/followers","following_url":"https://api.github.com/users/stuartsierra/following{/other_user}","gists_url":"https://api.github.com/users/stuartsierra/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartsierra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartsierra/subscriptions","organizations_url":"https://api.github.com/users/stuartsierra/orgs","repos_url":"https://api.github.com/users/stuartsierra/repos","events_url":"https://api.github.com/users/stuartsierra/events{/privacy}","received_events_url":"https://api.github.com/users/stuartsierra/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-06-10T18:35:46Z","updated_at":"2017-07-12T15:15:39Z","closed_at":"2017-07-12T13:23:24Z","author_association":"CONTRIBUTOR","body":"# Description\r\n\r\nStatic files served from the classpath or the filesystem are served without security-related headers such as `Content-Security-Policy`.\r\n\r\n## Steps to reproduce\r\n\r\nIn a shell, run:\r\n\r\n    lein new pedestal-service foo\r\n\r\n    cd foo\r\n\r\n    mkdir -p resources/public\r\n\r\n    cat <<EOF > resources/public/page.html\r\n    <!doctype html>\r\n    <html>\r\n        <head>\r\n            <title>Sample page</title>\r\n        </head>\r\n        <body>\r\n            <p>Sample page</p>\r\n            <script src=\"https://code.jquery.com/jquery-3.2.1.min.js\"></script>\r\n        </body>\r\n    </html>\r\n    EOF\r\n\r\n    lein run-dev\r\n\r\nIn another shell, run:\r\n    \r\n    curl -i 'http://localhost:8080/page.html'\r\n\r\nObserve the headers in the response:\r\n\r\n    HTTP/1.1 200 OK\r\n    Date: Sat, 10 Jun 2017 18:30:09 GMT\r\n    Last-Modified: Sat, 10 Jun 2017 18:30:06 GMT\r\n    Content-Type: text/html\r\n    Access-Control-Allow-Credentials: true\r\n    Access-Control-Expose-Headers: Content-Length, Last-Modified, Content-Type\r\n    Content-Length: 215\r\n\r\nCompare by running:\r\n\r\n    curl -i 'http://localhost:8080/'\r\n\r\nAnd observe the headers in the response:\r\n\r\n    HTTP/1.1 200 OK\r\n    Date: Sat, 10 Jun 2017 18:30:15 GMT\r\n    X-Frame-Options: DENY\r\n    X-XSS-Protection: 1; mode=block\r\n    X-Download-Options: noopen\r\n    Strict-Transport-Security: max-age=31536000; includeSubdomains\r\n    X-Permitted-Cross-Domain-Policies: none\r\n    Access-Control-Allow-Credentials: true\r\n    Access-Control-Expose-Headers: Strict-Transport-Security, X-Frame-Options, X-Content-Type-Options, X-Xss-Protection, X-Download-Options, X-Permitted-Cross-Domain-Policies, Content-Security-Policy, Content-Type\r\n    X-Content-Type-Options: nosniff\r\n    Content-Security-Policy: object-src 'none'; script-src 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:;\r\n    Content-Type: text/html;charset=utf-8\r\n    Transfer-Encoding: chunked\r\n\r\n# Environment\r\n\r\n## Operating System (including version).\r\n\r\nOS X El Capitan 10.11.6\r\n\r\n## Your current Leiningen version (`lein --version`)\r\n\r\nLeiningen 2.7.1 on Java 1.8.0_92 Java HotSpot(TM) 64-Bit Server VM\r\n\r\n## Pedestal version\r\n\r\n0.5.2","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/512","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/512/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/512/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/512/events","html_url":"https://github.com/pedestal/pedestal/issues/512","id":226820651,"node_id":"MDU6SXNzdWUyMjY4MjA2NTE=","number":512,"title":"Allow enqueueing of interceptors other than at end of interceptor chain","user":{"login":"crimeminister","id":29072,"node_id":"MDQ6VXNlcjI5MDcy","avatar_url":"https://avatars3.githubusercontent.com/u/29072?v=4","gravatar_id":"","url":"https://api.github.com/users/crimeminister","html_url":"https://github.com/crimeminister","followers_url":"https://api.github.com/users/crimeminister/followers","following_url":"https://api.github.com/users/crimeminister/following{/other_user}","gists_url":"https://api.github.com/users/crimeminister/gists{/gist_id}","starred_url":"https://api.github.com/users/crimeminister/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crimeminister/subscriptions","organizations_url":"https://api.github.com/users/crimeminister/orgs","repos_url":"https://api.github.com/users/crimeminister/repos","events_url":"https://api.github.com/users/crimeminister/events{/privacy}","received_events_url":"https://api.github.com/users/crimeminister/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-05-07T02:14:19Z","updated_at":"2017-07-12T16:27:40Z","closed_at":"2017-07-12T16:27:40Z","author_association":"CONTRIBUTOR","body":"I recently encountered a situation in which I had to enqueue a sequence of interceptors and ensure that they executed immediately after the current interceptor. As the `io.pedestal.interceptor.chain/enqueue` function only supports adding interceptors to the end of the chain (which makes sense given that for the underlying `PersistentQueue` data structure that's what's supported efficiently) I added a `prequeue` function that [did what I needed](https://github.com/crimeminister/pedestal/commit/88e06ff4a36de9a481584211bee42f1e2fb5410e) though perhaps not as performantly as one might want. I am curious if there is any appetite for the chain API to support the addition of interceptors both at the front and back of the chain?\r\n\r\nIf the interceptor chain is used by itself for running data processing pipelines it might also be nice to extend the API to support more flexible insertion/removal options, e.g. before or after a given interceptor or between every two interceptors (to store timestamps for performance evaluation, say). I have pondered changing the underlying data structure storing the interceptor chain on the context from `PersistentQueue` to a [finger tree](https://github.com/clojure/data.finger-tree) as it supports constant time addition at both ends; does that make any sense given the discussion happening in #411?","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/511","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/511/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/511/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/511/events","html_url":"https://github.com/pedestal/pedestal/issues/511","id":226255130,"node_id":"MDU6SXNzdWUyMjYyNTUxMzA=","number":511,"title":"Doc issue: clarification of setting :response in an intercepter","user":{"login":"deg","id":90383,"node_id":"MDQ6VXNlcjkwMzgz","avatar_url":"https://avatars1.githubusercontent.com/u/90383?v=4","gravatar_id":"","url":"https://api.github.com/users/deg","html_url":"https://github.com/deg","followers_url":"https://api.github.com/users/deg/followers","following_url":"https://api.github.com/users/deg/following{/other_user}","gists_url":"https://api.github.com/users/deg/gists{/gist_id}","starred_url":"https://api.github.com/users/deg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deg/subscriptions","organizations_url":"https://api.github.com/users/deg/orgs","repos_url":"https://api.github.com/users/deg/repos","events_url":"https://api.github.com/users/deg/events{/privacy}","received_events_url":"https://api.github.com/users/deg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-05-04T11:46:03Z","updated_at":"2017-05-04T12:34:03Z","closed_at":"2017-05-04T11:47:19Z","author_association":"NONE","body":"I was recently bitten by lack of knowledge, writing an interceptor for a Vase app.\r\n\r\nI needed to set the context's `:response` and then let it be processed by existing Vase code (e.g., converting the response to transit).\r\n\r\nI initially did this in the `:enter` of my interceptor, and was surprised to discover that the remaining interceptors were not called. (The proximate reason is https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http/impl/servlet_interceptor.clj#L373, and I assume that the intention is deliberate).\r\n\r\nIt was easy to fix my code; I just needed to set the response in my `:leave`. But, this was not obvious at first, and would be helped by more documentation and examples of how to write interceptors. (Ideally, also with a link to this part of the Pedestal docs from the Vase docs).","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/510","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/510/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/510/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/510/events","html_url":"https://github.com/pedestal/pedestal/issues/510","id":223571031,"node_id":"MDU6SXNzdWUyMjM1NzEwMzE=","number":510,"title":"[Refactor proposal] pedestal/http.clj seems to big, maybe split?","user":{"login":"kirillsalykin","id":136315,"node_id":"MDQ6VXNlcjEzNjMxNQ==","avatar_url":"https://avatars3.githubusercontent.com/u/136315?v=4","gravatar_id":"","url":"https://api.github.com/users/kirillsalykin","html_url":"https://github.com/kirillsalykin","followers_url":"https://api.github.com/users/kirillsalykin/followers","following_url":"https://api.github.com/users/kirillsalykin/following{/other_user}","gists_url":"https://api.github.com/users/kirillsalykin/gists{/gist_id}","starred_url":"https://api.github.com/users/kirillsalykin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirillsalykin/subscriptions","organizations_url":"https://api.github.com/users/kirillsalykin/orgs","repos_url":"https://api.github.com/users/kirillsalykin/repos","events_url":"https://api.github.com/users/kirillsalykin/events{/privacy}","received_events_url":"https://api.github.com/users/kirillsalykin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-04-22T15:13:14Z","updated_at":"2017-04-24T13:47:04Z","closed_at":"2017-04-24T13:47:04Z","author_association":"NONE","body":"This file https://github.com/pedestal/pedestal/blob/master/service/src/io/pedestal/http.clj seems too big to me, I think it can be splitted into these parts:\r\n- Response part (all `*-response` + `*-body` parts and `not-found` interceptor)\r\n- Defaults part (default interceptors + dev defaults)\r\n- Creation part (`create-server` etc)\r\n\r\nAlso some other questions:\r\n1. Maybe I misunderstand but I thought everything servlet related was moved to provider, thus servlet-init etc not needed?\r\n2. Also I propose to add `body-params` and  `keyword-params` interceptors to `default-interceptors`. I can see that now `body-params` are used, but only with `csrf`. Is this intentional secure default?\r\n\r\nWhat do you think?\r\n\r\nThis refactor seems not that hard, I'd like to help with it.\r\n\r\nThanks.\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/506","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/506/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/506/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/506/events","html_url":"https://github.com/pedestal/pedestal/issues/506","id":220783167,"node_id":"MDU6SXNzdWUyMjA3ODMxNjc=","number":506,"title":"Cookies missing in Jetty when :h2? true","user":{"login":"claj","id":353113,"node_id":"MDQ6VXNlcjM1MzExMw==","avatar_url":"https://avatars1.githubusercontent.com/u/353113?v=4","gravatar_id":"","url":"https://api.github.com/users/claj","html_url":"https://github.com/claj","followers_url":"https://api.github.com/users/claj/followers","following_url":"https://api.github.com/users/claj/following{/other_user}","gists_url":"https://api.github.com/users/claj/gists{/gist_id}","starred_url":"https://api.github.com/users/claj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claj/subscriptions","organizations_url":"https://api.github.com/users/claj/orgs","repos_url":"https://api.github.com/users/claj/repos","events_url":"https://api.github.com/users/claj/events{/privacy}","received_events_url":"https://api.github.com/users/claj/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2017-04-10T21:58:56Z","updated_at":"2017-04-21T14:12:07Z","closed_at":"2017-04-21T14:12:07Z","author_association":"NONE","body":"# Description\r\n\r\nWe observed that the pedestal application doesn't get the session reliably when having `:h2?` enabled using Jetty. It turned out only one cookie is presented to the pedestal application when using `:h2?` / ALPN functionality.\r\n\r\n## Expected Behavior\r\n\r\nThat our application sees the same cookies as the browser sends in the request.\r\n\r\nThis works when `:h2?` is disabled.\r\n\r\n## Actual Behavior\r\n\r\nWhen our SPA has started, it sends request backs to the server.\r\n\r\n### Chrome\r\n\r\nAt this point, several cookies has been set and, according to Chromes network debugging tool, all of them are sent back to the server like this:\r\n\r\n`__lc.visitor_id.8695666=S1491858882.6ef2063bfc; youple=wUuiEgfwvBDVDVpL6UrGrEmnP4b7huv%2FqSO2zpwpOuTt5YNhV32rQ7Zvh1ZqwOhkhfSH6kUEcIyL346vB6J77hPwcLN%2FLQSMEA%2FNRjZf%2BeILbbWesJ5C0IYmQpLUDaTvBb8vZ8ePbKEdmMweJCBQNNkouprMmVAtitABUP8ZcdHp3yZB%2BleDDWbZNirwobE%2FJ71tzVEWggEa9gZ8C5YHhQ%2FmJLS4CZ1LaOmqaMQD%2F6emdE2cpoBfCjGwL7EPIRL8kUCebuHx%2FP%2F0tUDNRIfxaw%3D%3D--m8W4ho%2B2%2FvQ5ozn75oBEEQUjMO%2BKrMMGj6w6GBncR40%3D; lc_window_state=minimized`\r\n\r\nIn the pedestal application, all cookies but one has mysteriously disappeared.\r\n\r\nRelevant parts of the request object looks like this\r\n\r\n`:session {}\r\n:cookies {\"__lc.visitor_id.8695666\" {:value \"S1491858882.6ef2063bfc\"}}`\r\n\r\nthe received `:header \"cookie\"` string looks like this:\r\n\r\n`:cookie-header \"__lc.visitor_id.8695666=S1491858882.6ef2063bfc\"`\r\n\r\n### Firefox\r\nThe behaviour is consisten with Firefox. The sent cookie header is as follows:\r\n\r\n`__lc.visitor_id.8695666=S1491819758.1a84a50d80; cookies-accepted=\"accepted\"; lc_window_state=minimized; youple=hpP4vWgqZ8Ykt%2BuSZ1aGS7SVg%2BZ%2BlxQHNoYurHCox72LilmKX3ikKqOcNGqR37DijeraETHAFUZS1aVzCss%2FotFcRFuc5dCK1wQGi53Yo6QbDY4IC5gO0OMvf3QPJmY1zKXvrGEMMmya8Ht8oR4kQY5LcxcslK%2FOPtIKJVNp6kv%2B77elNSNzdMHJdrQa%2Bwsmp0BQejSExXlkXA2GJ%2FyYoMbWgDod7VapNNgSTSKDQ3Jk5Evnn%2FkPSeuUDTrwQuuluJS7EbPQg9kHSUsA3t2pgA%3D%3D--Ty%2BKlKIkh6u2Nnie9PTNl7p1roEfMGJXjYDr9EDy%2F%2FA%3D`\r\n\r\nwhich results in\r\n\r\n`:session {}\r\n:cookies {\"__lc.visitor_id.8695666\" {:value \"S1491819758.1a84a50d80\"}}\r\n\r\n:cookie-header \"__lc.visitor_id.8695666=S1491819758.1a84a50d80\"}`\r\n\r\nThe state and the symptomes are very confusing and took us quite some time to diagnose.\r\n\r\n## Steps to reproduce\r\n\r\nI will try to come up with a minimum reproducible case. I report it as is, hopefully the error is apparent from the stylobate implementation or from the reported dependencies.\r\n\r\n# Environment\r\n\r\nChrome Version 57.0.2987.133 (64-bit)\r\nFirefox 52.0.2 (64-bit)\r\n\r\nPedestal 0.5.2\r\nClojure 1.9.0-alpha14\r\nJetty version \"9.4.2.v20170220\"\r\n\r\n[org.eclipse.jetty.alpn/alpn-api \"1.1.3.v20160715\"]\r\n\r\n[ring/ring-core \"1.5.1\" :exclusions [[org.clojure/clojure]\r\n                                                      [org.clojure/tools.reader]\r\n                                                      [crypto-random]\r\n                                                      [crypto-equality]]]\r\n\r\n[ring/ring-codec \"1.0.1\"]\r\n\r\n\r\n  :java-agents [[org.mortbay.jetty.alpn/jetty-alpn-agent \"2.0.6\"]]\r\n\r\n## Operating System (including version).\r\nmacOS Sieera 10.12.3 (also seen on Ubuntu 16.04)\r\n\r\n## Your current Leiningen version (`lein --version`)\r\nLeiningen 2.7.1 on Java 1.8.0_121 Java HotSpot(TM) 64-Bit Server VM\r\n\r\n## Pedestal version\r\n0.5.2\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/505","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/505/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/505/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/505/events","html_url":"https://github.com/pedestal/pedestal/issues/505","id":220056703,"node_id":"MDU6SXNzdWUyMjAwNTY3MDM=","number":505,"title":"Pedestal's core.async dependency doesn't work with Clojure 1.9.0-alpha15","user":{"login":"mtnygard","id":116714,"node_id":"MDQ6VXNlcjExNjcxNA==","avatar_url":"https://avatars2.githubusercontent.com/u/116714?v=4","gravatar_id":"","url":"https://api.github.com/users/mtnygard","html_url":"https://github.com/mtnygard","followers_url":"https://api.github.com/users/mtnygard/followers","following_url":"https://api.github.com/users/mtnygard/following{/other_user}","gists_url":"https://api.github.com/users/mtnygard/gists{/gist_id}","starred_url":"https://api.github.com/users/mtnygard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtnygard/subscriptions","organizations_url":"https://api.github.com/users/mtnygard/orgs","repos_url":"https://api.github.com/users/mtnygard/repos","events_url":"https://api.github.com/users/mtnygard/events{/privacy}","received_events_url":"https://api.github.com/users/mtnygard/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-04-06T22:52:25Z","updated_at":"2017-04-07T15:05:50Z","closed_at":"2017-04-07T15:05:50Z","author_association":"CONTRIBUTOR","body":"# Description\r\n\r\n## Expected Behavior\r\n\r\nREPL starts as normal.\r\n\r\n## Actual Behavior\r\n\r\nCompile error is reported:\r\n\r\n```\r\n#error {\r\n :cause Call to clojure.core/refer-clojure did not conform to spec:\r\nIn: [2] val: (quote :as) fails at: [:args :exclude :op :spec] predicate: #{:exclude}\r\nIn: [2 1] val: :as fails at: [:args :exclude :op :quoted-spec :spec] predicate: #{:exclude}\r\nIn: [2] val: (quote :as) fails at: [:args :only :op :spec] predicate: #{:only}\r\nIn: [2 1] val: :as fails at: [:args :only :op :quoted-spec :spec] predicate: #{:only}\r\nIn: [2] val: (quote :as) fails at: [:args :rename :op :spec] predicate: #{:rename}\r\nIn: [2 1] val: :as fails at: [:args :rename :op :quoted-spec :spec] predicate: #{:rename}\r\n:clojure.spec/args  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n :data #:clojure.spec{:problems ({:path [:args :exclude :op :spec], :pred #{:exclude}, :val (quote :as), :via [], :in [2]} {:path [:args :exclude :op :quoted-spec :spec], :pred #{:exclude}, :val :as, :via [], :in [2 1]} {:path [:args :only :op :spec], :pred #{:only}, :val (quote :as), :via [], :in [2]} {:path [:args :only :op :quoted-spec :spec], :pred #{:only}, :val :as, :via [], :in [2 1]} {:path [:args :rename :op :spec], :pred #{:rename}, :val (quote :as), :via [], :in [2]} {:path [:args :rename :op :quoted-spec :spec], :pred #{:rename}, :val :as, :via [], :in [2 1]}), :args ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))}\r\n :via\r\n [{:type clojure.lang.Compiler$CompilerException\r\n   :message clojure.lang.ExceptionInfo: Call to clojure.core/refer-clojure did not conform to spec:\r\nIn: [2] val: (quote :as) fails at: [:args :exclude :op :spec] predicate: #{:exclude}\r\nIn: [2 1] val: :as fails at: [:args :exclude :op :quoted-spec :spec] predicate: #{:exclude}\r\nIn: [2] val: (quote :as) fails at: [:args :only :op :spec] predicate: #{:only}\r\nIn: [2 1] val: :as fails at: [:args :only :op :quoted-spec :spec] predicate: #{:only}\r\nIn: [2] val: (quote :as) fails at: [:args :rename :op :spec] predicate: #{:rename}\r\nIn: [2 1] val: :as fails at: [:args :rename :op :quoted-spec :spec] predicate: #{:rename}\r\n:clojure.spec/args  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n #:clojure.spec{:problems ({:path [:args :exclude :op :spec], :pred #{:exclude}, :val (quote :as), :via [], :in [2]} {:path [:args :exclude :op :quoted-spec :spec], :pred #{:exclude}, :val :as, :via [], :in [2 1]} {:path [:args :only :op :spec], :pred #{:only}, :val (quote :as), :via [], :in [2]} {:path [:args :only :op :quoted-spec :spec], :pred #{:only}, :val :as, :via [], :in [2 1]} {:path [:args :rename :op :spec], :pred #{:rename}, :val (quote :as), :via [], :in [2]} {:path [:args :rename :op :quoted-spec :spec], :pred #{:rename}, :val :as, :via [], :in [2 1]}), :args ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))}, compiling:(clojure/core/async.clj:9:1)\r\n   :at [clojure.lang.Compiler analyzeSeq Compiler.java 6926]}\r\n  {:type clojure.lang.ExceptionInfo\r\n   :message Call to clojure.core/refer-clojure did not conform to spec:\r\nIn: [2] val: (quote :as) fails at: [:args :exclude :op :spec] predicate: #{:exclude}\r\nIn: [2 1] val: :as fails at: [:args :exclude :op :quoted-spec :spec] predicate: #{:exclude}\r\nIn: [2] val: (quote :as) fails at: [:args :only :op :spec] predicate: #{:only}\r\nIn: [2 1] val: :as fails at: [:args :only :op :quoted-spec :spec] predicate: #{:only}\r\nIn: [2] val: (quote :as) fails at: [:args :rename :op :spec] predicate: #{:rename}\r\nIn: [2 1] val: :as fails at: [:args :rename :op :quoted-spec :spec] predicate: #{:rename}\r\n:clojure.spec/args  ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))\r\n\r\n   :data #:clojure.spec{:problems ({:path [:args :exclude :op :spec], :pred #{:exclude}, :val (quote :as), :via [], :in [2]} {:path [:args :exclude :op :quoted-spec :spec], :pred #{:exclude}, :val :as, :via [], :in [2 1]} {:path [:args :only :op :spec], :pred #{:only}, :val (quote :as), :via [], :in [2]} {:path [:args :only :op :quoted-spec :spec], :pred #{:only}, :val :as, :via [], :in [2 1]} {:path [:args :rename :op :spec], :pred #{:rename}, :val (quote :as), :via [], :in [2]} {:path [:args :rename :op :quoted-spec :spec], :pred #{:rename}, :val :as, :via [], :in [2 1]}), :args ((quote :exclude) (quote [reduce into merge map take partition partition-by bounded-count]) (quote :as) (quote core))}\r\n   :at [clojure.core$ex_info invokeStatic core.clj 4725]}]\r\n :trace\r\n [[clojure.core$ex_info invokeStatic core.clj 4725]\r\n  [clojure.spec$macroexpand_check invokeStatic spec.clj 697]\r\n  [clojure.spec$macroexpand_check invoke spec.clj 686]\r\n  [clojure.lang.AFn applyToHelper AFn.java 156]\r\n  [clojure.lang.AFn applyTo AFn.java 144]\r\n  [clojure.lang.Var applyTo Var.java 700]\r\n  [clojure.lang.Compiler macroexpand1 Compiler.java 6816]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6905]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler analyze Compiler.java 6657]\r\n  [clojure.lang.Compiler$BodyExpr$Parser parse Compiler.java 6030]\r\n  [clojure.lang.Compiler$TryExpr$Parser parse Compiler.java 2277]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6919]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler analyze Compiler.java 6657]\r\n  [clojure.lang.Compiler$BodyExpr$Parser parse Compiler.java 6030]\r\n  [clojure.lang.Compiler$FnMethod parse Compiler.java 5407]\r\n  [clojure.lang.Compiler$FnExpr parse Compiler.java 3973]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6917]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6907]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler analyze Compiler.java 6657]\r\n  [clojure.lang.Compiler$InvokeExpr parse Compiler.java 3767]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6921]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler analyze Compiler.java 6657]\r\n  [clojure.lang.Compiler$BodyExpr$Parser parse Compiler.java 6030]\r\n  [clojure.lang.Compiler$FnMethod parse Compiler.java 5407]\r\n  [clojure.lang.Compiler$FnExpr parse Compiler.java 3973]\r\n  [clojure.lang.Compiler analyzeSeq Compiler.java 6917]\r\n  [clojure.lang.Compiler analyze Compiler.java 6701]\r\n  [clojure.lang.Compiler eval Compiler.java 6975]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.RT loadResourceScript RT.java 374]\r\n  [clojure.lang.RT loadResourceScript RT.java 365]\r\n  [clojure.lang.RT load RT.java 455]\r\n  [clojure.lang.RT load RT.java 421]\r\n  [clojure.core$load$fn__7831 invoke core.clj 6008]\r\n  [clojure.core$load invokeStatic core.clj 6007]\r\n  [clojure.core$load doInvoke core.clj 5991]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5812]\r\n  [clojure.core$load_one invoke core.clj 5807]\r\n  [clojure.core$load_lib$fn__7776 invoke core.clj 5852]\r\n  [clojure.core$load_lib invokeStatic core.clj 5851]\r\n  [clojure.core$load_lib doInvoke core.clj 5832]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$load_libs invokeStatic core.clj 5889]\r\n  [clojure.core$load_libs doInvoke core.clj 5873]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$require invokeStatic core.clj 5911]\r\n  [clojure.core$require doInvoke core.clj 5911]\r\n  [clojure.lang.RestFn invoke RestFn.java 436]\r\n  [io.pedestal.interceptor.chain$eval215$loading__7717__auto____216 invoke chain.clj 13]\r\n  [io.pedestal.interceptor.chain$eval215 invokeStatic chain.clj 13]\r\n  [io.pedestal.interceptor.chain$eval215 invoke chain.clj 13]\r\n  [clojure.lang.Compiler eval Compiler.java 6978]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.RT loadResourceScript RT.java 374]\r\n  [clojure.lang.RT loadResourceScript RT.java 365]\r\n  [clojure.lang.RT load RT.java 455]\r\n  [clojure.lang.RT load RT.java 421]\r\n  [clojure.core$load$fn__7831 invoke core.clj 6008]\r\n  [clojure.core$load invokeStatic core.clj 6007]\r\n  [clojure.core$load doInvoke core.clj 5991]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5812]\r\n  [clojure.core$load_one invoke core.clj 5807]\r\n  [clojure.core$load_lib$fn__7776 invoke core.clj 5852]\r\n  [clojure.core$load_lib invokeStatic core.clj 5851]\r\n  [clojure.core$load_lib doInvoke core.clj 5832]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$load_libs invokeStatic core.clj 5889]\r\n  [clojure.core$load_libs doInvoke core.clj 5873]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$require invokeStatic core.clj 5911]\r\n  [clojure.core$require doInvoke core.clj 5911]\r\n  [clojure.lang.RestFn invoke RestFn.java 1096]\r\n  [io.pedestal.http.route$eval38$loading__7717__auto____39 invoke route.clj 13]\r\n  [io.pedestal.http.route$eval38 invokeStatic route.clj 13]\r\n  [io.pedestal.http.route$eval38 invoke route.clj 13]\r\n  [clojure.lang.Compiler eval Compiler.java 6978]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.RT loadResourceScript RT.java 374]\r\n  [clojure.lang.RT loadResourceScript RT.java 365]\r\n  [clojure.lang.RT load RT.java 455]\r\n  [clojure.lang.RT load RT.java 421]\r\n  [clojure.core$load$fn__7831 invoke core.clj 6008]\r\n  [clojure.core$load invokeStatic core.clj 6007]\r\n  [clojure.core$load doInvoke core.clj 5991]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5812]\r\n  [clojure.core$load_one invoke core.clj 5807]\r\n  [clojure.core$load_lib$fn__7776 invoke core.clj 5852]\r\n  [clojure.core$load_lib invokeStatic core.clj 5851]\r\n  [clojure.core$load_lib doInvoke core.clj 5832]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$load_libs invokeStatic core.clj 5889]\r\n  [clojure.core$load_libs doInvoke core.clj 5873]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$require invokeStatic core.clj 5911]\r\n  [clojure.core$require doInvoke core.clj 5911]\r\n  [clojure.lang.RestFn invoke RestFn.java 1523]\r\n  [io.pedestal.http$eval32$loading__7717__auto____33 invoke http.clj 13]\r\n  [io.pedestal.http$eval32 invokeStatic http.clj 13]\r\n  [io.pedestal.http$eval32 invoke http.clj 13]\r\n  [clojure.lang.Compiler eval Compiler.java 6978]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.RT loadResourceScript RT.java 374]\r\n  [clojure.lang.RT loadResourceScript RT.java 365]\r\n  [clojure.lang.RT load RT.java 455]\r\n  [clojure.lang.RT load RT.java 421]\r\n  [clojure.core$load$fn__7831 invoke core.clj 6008]\r\n  [clojure.core$load invokeStatic core.clj 6007]\r\n  [clojure.core$load doInvoke core.clj 5991]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5812]\r\n  [clojure.core$load_one invoke core.clj 5807]\r\n  [clojure.core$load_lib$fn__7776 invoke core.clj 5852]\r\n  [clojure.core$load_lib invokeStatic core.clj 5851]\r\n  [clojure.core$load_lib doInvoke core.clj 5832]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$ap
4842
ply invokeStatic core.clj 659]\r\n  [clojure.core$load_libs invokeStatic core.clj 5889]\r\n  [clojure.core$load_libs doInvoke core.clj 5873]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$require invokeStatic core.clj 5911]\r\n  [clojure.core$require doInvoke core.clj 5911]\r\n  [clojure.lang.RestFn invoke RestFn.java 436]\r\n  [foosrv.server$eval24$loading__7717__auto____25 invoke server.clj 1]\r\n  [foosrv.server$eval24 invokeStatic server.clj 1]\r\n  [foosrv.server$eval24 invoke server.clj 1]\r\n  [clojure.lang.Compiler eval Compiler.java 6978]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.RT loadResourceScript RT.java 374]\r\n  [clojure.lang.RT loadResourceScript RT.java 365]\r\n  [clojure.lang.RT load RT.java 455]\r\n  [clojure.lang.RT load RT.java 421]\r\n  [clojure.core$load$fn__7831 invoke core.clj 6008]\r\n  [clojure.core$load invokeStatic core.clj 6007]\r\n  [clojure.core$load doInvoke core.clj 5991]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [clojure.core$load_one invokeStatic core.clj 5812]\r\n  [clojure.core$load_one invoke core.clj 5807]\r\n  [clojure.core$load_lib$fn__7776 invoke core.clj 5852]\r\n  [clojure.core$load_lib invokeStatic core.clj 5851]\r\n  [clojure.core$load_lib doInvoke core.clj 5832]\r\n  [clojure.lang.RestFn applyTo RestFn.java 142]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$load_libs invokeStatic core.clj 5889]\r\n  [clojure.core$load_libs doInvoke core.clj 5873]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.core$apply invokeStatic core.clj 659]\r\n  [clojure.core$require invokeStatic core.clj 5911]\r\n  [clojure.core$require doInvoke core.clj 5911]\r\n  [clojure.lang.RestFn invoke RestFn.java 408]\r\n  [user$eval15 invokeStatic form-init7975287044535910165.clj 1]\r\n  [user$eval15 invoke form-init7975287044535910165.clj 1]\r\n  [clojure.lang.Compiler eval Compiler.java 6978]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler eval Compiler.java 6967]\r\n  [clojure.lang.Compiler load Compiler.java 7430]\r\n  [clojure.lang.Compiler loadFile Compiler.java 7368]\r\n  [clojure.main$load_script invokeStatic main.clj 277]\r\n  [clojure.main$init_opt invokeStatic main.clj 279]\r\n  [clojure.main$init_opt invoke main.clj 279]\r\n  [clojure.main$initialize invokeStatic main.clj 310]\r\n  [clojure.main$null_opt invokeStatic main.clj 344]\r\n  [clojure.main$null_opt invoke main.clj 341]\r\n  [clojure.main$main invokeStatic main.clj 423]\r\n  [clojure.main$main doInvoke main.clj 386]\r\n  [clojure.lang.RestFn applyTo RestFn.java 137]\r\n  [clojure.lang.Var applyTo Var.java 700]\r\n  [clojure.main main main.java 37]]}\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. Create new project with `lein new pedestal-service foo`\r\n\r\n2. Edit foo/project.clj to use clojure 1.9.0-alpha15\r\n\r\n3. Start a repl with `lein repl`\r\n\r\n# Environment\r\n\r\n## Pedestal version\r\n\r\n0.5.2\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/504","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/504/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/504/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/504/events","html_url":"https://github.com/pedestal/pedestal/issues/504","id":217831013,"node_id":"MDU6SXNzdWUyMTc4MzEwMTM=","number":504,"title":"Bug in pedestal.io website guide","user":{"login":"oasalonen","id":1109816,"node_id":"MDQ6VXNlcjExMDk4MTY=","avatar_url":"https://avatars0.githubusercontent.com/u/1109816?v=4","gravatar_id":"","url":"https://api.github.com/users/oasalonen","html_url":"https://github.com/oasalonen","followers_url":"https://api.github.com/users/oasalonen/followers","following_url":"https://api.github.com/users/oasalonen/following{/other_user}","gists_url":"https://api.github.com/users/oasalonen/gists{/gist_id}","starred_url":"https://api.github.com/users/oasalonen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oasalonen/subscriptions","organizations_url":"https://api.github.com/users/oasalonen/orgs","repos_url":"https://api.github.com/users/oasalonen/repos","events_url":"https://api.github.com/users/oasalonen/events{/privacy}","received_events_url":"https://api.github.com/users/oasalonen/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-03-29T10:24:35Z","updated_at":"2017-03-29T10:27:45Z","closed_at":"2017-03-29T10:27:45Z","author_association":"NONE","body":"Is this the right place to file issues on the pedestal.io website guides?\r\n\r\nIn http://pedestal.io/guides/hello-world-content-types#_the_whole_shebang see hello.clj `defn greeting-for`. \r\n\r\nThe line \r\n`(unmentionables nm) nm`\r\nshould be\r\n`(unmentionables nm) nil`\r\n\r\nas shown in an earlier example of the guide (http://pedestal.io/guides/hello-world-query-parameters#_conditional_responses)","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/502","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/502/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/502/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/502/events","html_url":"https://github.com/pedestal/pedestal/issues/502","id":215025765,"node_id":"MDU6SXNzdWUyMTUwMjU3NjU=","number":502,"title":" CSRF and application/x-www-form-urlencoded data.","user":{"login":"ddeaguiar","id":5809,"node_id":"MDQ6VXNlcjU4MDk=","avatar_url":"https://avatars3.githubusercontent.com/u/5809?v=4","gravatar_id":"","url":"https://api.github.com/users/ddeaguiar","html_url":"https://github.com/ddeaguiar","followers_url":"https://api.github.com/users/ddeaguiar/followers","following_url":"https://api.github.com/users/ddeaguiar/following{/other_user}","gists_url":"https://api.github.com/users/ddeaguiar/gists{/gist_id}","starred_url":"https://api.github.com/users/ddeaguiar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddeaguiar/subscriptions","organizations_url":"https://api.github.com/users/ddeaguiar/orgs","repos_url":"https://api.github.com/users/ddeaguiar/repos","events_url":"https://api.github.com/users/ddeaguiar/events{/privacy}","received_events_url":"https://api.github.com/users/ddeaguiar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-03-17T14:50:02Z","updated_at":"2017-04-07T17:26:08Z","closed_at":"2017-04-07T16:43:07Z","author_association":"CONTRIBUTOR","body":"# Description\r\nWhen CSRF is activated via the service map, I alway see the _Invalid anti-forgery token_ response when POST'ing `application/x-www-form-urlencoded` data that includes the anti-forgery token.\r\n\r\nIt works as expected when I enable sessions via the service map and add the CSRF interceptor after the `body-params` interceptor during route configuration.\r\n\r\n## Expected Behavior\r\nThe request should not be considered invalid when the correct anti-forgery token is submitted in the form params.\r\n## Actual Behavior\r\nThe _Invalid anti-forgery token_ response is always returned.\r\n## Steps to reproduce\r\n* Activate CSRF protection via the service map.\r\n* Add an authentication endpoint and submit a request with a content-type of `application/x-www-form-urlencoded` containing the anti-forgery token.\r\n\r\nRefer to [this](https://github.com/ddeaguiar/pedestal-csrf-issue) sample app for a demonstration.\r\n\r\nThis issue seems to go back a few years based on [this](https://stuarth.github.io/clojure/csrf-pedestal/) blog post.\r\n\r\n# Environment\r\n\r\nJava 1.8.0_112\r\n\r\n## Operating System (including version).\r\n\r\nMacOS 10.12.3\r\n\r\n## Your current Leiningen version (`lein --version`)\r\n\r\n2.7.1\r\n\r\n## Pedestal version\r\n\r\n0.5.2\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/500","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/500/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/500/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/500/events","html_url":"https://github.com/pedestal/pedestal/issues/500","id":213152184,"node_id":"MDU6SXNzdWUyMTMxNTIxODQ=","number":500,"title":"There should be a sample for various auth setups","user":{"login":"ohpauleez","id":153929,"node_id":"MDQ6VXNlcjE1MzkyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/153929?v=4","gravatar_id":"","url":"https://api.github.com/users/ohpauleez","html_url":"https://github.com/ohpauleez","followers_url":"https://api.github.com/users/ohpauleez/followers","following_url":"https://api.github.com/users/ohpauleez/following{/other_user}","gists_url":"https://api.github.com/users/ohpauleez/gists{/gist_id}","starred_url":"https://api.github.com/users/ohpauleez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohpauleez/subscriptions","organizations_url":"https://api.github.com/users/ohpauleez/orgs","repos_url":"https://api.github.com/users/ohpauleez/repos","events_url":"https://api.github.com/users/ohpauleez/events{/privacy}","received_events_url":"https://api.github.com/users/ohpauleez/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-03-09T20:16:28Z","updated_at":"2018-05-24T15:28:27Z","closed_at":"2018-05-24T15:28:27Z","author_association":"MEMBER","body":"As [mentioned on the Pedestal mailing list](https://groups.google.com/forum/#!topic/pedestal-users/MJL0h4ts_mk), the community would like to see some samples around auth setups (via Interceptors, Buddy, and at the ServletFilter level).\r\n\r\nIn my experience, auth tends to be an integration point (you need to connect your service to some existing auth system), and that integration point greatly differs across projects/organizations.  Nonetheless, some helpful tips and examples would go a long way to helping people get started.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/499","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/499/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/499/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/499/events","html_url":"https://github.com/pedestal/pedestal/issues/499","id":211535072,"node_id":"MDU6SXNzdWUyMTE1MzUwNzI=","number":499,"title":"Pedestal breaks my ClojureScript / JavaScript application","user":{"login":"ohpauleez","id":153929,"node_id":"MDQ6VXNlcjE1MzkyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/153929?v=4","gravatar_id":"","url":"https://api.github.com/users/ohpauleez","html_url":"https://github.com/ohpauleez","followers_url":"https://api.github.com/users/ohpauleez/followers","following_url":"https://api.github.com/users/ohpauleez/following{/other_user}","gists_url":"https://api.github.com/users/ohpauleez/gists{/gist_id}","starred_url":"https://api.github.com/users/ohpauleez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohpauleez/subscriptions","organizations_url":"https://api.github.com/users/ohpauleez/orgs","repos_url":"https://api.github.com/users/ohpauleez/repos","events_url":"https://api.github.com/users/ohpauleez/events{/privacy}","received_events_url":"https://api.github.com/users/ohpauleez/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-03-02T22:15:06Z","updated_at":"2017-06-22T17:27:19Z","closed_at":"2017-03-02T22:21:33Z","author_association":"MEMBER","body":"# Description\r\n\r\nWhen using Pedestal, my application works fine in Firefox (albeit some warnings), but fails to even load in Chrome.\r\n\r\n## Expected Behavior\r\n\r\nWhen serving up my JavaScript application from the resource/public path in Pedestal, I expect my application to load in the browser\r\n\r\n## Actual Behavior\r\n\r\nA bunch of CSP errors/warnings within the JavaScript console and the application never loads\r\n\r\n## Steps to reproduce\r\n\r\nAny JavaScript or ClojureScript application that uses dynamic features (forced writing, eval, etc.)\r\n\r\n\r\n## Pedestal version\r\n\r\n0.5.2\r\n","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/498","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/498/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/498/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/498/events","html_url":"https://github.com/pedestal/pedestal/issues/498","id":210566351,"node_id":"MDU6SXNzdWUyMTA1NjYzNTE=","number":498,"title":"`url-for` functionality should be delayed until used","user":{"login":"ohpauleez","id":153929,"node_id":"MDQ6VXNlcjE1MzkyOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/153929?v=4","gravatar_id":"","url":"https://api.github.com/users/ohpauleez","html_url":"https://github.com/ohpauleez","followers_url":"https://api.github.com/users/ohpauleez/followers","following_url":"https://api.github.com/users/ohpauleez/following{/other_user}","gists_url":"https://api.github.com/users/ohpauleez/gists{/gist_id}","starred_url":"https://api.github.com/users/ohpauleez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohpauleez/subscriptions","organizations_url":"https://api.github.com/users/ohpauleez/orgs","repos_url":"https://api.github.com/users/ohpauleez/repos","events_url":"https://api.github.com/users/ohpauleez/events{/privacy}","received_events_url":"https://api.github.com/users/ohpauleez/received_events","type":"User","site_admin":false},"labels":[{"id":47812103,"node_id":"MDU6TGFiZWw0NzgxMjEwMw==","url":"https://api.github.com/repos/pedestal/pedestal/labels/primed","name":"primed","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-02-27T18:26:53Z","updated_at":"2017-04-21T14:42:24Z","closed_at":"2017-04-21T14:42:24Z","author_association":"MEMBER","body":"In the current implementation of the router, a \"route context\" is a constructor function for building routers and resolving the route matches.\r\n\r\nIn that process, a `link-map` is created for use with the `url-for` function, but the `url-for` function may not be used within the end application.\r\n\r\nThis construction should be `delay`-ed, and only computed if used.  The delay needs to be created on a [single line](https://github.com/pedestal/pedestal/blob/master/route/src/io/pedestal/http/route.clj#L396) and `url-for` needs to be smarter that [`*url-for*` may be a Delay](https://github.com/pedestal/pedestal/blob/master/route/src/io/pedestal/http/route.clj#L342).  It's not enough to just check for IDeref, because *url-for* could be a Var for backwards compatibility.","score":1.0},{"url":"https://api.github.com/repos/pedestal/pedestal/issues/493","repository_url":"https://api.github.com/repos/pedestal/pedestal","labels_url":"https://api.github.com/repos/pedestal/pedestal/issues/493/labels{/name}","comments_url":"https://api.github.com/repos/pedestal/pedestal/issues/493/comments","events_url":"https://api.github.com/repos/pedestal/pedestal/issues/493/events","html_url":"https://github.com/pedestal/pedestal/issues/493","id":202593803,"node_id":"MDU6SXNzdWUyMDI1OTM4MDM=","number":493,"title":"Invalid route generated with url-for-routes","user":{"login":"oliyh","id":2052835,"node_id":"MDQ6VXNlcjIwNTI4MzU=","avatar_url":"https://avatars1.githubusercontent.com/u/2052835?v=4","gravatar_id":"","url":"https://api.github.com/users/oliyh","html_url":"https://github.com/oliyh","followers_url":"https://api.github.com/users/oliyh/followers","following_url":"https://api.github.com/users/oliyh/following{/other_user}","gists_url":"https://api.github.com/users/oliyh/gists{/gist_id}","starred_url":"https://api.github.com/users/oliyh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oliyh/subscriptions","organizations_url":"https://api.github.com/users/oliyh/orgs","repos_url":"https://api.github.com/users/oliyh/repos","events_url":"https://api.github.com/users/oliyh/events{/privacy}","received_events_url":"https://api.github.com/users/oliyh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-01-23T17:09:16Z","updated_at":"2017-01-26T23:47:02Z","closed_at":"2017-01-26T19:55:00Z","author_association":"NONE","body":"# Description\r\n```clojure\r\n(require '[io.pedestal.http.route :as route]\r\n         '[io.pedestal.http.route.definition :refer [defroutes]])\r\n\r\n(defn all-things [ctx])\r\n\r\n(defn make-thing [ctx])\r\n\r\n(defroutes sample-routes\r\n  [[[\"/things/:date\"\r\n     [\"/\" {:get all-things}]\r\n     [\"/thing\" {:post make-thing}]]]])\r\n\r\n((route/url-for-routes sample-routes) ::all-things :params {:date \"2017-01-23\"})\r\n;; => /things/2017-01-23// ;; the trailing double slash is wrong, and results in a 404 when routing\r\n\r\n((route/url-for-routes sample-routes) ::make-thing :params {:date \"2017-01-23\"})\r\n;; => /things/2017-01-23/thing ;; works correctly\r\n```\r\n\r\n## Expected Behavior\r\nThe `::all-things` route should have a single trailing slash\r\n\r\n## Actual Behavior\r\nIn 0.5.1 the behaviour is correct. In 0.5.2 it has a double trailing slash which results in a 404 when passed back into pedestal","score":1.0}]}
0

