HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Tue, 03 Jul 2018 02:49:52 GMT
Link: <https://api.github.com/search/issues?q=repo%3Akraih%2Fmojo+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Akraih%2Fmojo+type%3Aissue+state%3Aclosed&page=23>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: C21B:77E7:1BB9586:42052DB:5B3AE450
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 28
X-Ratelimit-Reset: 1530586252
X-Runtime-Rack: 0.419523
X-Xss-Protection: 1; mode=block

8000
{"total_count":663,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/kraih/mojo/issues/1231","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1231/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1231/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1231/events","html_url":"https://github.com/kraih/mojo/issues/1231","id":334382528,"node_id":"MDU6SXNzdWUzMzQzODI1Mjg=","number":1231,"title":"Test::Mojo->json_message_has does what json_message_hasnt should do","user":{"login":"FROGGS","id":141968,"node_id":"MDQ6VXNlcjE0MTk2OA==","avatar_url":"https://avatars0.githubusercontent.com/u/141968?v=4","gravatar_id":"","url":"https://api.github.com/users/FROGGS","html_url":"https://github.com/FROGGS","followers_url":"https://api.github.com/users/FROGGS/followers","following_url":"https://api.github.com/users/FROGGS/following{/other_user}","gists_url":"https://api.github.com/users/FROGGS/gists{/gist_id}","starred_url":"https://api.github.com/users/FROGGS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FROGGS/subscriptions","organizations_url":"https://api.github.com/users/FROGGS/orgs","repos_url":"https://api.github.com/users/FROGGS/repos","events_url":"https://api.github.com/users/FROGGS/events{/privacy}","received_events_url":"https://api.github.com/users/FROGGS/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-21T08:08:00Z","updated_at":"2018-06-21T08:12:50Z","closed_at":"2018-06-21T08:12:49Z","author_association":"NONE","body":"* Mojolicious version: 7.85\r\n* Perl version: 5.26.1\r\n* Operating system: ubuntu 18.04\r\n\r\n### Steps to reproduce the behavior\r\n```perl\r\nuse Mojo::Base -strict;\r\nuse Test::More;\r\nuse Mojolicious::Lite;\r\nuse Test::Mojo;\r\n\r\npost '/echo' => sub {\r\n  my $c = shift;\r\n  $c->render(json => $c->req->json);\r\n};\r\n\r\nmy $t = Test::Mojo->new;\r\n\r\n$t->post_ok('/echo' => json => [ { name => 'foo' }, { name => 'bar' } ])\r\n  ->json_is('/0/name', 'foo')\r\n  ->json_is('/1/name', 'bar')\r\n  ->json_message_has('/0/name')\r\n  ->json_message_has('/1/name')\r\n  ->json_message_hasnt('/2/name')\r\n\r\n  ->json_message_has('/2/name')\r\n  ->json_message_hasnt('/0/name')\r\n  ->json_message_hasnt('/1/name')\r\n;\r\n\r\ndone_testing;\r\n```\r\n\r\n### Expected behavior\r\nI expect the tests 1 to 6 to pass and tests 7 to 9 to fail.\r\nTo me it looks like the logic for json_message_has(nt) are inverted.\r\n\r\n### Actual behavior\r\n```perl\r\nok 1 - POST /echo\r\nok 2 - exact match for JSON Pointer \"/0/name\"\r\nok 3 - exact match for JSON Pointer \"/1/name\"\r\nnot ok 4 - has value for JSON Pointer \"/0/name\"\r\n#   Failed test 'has value for JSON Pointer \"/0/name\"'\r\n#   at mojo-json-pointer.pl line 13.\r\nnot ok 5 - has value for JSON Pointer \"/1/name\"\r\n#   Failed test 'has value for JSON Pointer \"/1/name\"'\r\n#   at mojo-json-pointer.pl line 13.\r\nok 6 - has no value for JSON Pointer \"/2/name\"\r\nnot ok 7 - has value for JSON Pointer \"/2/name\"\r\n#   Failed test 'has value for JSON Pointer \"/2/name\"'\r\n#   at mojo-json-pointer.pl line 13.\r\nok 8 - has no value for JSON Pointer \"/0/name\"\r\nok 9 - has no value for JSON Pointer \"/1/name\"\r\n1..9\r\n# Looks like you failed 3 tests of 9.\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1228","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1228/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1228/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1228/events","html_url":"https://github.com/kraih/mojo/issues/1228","id":329252985,"node_id":"MDU6SXNzdWUzMjkyNTI5ODU=","number":1228,"title":"Regression as of version 7.80","user":{"login":"fedov","id":552611,"node_id":"MDQ6VXNlcjU1MjYxMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/552611?v=4","gravatar_id":"","url":"https://api.github.com/users/fedov","html_url":"https://github.com/fedov","followers_url":"https://api.github.com/users/fedov/followers","following_url":"https://api.github.com/users/fedov/following{/other_user}","gists_url":"https://api.github.com/users/fedov/gists{/gist_id}","starred_url":"https://api.github.com/users/fedov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fedov/subscriptions","organizations_url":"https://api.github.com/users/fedov/orgs","repos_url":"https://api.github.com/users/fedov/repos","events_url":"https://api.github.com/users/fedov/events{/privacy}","received_events_url":"https://api.github.com/users/fedov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-06-04T23:40:13Z","updated_at":"2018-06-05T10:33:14Z","closed_at":"2018-06-05T10:33:14Z","author_association":"NONE","body":"* Mojolicious version: 7.83\r\n* Perl version: 5.26.2\r\n* Operating system: Linux 4.16.13\r\n\r\n### Steps to reproduce the behavior\r\n```\r\n#!/usr/bin/env perl\r\n\r\nuse strict;\r\nuse warnings;\r\nuse feature 'say';\r\nuse Mojo::UserAgent;\r\nuse Mojo::IOLoop;\r\n\r\nmy $ua = Mojo::UserAgent->new->max_redirects(10);\r\n\r\nmy @urls = qw|http://mojolicious.org|;\r\n$ua->get($urls[0]);\r\n\r\nfor my $url (@urls) {\r\n    Mojo::IOLoop->subprocess(\r\n        sub {\r\n            $ua->get($url)->result->content->asset->move_to('out');\r\n        },\r\n        sub {\r\n            my ($subprocess, $err, $result) = @_;\r\n            die \"Subprocess error: $err\" if $err;\r\n        }\r\n    );\r\n}\r\n\r\nMojo::IOLoop->start unless Mojo::IOLoop->is_running;\r\n```\r\n\r\n### Expected behavior\r\nBeauty! Happiness!\r\n\r\n### Actual behavior\r\nSubprocess error: Can't call method \"server\" on an undefined value at [...]/Mojo/Server/Daemon.pm line 61\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1224","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1224/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1224/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1224/events","html_url":"https://github.com/kraih/mojo/issues/1224","id":324276129,"node_id":"MDU6SXNzdWUzMjQyNzYxMjk=","number":1224,"title":"prepend in Mojo::DOM > 7.77 looses elements","user":{"login":"qyz","id":6068459,"node_id":"MDQ6VXNlcjYwNjg0NTk=","avatar_url":"https://avatars2.githubusercontent.com/u/6068459?v=4","gravatar_id":"","url":"https://api.github.com/users/qyz","html_url":"https://github.com/qyz","followers_url":"https://api.github.com/users/qyz/followers","following_url":"https://api.github.com/users/qyz/following{/other_user}","gists_url":"https://api.github.com/users/qyz/gists{/gist_id}","starred_url":"https://api.github.com/users/qyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qyz/subscriptions","organizations_url":"https://api.github.com/users/qyz/orgs","repos_url":"https://api.github.com/users/qyz/repos","events_url":"https://api.github.com/users/qyz/events{/privacy}","received_events_url":"https://api.github.com/users/qyz/received_events","type":"User","site_admin":false},"labels":[{"id":85884,"node_id":"MDU6TGFiZWw4NTg4NA==","url":"https://api.github.com/repos/kraih/mojo/labels/bug","name":"bug","color":"ff0000","default":true},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-18T05:35:29Z","updated_at":"2018-05-18T19:31:57Z","closed_at":"2018-05-18T19:29:19Z","author_association":"NONE","body":"* Mojolicious version: 7.78\r\n* Perl version: 5.26.0\r\n* Operating system: Debian 9\r\n\r\n### Steps to reproduce the behavior\r\nI am using Mojo::DOM to modify an XML document. Please see the example document below. As one step of the process I need to copy the first row before the body tag. This works perfectly up to 7.77. In Mojolicious 7.78 the `row`-Tag gets stripped from `prepend`ed elements.\r\n```\r\n$ cat test.pl\r\n#!/usr/bin/env perl\r\n\r\nuse Modern::Perl;\r\nuse Mojo::DOM;\r\n\r\nuse Mojolicious;\r\nsay Mojolicious->VERSION;\r\n\r\nmy $dom = Mojo::DOM->new('\r\n  <table>\r\n    <body>\r\n      <row>\r\n        <cell>1</cell>\r\n      </row>\r\n      <row>\r\n        <cell>2</cell>\r\n      </row>\r\n    </body>\r\n  </table>\r\n');\r\n$dom->at('body')->prepend($dom->at('body > row'));\r\nsay $dom->to_string;\r\n```\r\n\r\n### Expected behavior\r\nMojo 7.77 behaves correctly:\r\n```\r\n$ cpanm -n -L .cpan/ Mojolicious@7.77 ; PERL5LIB=.cpan/lib/perl5 /opt/perl/5.26.0/bin/perl test.pl \r\n--> Working on Mojolicious\r\nFetching http://www.cpan.org/authors/id/S/SR/SRI/Mojolicious-7.77.tar.gz ... OK\r\nConfiguring Mojolicious-7.77 ... OK\r\nBuilding Mojolicious-7.77 ... OK\r\nSuccessfully installed Mojolicious-7.77 (downgraded from 7.78)\r\n1 distribution installed\r\n7.77\r\n\r\n  <table>\r\n    <row>\r\n        <cell>1</cell>\r\n      </row><body>\r\n      <row>\r\n        <cell>1</cell>\r\n      </row>\r\n      <row>\r\n        <cell>2</cell>\r\n      </row>\r\n    </body>\r\n  </table>\r\n```\r\n\r\n### Actual behavior\r\nFrom Mojo 7.78 on the `row`-Tag is missing in the copied elements.\r\n```\r\n$ cpanm -n -L .cpan/ Mojolicious@7.78 ; PERL5LIB=.cpan/lib/perl5 /opt/perl/5.26.0/bin/perl test.pl \r\n--> Working on Mojolicious\r\nFetching http://www.cpan.org/authors/id/S/SR/SRI/Mojolicious-7.78.tar.gz ... OK\r\nConfiguring Mojolicious-7.78 ... OK\r\nBuilding Mojolicious-7.78 ... OK\r\nSuccessfully installed Mojolicious-7.78 (upgraded from 7.77)\r\n1 distribution installed\r\n7.78\r\n\r\n  <table>\r\n    \r\n        <cell>1</cell>\r\n      <body>\r\n      <row>\r\n        <cell>1</cell>\r\n      </row>\r\n      <row>\r\n        <cell>2</cell>\r\n      </row>\r\n    </body>\r\n  </table>\r\n\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1223","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1223/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1223/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1223/events","html_url":"https://github.com/kraih/mojo/issues/1223","id":323775442,"node_id":"MDU6SXNzdWUzMjM3NzU0NDI=","number":1223,"title":"Mojolicious does not check SSL certificates by default","user":{"login":"jes","id":297425,"node_id":"MDQ6VXNlcjI5NzQyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/297425?v=4","gravatar_id":"","url":"https://api.github.com/users/jes","html_url":"https://github.com/jes","followers_url":"https://api.github.com/users/jes/followers","following_url":"https://api.github.com/users/jes/following{/other_user}","gists_url":"https://api.github.com/users/jes/gists{/gist_id}","starred_url":"https://api.github.com/users/jes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jes/subscriptions","organizations_url":"https://api.github.com/users/jes/orgs","repos_url":"https://api.github.com/users/jes/repos","events_url":"https://api.github.com/users/jes/events{/privacy}","received_events_url":"https://api.github.com/users/jes/received_events","type":"User","site_admin":false},"labels":[{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true},{"id":135720706,"node_id":"MDU6TGFiZWwxMzU3MjA3MDY=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20feedback","name":"needs feedback","color":"eeeeee","default":false},{"id":836317877,"node_id":"MDU6TGFiZWw4MzYzMTc4Nzc=","url":"https://api.github.com/repos/kraih/mojo/labels/security","name":"security","color":"b60205","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2018-05-16T20:31:34Z","updated_at":"2018-05-19T22:01:48Z","closed_at":"2018-05-19T22:01:48Z","author_association":"NONE","body":"* Mojolicious version: 7.79\r\n* Perl version: 5.22.1\r\n* Operating system: Ubuntu Xenial\r\n\r\n### Steps to reproduce the behavior\r\nmojofetch:\r\n\r\n```\r\n#!/usr/bin/perl\r\n\r\nuse strict;\r\nuse warnings;\r\n\r\nuse Mojo::UserAgent;\r\n\r\nmy $url = shift or die \"usage: mojofetch URL\\n\";\r\n\r\nmy $ua = Mojo::UserAgent->new();\r\n\r\n$ua->get($url, sub {\r\n    my ($ua, $tx) = @_;\r\n    print $tx->res->body, \"\\n\";\r\n    exit 0;\r\n});\r\n\r\nMojo::IOLoop->start;\r\n```\r\n\r\n### Expected behavior\r\n\r\n`./mojofetch https://expired.badssl.com/` should not return the content of the page and should trigger some sort of error, because the certificate is expired. Similar applies for self-signed.badssl.com, wrong.host.badssl.com etc., see the list on https://badssl.com/ for more test cases.\r\n\r\n### Actual behavior\r\n\r\n`./mojofetch https://expired.badssl.com/` does return the content of the page, and doesn't print any errors or warnings.\r\n\r\n### More\r\n\r\nI looked in `Mojo::IOLoop::TLS` and it appears as though the `_expand` function is responsible for this problem. In the event that something inside Mojolicious doesn't explicitly set `tls_*` options, `_expand` defaults them all to off and no verification. This even overrides `IO::Socket::SSL`'s defaults. Even if you set defaults using `IO::Socket::SSL->set_defaults`, they are overridden to the no-verification behaviour that Mojo defaults to.\r\n\r\nThis is really serious, but I don't know enough about Mojo to know the most effective way to fix it without breaking other features. Hopefully somebody else can do so.\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1222","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1222/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1222/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1222/events","html_url":"https://github.com/kraih/mojo/issues/1222","id":323718847,"node_id":"MDU6SXNzdWUzMjM3MTg4NDc=","number":1222,"title":"JSON example from tutorial: Page not found","user":{"login":"willsheppard","id":1519594,"node_id":"MDQ6VXNlcjE1MTk1OTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1519594?v=4","gravatar_id":"","url":"https://api.github.com/users/willsheppard","html_url":"https://github.com/willsheppard","followers_url":"https://api.github.com/users/willsheppard/followers","following_url":"https://api.github.com/users/willsheppard/following{/other_user}","gists_url":"https://api.github.com/users/willsheppard/gists{/gist_id}","starred_url":"https://api.github.com/users/willsheppard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willsheppard/subscriptions","organizations_url":"https://api.github.com/users/willsheppard/orgs","repos_url":"https://api.github.com/users/willsheppard/repos","events_url":"https://api.github.com/users/willsheppard/events{/privacy}","received_events_url":"https://api.github.com/users/willsheppard/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-16T17:36:40Z","updated_at":"2018-05-16T17:42:18Z","closed_at":"2018-05-16T17:39:55Z","author_association":"NONE","body":"* Mojolicious version: 7.79, Doughnut\r\n* Perl version: v5.26.1, android\r\n* Operating system: Android 8.1.0, Termux v0.60\r\n\r\n### Steps to reproduce the behavior\r\n\r\n    mojo generate lite_app myapp\r\n    ./myapp.pl get -M PUT -c '{\"message\":\"Hello Mojo!\"}' /reverse\r\n\r\n\r\n### Expected behavior\r\n\r\nA page containing:\r\n\r\n    !ojoM elloH\r\n\r\n### Actual behavior\r\n\r\nA page containing:\r\n\r\n    Page not found... yet!\r\n    \r\n    None of these routes could generate a response for your PUT request for /reverse, maybe you need to add a new one?\r\n\r\nFull output\r\n\r\n```\r\n$ mojo generate lite_app test.pl\r\n  [exist] /data/data/com.termux/files/home/mojo\r\n  [write] /data/data/com.termux/files/home/mojo/test.pl\r\n  [chmod] /data/data/com.termux/files/home/mojo/test.pl 744\r\n$ ./test.pl get -M PUT -c '{\"message\":\"Hello Mojo!\"}' /reverse\r\n[Wed May 16 18:22:54 2018] [debug] PUT \"/reverse\"\r\n[Wed May 16 18:22:54 2018] [debug] Template \"not_found.development.html.ep\" not found\r\n[Wed May 16 18:22:54 2018] [debug] Template \"not_found.html.ep\" not found\r\n[Wed May 16 18:22:54 2018] [debug] Rendering template \"mojo/debug.html.ep\"\r\n[Wed May 16 18:22:54 2018] [debug] Rendering template \"mojo/menubar.html.ep\"\r\n[Wed May 16 18:22:54 2018] [debug] Your secret passphrase needs to be changed\r\n[Wed May 16 18:22:54 2018] [debug] 404 Not Found (0.132404s, 7.553/s)\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>Page not found (development mode)</title>\r\n    <meta http-equiv=\"Pragma\" content=\"no-cache\">\r\n    <meta http-equiv=\"Expires\" content=\"-1\">\r\n    <script src=\"/mojo/jquery/jquery.js\"></script>\r\n    <script src=\"/mojo/prettify/run_prettify.js\"></script>\r\n    <link href=\"/mojo/prettify/prettify-mojo-dark.css\" rel=\"stylesheet\">\r\n    <style>\r\n      a img { border: 0 }\r\n      body {\r\n        background: url(/mojo/pinstripe-light.png);\r\n        color: #445555;\r\n        font: 0.9em 'Helvetica Neue', Helvetica, sans-serif;\r\n        font-weight: normal;\r\n        line-height: 1.5em;\r\n        margin: 0;\r\n      }\r\n      :not(pre) > code {\r\n        background-color: #eef9ff;\r\n        border: solid #cce4ff 1px;\r\n        border-radius: 5px;\r\n        color: #333;\r\n        font: 0.9em Consolas, Menlo, Monaco, Courier, monospace;\r\n        padding: 0.4em;\r\n      }\r\n      h1 {\r\n        color: #2a2a2a;\r\n        font-size: 1.5em;\r\n        margin: 0;\r\n      }\r\n      pre {\r\n        font: 0.9em Consolas, Menlo, Monaco, Courier, monospace;\r\n        margin: 0;\r\n        white-space: pre-wrap;\r\n      }\r\n      pre > code {\r\n        display: block;\r\n        font: 1.0em Consolas, Menlo, Monaco, Courier, monospace;\r\n        margin-bottom: 0.7em;\r\n        margin-top: 0.7em;\r\n      }\r\n      table {\r\n        border-collapse: collapse;\r\n        width: 100%;\r\n      }\r\n      td { padding: 0.5em }\r\n      .box {\r\n        background-color: #fff;\r\n        border: 1px solid #c1c1c1;\r\n        overflow: hidden;\r\n        padding: 1em;\r\n      }\r\n      .code {\r\n        background-color: #1a1a1a;\r\n        background: url(/mojo/pinstripe-dark.png);\r\n        color: #eee;\r\n        text-shadow: #333 0 1px 0;\r\n      }\r\n      .important { background-color: rgba(47, 48, 50, .75) }\r\n      .infobox { color: #333 }\r\n      .infobox tr:nth-child(odd) .value { background-color: #ddeeff }\r\n      .infobox tr:nth-child(even) .value { background-color: #eef9ff }\r\n      .key { text-align: right }\r\n      .more table { margin-bottom: 1em }\r\n      .spaced {\r\n        margin-left: 5em;\r\n        margin-right: 5em;\r\n      }\r\n      .striped { border-top: solid #cce4ff 1px }\r\n      .tap {\r\n        font: 0.5em Verdana, sans-serif;\r\n        text-align: center;\r\n      }\r\n      .value { padding-left: 1em }\r\n      .wide { width: 100% }\r\n      #error {\r\n        font: 1.5em 'Helvetica Neue', Helvetica, sans-serif;\r\n        font-weight: 300;\r\n        margin: 0;\r\n        text-shadow: #333 0 1px 0;\r\n      }\r\n      #footer {\r\n        padding-top: 0.5em;\r\n        text-align: center;\r\n      }\r\n      #nothing {\r\n        border-bottom: 0;\r\n        padding-top: 60px;\r\n      }\r\n      #showcase {\r\n        border-bottom: 0;\r\n        border-top: 0;\r\n      }\r\n      #showcase table { margin-top: 1em }\r\n      #showcase td {\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n      }\r\n      #showcase .key { padding-right: 0 }\r\n      #log {\r\n        border-radius: 5px;\r\n        margin-top: 1em;\r\n      }\r\n      #log table { margin: 0 }\r\n      #more, #trace {\r\n        border-bottom-left-radius: 5px;\r\n        border-bottom-right-radius: 5px;\r\n      }\r\n      #more .tap, #trace .tap { text-shadow: #ddd 0 1px 0 }\r\n      #request {\r\n        border-bottom: 0;\r\n        border-top-left-radius: 5px;\r\n        border-top-right-radius: 5px;\r\n        margin-top: 1em;\r\n      }\r\n      #routes {\r\n        border-bottom-left-radius: 5px;\r\n        border-bottom-right-radius: 5px;\r\n        padding-top: 70px;\r\n      }                                                       #trace { border-top: 0 }\r\n      #wrapperlicious {                                         max-width: 1000px;\r\n        margin: 0 auto;                                       }\r\n    </style>                                              </head>\r\n  <body>                                                    <script src=\"/mojo/jquery/jquery.js\"></script>\r\n<div id=\"mojobar\">                                        <style scoped=\"scoped\">\r\n    #mojobar {                                                background-color: #1a1a1a;\r\n      background: -webkit-linear-gradient(top, #2a2a2a 0%, #000 100%);\r\n      background: -moz-linear-gradient(top, #2a2a2a 0%, #000 100%);\r\n      background: linear-gradient(top, #2a2a2a 0%, #000 100%);\r\n      box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.5);             height: 46px;\r\n      overflow: hidden;                                       position: absolute;\r\n      width: 100%;                                            z-index: 1000;\r\n    }                                                       #mojobar-brand {\r\n      display: inline-block;                                  padding-left: 50px;\r\n      padding-top: 4px;                                     }\r\n    #mojobar-links {                                          display: inline;\r\n      float: right;                                           height: 60px;\r\n      margin-top: 0.8em;                                      padding-right: 50px;\r\n    }                                                       #mojobar-links a {\r\n      color: #bbb;                                            font: 0.9em 'Helvetica Neue', Helvetica, sans-serif;                                                            margin-left: 0.5em;\r\n      text-decoration: none;                                  transition: all 200ms ease-in-out;\r\n    }                                                       #mojobar-links a:hover { color: #fff }\r\n    #mojobar-links input {                                    background-color: #3a3a3a;\r\n      border: 1px solid rgba(0, 0, 0, 0.1);                   border-radius: 3px;\r\n      color: #eee;                                            display: inline;\r\n      margin-left: 1em;                                       padding: 4px;\r\n      transition: all 0.15s;                                }\r\n    #mojobar-links input:focus {                              background-color: #fff;\r\n      color: #111;                                            outline: 0;\r\n    }                                                       #mojobar-links form { display: inline }\r\n    .animated { transition: all 0.25s ease }              </style>\r\n  <a href=\"https://mojolicious.org\" id=\"mojobar-brand\">     <picture>\r\n      <img src=\"/mojo/logo-white.png\"                           srcset=\"/mojo/logo-white-2x.png 2x\">\r\n    </picture>                                          </a>  <div id=\"mojobar-links\">\r\n    <a href=\"https://mojolicious.org/perldoc\">Documentation</a>\r\n    <a href=\"https://chat.mibbit.com/?channel=%23mojo&amp;server=irc.perl.org\">Chat</a>\r\n    <a href=\"https://github.com/kraih/mojo/wiki\">Wiki</a>\r\n    <a href=\"https://github.com/kraih/mojo\">GitHub</a>      <a href=\"https://metacpan.org/release/Mojolicious/\">CPAN</a>                                                    <a href=\"https://groups.google.com/group/mojolicious\">MailingList</a>                                           <a href=\"https://twitter.com/kraih\">Twitter</a>\r\n    <form action=\"https://www.google.com/cse\" target=\"_blank\">\r\n      <input name=\"cx\" type=\"hidden\" value=\"014527573091551588235:pwfplkjpgbi\">\r\n      <input name=\"ie\" type=\"hidden\" value=\"UTF-8\">           <input name=\"q\" placeholder=\"Search\" type=\"search\">                                                           </form>\r\n  </div>                                                </div>\r\n<script>                                                  var mojobar = $('#mojobar');\r\n  var mojobarHeight = mojobar.outerHeight();              function getElementByHash(hash) {\r\n    return $(hash.replace(/(:|\\.|\\[|\\]|,)/g, '\\\\$1'));    }\r\n  function fixOffset() {                                    var offset = getElementByHash(window.location.hash).offset();                                                   if (offset) {\r\n      $('html, body').animate({scrollTop: offset.top - mojobarHeight}, 1);\r\n    }                                                     }\r\n  $(window).on('load', function () {                        if (window.location.hash) {                               fixOffset();\r\n    }                                                       var start = mojobar.offset().top;                       var fixed;\r\n    var lastScrollTop = $(window).scrollTop();              var hidden = mojobarHeight + 1;                         $(window).on('scroll', function () {\r\n      var st = $(window).scrollTop();                         if (fixed) {                                              if (st <= start) {\r\n          fixed = false;                                          mojobar.removeClass('animated');                        mojobar.css({'position': 'absolute', 'top': start + 'px'});                                                   }                                                       else if (Math.abs(lastScrollTop - st) > 100) {\r\n          if (!mojobar.hasClass('animated')) {                      mojobar.addClass('animated');                         }\r\n          if (st > lastScrollTop && st > (mojobarHeight + start + 250)) {                                                   mojobar.css('transform', 'translateY(-' + hidden + 'px)');                                                    }                                                       else if (st < lastScrollTop) {\r\n            mojobar.css('transform', 'translateY(0px)');          }                                                       lastScrollTop = st;\r\n        }                                                     }                                                       else if (st > start) {\r\n        fixed = true;                                           mojobar.css({'position': 'fixed', 'top': 0});           lastScrollTop = $(window).scrollTop();\r\n      }                                                     });                                                   });\r\n  $(function () {                                           $('a[href^=\"#\"]').addClass('mojoscroll').on('click', function (e) {\r\n      e.preventDefault();                                     e.stopPropagation();                                    var hash   = '#' + this.href.split('#')[1];\r\n      var target = getElementByHash(hash);                    var old    = target.attr('id');                         target.attr('id', '');\r\n      location.hash = hash;                                   target.attr('id', old);                                 fixOffset();\r\n    });                                                   });                                                   </script>\r\n                                                            <script>\r\n      function mojoDrawer(handle, drawer) {                     $(handle).on('click', function () {\r\n          $(drawer).slideToggle('slow');                          var text = $(handle + ' div.tap').text();\r\n          text = text == \"tap for more\" ? \"tap for less\" : \"tap for more\";\r\n          $(handle + ' div.tap').text(text);                    });\r\n        $(drawer).toggle();                                   }\r\n      $(function () {                                           mojoDrawer('#trace', '#frames');\r\n        mojoDrawer('#more', '#infos');                        });\r\n    </script>                                               <div id=\"wrapperlicious\">\r\n        <div id=\"routes\" class=\"box infobox spaced\">              <h1>Page not found... yet!</h1>\r\n          <p>                                                       None of these routes could generate a response for your                                                         <code>PUT</code> request for\r\n            <code>/reverse</code>, maybe you need                   to add a new one?\r\n          </p>                                                    <table>\r\n            <thead>                                                   <tr>\r\n                <th>Pattern</th>                                        <th>Methods</th>\r\n                <th>Name</th>                                         </tr>\r\n            </thead>                                                            <tr>\r\n              <td class=\"striped value\">                                <pre>/perldoc/:module</pre>\r\n              </td>                                                   <td class=\"striped value\">\r\n                <pre>*</pre>                                          </td>\r\n              <td class=\"striped value\">                                <pre>perldocmodule</pre>\r\n              </td>                                                 </tr>\r\n                                                                    <tr>\r\n              <td class=\"striped value\">                                <pre>/</pre>\r\n              </td>                                                   <td class=\"striped value\">\r\n                <pre>GET</pre>                                        </td>\r\n              <td class=\"striped value\">                                <pre></pre>\r\n              </td>                                                 </tr>\r\n                                                        \r\n          </table>                                              </div>\r\n      <div id=\"request\" class=\"box infobox spaced\">             <table>\r\n                  <tr>                                            <td class=\"key\">Method:</td>\r\n          <td class=\"striped value wide\"><pre>PUT</pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">URL:</td>\r\n          <td class=\"striped value wide\"><pre>/reverse</pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">Base URL:</td>\r\n          <td class=\"striped value wide\"><pre>http://127.0.0.1:41547</pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">Parameters:</td>\r\n          <td class=\"striped value wide\"><pre>{}        </pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">Stash:</td>\r\n          <td class=\"striped value wide\"><pre>{}        </pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">Session:</td>\r\n          <td class=\"striped value wide\"><pre>{}        </pre></td>\r\n        </tr>                                           \r\n                  <tr>                                            <td class=\"key\">Version:</td>\r\n          <td class=\"striped value wide\"><pre>1.1</pre></td>\r\n        </tr>                                           \r\n                    <tr>             
8000
                             <td class=\"key\">Accept-Encoding:</td>\r\n          <td class=\"striped value wide\"><pre>gzip</pre></td>\r\n        </tr>                                           \r\n                    <tr>                                          <td class=\"key\">Content-Length:</td>\r\n          <td class=\"striped value wide\"><pre>25</pre></td>\r\n        </tr>                                           \r\n                    <tr>                                          <td class=\"key\">Host:</td>\r\n          <td class=\"striped value wide\"><pre>127.0.0.1:41547</pre></td>\r\n        </tr>                                           \r\n                    <tr>                                          <td class=\"key\">User-Agent:</td>\r\n          <td class=\"striped value wide\"><pre>Mojolicious (Perl)</pre></td>\r\n        </tr>                                           \r\n        </table>                                              </div>\r\n      <div id=\"more\" class=\"box infobox more spaced\">           <div id=\"infos\">\r\n          <table>                                                           <tr>\r\n          <td class=\"key\">Perl:</td>                              <td class=\"striped value wide\"><pre>v5.26.1 (android)</pre></td>                                              </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Mojolicious:</td>                       <td class=\"striped value wide\"><pre>7.79 (Doughnut)</pre></td>                                                </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Home:</td>                              <td class=\"striped value wide\"><pre>/data/data/com.termux/files/home/mojo</pre></td>                          </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Template paths:</td>                    <td class=\"striped value wide\"><pre>[\r\n  &quot;/data/data/com.termux/files/home/mojo/templates&quot;\r\n]                                                       </pre></td>\r\n        </tr>                                           \r\n                    <tr>                                          <td class=\"key\">Template classes:</td>\r\n          <td class=\"striped value wide\"><pre>[           &quot;main&quot;\r\n]                                                       </pre></td>\r\n        </tr>                                           \r\n                    <tr>                                          <td class=\"key\">Static paths:</td>\r\n          <td class=\"striped value wide\"><pre>[           &quot;/data/data/com.termux/files/home/mojo/public&quot;                                                      ]\r\n</pre></td>                                                     </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Static classes:</td>                    <td class=\"striped value wide\"><pre>[\r\n  &quot;main&quot;                                      ]\r\n</pre></td>                                                     </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Include:</td>                           <td class=\"striped value wide\"><pre>[\r\n  &quot;/data/data/com.termux/files/usr/lib/perl5/site_perl/5.26.1/aarch64-android&quot;,\r\n  &quot;/data/data/com.termux/files/usr/lib/perl5/site_perl/5.26.1&quot;,\r\n  &quot;/data/data/com.termux/files/usr/lib/perl5/5.26.1/aarch64-android&quot;,\r\n  &quot;/data/data/com.termux/files/usr/lib/perl5/5.26.1&quot;,\r\n  &quot;.&quot;                                         ]\r\n</pre></td>                                                                                           </tr>                                                             \r\n                    <tr>                                                                                <td class=\"key\">Config:</td>                                                                  <td class=\"striped value wide\"><pre>{}                                            </pre></td>\r\n        </tr>                                           \r\n                    <tr>                                                                                <td class=\"key\">Moniker:</td>                                             <td class=\"striped value wide\"><pre>test</pre></td>                                                           </tr>                                                                                                                       <tr>\r\n          <td class=\"key\">Name:</td>                              <td class=\"striped value wide\"><pre>./test.pl</pre></td>                                                      </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Executable:</td>                        <td class=\"striped value wide\"><pre>/data/data/com.termux/files/usr/bin/perl</pre></td>                       </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">PID:</td>                               <td class=\"striped value wide\"><pre>24173</pre></td>                                                          </tr>\r\n                                                                            <tr>\r\n          <td class=\"key\">Time:</td>                              <td class=\"striped value wide\"><pre>Wed May 16 18:22:54 2018</pre></td>                                       </tr>\r\n                                                                  </table>\r\n        </div>                                                  <div class=\"tap\">tap for more</div>\r\n      </div>                                                    <div id=\"log\" class=\"box infobox spaced\">\r\n          <table>\r\n              <tr>\r\n                <td class=\"striped value wide\">\r\n                  <pre>[Wed May 16 18:22:54 2018] [debug] PUT &quot;/reverse&quot;\r\n</pre>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"striped value wide\">\r\n                  <pre>[Wed May 16 18:22:54 2018] [debug] Template &quot;not_found.development.html.ep&quot; not found\r\n</pre>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"striped value wide\">\r\n                  <pre>[Wed May 16 18:22:54 2018] [debug] Template &quot;not_found.html.ep&quot; not found\r\n</pre>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"striped value wide\">\r\n                  <pre>[Wed May 16 18:22:54 2018] [debug] Rendering template &quot;mojo/debug.html.ep&quot;\r\n</pre>\r\n                </td>\r\n              </tr>                                                                                         <tr>\r\n                <td class=\"striped value wide\">                                                                 <pre>[Wed May 16 18:22:54 2018] [debug] Rendering template &quot;mojo/menubar.html.ep&quot;\r\n</pre>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"striped value wide\">\r\n                  <pre>[Wed May 16 18:22:54 2018] [debug] Your secret passphrase needs to be changed\r\n</pre>\r\n                </td>\r\n              </tr>\r\n          </table>                                              </div>\r\n    </div>                                                                                        <div id=\"footer\">                                                           <a href=\"https://mojolicious.org\">\r\n        <picture>                                                 <img src=\"/mojo/logo-black.png\"\r\n            srcset=\"/mojo/logo-black-2x.png 2x\"                     alt=\"Mojolicious logo\">\r\n        </picture>\r\n</a>    </div>                                                                                  </body>\r\n</html>                                                 \r\n```","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1221","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1221/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1221/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1221/events","html_url":"https://github.com/kraih/mojo/issues/1221","id":323387935,"node_id":"MDU6SXNzdWUzMjMzODc5MzU=","number":1221,"title":"Warnings in Mojo::Asset::Memory","user":{"login":"pplu","id":53034,"node_id":"MDQ6VXNlcjUzMDM0","avatar_url":"https://avatars0.githubusercontent.com/u/53034?v=4","gravatar_id":"","url":"https://api.github.com/users/pplu","html_url":"https://github.com/pplu","followers_url":"https://api.github.com/users/pplu/followers","following_url":"https://api.github.com/users/pplu/following{/other_user}","gists_url":"https://api.github.com/users/pplu/gists{/gist_id}","starred_url":"https://api.github.com/users/pplu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pplu/subscriptions","organizations_url":"https://api.github.com/users/pplu/orgs","repos_url":"https://api.github.com/users/pplu/repos","events_url":"https://api.github.com/users/pplu/events{/privacy}","received_events_url":"https://api.github.com/users/pplu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-15T21:21:29Z","updated_at":"2018-05-16T12:52:37Z","closed_at":"2018-05-15T22:57:41Z","author_association":"NONE","body":"* Mojolicious version: 7.79\r\n* Operating system: Debian Linux\r\n\r\n### Steps to reproduce the behavior\r\n```\r\n#!/usr/bin/env perl\r\n\r\nuse Future::HTTP::Mojo;\r\nmy $ua = Future::HTTP::Mojo->new();\r\n\r\nmy $f = $ua->http_head(\r\n  'http://search.cpan.org/'\r\n)->then(sub {\r\n  my $body = shift;\r\n  print \"Got HEAD\\n\";\r\n});\r\n\r\n$f->get;\r\n```\r\n### Expected behavior\r\nNo warning for uninitialized value in Mojo classes\r\n\r\n### Actual behavior\r\nI get\r\n```\r\nUse of uninitialized value $chunk in concatenation (.) or string at /home/pplu/test_mojo/local/lib/perl5/Mojo/Asset/Memory.pm line 15.\r\n```\r\nin the output","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1219","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1219/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1219/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1219/events","html_url":"https://github.com/kraih/mojo/issues/1219","id":321991589,"node_id":"MDU6SXNzdWUzMjE5OTE1ODk=","number":1219,"title":"Warning: Use of \"shift\" without parentheses is ambiguous at /usr/local/share/perl5/Mojo/DOM/CSS.pm line 77.","user":{"login":"hornetmadness","id":3182240,"node_id":"MDQ6VXNlcjMxODIyNDA=","avatar_url":"https://avatars2.githubusercontent.com/u/3182240?v=4","gravatar_id":"","url":"https://api.github.com/users/hornetmadness","html_url":"https://github.com/hornetmadness","followers_url":"https://api.github.com/users/hornetmadness/followers","following_url":"https://api.github.com/users/hornetmadness/following{/other_user}","gists_url":"https://api.github.com/users/hornetmadness/gists{/gist_id}","starred_url":"https://api.github.com/users/hornetmadness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hornetmadness/subscriptions","organizations_url":"https://api.github.com/users/hornetmadness/orgs","repos_url":"https://api.github.com/users/hornetmadness/repos","events_url":"https://api.github.com/users/hornetmadness/events{/privacy}","received_events_url":"https://api.github.com/users/hornetmadness/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-10T16:17:24Z","updated_at":"2018-05-10T18:06:22Z","closed_at":"2018-05-10T18:06:22Z","author_association":"NONE","body":"* Mojolicious version: 7.77\r\n* Perl version: v5.10.1\r\n* Operating system: CentOS release 6.9 (Final)\r\n\r\n### Steps to reproduce the behavior\r\n$ ./app.pl daemon\r\nWarning: Use of \"shift\" without parentheses is ambiguous at /usr/local/share/perl5/Mojo/DOM/CSS.pm line 77.\r\n[Thu May 10 12:13:22 2018] [info] Listening at \"http://*:3000\"\r\nServer available at http://127.0.0.1:3000\r\n\r\n### Expected behavior\r\nNot throw a watrning\r\n\r\n### Actual behavior\r\nWarning given\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1218","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1218/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1218/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1218/events","html_url":"https://github.com/kraih/mojo/issues/1218","id":321794025,"node_id":"MDU6SXNzdWUzMjE3OTQwMjU=","number":1218,"title":"Issue in Mojo::DOM::CSS on Perl 5.10.1","user":{"login":"yusrideb","id":6322095,"node_id":"MDQ6VXNlcjYzMjIwOTU=","avatar_url":"https://avatars0.githubusercontent.com/u/6322095?v=4","gravatar_id":"","url":"https://api.github.com/users/yusrideb","html_url":"https://github.com/yusrideb","followers_url":"https://api.github.com/users/yusrideb/followers","following_url":"https://api.github.com/users/yusrideb/following{/other_user}","gists_url":"https://api.github.com/users/yusrideb/gists{/gist_id}","starred_url":"https://api.github.com/users/yusrideb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yusrideb/subscriptions","organizations_url":"https://api.github.com/users/yusrideb/orgs","repos_url":"https://api.github.com/users/yusrideb/repos","events_url":"https://api.github.com/users/yusrideb/events{/privacy}","received_events_url":"https://api.github.com/users/yusrideb/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-10T03:06:02Z","updated_at":"2018-05-10T10:26:16Z","closed_at":"2018-05-10T10:26:15Z","author_association":"NONE","body":"* Mojolicious version: 7.77\r\n* Perl version: 5.10.1 [with `perlbrew`]\r\n* Operating system: Debian GNU/Linux 9.4\r\n\r\n### Error Message\r\nOn generate lite app : \r\n```\r\nachmad@yna:~/perlweb_project/test-mojo$ mojo generate lite_app MyAppTest\r\nWarning: Use of \"shift\" without parentheses is ambiguous at /home/achmad/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/Mojo/DOM/CSS.pm line 77.\r\n  [exist] /home/achmad/perlweb_project/test-mojo\r\n  [write] /home/achmad/perlweb_project/test-mojo/MyAppTest\r\n  [chmod] /home/achmad/perlweb_project/test-mojo/MyAppTest 744\r\n```\r\nOn running `morbo` : \r\n```\r\nachmad@yna:~/perlweb_project/test-mojo$ morbo MyAppTest \r\nWarning: Use of \"shift\" without parentheses is ambiguous at /home/achmad/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/Mojo/DOM/CSS.pm line 77.\r\nServer available at http://127.0.0.1:3000\r\n```\r\nOn running `hypnotoad` : \r\n```\r\nachmad@yna:~/perlweb_project/test-mojo$ hypnotoad MyAppTest\r\nWarning: Use of \"shift\" without parentheses is ambiguous at /home/achmad/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/Mojo/DOM/CSS.pm line 77.\r\nWarning: Use of \"shift\" without parentheses is ambiguous at /home/achmad/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/Mojo/DOM/CSS.pm line 77.\r\n[Thu May 10 10:43:09 2018] [info] Listening at \"http://*:8080\"\r\nServer available at http://127.0.0.1:8080\r\nachmad@yna:~/perlweb_project/test-mojo$ \r\n```\r\nOnly on **Mojolicious v7.77**. but previous version v7.76 no warning message.\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1212","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1212/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1212/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1212/events","html_url":"https://github.com/kraih/mojo/issues/1212","id":316201636,"node_id":"MDU6SXNzdWUzMTYyMDE2MzY=","number":1212,"title":"The Config plugin does not set a stash value when config_override is used","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[{"id":85884,"node_id":"MDU6TGFiZWw4NTg4NA==","url":"https://api.github.com/repos/kraih/mojo/labels/bug","name":"bug","color":"ff0000","default":true},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-20T09:48:30Z","updated_at":"2018-04-20T11:15:16Z","closed_at":"2018-04-20T11:15:16Z","author_association":"OWNER","body":"Normally `Mojolicious::Plugin::Config` sets `app->defaults('config')`, so in templates we have a `<%= $config->{foo} %>` available. That is currently not the case when `config_override` is used with `Test::Mojo`.","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1210","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1210/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1210/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1210/events","html_url":"https://github.com/kraih/mojo/issues/1210","id":314205291,"node_id":"MDU6SXNzdWUzMTQyMDUyOTE=","number":1210,"title":"Request IDs for log messages","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[{"id":140460065,"node_id":"MDU6TGFiZWwxNDA0NjAwNjU=","url":"https://api.github.com/repos/kraih/mojo/labels/feature","name":"feature","color":"0052cc","default":false},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-13T18:21:31Z","updated_at":"2018-05-21T22:41:08Z","closed_at":"2018-05-21T22:41:08Z","author_association":"OWNER","body":"Currently it is very easy to lose track of where the log messages for one request end and those for another start.\r\n```\r\n[Fri Apr 13 20:16:21 2018] [debug] GET \"/\"\r\n[Fri Apr 13 20:16:21 2018] [debug] Routing to a callback\r\n[Fri Apr 13 20:16:21 2018] [debug] Rendering cached template \"index.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:21 2018] [debug] Rendering cached template \"layouts/default.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:21 2018] [debug] 200 OK (0.001084s, 922.509/s)\r\n[Fri Apr 13 20:16:24 2018] [debug] GET \"/\"\r\n[Fri Apr 13 20:16:24 2018] [debug] Routing to a callback\r\n[Fri Apr 13 20:16:24 2018] [debug] Rendering cached template \"index.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:24 2018] [debug] Rendering cached template \"layouts/default.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:24 2018] [debug] 200 OK (0.001129s, 885.740/s)\r\n```\r\nIt would be great if we could find a solution to add unique IDs for every request.\r\n```\r\n[Fri Apr 13 20:16:21 2018] [debug] [457823493] GET \"/\"\r\n[Fri Apr 13 20:16:21 2018] [debug] [457823493] Routing to a callback\r\n[Fri Apr 13 20:16:21 2018] [debug] [457823493] Rendering cached template \"index.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:21 2018] [debug] [457823493] Rendering cached template \"layouts/default.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:21 2018] [debug] [457823493] 200 OK (0.001084s, 922.509/s)\r\n[Fri Apr 13 20:16:24 2018] [debug] [785260225] GET \"/\"\r\n[Fri Apr 13 20:16:24 2018] [debug] [785260225] Routing to a callback\r\n[Fri Apr 13 20:16:24 2018] [debug] [785260225] Rendering cached template \"index.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:24 2018] [debug] [785260225] Rendering cached template \"layouts/default.html.ep\" from DATA section\r\n[Fri Apr 13 20:16:24 2018] [debug] [785260225] 200 OK (0.001129s, 885.740/s)\r\n```\r\nEspecially when multiple concurrent requests are being performed at the same time, this would be a very valuable debug tool.","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1209","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1209/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1209/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1209/events","html_url":"https://github.com/kraih/mojo/issues/1209","id":314202636,"node_id":"MDU6SXNzdWUzMTQyMDI2MzY=","number":1209,"title":"Expose server API to Mojolicious applications","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[{"id":140460065,"node_id":"MDU6TGFiZWwxNDA0NjAwNjU=","url":"https://api.github.com/repos/kraih/mojo/labels/feature","name":"feature","color":"0052cc","default":false},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-13T18:12:00Z","updated_at":"2018-05-20T22:44:37Z","closed_at":"2018-05-20T22:44:36Z","author_association":"OWNER","body":"When you start your Mojolicious application with `Mojo::Server::Daemon` or `Mojo::Server::Prefork` it is currently not possible to reconfigure the server during application startup. This could be very useful to, for example, store server configurations in config files, or to hook into server events for monitoring plugins.\r\n\r\nIt would be great if we could find a reasonably clean solution to make that possible.","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1206","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1206/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1206/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1206/events","html_url":"https://github.com/kraih/mojo/issues/1206","id":310285499,"node_id":"MDU6SXNzdWUzMTAyODU0OTk=","number":1206,"title":"Mojo::Content::MultiPart is very slow to reconsruct body contents","user":{"login":"philipspencer","id":7501190,"node_id":"MDQ6VXNlcjc1MDExOTA=","avatar_url":"https://avatars2.githubusercontent.com/u/7501190?v=4","gravatar_id":"","url":"https://api.github.com/users/philipspencer","html_url":"https://github.com/philipspencer","followers_url":"https://api.github.com/users/philipspencer/followers","following_url":"https://api.github.com/users/philipspencer/following{/other_user}","gists_url":"https://api.github.com/users/philipspencer/gists{/gist_id}","starred_url":"https://api.github.com/users/philipspencer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipspencer/subscriptions","organizations_url":"https://api.github.com/users/philipspencer/orgs","repos_url":"https://api.github.com/users/philipspencer/repos","events_url":"https://api.github.com/users/philipspencer/events{/privacy}","received_events_url":"https://api.github.com/users/philipspencer/received_events","type":"User","site_admin":false},"labels":[{"id":142623251,"node_id":"MDU6TGFiZWwxNDI2MjMyNTE=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20more%20information","name":"needs more information","color":"5319e7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-04-01T01:37:30Z","updated_at":"2018-04-02T13:32:16Z","closed_at":"2018-04-02T13:32:15Z","author_association":"NONE","body":"* Mojolicious version: 7.71\r\n* Perl version: 5.24.3\r\n* Operating system: Fedora 27 Linux\r\n\r\nWhen a Mojolicious request is of content type multipart/form-data it takes an inordinately long time (~ 10 seconds for a form with ~2000 parts / parameters) for a call to build_body to reconstruct the body.\r\n\r\nThis is because build_body calls Mojo::Content::Multipart::get_body_chunk to get each chunk, but get_body_chunk has no state memory so each call starts at the very first part and loops over all parts, counting their lengths, until the accumulated length reaches the offset it's looking for. Then the next call, to fetch the next part, restarts at the very beginning and repeats all this work.\r\n\r\nIn practice this causes a problem when using the CGI plugin to farm a request off to an external script. If input is a 2000-parameter form submission, it takes about 10 seconds from the time \"routing to a callback\" is logged until the extrernal script is given control, and all of this time is spent in the second of the following two lines of Plugin::CGI's code:\r\n\r\n    $stdin = Mojo::Asset::File->new;\r\n    $stdin->add_chunk($c->req->build_body);\r\n\r\n(Why it is doing this instead of just calling $c->req->body I don't know, but it does.)\r\n\r\nIf we apply the following patch to Mojo::Content::MultiPart.pm, remembering which parts were skipped and how long the skipped parts were, so that a subsequent call to get_body_chunk with a larger offset will automatically skip the same parts too, then we experience a speed improvement of more than ten-fold -- nearly a hundredfold in some caes, taking only a fraction of a second to do what was taking 10+ seconds without the patch.\r\n\r\nHowever, I'm not sure it's the best approach or whether some more major refactoring of the code would be better.\r\n\r\n```\r\ndiff --git a/lib/Mojo/Content/MultiPart.pm b/lib/Mojo/Content/MultiPart.pm\r\nindex e250829..3d2c021 100644\r\n--- a/lib/Mojo/Content/MultiPart.pm\r\n+++ b/lib/Mojo/Content/MultiPart.pm\r\n@@ -69,7 +69,12 @@ sub get_body_chunk {\r\n \r\n   # Prepare content part by part\r\n   my $parts = $self->parts;\r\n-  for (my $i = 0; $i < @$parts; $i++) {\r\n+  my $i_start = 0;\r\n+  if ($self->{last_offset} && $offset > $self->{last_offset}) {\r\n+     $i_start = 1 + $self->{last_skipped_part};\r\n+     $len = $self->{last_skipped_len};\r\n+  }\r\n+  for (my $i = $i_start; $i < @$parts; $i++) {\r\n     my $part = $parts->[$i];\r\n \r\n     # Headers\r\n@@ -92,6 +97,9 @@ sub get_body_chunk {\r\n     return substr \"\\x0d\\x0a--$boundary\\x0d\\x0a\", $offset - $len\r\n       if ($len + $boundary_len) > $offset;\r\n     $len += $boundary_len;\r\n+    $self->{last_offset} = $offset;\r\n+    $self->{last_skipped_part} = $i;\r\n+    $self->{last_skipped_len} = $len;\r\n   }\r\n }\r\n``` \r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1202","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1202/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1202/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1202/events","html_url":"https://github.com/kraih/mojo/issues/1202","id":306028251,"node_id":"MDU6SXNzdWUzMDYwMjgyNTE=","number":1202,"title":"Strange behavior of UTF-8 paths in Mojo::File","user":{"login":"Tekki","id":466122,"node_id":"MDQ6VXNlcjQ2NjEyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/466122?v=4","gravatar_id":"","url":"https://api.github.com/users/Tekki","html_url":"https://github.com/Tekki","followers_url":"https://api.github.com/users/Tekki/followers","following_url":"https://api.github.com/users/Tekki/following{/other_user}","gists_url":"https://api.github.com/users/Tekki/gists{/gist_id}","starred_url":"https://api.github.com/users/Tekki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tekki/subscriptions","organizations_url":"https://api.github.com/users/Tekki/orgs","repos_url":"https://api.github.com/users/Tekki/repos","events_url":"https://api.github.com/users/Tekki/events{/privacy}","received_events_url":"https://api.github.com/users/Tekki/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-03-16T18:12:23Z","updated_at":"2018-03-16T18:38:30Z","closed_at":"2018-03-16T18:19:33Z","author_association":"NONE","body":"* Mojolicious version: 7.71\r\n* Perl version: 5.26.1 (Perlbrew)\r\n* Operating system: Debian Jessie 8.10\r\n\r\n### Steps to reproduce the behavior\r\n1) In console: `mkdir /tmp/Mller; touch /tmp/Mller/Mller.txt`\r\n\r\n2) Run the following script:\r\n```\r\nuse Mojo::Base -strict, -signatures;\r\nuse Mojo::File 'path';\r\n\r\npath('/tmp/Mller')->list->each(sub ($file, $) {\r\n  say $file->to_string;\r\n});\r\n```\r\n\r\n### Expected behavior\r\nShould print `/tmp/Mller/Mller.txt`.\r\n\r\n### Actual behavior\r\nPrints `/tmp/Mller/Mller.txt`.\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1200","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1200/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1200/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1200/events","html_url":"https://github.com/kraih/mojo/issues/1200","id":305571691,"node_id":"MDU6SXNzdWUzMDU1NzE2OTE=","number":1200,"title":"Be more robust against non-utf8-encoded source code files","user":{"login":"McA","id":4147081,"node_id":"MDQ6VXNlcjQxNDcwODE=","avatar_url":"https://avatars3.githubusercontent.com/u/4147081?v=4","gravatar_id":"","url":"https://api.github.com/users/McA","html_url":"https://github.com/McA","fo
8000
llowers_url":"https://api.github.com/users/McA/followers","following_url":"https://api.github.com/users/McA/following{/other_user}","gists_url":"https://api.github.com/users/McA/gists{/gist_id}","starred_url":"https://api.github.com/users/McA/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/McA/subscriptions","organizations_url":"https://api.github.com/users/McA/orgs","repos_url":"https://api.github.com/users/McA/repos","events_url":"https://api.github.com/users/McA/events{/privacy}","received_events_url":"https://api.github.com/users/McA/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-15T14:19:31Z","updated_at":"2018-03-15T19:13:42Z","closed_at":"2018-03-15T19:13:42Z","author_association":"NONE","body":"* Mojolicious version: 7.70\r\n\r\n### Steps to reproduce the behavior\r\nProduce an exception in a module loaded which is latin1 encoded and contains German umlauts\r\n\r\n### Expected behavior\r\nBe a little bit more robust with such files when doing an ->inspect in Mojo::Exception\r\n\r\n### Proposal\r\nThe following diff on Mojo::Exception should do it:\r\n\r\n```\r\n--- Mojo/Exception.pm   2018-02-19 00:56:30.000000000 +0100\r\n+++ Mojo/Exception.pm.new   2018-03-15 15:14:19.343473550 +0100\r\n@@ -1,5 +1,6 @@\r\n package Mojo::Exception;\r\n use Mojo::Base -base;\r\n+use Encode;\r\n use overload bool => sub {1}, '\"\"' => sub { shift->to_string }, fallback => 1;\r\n\r\n has [qw(frames line lines_after lines_before)] => sub { [] };\r\n@@ -19,8 +20,8 @@\r\n\r\n   # Search for context in files\r\n   for my $file (@files) {\r\n-    next unless -r $file->[0] && open my $handle, '<:utf8', $file->[0];\r\n-    $self->_context($file->[1], [[<$handle>]]);\r\n+    next unless -r $file->[0] && open my $handle, '<', $file->[0];\r\n+    $self->_context($file->[1], [[map { Encode::decode('UTF-8', $_) } <$handle>]]);\r\n     return $self;\r\n   }\r\n\r\n\r\n```","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1199","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1199/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1199/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1199/events","html_url":"https://github.com/kraih/mojo/issues/1199","id":299869172,"node_id":"MDU6SXNzdWUyOTk4NjkxNzI=","number":1199,"title":"Investigate removing is_xhr check from accepts helper / renderer method","user":{"login":"jberger","id":735765,"node_id":"MDQ6VXNlcjczNTc2NQ==","avatar_url":"https://avatars0.githubusercontent.com/u/735765?v=4","gravatar_id":"","url":"https://api.github.com/users/jberger","html_url":"https://github.com/jberger","followers_url":"https://api.github.com/users/jberger/followers","following_url":"https://api.github.com/users/jberger/following{/other_user}","gists_url":"https://api.github.com/users/jberger/gists{/gist_id}","starred_url":"https://api.github.com/users/jberger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jberger/subscriptions","organizations_url":"https://api.github.com/users/jberger/orgs","repos_url":"https://api.github.com/users/jberger/repos","events_url":"https://api.github.com/users/jberger/events{/privacy}","received_events_url":"https://api.github.com/users/jberger/received_events","type":"User","site_admin":false},"labels":[{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true},{"id":135720706,"node_id":"MDU6TGFiZWwxMzU3MjA3MDY=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20feedback","name":"needs feedback","color":"eeeeee","default":false},{"id":142623251,"node_id":"MDU6TGFiZWwxNDI2MjMyNTE=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20more%20information","name":"needs more information","color":"5319e7","default":false},{"id":135721682,"node_id":"MDU6TGFiZWwxMzU3MjE2ODI=","url":"https://api.github.com/repos/kraih/mojo/labels/work%20in%20progress","name":"work in progress","color":"009800","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-23T22:22:43Z","updated_at":"2018-02-24T17:51:58Z","closed_at":"2018-02-24T17:51:58Z","author_association":"COLLABORATOR","body":"Currently the accepts helper (and the accepts method in the renderer that it delegates to) predicate the allowance of multiple values in the Accept header based on the value of `is_xhr`. This was necessary since by default browsers often used very messy Accept header which might often prioritize content types that were not ones that most users would actually prefer, like xml or even jpg. Meanwhile since xhr requests were created manually, those were more believable and it could be assumed that if multiple types were acceptable, they had been explicitly chosen as such.\r\n\r\nThis does mean that for non browser clients, requests with multiple prioritized Accept-able content types were ignored unless you lied and said that it was XHR or unless you rolled your own version of the accepts method. If modern browsers were providing better Accept headers then perhaps this restriction could be lifted.\r\n\r\nMDN provides a [list](https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation/List_of_default_Accept_values) of the Accept headers as sent by modern browsers. By the current values on that list, we still couldn't drop the XHR header check since Chrome still Accepts xml over html. That said, the page appears to be out of date. I checked my Chrome (via ` perl -Mojo -E 'a(\"/\" => sub { $_->render(text => $_->req->headers->accept) })->start' daemon`) and got `text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8`. Even so, if even fairly recent Chrome versions (those likely to still be in the wild) still have this value, we probably can't drop the restriction.\r\n\r\nAdditionally it would be interesting to check what other modern frameworks do. It is my understanding that Mojolicious' check is (or at least was) in keeping with the standard practice of other major frameworks.","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1198","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1198/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1198/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1198/events","html_url":"https://github.com/kraih/mojo/issues/1198","id":298747678,"node_id":"MDU6SXNzdWUyOTg3NDc2Nzg=","number":1198,"title":"Response to invalid url (double slash at start of path)","user":{"login":"tyrosinase","id":9473609,"node_id":"MDQ6VXNlcjk0NzM2MDk=","avatar_url":"https://avatars1.githubusercontent.com/u/9473609?v=4","gravatar_id":"","url":"https://api.github.com/users/tyrosinase","html_url":"https://github.com/tyrosinase","followers_url":"https://api.github.com/users/tyrosinase/followers","following_url":"https://api.github.com/users/tyrosinase/following{/other_user}","gists_url":"https://api.github.com/users/tyrosinase/gists{/gist_id}","starred_url":"https://api.github.com/users/tyrosinase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyrosinase/subscriptions","organizations_url":"https://api.github.com/users/tyrosinase/orgs","repos_url":"https://api.github.com/users/tyrosinase/repos","events_url":"https://api.github.com/users/tyrosinase/events{/privacy}","received_events_url":"https://api.github.com/users/tyrosinase/received_events","type":"User","site_admin":false},"labels":[{"id":142623251,"node_id":"MDU6TGFiZWwxNDI2MjMyNTE=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20more%20information","name":"needs more information","color":"5319e7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2018-02-20T21:04:06Z","updated_at":"2018-02-22T19:07:31Z","closed_at":"2018-02-22T19:07:31Z","author_association":"NONE","body":"* Mojolicious version: 7.67\r\n* Perl version: 5.20.2\r\n* Operating system: Debian 8.10\r\n\r\n### Steps to reproduce the behavior\r\n\r\nMojo Lite under Hypnotoad, with the relevant bit right here:\r\n```\r\nget '/*whatever' => \\&get_page;\r\n\r\nsub get_page {\r\n\tmy $c        = shift;\r\n\tprint $c->req->url->host, \"\\n\";\r\n```\r\nRequest an url of the form \"http://machinename:port//fred/fish\" (note the extra double slashes - I assume it works the same without an explicit port number, but that's my only test setup right now).\r\n\r\n### Expected behavior\r\n\r\nSomething should probably return a 400, but I'm not sure at what level - if Mojo::Url signals that the url was invalid, I don't know where it happens.\r\n\r\nIf Mojo is going to just carry on as though things are normal (since apparently browsers do), it should probably return the correct host and the path as \"/fred/fish.\"\r\n\r\n### Actual behavior\r\n\r\nThe host is \"fred\" and the path carries on with just \"/fish.\" (Additional double slashes, which are legal everywhere else, don't have any further effect.) ","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1197","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1197/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1197/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1197/events","html_url":"https://github.com/kraih/mojo/issues/1197","id":298677613,"node_id":"MDU6SXNzdWUyOTg2Nzc2MTM=","number":1197,"title":"Test","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-02-20T17:17:44Z","updated_at":"2018-02-20T17:19:26Z","closed_at":"2018-02-20T17:19:26Z","author_association":"OWNER","body":"* Mojolicious version: VERSION HERE\r\n* Perl version: VERSION HERE\r\n* Operating system: NAME AND VERSION HERE\r\n\r\n### Steps to reproduce the behavior\r\nEXPLAIN WHAT HAPPENED HERE, PREFERABLY WITH CODE EXAMPLES\r\n\r\n### Expected behavior\r\nEXPLAIN WHAT SHOULD HAPPEN HERE\r\n\r\n### Actual behavior\r\nEXPLAIN WHAT HAPPENED INSTEAD HERE\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1196","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1196/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1196/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1196/events","html_url":"https://github.com/kraih/mojo/issues/1196","id":298676472,"node_id":"MDU6SXNzdWUyOTg2NzY0NzI=","number":1196,"title":"Test","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-02-20T17:14:28Z","updated_at":"2018-02-20T17:14:47Z","closed_at":"2018-02-20T17:14:47Z","author_association":"OWNER","body":"* Mojolicious version: VERSION HERE\r\n* Perl version: VERSION HERE\r\n* Operating system: NAME AND VERSION HERE\r\n\r\n### Steps to reproduce the behavior\r\nEXPLAIN WHAT HAPPENED HERE, PREFERABLY WITH CODE EXAMPLES\r\n\r\n### Expected behavior\r\nEXPLAIN WHAT SHOULD HAPPEN HERE\r\n\r\n### Actual behavior\r\nEXPLAIN WHAT HAPPENED INSTEAD HERE\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1194","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1194/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1194/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1194/events","html_url":"https://github.com/kraih/mojo/issues/1194","id":296952914,"node_id":"MDU6SXNzdWUyOTY5NTI5MTQ=","number":1194,"title":"Use of uninitialized value in gmtime","user":{"login":"lucas1","id":784699,"node_id":"MDQ6VXNlcjc4NDY5OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/784699?v=4","gravatar_id":"","url":"https://api.github.com/users/lucas1","html_url":"https://github.com/lucas1","followers_url":"https://api.github.com/users/lucas1/followers","following_url":"https://api.github.com/users/lucas1/following{/other_user}","gists_url":"https://api.github.com/users/lucas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lucas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucas1/subscriptions","organizations_url":"https://api.github.com/users/lucas1/orgs","repos_url":"https://api.github.com/users/lucas1/repos","events_url":"https://api.github.com/users/lucas1/events{/privacy}","received_events_url":"https://api.github.com/users/lucas1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-14T02:09:29Z","updated_at":"2018-04-05T00:51:04Z","closed_at":"2018-02-16T19:52:15Z","author_association":"NONE","body":"* Mojolicious version: 7.59\r\n* Perl version: 5.26.1\r\n* Operating system: Ubuntu 16.04\r\n\r\n### Steps to reproduce the behavior\r\nEXPLAIN WHAT HAPPENED HERE, PREFERABLY WITH CODE EXAMPLES\r\ncode:\r\n\r\n    # Load language\r\n    $self->hook(before_render => sub {\r\n        my $c = shift;\r\n        \r\n        # set languages\r\n        if($c->param('lang')){\r\n            $c->cookie(lang => $c->param('lang'), {expires => time + (86400 * 365)});\r\n        }\r\n    });\r\n\r\nlog:\r\n[Wed Feb 14 00:03:29 2018] [info] Listening at \"http://*:3000\"\r\nServer available at http://127.0.0.1:3000\r\n[Wed Feb 14 00:03:31 2018] [debug] GET \"/admin/users\"\r\n[Wed Feb 14 00:03:31 2018] [debug] Routing to controller \"StalDenDoorn::Controller::Admin::Users\" and action \"index\"\r\nUse of uninitialized value in gmtime at /home/lucas/perl5/perlbrew/perls/perl-5.26.1/lib/site_perl/5.26.1/Mojo/Date.pm line 66.\r\n[Wed Feb 14 00:03:32 2018] [debug] Rendering template \"admin/users/index.html.ep\"\r\n[Wed Feb 14 00:03:32 2018] [debug] Rendering template \"layouts/admin.html.ep\"\r\n[Wed Feb 14 00:03:32 2018] [debug] 200 OK (0.0576s, 17.361/s)\r\n\r\nexplain:\r\nwhen get attribute 'epoch' return empty\r\n\r\nI opened file Mojo::Date and tested code, I think the cause of log is code:\r\nuse overload bool => sub {1}, '\"\"' => sub { shift->to_string }, fallback => 1;\r\n\r\nwhen I removed code '\"\"' => sub { shift->to_string }, attribute 'epoch' return time\r\n\r\nThanks.\r\n\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1193","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1193/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1193/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1193/events","html_url":"https://github.com/kraih/mojo/issues/1193","id":296776287,"node_id":"MDU6SXNzdWUyOTY3NzYyODc=","number":1193,"title":"Mojo::Promise->all should resolve instantly when called without arguments.","user":{"login":"jkramer","id":6999,"node_id":"MDQ6VXNlcjY5OTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6999?v=4","gravatar_id":"","url":"https://api.github.com/users/jkramer","html_url":"https://github.com/jkramer","followers_url":"https://api.github.com/users/jkramer/followers","following_url":"https://api.github.com/users/jkramer/following{/other_user}","gists_url":"https://api.github.com/users/jkramer/gists{/gist_id}","starred_url":"https://api.github.com/users/jkramer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkramer/subscriptions","organizations_url":"https://api.github.com/users/jkramer/orgs","repos_url":"https://api.github.com/users/jkramer/repos","events_url":"https://api.github.com/users/jkramer/events{/privacy}","received_events_url":"https://api.github.com/users/jkramer/received_events","type":"User","site_admin":false},"labels":[{"id":140460065,"node_id":"MDU6TGFiZWwxNDA0NjAwNjU=","url":"https://api.github.com/repos/kraih/mojo/labels/feature","name":"feature","color":"0052cc","default":false},{"id":135720706,"node_id":"MDU6TGFiZWwxMzU3MjA3MDY=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20feedback","name":"needs feedback","color":"eeeeee","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-02-13T15:24:27Z","updated_at":"2018-02-13T17:22:00Z","closed_at":"2018-02-13T17:01:05Z","author_association":"NONE","body":"When called without arguments, `Mojo::Promise->all` currently never finishes (neither resolves nor rejects) as it's basically waiting for its non-existent sub-promises to resolve/reject, so it's a dead end and followup `then` or `catch` code is never executed. Instead it should resolve instantly.\r\n\r\nReasoning:\r\n* Not doing anything/hanging forever might be a pitfall for users\r\n* `.all` of the JavaScript Promise API also resolves when called with an empty iterable of promises:\r\n \"If an empty iterable is passed, then this method returns (synchronously) an already resolved promise.\"\r\n* Workarounds for use-cases like `Mojo::Promise->all(map { $ua->get_p($_) } @some_or_0_urls)->then(...)` are cumbersome.\r\n* `<@sri> jkramer: for bonus points, i think it can be implemented without adding new lines \"return @promises ? $all : $all->resolve([]);\"`","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1190","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1190/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1190/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1190/events","html_url":"https://github.com/kraih/mojo/issues/1190","id":293779634,"node_id":"MDU6SXNzdWUyOTM3Nzk2MzQ=","number":1190,"title":"Excessive stop/start prefork hypnotoad workers","user":{"login":"mche","id":3126480,"node_id":"MDQ6VXNlcjMxMjY0ODA=","avatar_url":"https://avatars3.githubusercontent.com/u/3126480?v=4","gravatar_id":"","url":"https://api.github.com/users/mche","html_url":"https://github.com/mche","followers_url":"https://api.github.com/users/mche/followers","following_url":"https://api.github.com/users/mche/following{/other_user}","gists_url":"https://api.github.com/users/mche/gists{/gist_id}","starred_url":"https://api.github.com/users/mche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mche/subscriptions","organizations_url":"https://api.github.com/users/mche/orgs","repos_url":"https://api.github.com/users/mche/repos","events_url":"https://api.github.com/users/mche/events{/privacy}","received_events_url":"https://api.github.com/users/mche/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-02T05:43:53Z","updated_at":"2018-02-04T12:11:21Z","closed_at":"2018-02-04T12:11:21Z","author_association":"NONE","body":"```\r\n$ mojo version\r\nCORE\r\n  Perl        (v5.26.1, linux)\r\n  Mojolicious (7.61, Doughnut)\r\n\r\nOPTIONAL\r\n  EV 4.0+                 (4.22)\r\n  IO::Socket::Socks 0.64+ (n/a)\r\n  IO::Socket::SSL 1.94+   (2.052)\r\n  Net::DNS::Native 0.15+  (n/a)\r\n  Role::Tiny 2.000001+    (2.000006)\r\n\r\nThis version is up to date, have fun!\r\n```\r\n\r\n### Steps reproduce\r\n\r\nI have run Mojolicious project serves by hypnotoad with default settings. Requesting heavy SQL data and has been increase $c->inactivity_timeout(600) in some controller action.\r\n\r\n### Actual behavior\r\n\r\nRequest:\r\n\r\n```\r\nFr 2 Feb 09:52:31 [d] Mojolicious:131 POST \"/some/report/data\"\r\nFr 2 Feb 09:52:31 [d] Mojolicious::Routes:162 Routing to controller \"Controll::Some::Report\" and action \"data\"\r\nFr 2 Feb 09:53:03 [i] Mojo::Server::Prefork:128 Stopping worker 1526 gracefully (120 seconds)\r\nFr 2 Feb 09:53:03 [i] Mojo::Server::Prefork:162 Worker 726 started\r\nFr 2 Feb 09:53:10 [d] Mojolicious::Controller:211 200 OK (38.658608s, 0.026/s)\r\nFr 2 Feb 09:53:10 [i] Mojo::Server::Prefork:173 Worker 1526 stopped\r\n```\r\n\r\nNext request:\r\n\r\n```\r\nFr 2 Feb 09:53:22 [d] Mojolicious:131 POST \"/some/report/data\"\r\nFr 2 Feb 09:53:22 [d] Mojolicious::Routes:162 Routing to controller \"Controll::Some::Report\" and action \"data\"\r\nFr 2 Feb 09:53:54 [i] Mojo::Server::Prefork:128 Stopping worker 1323 gracefully (120 seconds)\r\nFr 2 Feb 09:53:54 [i] Mojo::Server::Prefork:162 Worker 756 started\r\nFr 2 Feb 09:54:01 [d] Mojolicious::Controller:211 200 OK (38.781011s, 0.026/s)\r\nFr 2 Feb 09:54:01 [i] Mojo::Server::Prefork:173 Worker 1323 stopped\r\n```\r\nAnd so on, worker always down and new one start. Browser get data successfully.\r\n\r\nAnother requests to other fast time actions has normal  behavior - without stopping workers.\r\n\r\n### Expected behavior\r\n\r\nHeavy workers must still live, dont down, isnt it?","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1185","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1185/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1185/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1185/events","html_url":"https://github.com/kraih/mojo/issues/1185","id":292821423,"node_id":"MDU6SXNzdWUyOTI4MjE0MjM=","number":1185,"title":"Mojo::Cookie::Response does not set the domain parameter according to RFC 6265","user":{"login":"expbbc","id":23385159,"node_id":"MDQ6VXNlcjIzMzg1MTU5","avatar_url":"https://avatars3.githubusercontent.com/u/23385159?v=4","gravatar_id":"","url":"https://api.github.com/users/expbbc","html_url":"https://github.com/expbbc","followers_url":"https://api.github.com/users/expbbc/followers","following_url":"https://api.github.com/users/expbbc/following{/other_user}","gists_url":"https://api.github.com/users/expbbc/gists{/gist_id}","starred_url":"https://api.github.com/users/expbbc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/expbbc/subscriptions","organizations_url":"https://api.github.com/users/expbbc/orgs","repos_url":"https://api.github.com/users/expbbc/repos","events_url":"https://api.github.com/users/expbbc/events{/privacy}","received_events_url":"https://api.github.com/users/expbbc/received_events","type":"User","site_admin":false},"labels":[{"id":142623251,"node_id":"MDU6TGFiZWwxNDI2MjMyNTE=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20more%20information","name":"needs more information","color":"5319e7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-01-30T15:19:29Z","updated_at":"2018-02-01T21:08:44Z","closed_at":"2018-02-01T21:08:44Z","author_association":"NONE","body":"* Mojolicious version: 7.61\r\n* Perl version: 5.24\r\n* Operating system: Debian Stretch / Ubuntu Xenial\r\n\r\n### Steps to reproduce the behavior\r\n1. Use Mojo::UserAgent to retrieve a cookie from a site that does not set the `domain` parameter.\r\n2. Test the domain parameter of this cookie in the UA's cookie jar.\r\n\r\n### Expected behavior\r\nThe cookie should have a host_only flag set, and have its domain set as specified in RFC 6265 Section 5.3 bullet point 6: https://tools.ietf.org/html/rfc6265#section-5.3\r\n\r\n>    6.   If the domain-attribute is non-empty:  Otherwise  Set the cookie's domain to the canonicalized request-host\r\n\r\n### Actual behavior\r\nAn extra 'origin' attribute was introduced to attempt to fix this problem which holds the original source of the cookie: https://github.com/kraih/mojo/commit/8e1895893360fcde403df19e51035f0cdb72477f\r\n\r\nThis introduces an additional bug however, in that two cookies with the same name from the same domain are considered distinct due to the unset 'domain' parameter: https://github.com/kraih/mojo/blob/master/t/mojo/cookiejar.t#L289  RFC 6265 Section 5.3 bullet point 11 indicates these conflict and the old one should be removed from the store.\r\n\r\n> Let old-cookie be the existing cookie with the same name, domain, and path as the newly created cookie  Remove the old-cookie from the cookie store\r\n\r\nThe result of this is that cookies can be submitted to sites regardless of them having a blank domain set due to the non-standard origin attribute. Without knowledge of this attribute cookies cannot be serialized or copied correctly.\r\n\r\nThis tiny mojo lite app exhibits the behaviour, the cookie stored in the jar should include the domain name of its source.\r\n\r\n```perl\r\nuse Mojolicious::Lite;\r\nuse Mojo::UserAgent;\r\nuse Data::Dump 'pp';\r\n\r\nget '/set' => sub {\r\n\tmy $c = shift;\r\n\t$c->cookie(test => 'ing');\r\n\treturn $c->rendered(200);\r\n};\r\n\r\nget '/say' => sub {\r\n\tmy $c = shift;\r\n\treturn $c->render(\r\n\t\ttext => \"Say handler got cookies: \" . join ', ', map { pp($_) } $c->req->cookies->@*\r\n\t);\r\n};\r\n\r\nmy $ua   = Mojo::UserAgent->new;\r\n# This request sets a testing cookie without a domain parameter\r\n# according to RFC 6265 Section 5.3 bullet 6 this should be set to the request-host\r\n$ua->get(\"/set\");\r\n\r\n# Printing the cookie's parameters show no domain. Serializing or copying this cookie without\r\n# copying the instance or the 'origin' parameter results in inconsistent behaviour below.\r\nmap { say \"Cookie '\" . $_->name . \"' has domain '\" . $_->domain . \"'\" } $ua->cookie_jar->all->@*;\r\n\r\n# This request will send the acquired cookie despite it appearing not to have a domain above\r\n# as it silently promotes 'origin' to 'domain' upon making the request\r\n#\r\n# This behaviour was introduced to fix this same problem, but does so incorrectly\r\n# https://github.com/kraih/mojo/commit/8e1895893360fcde403df19e51035f0cdb72477f\r\nsay $ua->get(\"/say\")->res->body;\r\n```\r\n\r\n```\r\n[Wed Jan 31 15:31:52 2018] [debug] GET \"/set\"\r\n[Wed Jan 31 15:31:52 2018] [debug] Routing to a callback\r\n[Wed Jan 31 15:31:52 2018] [debug] 200 OK (0.000491s, 2036.660/s)\r\nUse of uninitialized value in concatenation (.) or string at test.pl line 27.\r\nCookie 'test' has domain ''\r\n[Wed Jan 31 15:31:52 2018] [debug] GET \"/say\"\r\n[Wed Jan 31 15:31:52 2018] [debug] Routing to a callback\r\n[Wed Jan 31 15:31:52 2018] [debug] 200 OK (0.000557s, 1795.332/s)\r\nSay handler got cookies: bless({ name => \"test\", value => \"ing\" }, \"Mojo::Cookie::Request\")\r\n```","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1181","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1181/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1181/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1181/events","html_url":"https://github.com/kraih/mojo/issues/1181","id":286748147,"node_id":"MDU6SXNzdWUyODY3NDgxNDc=","number":1181,"title":"ojo should take imports which would be role names to apply","user":{"login":"mohawk2","id":7308181,"node_id":"MDQ6VXNlcjczMDgxODE=","avatar_url":"https://avatars3.githubusercontent.com/u/7308181?v=4","gravatar_id":"","url":"https://api.github.com/users/mohawk2","html_url":"https://github.com/mohawk2","followers_url":"https://api.github.com/users/mohawk2/followers","following_url":"https://api.github.com/users/mohawk2/following{/other_user}","gists_url":"https://api.github.com/users/mohawk2/gists{/gist_id}","starred_url":"https://api.github.com/users/mohawk2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohawk2/subscriptions","organizations_url":"https://api.github.com/users/mohawk2/orgs","repos_url":"https://api.github.com/users/mohawk2/repos","events_url":"https://api.github.com/users/mohawk2/events{/privacy}","received_events_url":"https://api.github.com/users/mohawk2/received_events","type":"User","site_admin":false},"labels":[{"id":140460065,"node_id":"MDU6TGFiZWwxNDA0NjAwNjU=","url":"https://api.github.com/repos/kraih/mojo/labels/feature","name":"feature","color":"0052cc","default":false},{"id":135720706,"node_id":"MDU6TGFiZWwxMzU3MjA3MDY=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20feedback","name":"needs feedback","color":"eeeeee","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-01-08T13:40:33Z","updated_at":"2018-02-04T12:17:18Z","closed_at":"2018-02-04T12:17:18Z","author_association":"NONE","body":"This is a feature request so I have deleted the bug-report template.\r\n\r\nMy suggestion is that `ojo`'s `import`, which currently ignores its args, would take each one as a role prefixed with `ojo::Role::`, and `with` it.\r\n\r\nThis, with the obvious `ojo::Role::YAML`, would enable this:\r\n\r\n```shell\r\nperl -Mojo=YAML -e 'print y j f(shift)->slurp' $FILENAME\r\n```\r\n\r\nwhich currently needs to be done like this:\r\n\r\n```shell\r\nperl -Mojo -MYAML::XS -e '$YAML::XS::Boolean = \"JSON::PP\"; print Dump j f(shift)->slurp' $FILENAME\r\n```\r\n\r\nThis would also allow `ojoBox` to be turned into `ojo::Role::Box`.","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1180","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1180/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1180/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1180/events","html_url":"https://github.com/kraih/mojo/issues/1180","id":286583829,"node_id":"MDU6SXNzdWUyODY1ODM4Mjk=","number":1180,"title":"generate lite_app treats absolute paths as relative","user":{"login":"hoelzro","id":107804,"node_id":"MDQ6VXNlcjEwNzgwNA==","avatar_url":"https://avatars3.githubusercontent.com/u/107804?v=4","gravatar_id":"","url":"https://api.github.com/users/hoelzro","html_url":"https://github.com/hoelzro","followers_url":"https://api.github.com/users/hoelzro/followers","following_url":"https://api.github.com/users/hoelzro/following{/other_user}","gists_url":"https://api.github.com/users/hoelzro/gists{/gist_id}","starred_url":"https://api.github.com/users/hoelzro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hoelzro/subscriptions","organizations_url":"https://api.github.com/users/hoelzro/orgs","repos_url":"https://api.github.com/users/hoelzro/repos","events_url":"https://api.github.com/users/hoelzro/events{/privacy}","received_events_url":"https://api.github.com/users/hoelzro/received_events","type":"User","site_admin":false},"labels":[],"st
43ac
ate":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-01-07T17:11:30Z","updated_at":"2018-02-19T21:47:37Z","closed_at":"2018-02-19T21:47:37Z","author_association":"NONE","body":"* Mojolicious version:7.60\r\n* Perl version: 5.22\r\n* Operating system: Arch Linux (no version because rolling)\r\n\r\n### Steps to reproduce the behavior\r\n\r\n```\r\n[11:07:32] rob@pyxis ~ $ mojo generate lite_app /tmp/fake_notifier.pl\r\n  [exist] /home/rob/tmp                                             \r\n  [write] /home/rob/tmp/fake_notifier.pl\r\n  [chmod] /home/rob/tmp/fake_notifier.pl 744\r\n[11:08:00] rob@pyxis ~ $ mojo generate lite_app ~/fake_notifier.pl   \r\n  [mkdir] /home/rob/home/rob                                     \r\n  [write] /home/rob/home/rob/fake_notifier.pl\r\n  [chmod] /home/rob/home/rob/fake_notifier.pl 744\r\n\r\n```\r\n\r\n### Expected behavior\r\n\r\n`mojo generate lite_app` should have generated a lite app under `/tmp/fake_notifier.pl` and `/home/rob/fake_notifier.pl`, respectively.\r\n\r\n### Actual behavior\r\n\r\n`mojo generate lite_app` generated `/home/rob/tmp/fake_notifier.pl` and `/home/rob/home/rob/fake_notifier.pl` instead.\r\n\r\nThis might be a weird edge case that isn't worth fixing, but it surprised me when I tried it, so I thought I would at least bring it to the attention of the Mojolicious team.\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1178","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1178/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1178/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1178/events","html_url":"https://github.com/kraih/mojo/issues/1178","id":285327183,"node_id":"MDU6SXNzdWUyODUzMjcxODM=","number":1178,"title":"Mojolicious::Sessions needs a ->param() method","user":{"login":"hesco","id":1747647,"node_id":"MDQ6VXNlcjE3NDc2NDc=","avatar_url":"https://avatars3.githubusercontent.com/u/1747647?v=4","gravatar_id":"","url":"https://api.github.com/users/hesco","html_url":"https://github.com/hesco","followers_url":"https://api.github.com/users/hesco/followers","following_url":"https://api.github.com/users/hesco/following{/other_user}","gists_url":"https://api.github.com/users/hesco/gists{/gist_id}","starred_url":"https://api.github.com/users/hesco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hesco/subscriptions","organizations_url":"https://api.github.com/users/hesco/orgs","repos_url":"https://api.github.com/users/hesco/repos","events_url":"https://api.github.com/users/hesco/events{/privacy}","received_events_url":"https://api.github.com/users/hesco/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-01T20:27:58Z","updated_at":"2018-01-15T15:32:33Z","closed_at":"2018-01-15T15:32:32Z","author_association":"NONE","body":"I am refactoring 12 year old CGI / DBI procedural scripts written without benefit of an MVC.  \r\n\r\nThey rely on CGI::Session for managing session data, and it uses a ->param() method to set/get data.  If this project supported such a method, it would serve as a drop in replacement in this refactoring effort.  And save me building scaffolding using ->isa() tests in conditionals to handle all the cases in the midst of this rewrite.  \r\n\r\n-- Hugh \r\n\r\n* Mojolicious version: VERSION HERE\r\n* Perl version: VERSION HERE\r\n* Operating system: NAME AND VERSION HERE\r\n\r\n### Steps to reproduce the behavior\r\nEXPLAIN WHAT HAPPENED HERE, PREFERABLY WITH CODE EXAMPLES\r\n\r\n### Expected behavior\r\nEXPLAIN WHAT SHOULD HAPPEN HERE\r\n\r\n### Actual behavior\r\nEXPLAIN WHAT HAPPENED INSTEAD HERE\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1175","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1175/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1175/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1175/events","html_url":"https://github.com/kraih/mojo/issues/1175","id":284331245,"node_id":"MDU6SXNzdWUyODQzMzEyNDU=","number":1175,"title":"Clean up restrictive placeholders","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[{"id":140460065,"node_id":"MDU6TGFiZWwxNDA0NjAwNjU=","url":"https://api.github.com/repos/kraih/mojo/labels/feature","name":"feature","color":"0052cc","default":false},{"id":135720706,"node_id":"MDU6TGFiZWwxMzU3MjA3MDY=","url":"https://api.github.com/repos/kraih/mojo/labels/needs%20feedback","name":"needs feedback","color":"eeeeee","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2017-12-23T22:57:39Z","updated_at":"2018-04-04T18:32:29Z","closed_at":"2018-04-04T18:32:29Z","author_association":"OWNER","body":"Right now you have to declare [restrictive placeholders](http://mojolicious.org/perldoc/Mojolicious/Guides/Tutorial#Restrictive-placeholders) with every route that uses them.\r\n```perl\r\nmy $r = $app->routes;\r\n$r->get('/users/:id' => [id => qr/[0-9]+/])->to('Users#show');\r\n$r->get('/groups/:id' => [id => qr/[0-9]+/])->to('Groups#show');\r\n$r->get('/rooms/:name' => [name => ['red', 'blue']])->to('Rooms#show');\r\n...\r\n```\r\nThis can be quite tedious, and doesn't look all that nice. What we could do instead is to allow for reusable named restrictions (needs a better name...) to be declared once on the router. And then use them with a new placeholder notation.\r\n```perl\r\nmy $r = $app->routes;\r\n$r->add_restriction(int => qr/[0-9]+/);\r\n$r->add_restriction(room_name => ['red', 'blue']);\r\n\r\n$r->get('/users/(id:int)')->to('Users#show');\r\n$r->get('/groups/(id:int)')->to('Groups#show');\r\n$r->get('/rooms/(name:room_name)')->to('Rooms#show');\r\n...\r\n```\r\nSome restrictions like `int` could be built-in. The old way of declaring restrictive placeholders could be preserved or deprecated, i'm not sure which is better. Thoughts?","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1170","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1170/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1170/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1170/events","html_url":"https://github.com/kraih/mojo/issues/1170","id":283376067,"node_id":"MDU6SXNzdWUyODMzNzYwNjc=","number":1170,"title":"Bug in \"use Mojo::Base -role\": conflicts about \"has\"","user":{"login":"aferreira","id":43150,"node_id":"MDQ6VXNlcjQzMTUw","avatar_url":"https://avatars2.githubusercontent.com/u/43150?v=4","gravatar_id":"","url":"https://api.github.com/users/aferreira","html_url":"https://github.com/aferreira","followers_url":"https://api.github.com/users/aferreira/followers","following_url":"https://api.github.com/users/aferreira/following{/other_user}","gists_url":"https://api.github.com/users/aferreira/gists{/gist_id}","starred_url":"https://api.github.com/users/aferreira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aferreira/subscriptions","organizations_url":"https://api.github.com/users/aferreira/orgs","repos_url":"https://api.github.com/users/aferreira/repos","events_url":"https://api.github.com/users/aferreira/events{/privacy}","received_events_url":"https://api.github.com/users/aferreira/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-19T21:32:29Z","updated_at":"2017-12-20T12:55:30Z","closed_at":"2017-12-20T12:55:30Z","author_association":"CONTRIBUTOR","body":"\r\n\r\nIf one tries to compose two or more roles built with `use Mojo::Base -role`, as in the example below:\r\n\r\n```\r\npackage Boo; use Mojo::Base -role;\r\npackage Foo; use Mojo::Base -role;\r\n\r\nMojo::Base->with_roles('Boo', 'Foo')\r\n```\r\n\r\nthe following error is encountered\r\n\r\n```\r\nMethod name conflict for 'has' between roles 'Boo' and 'Foo', cannot apply these simultaneously to an object.\r\n```\r\n\r\nThat happens because `has` is imported to the caller namespace after the package has become a `Role::Tiny`\r\n\r\n* line 75 https://github.com/kraih/mojo/blob/master/lib/Mojo/Base.pm#L75 \r\n\r\nvs\r\n\r\n* line 87 https://github.com/kraih/mojo/blob/master/lib/Mojo/Base.pm#L87\r\n\r\nThat makes `Role::Tiny` to think `has` is a method which should be part of the role composition.\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1169","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1169/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1169/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1169/events","html_url":"https://github.com/kraih/mojo/issues/1169","id":282747820,"node_id":"MDU6SXNzdWUyODI3NDc4MjA=","number":1169,"title":"url_escape dies if pattern includes escaped slash","user":{"login":"evoyy","id":1623890,"node_id":"MDQ6VXNlcjE2MjM4OTA=","avatar_url":"https://avatars2.githubusercontent.com/u/1623890?v=4","gravatar_id":"","url":"https://api.github.com/users/evoyy","html_url":"https://github.com/evoyy","followers_url":"https://api.github.com/users/evoyy/followers","following_url":"https://api.github.com/users/evoyy/following{/other_user}","gists_url":"https://api.github.com/users/evoyy/gists{/gist_id}","starred_url":"https://api.github.com/users/evoyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evoyy/subscriptions","organizations_url":"https://api.github.com/users/evoyy/orgs","repos_url":"https://api.github.com/users/evoyy/repos","events_url":"https://api.github.com/users/evoyy/events{/privacy}","received_events_url":"https://api.github.com/users/evoyy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-18T02:24:03Z","updated_at":"2018-01-15T15:33:56Z","closed_at":"2018-01-15T15:33:56Z","author_association":"CONTRIBUTOR","body":"* Mojolicious version: 7.59\r\n* Perl version: v5.26.1\r\n* Operating system: Ubuntu 14.04\r\n\r\n### Steps to reproduce the behavior\r\n\r\n````perl\r\nuse Mojo::Util qw(url_escape);\r\n\r\nurl_escape('foo;bar', '^A-Za-z0-9\\-._~');      # default pattern: OK\r\nurl_escape('foo;bar', '^A-Za-z0-9\\-._~\\/');    # dies\r\n````\r\n\r\n### Expected behavior\r\n\r\nShould not die.\r\n\r\n### Actual behavior\r\n\r\nDies with:\r\n\r\n````Unmatched [ in regex; marked by <-- HERE in m/([ <-- HERE ^A-Za-z0-9\\-._~\\\\/ at (eval 10) line 1.````\r\n\r\nThis bug was introduced in commit a7cdf6fb2c60c28ac4ab9ffad0e528bb23b0f7b8\r\n","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1165","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1165/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1165/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1165/events","html_url":"https://github.com/kraih/mojo/issues/1165","id":282073617,"node_id":"MDU6SXNzdWUyODIwNzM2MTc=","number":1165,"title":"Content-Length header and 1xx/204 responses","user":{"login":"kraih","id":30094,"node_id":"MDQ6VXNlcjMwMDk0","avatar_url":"https://avatars3.githubusercontent.com/u/30094?v=4","gravatar_id":"","url":"https://api.github.com/users/kraih","html_url":"https://github.com/kraih","followers_url":"https://api.github.com/users/kraih/followers","following_url":"https://api.github.com/users/kraih/following{/other_user}","gists_url":"https://api.github.com/users/kraih/gists{/gist_id}","starred_url":"https://api.github.com/users/kraih/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kraih/subscriptions","organizations_url":"https://api.github.com/users/kraih/orgs","repos_url":"https://api.github.com/users/kraih/repos","events_url":"https://api.github.com/users/kraih/events{/privacy}","received_events_url":"https://api.github.com/users/kraih/received_events","type":"User","site_admin":false},"labels":[{"id":85884,"node_id":"MDU6TGFiZWw4NTg4NA==","url":"https://api.github.com/repos/kraih/mojo/labels/bug","name":"bug","color":"ff0000","default":true},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-14T11:47:55Z","updated_at":"2017-12-14T17:17:18Z","closed_at":"2017-12-14T17:17:18Z","author_association":"OWNER","body":"As discussed in #1163 our HTTP stack is not quite spec compliant. 1xx and 204 HTTP responses MUST NOT include a `Content-Length` header. https://tools.ietf.org/html/rfc7230#section-3.3.2\r\n> A server MUST NOT send a Content-Length header field in any response with a status code of 1xx (Informational) or 204 (No Content).","score":1.0},{"url":"https://api.github.com/repos/kraih/mojo/issues/1164","repository_url":"https://api.github.com/repos/kraih/mojo","labels_url":"https://api.github.com/repos/kraih/mojo/issues/1164/labels{/name}","comments_url":"https://api.github.com/repos/kraih/mojo/issues/1164/comments","events_url":"https://api.github.com/repos/kraih/mojo/issues/1164/events","html_url":"https://github.com/kraih/mojo/issues/1164","id":282072039,"node_id":"MDU6SXNzdWUyODIwNzIwMzk=","number":1164,"title":"app->max_request_size($limit) is not behaving well for larg-ish uploaded files","user":{"login":"akarelas-pt","id":30897227,"node_id":"MDQ6VXNlcjMwODk3MjI3","avatar_url":"https://avatars0.githubusercontent.com/u/30897227?v=4","gravatar_id":"","url":"https://api.github.com/users/akarelas-pt","html_url":"https://github.com/akarelas-pt","followers_url":"https://api.github.com/users/akarelas-pt/followers","following_url":"https://api.github.com/users/akarelas-pt/following{/other_user}","gists_url":"https://api.github.com/users/akarelas-pt/gists{/gist_id}","starred_url":"https://api.github.com/users/akarelas-pt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akarelas-pt/subscriptions","organizations_url":"https://api.github.com/users/akarelas-pt/orgs","repos_url":"https://api.github.com/users/akarelas-pt/repos","events_url":"https://api.github.com/users/akarelas-pt/events{/privacy}","received_events_url":"https://api.github.com/users/akarelas-pt/received_events","type":"User","site_admin":false},"labels":[{"id":85884,"node_id":"MDU6TGFiZWw4NTg4NA==","url":"https://api.github.com/repos/kraih/mojo/labels/bug","name":"bug","color":"ff0000","default":true},{"id":289647972,"node_id":"MDU6TGFiZWwyODk2NDc5NzI=","url":"https://api.github.com/repos/kraih/mojo/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-14T11:41:48Z","updated_at":"2017-12-16T15:55:56Z","closed_at":"2017-12-16T15:50:21Z","author_association":"NONE","body":"* Mojolicious version: 7.58\r\n* Perl version: 5.26.0\r\n* Operating system: Linux Fedora 25\r\n\r\n### Steps to reproduce the behavior\r\nI run this Mojolicious::Lite app with `morbo myapp.pl` on the same machine as my browser. I open the website with either Firefox (latest version) or Chromium, directly on port 3000, not through nginx or any reverse proxy or remote network connection. I upload a 100MB using the site's form, and I get an error screen on my browser.\r\n\r\nThe file myapp.pl is here: https://gist.github.com/akarelas-pt/892ba328a43ab0b14128ca82459279b5\r\n\r\n### Expected behavior\r\nMy browser should show a JSON object with ```{title: \"hi there\", exceeded: 1}```\r\n\r\n### Actual behavior\r\nI got a browser error screen. I don't get this browser error screen when I set max_request_size to 200MB, though, which makes me think that it's the mojo framework's fault. Also, I don't get this error when the uploaded file is only 100kB and max_request_size is 10kB.\r\n","score":1.0}]}
0

