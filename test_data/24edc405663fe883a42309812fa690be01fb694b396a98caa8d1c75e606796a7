HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Nov 2020 21:08:53 GMT
Link: <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fapostrophe+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fapostrophe+type%3Aissue+state%3Aclosed&page=6>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
Vary: Accept, Authorization, Cookie, X-GitHub-OTP
Vary: Accept-Encoding, Accept, X-Requested-With
Vary: Accept-Encoding
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D8F8:7087:4114AF3:4AF5580:5FB04764
X-Oauth-Scopes: repo
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 0
X-Ratelimit-Reset: 1605388137
X-Ratelimit-Used: 42
X-Xss-Protection: 1; mode=block

19595
{"total_count":169,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/apostrophecms/apostrophe-seo/issues/42","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-seo","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-seo/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-seo/issues/42/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-seo/issues/42/events","html_url":"https://github.com/apostrophecms/apostrophe-seo/issues/42","id":707723930,"node_id":"MDU6SXNzdWU3MDc3MjM5MzA=","number":42,"title":"Canonical Link URLs are relative ","user":{"login":"Eric-Dunaway","id":36860672,"node_id":"MDQ6VXNlcjM2ODYwNjcy","avatar_url":"https://avatars3.githubusercontent.com/u/36860672?v=4","gravatar_id":"","url":"https://api.github.com/users/Eric-Dunaway","html_url":"https://github.com/Eric-Dunaway","followers_url":"https://api.github.com/users/Eric-Dunaway/followers","following_url":"https://api.github.com/users/Eric-Dunaway/following{/other_user}","gists_url":"https://api.github.com/users/Eric-Dunaway/gists{/gist_id}","starred_url":"https://api.github.com/users/Eric-Dunaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eric-Dunaway/subscriptions","organizations_url":"https://api.github.com/users/Eric-Dunaway/orgs","repos_url":"https://api.github.com/users/Eric-Dunaway/repos","events_url":"https://api.github.com/users/Eric-Dunaway/events{/privacy}","received_events_url":"https://api.github.com/users/Eric-Dunaway/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-09-23T22:41:44Z","updated_at":"2020-09-29T12:42:16Z","closed_at":"2020-09-29T12:42:16Z","author_association":"NONE","active_lock_reason":null,"body":"https://github.com/apostrophecms/apostrophe-seo/blob/116f642a524157d4687ef731ce495e4a4af10b8a/views/view.html#L23-L25\r\n\r\nGoogle Lighthouse considers relative canonical links invalid.\r\n![image](https://user-images.githubusercontent.com/36860672/94078327-639a7500-fdbb-11ea-9e0c-2db4ce804da1.png)\r\n\r\nLink to the code for the canonical links audit\r\nhttps://github.com/GoogleChrome/lighthouse/blob/478a954f85746b3b36cb09fc9132fcd870617973/lighthouse-core/audits/seo/canonical.js#L31-L35","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2440","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2440/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2440/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2440/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2440","id":712658249,"node_id":"MDU6SXNzdWU3MTI2NTgyNDk=","number":2440,"title":"historicUrls and soft redirects for pages with custom routes","user":{"login":"jogarijo","id":26466090,"node_id":"MDQ6VXNlcjI2NDY2MDkw","avatar_url":"https://avatars3.githubusercontent.com/u/26466090?v=4","gravatar_id":"","url":"https://api.github.com/users/jogarijo","html_url":"https://github.com/jogarijo","followers_url":"https://api.github.com/users/jogarijo/followers","following_url":"https://api.github.com/users/jogarijo/following{/other_user}","gists_url":"https://api.github.com/users/jogarijo/gists{/gist_id}","starred_url":"https://api.github.com/users/jogarijo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jogarijo/subscriptions","organizations_url":"https://api.github.com/users/jogarijo/orgs","repos_url":"https://api.github.com/users/jogarijo/repos","events_url":"https://api.github.com/users/jogarijo/events{/privacy}","received_events_url":"https://api.github.com/users/jogarijo/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2020-10-01T09:17:24Z","updated_at":"2020-10-06T12:14:19Z","closed_at":"2020-10-06T12:14:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## The problem to solve\r\n\r\nWhen changing the slug of a page, the previous URL is added to the page `historicUrls`, which will be used to automatically redirect it to the new one (thanks to `apostrophe-soft-redirects`).\r\n\r\nIt does not work however for pages that declare additional routes using `self.dispatch()`.\r\n\r\n## Quick example\r\n\r\n```js\r\n// lib/modules/complex-pages.js\r\nmodule.exports = {\r\n  extends: 'apostrophe-custom-pages',\r\n  afterConstruct (self) {\r\n    self.dispatch('/', self.indexPage) // this one will be correctly redirected on slug change\r\n    self.dispatch('/custom-route', self.customRoutePage) // this one will not\r\n  },\r\n  construct (self, options) {\r\n    self.indexPage = (req, cb) => { /* handle index */ }\r\n    self.customRoutePage = (req, cb) => { /* handle custom route */ }\r\n  }\r\n}\r\n```\r\n\r\n## Proposed solution\r\n\r\nWhen no page matches the slug given in the URL, Apostrophe could look for matches with shorter extracts of the URL to see if it would match the `historicUrls` of a page whose slug would have changed. If one exists, then the user would be redirected to the new URL while keeping the extra parts provided.\r\n\r\nI tried my hand at a naive implementation that works for my use case here: https://github.com/apostrophecms/apostrophe/commit/2fbf128d89d0731118d9633e3ceda6c576e290e2, however I haven't looked for edge cases or unwanted side-effects.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/312","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/312/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/312/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/312/events","html_url":"https://github.com/apostrophecms/apostrophe-documentation/issues/312","id":704885488,"node_id":"MDU6SXNzdWU3MDQ4ODU0ODg=","number":312,"title":"[DOCS ISSUE] Page: Building Navigation","user":{"login":"einargustafsson","id":1075338,"node_id":"MDQ6VXNlcjEwNzUzMzg=","avatar_url":"https://avatars0.githubusercontent.com/u/1075338?v=4","gravatar_id":"","url":"https://api.github.com/users/einargustafsson","html_url":"https://github.com/einargustafsson","followers_url":"https://api.github.com/users/einargustafsson/followers","following_url":"https://api.github.com/users/einargustafsson/following{/other_user}","gists_url":"https://api.github.com/users/einargustafsson/gists{/gist_id}","starred_url":"https://api.github.com/users/einargustafsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/einargustafsson/subscriptions","organizations_url":"https://api.github.com/users/einargustafsson/orgs","repos_url":"https://api.github.com/users/einargustafsson/repos","events_url":"https://api.github.com/users/einargustafsson/events{/privacy}","received_events_url":"https://api.github.com/users/einargustafsson/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-09-19T13:45:50Z","updated_at":"2020-09-21T18:39:43Z","closed_at":"2020-09-21T18:39:43Z","author_association":"NONE","active_lock_reason":null,"body":"just a small minute spelling error but hitting close to my viking home :) There is a d missing in the word Yggdrasill - and technically should be with two l's","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/326","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/326/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/326/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/326/events","html_url":"https://github.com/apostrophecms/apostrophe-workflow/issues/326","id":678688624,"node_id":"MDU6SXNzdWU2Nzg2ODg2MjQ=","number":326,"title":"MongoDB 4.4 is currently incompatible with apostrophe-workflow","user":{"login":"breyell","id":4373031,"node_id":"MDQ6VXNlcjQzNzMwMzE=","avatar_url":"https://avatars2.githubusercontent.com/u/4373031?v=4","gravatar_id":"","url":"https://api.github.com/users/breyell","html_url":"https://github.com/breyell","followers_url":"https://api.github.com/users/breyell/followers","following_url":"https://api.github.com/users/breyell/following{/other_user}","gists_url":"https://api.github.com/users/breyell/gists{/gist_id}","starred_url":"https://api.github.com/users/breyell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/breyell/subscriptions","organizations_url":"https://api.github.com/users/breyell/orgs","repos_url":"https://api.github.com/users/breyell/repos","events_url":"https://api.github.com/users/breyell/events{/privacy}","received_events_url":"https://api.github.com/users/breyell/received_events","type":"User","site_admin":false},"labels":[{"id":106564138,"node_id":"MDU6TGFiZWwxMDY1NjQxMzg=","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-13T19:39:05Z","updated_at":"2020-08-17T20:44:30Z","closed_at":"2020-08-17T20:44:30Z","author_association":"MEMBER","active_lock_reason":null,"body":"## To Reproduce\r\n\r\nStep by step instructions to reproduce the behavior:\r\n\r\n> 1. Use MongoDB version 4.4.0\r\n> 2. Try to view a list of pieces in the admin menu\r\n> 3. See Error\r\n\r\n```bash\r\nMongoError: Path collision at workflowLastCommitted.at remaining portion at at MessageStream.messageHandler\r\n```\r\n\r\n## Expected behavior\r\n> Previous piece entries should show in admin menu\r\n\r\n## Describe the bug\r\n> No previously entered pieces show in admin area\r\n\r\n## Details\r\nLooks like this is due to a [compatibility change in MongoDB 4.4](https://docs.mongodb.com/manual/release-notes/4.4-compatibility/#path-collision-restrictions)\r\n\r\n**Version of Node.js:**\r\nv12.16.1\r\n\r\n**Server Operating System:**\r\nmacOS 10.15.6\r\n\r\n**Additional context:**\r\n> Add any other context about the problem here. If the problem is specific to a browser, OS or mobile device, specify which.\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2342","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2342/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2342/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2342/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2342","id":687296057,"node_id":"MDU6SXNzdWU2ODcyOTYwNTc=","number":2342,"title":"As a developer, I can \"add\" or \"override\" admin bar items, piece filters, batch operations, single-piece operations, etc. as elegantly as fields","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-08-27T14:37:24Z","updated_at":"2020-09-03T11:41:49Z","closed_at":"2020-09-03T11:41:49Z","author_association":"MEMBER","active_lock_reason":null,"body":"## The problem\r\n\r\nWhen writing a new module that extends another module, merging in new schema fields is really easy in 3.x. But merging in other kinds of extensible things is as hard as ever.\r\n\r\n## What we did for schema fields\r\n\r\nThe new 3.x module format has a really nice pattern for adding and overriding schema fields, via special section in the module format:\r\n\r\n```javascript\r\nmodule.exports = {\r\n  extend: '@apostrophecms/piece-type',\r\n  fields: {\r\n    add: {\r\n      color: {\r\n        type: 'select',\r\n        choices: [ ... ]\r\n      }\r\n    },\r\n    remove: [ 'published' ]\r\n  }\r\n}\r\n```\r\n\r\nIf other fields were inherited from a base class, it just merges: if a field has the same name it is replaced, otherwise it is added.\r\n\r\n`remove` also behaves sensibly. If a subclass removes a field it's gone; if a sub-subclass removes a second field, both fields are gone; if a sub-sub-subclass adds one of the fields back, it's back... feels good.\r\n\r\nYou can even use a function for `fields` if you need to peep at `options` when deciding what fields to include.\r\n\r\n## What we used to have to do for fields (and still have to do for other things)\r\n\r\nThis replaced a pattern that was hard to get right in an extensible way:\r\n\r\n```javascript\r\n// 2.x\r\nmodule.exports = {\r\n  beforeConstruct(self, options) {\r\n    options.addFields = [\r\n      {\r\n        name: 'color',\r\n        type: 'select',\r\n        choices: [ ... ]\r\n      }\r\n    ].concat(options.addFields || []);\r\n  }\r\n};\r\n```\r\n\r\nIf you didn't do this special \"beforeConstruct concat dance,\" your `addFields` would cancel out the one in the base class or the one from your subclass. Bad news.\r\n\r\n## Examples of things we didn't provide a solution for\r\n\r\n* Modules extending `piece-type` can have `filters`. There is a default `filters` option with the core stuff like `published`, and an `addFilters` option to avoid accidentally removing those. But this doesn't help you write a module that can be subclassed with even more, unless you follow the \"concat pattern\" above.\r\n* Modules extending `piece-type` can have `batchOperations`. Same concern.\r\n* Modules extending `piece-type` can have custom operations on individual pieces too. There's no provision for this in 3.x right now. In 2.x the pattern was a one-off.\r\n* There's more: `addImageSizes`, `addCsrfExceptions`, `addColumns`. Probably others that didn't follow this pattern but could have.\r\n\r\nAll of these have the same problem as `addFields`, but no improved solution in 3.x. They also all have a `name`, which suggests they can be solved the same way.\r\n\r\n## Proposed solution\r\n\r\n* All of these things, not just fields, should have sections in the module format. Let's call them \"cascades\" for now.\r\n* They should work just like fields, i.e. with `add`, `remove` and `group` subsections. Although `group` is not necessary for all of them, there could be others that benefit from grouping.\r\n* We should not hard-code a list of these sections in apostrophe core. Instead, a module should be able to register one. Note that this would usually be done once by us in a core module that other people are extending, but not necessarily:\r\n\r\n```javascript\r\n// in modules/@apostrophecms/doc-type/index.js\r\nmodule.exports = {\r\n  cascades: [ 'fields' ]\r\n}\r\n```\r\n\r\n```javascript\r\n// in modules/@apostrophecms/piece-type/index.js\r\nmodule.exports = {\r\n  extend: '@apostrophecms/doc-type',\r\n  cascades: [ 'filters', 'columns', 'operations', 'batchOperations' ]\r\n  // Set up the default batch operations, etc.\r\n  batchOperations: {\r\n    add: {\r\n      trash: {\r\n        label: 'Trash'\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```javascript\r\n// in modules/@apostrophecms/attachment/index.js\r\nmodule.exports = {\r\n  cascades: [ 'imageSizes' ],\r\n  imageSizes: {\r\n    add: {\r\n      // standard image sizes are born here\r\n      'one-half': { ... },\r\n      full: { ... }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow here's a **project level** `modules/@apostrophecms/attachment/index.js` tweaking the image sizes:\r\n\r\n```javascript\r\n// in modules/@apostrophecms/attachment/index.js\r\nmodule.exports = {\r\n  imageSizes: {\r\n    add: {\r\n      'epic': { width: 5000, height: 5000 }\r\n    },\r\n    remove: [ 'one-half' ]\r\n  }\r\n}\r\n```\r\n\r\nAnd a custom piece type (might be project level,  might be npm, whatever) that adds a \"manage\" filter:\r\n\r\n```javascript\r\n// In products/index.js\r\nmodule.exports = {\r\n  extend: '@apostrophecms/piece-type',\r\n  filters: {\r\n    add: {\r\n      color: {\r\n        label: 'Color',\r\n        multiple: true\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n> Notice that I do **NOT** have to re-declare `cascades` in project level stuff, or even in any pieces module that is just extending cascades that were already declared in the base class. Once it's turned on, the subclasses get it for free.\r\n\r\n## What comes out the other end?\r\n\r\nAn important question is what the module sees at the end of this process.\r\n\r\nRight now, we turn `fields` back into `options.addFields` and that gets turned into an array as `self.schema`. Basically... basically so I wouldn't have to rewrite the schemas module. No better reason.\r\n\r\nI think that was a mistake. I think `fields` should get turned into `self.fields`, which should be an object. `batchOperations` would get turned into `self.batchOperations`, which would be an object. Etc.\r\n\r\nThis doesn't mean modules can't turn that object into an array at the end if they want to, it's just not done by the module format processor. What comes out should be an object.\r\n\r\n(Note that the order of object properties **is well defined** in modern JavaScript, including Node.js and IE11+ browsers. At one point it was not.)\r\n\r\nWhat do you think folks?\r\n\r\ncc @stuartromanek @breyell @localghost443 @abea @livetodeliver @bgantick @bobclewell @ngranahan @falkodev ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2135","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2135/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2135/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2135/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2135","id":553794366,"node_id":"MDU6SXNzdWU1NTM3OTQzNjY=","number":2135,"title":"Remove superfluous `areaBody` macro.","user":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-01-22T21:08:31Z","updated_at":"2020-08-07T14:43:03Z","closed_at":"2020-08-07T14:43:03Z","author_association":"MEMBER","active_lock_reason":null,"body":"This macro does not look to be used anywhere: https://github.com/apostrophecms/apostrophe/blob/master/lib/modules/apostrophe-schemas/views/macros.html#L215-L218\r\n\r\n```\r\n{%- macro areaBody(field) -%}\r\n  {# js adds this area to the dialog #}\r\n  <div data-{{ field.name }}-edit-view></div>\r\n{%- endmacro -%}\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/236","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/236/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/236/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/236/events","html_url":"https://github.com/apostrophecms/apostrophe-documentation/issues/236","id":602472107,"node_id":"MDU6SXNzdWU2MDI0NzIxMDc=","number":236,"title":"Broken link on technical-overview","user":{"login":"shaunhurley","id":6631679,"node_id":"MDQ6VXNlcjY2MzE2Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/6631679?v=4","gravatar_id":"","url":"https://api.github.com/users/shaunhurley","html_url":"https://github.com/shaunhurley","followers_url":"https://api.github.com/users/shaunhurley/followers","following_url":"https://api.github.com/users/shaunhurley/following{/other_user}","gists_url":"https://api.github.com/users/shaunhurley/gists{/gist_id}","starred_url":"https://api.github.com/users/shaunhurley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaunhurley/subscriptions","organizations_url":"https://api.github.com/users/shaunhurley/orgs","repos_url":"https://api.github.com/users/shaunhurley/repos","events_url":"https://api.github.com/users/shaunhurley/events{/privacy}","received_events_url":"https://api.github.com/users/shaunhurley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-04-18T14:26:13Z","updated_at":"2020-06-18T21:33:23Z","closed_at":"2020-06-18T21:33:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hey folks, couple of broken links early in the documentation\r\n\r\nOn the [Technical overview: 30,000 feet](https://docs.apostrophecms.org/apostrophe/core-concepts/technical-overview) page:\r\n\r\nUnder https://docs.apostrophecms.org/apostrophe/core-concepts/technical-overview#more-information-about-modules the \"how Apostrophe modules are structured.\" link is returning https://github.com/apostrophecms/apostrophe-documentation/tree/b38877371a9baf2b5679a224414939adcffe4382/tutorials/advanced-development/how-apostrophe-modules-are-structured.md as page not found\r\n\r\nUnder https://docs.apostrophecms.org/apostrophe/core-concepts/technical-overview#how-apostrophe-handles-web-requests the \"see how Apostrophe handles requests\" link is returning https://github.com/apostrophecms/apostrophe-documentation/tree/b38877371a9baf2b5679a224414939adcffe4382/tutorials/core-concepts/how-apostrophe-handles-requests.md as page not found\r\n\r\nCheers,\r\n\r\nShaun","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2240","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2240/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2240/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2240/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2240","id":653394122,"node_id":"MDU6SXNzdWU2NTMzOTQxMjI=","number":2240,"title":"Feature request...  asciidoc support","user":{"login":"boydkelly","id":3412972,"node_id":"MDQ6VXNlcjM0MTI5NzI=","avatar_url":"https://avatars1.githubusercontent.com/u/3412972?v=4","gravatar_id":"","url":"https://api.github.com/users/boydkelly","html_url":"https://github.com/boydkelly","followers_url":"https://api.github.com/users/boydkelly/followers","following_url":"https://api.github.com/users/boydkelly/following{/other_user}","gists_url":"https://api.github.com/users/boydkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/boydkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boydkelly/subscriptions","organizations_url":"https://api.github.com/users/boydkelly/orgs","repos_url":"https://api.github.com/users/boydkelly/repos","events_url":"https://api.github.com/users/boydkelly/events{/privacy}","received_events_url":"https://api.github.com/users/boydkelly/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-08T15:32:20Z","updated_at":"2020-09-09T12:35:34Z","closed_at":"2020-09-09T12:35:00Z","author_association":"NONE","active_lock_reason":null,"body":"Would be awesome to have asciidoc support!","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/sanitize-html/issues/122","repository_url":"https://api.github.com/repos/apostrophecms/sanitize-html","labels_url":"https://api.github.com/repos/apostrophecms/sanitize-html/issues/122/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/sanitize-html/issues/122/comments","events_url":"https://api.github.com/repos/apostrophecms/sanitize-html/issues/122/events","html_url":"https://github.com/apostrophecms/sanitize-html/issues/122","id":171243853,"node_id":"MDU6SXNzdWUxNzEyNDM4NTM=","number":122,"title":"h1 and h2 not default tags to keep?","user":{"login":"geoffliu","id":1714648,"node_id":"MDQ6VXNlcjE3MTQ2NDg=","avatar_url":"https://avatars2.githubusercontent.com/u/1714648?v=4","gravatar_id":"","url":"https://api.github.com/users/geoffliu","html_url":"https://github.com/geoffliu","followers_url":"https://api.github.com/users/geoffliu/followers","following_url":"https://api.github.com/users/geoffliu/following{/other_user}","gists_url":"https://api.github.com/users/geoffliu/gists{/gist_id}","starred_url":"https://api.github.com/users/geoffliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geoffliu/subscriptions","organizations_url":"https://api.github.com/users/geoffliu/orgs","repos_url":"https://api.github.com/users/geoffliu/repos","events_url":"https://api.github.com/users/geoffliu/events{/privacy}","received_events_url":"https://api.github.com/users/geoffliu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2016-08-15T19:33:41Z","updated_at":"2020-09-24T13:55:00Z","closed_at":"2020-09-24T13:55:00Z","author_association":"NONE","active_lock_reason":null,"body":"This is more of a question than issue. `h1` and `h2` are omitted from the default allowed tags, while `h[3-6]` are allowed. What's the reasoning behind this? Is there something inherently unsafe about `h1` and `h2`?\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/heic-to-jpeg-middleware/issues/2","repository_url":"https://api.github.com/repos/apostrophecms/heic-to-jpeg-middleware","labels_url":"https://api.github.com/repos/apostrophecms/heic-to-jpeg-middleware/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/heic-to-jpeg-middleware/issues/2/comments","events_url":"https://api.github.com/repos/apostrophecms/heic-to-jpeg-middleware/issues/2/events","html_url":"https://github.com/apostrophecms/heic-to-jpeg-middleware/issues/2","id":626814992,"node_id":"MDU6SXNzdWU2MjY4MTQ5OTI=","number":2,"title":"Use heic-convert to do the format conversion","user":{"login":"glmaljkovich","id":15788901,"node_id":"MDQ6VXNlcjE1Nzg4OTAx","avatar_url":"https://avatars2.githubusercontent.com/u/15788901?v=4","gravatar_id":"","url":"https://api.github.com/users/glmaljkovich","html_url":"https://github.com/glmaljkovich","followers_url":"https://api.github.com/users/glmaljkovich/followers","following_url":"https://api.github.com/users/glmaljkovich/following{/other_user}","gists_url":"https://api.github.com/users/glmaljkovich/gists{/gist_id}","starred_url":"https://api.github.com/users/glmaljkovich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glmaljkovich/subscriptions","organizations_url":"https://api.github.com/users/glmaljkovich/orgs","repos_url":"https://api.github.com/users/glmaljkovich/repos","events_url":"https://api.github.com/users/glmaljkovich/events{/privacy}","received_events_url":"https://api.github.com/users/glmaljkovich/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-28T21:07:54Z","updated_at":"2020-06-18T19:54:34Z","closed_at":"2020-06-18T19:54:34Z","author_association":"NONE","active_lock_reason":null,"body":"[heic-convert](https://github.com/catdad-experiments/heic-convert) allow us to use a js-only implementation of the heic format conversion which means no external dependencies have to be installed by consumers of this package.\r\n\r\n<!--\r\nIt seems since version `7.0.7.22` ImageMagick supports the heif/heic format\r\nhttps://github.com/ImageMagick/ImageMagick/issues/507\r\n\r\nI can confirm it works out of the box on ImageMagick `7.0.10.14`\r\n\r\nThe command we need to execute is `mogrify -format jpg <path/to/image>`\r\n\r\nWe can check for the presence of `mogrify` with `which mogrify` the first time the middleware is called or at instantiation time and cache the result.\r\n\r\nIf the version of mogrify is too old or doesn't support HIC, this message is displayed on stdout:\r\n`mogrify: no decode delegate for this image format <file-extension>`. We could log that error.\r\n\r\nIn any case, if mogrify is absent or outdated the middleware should fail gracefully without modifying the files.\r\n-->\r\nExpect a PR with this change coming in the following days.\r\n\r\n---\r\nblocking: https://github.com/apostrophecms/apostrophe/issues/1349\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/233","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/233/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/233/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/issues/233/events","html_url":"https://github.com/apostrophecms/apostrophe-documentation/issues/233","id":600455866,"node_id":"MDU6SXNzdWU2MDA0NTU4NjY=","number":233,"title":"Update `date` reference for default values","user":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"labels":[{"id":71419499,"node_id":"MDU6TGFiZWw3MTQxOTQ5OQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe-documentation/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-04-15T17:08:56Z","updated_at":"2020-06-16T20:13:02Z","closed_at":"2020-06-16T20:13:02Z","author_association":"MEMBER","active_lock_reason":null,"body":"The date field default value mechanism was updated recently: https://github.com/apostrophecms/apostrophe/pull/2171. The doc need to reflect this update.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph/issues/21","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph/issues/21/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph/issues/21/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph/issues/21/events","html_url":"https://github.com/apostrophecms/apostrophe-open-graph/issues/21","id":622064808,"node_id":"MDU6SXNzdWU2MjIwNjQ4MDg=","number":21,"title":"when set, baseUrl is being repeated for og:image ","user":{"login":"livetodeliver","id":37047538,"node_id":"MDQ6VXNlcjM3MDQ3NTM4","avatar_url":"https://avatars2.githubusercontent.com/u/37047538?v=4","gravatar_id":"","url":"https://api.github.com/users/livetodeliver","html_url":"https://github.com/livetodeliver","followers_url":"https://api.github.com/users/livetodeliver/followers","following_url":"https://api.github.com/users/livetodeliver/following{/other_user}","gists_url":"https://api.github.com/users/livetodeliver/gists{/gist_id}","starred_url":"https://api.github.com/users/livetodeliver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/livetodeliver/subscriptions","organizations_url":"https://api.github.com/users/livetodeliver/orgs","repos_url":"https://api.github.com/users/livetodeliver/repos","events_url":"https://api.github.com/users/livetodeliver/events{/privacy}","received_events_url":"https://api.github.com/users/livetodeliver/received_events","type":"User","site_admin":false},"labels":[{"id":2046598314,"node_id":"MDU6TGFiZWwyMDQ2NTk4MzE0","url":"https://api.github.com/repos/apostrophecms/apostrophe-open-graph/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"assignees":[{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-05-20T20:30:23Z","updated_at":"2020-05-27T13:49:36Z","closed_at":"2020-05-27T13:49:36Z","author_association":"NONE","active_lock_reason":null,"body":"When `baseUrl` is set in `data/local.js`, the `og:image` URL being passed is listing the `baseUrl` **_twice_**, unless the `baseUrl` logic is removed (at project level) from the `apostrophe-open-graph` template\r\n\r\n**Example from [PHS website](https://phsonline.org/for-gardeners/gardening-competitions):** \r\n`<meta property=\"og:image\" content=\"https://phsonline.orghttps://phsonline.org/uploads/attachments/cka8btume0uwojwranll21wg2-2020-gc-1227x540-3.407.0.4297.2250.full.jpg\">`\r\n\r\nhttps://github.com/apostrophecms/apostrophe-open-graph/blob/124a44f29a350df016bf6a66669d8a8d5cfda160/views/view.html#L31\r\n\r\n\r\n_PHS is a newly launched site with Apostrophe version `2.106.0` and the production server is using `Node 8`._","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2215","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2215/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2215/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2215/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2215","id":626701122,"node_id":"MDU6SXNzdWU2MjY3MDExMjI=","number":2215,"title":"distinctCounts is incompatible with apostrophe-db-mongo-3-driver","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":27815317,"node_id":"MDU6TGFiZWwyNzgxNTMxNw==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/bug","name":"bug","color":"e11d21","default":true,"description":""}],"state":"closed","locked":false,"assignee":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"assignees":[{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-05-28T17:54:34Z","updated_at":"2020-05-29T19:49:07Z","closed_at":"2020-05-29T19:49:07Z","author_association":"MEMBER","active_lock_reason":null,"body":"See:\r\n\r\nhttps://github.com/apostrophecms/apostrophe-db-mongo-3-driver/issues/2\r\n\r\ncc @abea","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/126","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/126/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/126/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/126/events","html_url":"https://github.com/apostrophecms/apostrophe-workflow/issues/126","id":285243815,"node_id":"MDU6SXNzdWUyODUyNDM4MTU=","number":126,"title":"Generates `http:` links on `https:` sites in production","user":{"login":"timashev","id":695076,"node_id":"MDQ6VXNlcjY5NTA3Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/695076?v=4","gravatar_id":"","url":"https://api.github.com/users/timashev","html_url":"https://github.com/timashev","followers_url":"https://api.github.com/users/timashev/followers","following_url":"https://api.github.com/users/timashev/following{/other_user}","gists_url":"https://api.github.com/users/timashev/gists{/gist_id}","starred_url":"https://api.github.com/users/timashev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timashev/subscriptions","organizations_url":"https://api.github.com/users/timashev/orgs","repos_url":"https://api.github.com/users/timashev/repos","events_url":"https://api.github.com/users/timashev/events{/privacy}","received_events_url":"https://api.github.com/users/timashev/received_events","type":"User","site_admin":false},"labels":[{"id":106564144,"node_id":"MDU6TGFiZWwxMDY1NjQxNDQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2017-12-31T07:05:06Z","updated_at":"2020-08-20T19:03:17Z","closed_at":"2020-07-03T01:18:11Z","author_association":"NONE","active_lock_reason":null,"body":"The problem is caused by this line of code: https://github.com/apostrophecms/apostrophe-workflow/blob/master/lib/modules/apostrophe-workflow-pages/index.js#L306\r\n\r\nIn production environment with Nginx as a proxy `req.protocol` always equals to `'http'`.\r\n\r\nSo I suggest to use `'https'` forcibly if the protocol in `baseUrl` is `'https'`. Here is the code of my local fix living at `lib/modules/apostrophe-workflow-pages/index.js`:\r\n\r\n```\r\nvar _ = require('lodash');\r\nmodule.exports = {\r\n  construct: function (self, options) {\r\n    var superGetBaseUrl = self.getBaseUrl;\r\n    self.getBaseUrl = function (req) {\r\n      var url = superGetBaseUrl(req);\r\n      if (_.startsWith(self.apos.options.baseUrl, 'https:')) {\r\n        url = _.replace(url, /^http:/, 'https:');\r\n      }\r\n      return url;\r\n    };\r\n  }\r\n};\r\n```","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2146","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2146/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2146/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2146/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2146","id":570779481,"node_id":"MDU6SXNzdWU1NzA3Nzk0ODE=","number":2146,"title":"If a projection includes a reverse join field, log that it's unnecessary.","user":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null},{"id":2108417303,"node_id":"MDU6TGFiZWwyMTA4NDE3MzAz","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-25T19:24:20Z","updated_at":"2020-07-03T00:59:00Z","closed_at":"2020-07-03T00:59:00Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://github.com/apostrophecms/apostrophe/blob/master/lib/modules/apostrophe-docs/lib/cursor.js#L266-L267\r\n\r\n> a projection cannot find a computed field (_events) unless it is _url\r\nor the name of a forward join in the schema for the type being found. This does not mean the field will not work, but it is on you to know what fields power it, or if they are even coming from the doc itself.\r\n\r\nUsing a reverse join field name in a projection (e.g., `_events`) triggers this warning. Instead we should tell the dev that it is unnecessary.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools/issues/3","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools/issues/3/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools/issues/3/events","html_url":"https://github.com/apostrophecms/apostrophe-nightwatch-tools/issues/3","id":457210458,"node_id":"MDU6SXNzdWU0NTcyMTA0NTg=","number":3,"title":"apostrophe-blog 2.2.1 introduces bug for \"Create Article\" step","user":{"login":"grdunn","id":10536403,"node_id":"MDQ6VXNlcjEwNTM2NDAz","avatar_url":"https://avatars2.githubusercontent.com/u/10536403?v=4","gravatar_id":"","url":"https://api.github.com/users/grdunn","html_url":"https://github.com/grdunn","followers_url":"https://api.github.com/users/grdunn/followers","following_url":"https://api.github.com/users/grdunn/following{/other_user}","gists_url":"https://api.github.com/users/grdunn/gists{/gist_id}","starred_url":"https://api.github.com/users/grdunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grdunn/subscriptions","organizations_url":"https://api.github.com/users/grdunn/orgs","repos_url":"https://api.github.com/users/grdunn/repos","events_url":"https://api.github.com/users/grdunn/events{/privacy}","received_events_url":"https://api.github.com/users/grdunn/received_events","type":"User","site_admin":false},"labels":[{"id":972682915,"node_id":"MDU6TGFiZWw5NzI2ODI5MTU=","url":"https://api.github.com/repos/apostrophecms/apostrophe-nightwatch-tools/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-06-18T00:57:07Z","updated_at":"2020-05-12T21:56:29Z","closed_at":"2020-05-12T21:56:29Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The `publishedAt` field was moved to the `meta` group fields, and no longer in the default Info group as seen here:\r\n\r\nhttps://github.com/apostrophecms/apostrophe-blog/commit/a2ab6b0847b592f22347ae280d38e33dd8136ae1\r\n\r\nThis needs to be updated here:\r\n\r\nhttps://github.com/apostrophecms/apostrophe-nightwatch-tools/blob/master/steps/createArticle.js#L30","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/262","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/262/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/262/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/262/events","html_url":"https://github.com/apostrophecms/apostrophe-workflow/issues/262","id":491190846,"node_id":"MDU6SXNzdWU0OTExOTA4NDY=","number":262,"title":"Reverse join does not work with polymorphic join to two or more types","user":{"login":"GiuseppeCM","id":33054002,"node_id":"MDQ6VXNlcjMzMDU0MDAy","avatar_url":"https://avatars0.githubusercontent.com/u/33054002?v=4","gravatar_id":"","url":"https://api.github.com/users/GiuseppeCM","html_url":"https://github.com/GiuseppeCM","followers_url":"https://api.github.com/users/GiuseppeCM/followers","following_url":"https://api.github.com/users/GiuseppeCM/following{/other_user}","gists_url":"https://api.github.com/users/GiuseppeCM/gists{/gist_id}","starred_url":"https://api.github.com/users/GiuseppeCM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GiuseppeCM/subscriptions","organizations_url":"https://api.github.com/users/GiuseppeCM/orgs","repos_url":"https://api.github.com/users/GiuseppeCM/repos","events_url":"https://api.github.com/users/GiuseppeCM/events{/privacy}","received_events_url":"https://api.github.com/users/GiuseppeCM/received_events","type":"User","site_admin":false},"labels":[{"id":106564140,"node_id":"MDU6TGFiZWwxMDY1NjQxNDA=","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":1105537534,"node_id":"MDU6TGFiZWwxMTA1NTM3NTM0","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/seeking%20contributions","name":"seeking contributions","color":"bfdadc","default":false,"description":""},{"id":106564144,"node_id":"MDU6TGFiZWwxMDY1NjQxNDQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-09-09T16:10:33Z","updated_at":"2020-07-03T01:18:17Z","closed_at":"2020-07-03T01:18:17Z","author_association":"NONE","active_lock_reason":null,"body":"I have one piece type excluded from the workflow, and in this type I have a join with 'apostrophe-images'. Apostrophe-images is included in the workflow. If I edit the first type in mode live, and I populate this join, is ok, but if I switch in mode draft, I can not see the images in the manager modal. I have the apostrophe-pieces-page too, and in the show page, in mode live I see the image, but in draft no... sounds like a problem in populating joins between one type excluded from the workflow and another included in the workflow.\r\nI created this repository: https://github.com/GiuseppeCM/joinWorkflow and I noticed that this issue occurs only in the case where the joinByArray has an array of more than two pieces as the value of the withType field, and as I told you on git, the same issue the same behavior has it with the joinByArrayReverse.\r\n\r\n(https://github.com/apostrophecms/apostrophe-workflow/issues/253)\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1349","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1349/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1349/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1349/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1349","id":319575978,"node_id":"MDU6SXNzdWUzMTk1NzU5Nzg=","number":1349,"title":"HEIF support so iPhone/iPad owners can naively upload to Apostrophe","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":802052583,"node_id":"MDU6TGFiZWw4MDIwNTI1ODM=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/good%20first%20issue","name":"good first issue","color":"7bcde0","default":true,"description":null},{"id":179159712,"node_id":"MDU6TGFiZWwxNzkxNTk3MTI=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/help%20wanted","name":"help wanted","color":"0052cc","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2018-05-02T14:28:04Z","updated_at":"2020-07-06T13:58:45Z","closed_at":"2020-07-06T13:58:45Z","author_association":"MEMBER","active_lock_reason":null,"body":"A heads up: iphones now snap by default in HEIF format. People uploading naively from iphones/ipads to Apostrophe will have trouble as a result until we figure out how to handle HEIF in uploadfs. Since most browsers are going to go “whuh?” I would recommend converting it. One wonders if there is even an open source toolchain with a suitable license for converting it.\r\n\r\nSince we don't have a mobile UI yet this is mostly an issue after they sync that photo to some other device for now, or on sites that have frontend code that accepts submissions and utilizes apostrophe-attachments (which is pretty common).","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2061","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2061/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2061/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2061/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2061","id":511559602,"node_id":"MDU6SXNzdWU1MTE1NTk2MDI=","number":2061,"title":"As a developer of a custom schema field I can see the current contents of other fields without jQuery hijinx","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null},{"id":2108417303,"node_id":"MDU6TGFiZWwyMTA4NDE3MzAz","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"assignees":[{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-10-23T20:40:39Z","updated_at":"2020-07-03T00:58:46Z","closed_at":"2020-07-03T00:58:46Z","author_association":"MEMBER","active_lock_reason":null,"body":"Proposed method and docs:\r\n\r\n```\r\napos.schemas.getContextData($el, levels, function(err, data) { ... })\r\n```\r\n\r\nAlthough related to `convert` this method should not be used\r\nas a substitute. This method is intended as a way for custom\r\nschema fields to gain vision into each other's current contents.\r\nFor example, `apostrophe-forms` might use this method to\r\ndetermine which form field names should be presented as\r\nchoices for a conditional display feature.\r\n\r\nGiven an `$el` as passed into a schema field's\r\n`populate()` method, a `levels` of `1` and a callback, it will\r\nconvert all of the fields present and invoke `callback` with\r\n`(err, data)`.\r\n\r\nIf `levels` is `2` complete data for the parent context is\r\nconverted and delivered. For instance, if this field is\r\na `string` field nested in an `array` field, the entire\r\narray is passed to the callback as `data`. `object` fields\r\nare handled similarly.\r\n\r\nIf `levels` is `3` the data for the next context up is converted\r\nand delivered; if this field is a `string` nested in an `array`\r\nnested in the schema of a piece, the data will be for the\r\nentire piece.\r\n\r\nIf `levels` is null or completely omitted from the call, the data\r\nfor the root context is converted and delivered (the data\r\nfor the complete piece).\r\n\r\n`err` may contain an array of errors, however `data` will\r\nstill contain as much information as possible. For instance,\r\nif a `required` field is missing `err` will be truthy but\r\nthere will still be data worth inspecting in `data`.\r\n\r\nIf calling `getContextData($el, 2, callback)` from a\r\nfield that is nested in an array field, be aware that the\r\narray data received may or may not include the particular\r\narray item your field is in. If you need to inspect the\r\nlatest values of your own peer fields use a depth of `1`\r\nto get them.\r\n\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1888","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1888/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1888/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1888/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1888","id":437390279,"node_id":"MDU6SXNzdWU0MzczOTAyNzk=","number":1888,"title":"Do not re-render widgets on drag and drop if they are staying in the same area","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null},{"id":2108417303,"node_id":"MDU6TGFiZWwyMTA4NDE3MzAz","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-04-25T20:46:27Z","updated_at":"2020-07-03T01:58:59Z","closed_at":"2020-07-03T01:58:59Z","author_association":"MEMBER","active_lock_reason":null,"body":"Could be a perf win.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-passport/issues/10","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-passport","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-passport/issues/10/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-passport/issues/10/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-passport/issues/10/events","html_url":"https://github.com/apostrophecms/apostrophe-passport/issues/10","id":600302600,"node_id":"MDU6SXNzdWU2MDAzMDI2MDA=","number":10,"title":"createUser crashes when displayName is not set","user":{"login":"RyamBaCo","id":3825952,"node_id":"MDQ6VXNlcjM4MjU5NTI=","avatar_url":"https://avatars0.githubusercontent.com/u/3825952?v=4","gravatar_id":"","url":"https://api.github.com/users/RyamBaCo","html_url":"https://github.com/RyamBaCo","followers_url":"https://api.github.com/users/RyamBaCo/followers","following_url":"https://api.github.com/users/RyamBaCo/following{/other_user}","gists_url":"https://api.github.com/users/RyamBaCo/gists{/gist_id}","starred_url":"https://api.github.com/users/RyamBaCo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyamBaCo/subscriptions","organizations_url":"https://api.github.com/users/RyamBaCo/orgs","repos_url":"https://api.github.com/users/RyamBaCo/repos","events_url":"https://api.github.com/users/RyamBaCo/events{/privacy}","received_events_url":"https://api.github.com/users/RyamBaCo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-15T13:34:38Z","updated_at":"2020-04-21T06:43:14Z","closed_at":"2020-04-21T06:43:13Z","author_association":"NONE","active_lock_reason":null,"body":"Already fixed this issue in my pull request https://github.com/apostrophecms/apostrophe-passport/pull/9\r\n\r\nFor the sake of completeness here is also an issue for that. Combined the keycloak passport module with apostrophe-passport. User creation fails as there is value for displayName set (where the parsing for first- and lastName fails), with my check for displayName user creation works.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1570","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1570/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1570/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1570/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1570","id":349247639,"node_id":"MDU6SXNzdWUzNDkyNDc2Mzk=","number":1570,"title":"Implement new rich-text-widget","user":{"login":"stuartromanek","id":1889830,"node_id":"MDQ6VXNlcjE4ODk4MzA=","avatar_url":"https://avatars1.githubusercontent.com/u/1889830?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartromanek","html_url":"https://github.com/stuartromanek","followers_url":"https://api.github.com/users/stuartromanek/followers","following_url":"https://api.github.com/users/stuartromanek/following{/other_user}","gists_url":"https://api.github.com/users/stuartromanek/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartromanek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartromanek/subscriptions","organizations_url":"https://api.github.com/users/stuartromanek/orgs","repos_url":"https://api.github.com/users/stuartromanek/repos","events_url":"https://api.github.com/users/stuartromanek/events{/privacy}","received_events_url":"https://api.github.com/users/stuartromanek/received_events","type":"User","site_admin":false},"labels":[{"id":881549864,"node_id":"MDU6TGFiZWw4ODE1NDk4NjQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/3.0","name":"3.0","color":"86a1f9","default":false,"description":"Potentially included in version 3.0"}],"state":"closed","locked":false,"assignee":{"login":"grdunn","id":10536403,"node_id":"MDQ6VXNlcjEwNTM2NDAz","avatar_url":"https://avatars2.githubusercontent.com/u/10536403?v=4","gravatar_id":"","url":"https://api.github.com/users/grdunn","html_url":"https://github.com/grdunn","followers_url":"https://api.github.com/users/grdunn/followers","following_url":"https://api.github.com/users/grdunn/following{/other_user}","gists_url":"https://api.github.com/users/grdunn/gists{/gist_id}","starred_url":"https://api.github.com/users/grdunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grdunn/subscriptions","organizations_url":"https://api.github.com/users/grdunn/orgs","repos_url":"https://api.github.com/users/grdunn/repos","events_url":"https://api.github.com/users/grdunn/events{/privacy}","received_events_url":"https://api.github.com/users/grdunn/received_events","type":"User","site_admin":false},"assignees":[{"login":"grdunn","id":10536403,"node_id":"MDQ6VXNlcjEwNTM2NDAz","avatar_url":"https://avatars2.githubusercontent.com/u/10536403?v=4","gravatar_id":"","url":"https://api.github.com/users/grdunn","html_url":"https://github.com/grdunn","followers_url":"https://api.github.com/users/grdunn/followers","following_url":"https://api.github.com/users/grdunn/following{/other_user}","gists_url":"https://api.github.com/users/grdunn/gists{/gist_id}","starred_url":"https://api.github.com/users/grdunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grdunn/subscriptions","organizations_url":"https://api.github.com/users/grdunn/orgs","repos_url":"https://api.github.com/users/grdunn/repos","events_url":"https://api.github.com/users/grdunn/events{/privacy}","received_events_url":"https://api.github.com/users/grdunn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-08-09T18:52:10Z","updated_at":"2020-06-16T21:55:34Z","closed_at":"2020-06-16T21:55:34Z","author_association":"MEMBER","active_lock_reason":null,"body":"","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1899","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1899/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1899/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1899/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1899","id":440103734,"node_id":"MDU6SXNzdWU0NDAxMDM3MzQ=","number":1899,"title":"Alias `dispatch` to `dispatchRoute`","user":{"login":"abea","id":1155984,"node_id":"MDQ6VXNlcjExNTU5ODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1155984?v=4","gravatar_id":"","url":"https://api.github.com/users/abea","html_url":"https://github.com/abea","followers_url":"https://api.github.com/users/abea/followers","following_url":"https://api.github.com/users/abea/following{/other_user}","gists_url":"https://api.github.com/users/abea/gists{/gist_id}","starred_url":"https://api.github.com/users/abea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abea/subscriptions","organizations_url":"https://api.github.com/users/abea/orgs","repos_url":"https://api.github.com/users/abea/repos","events_url":"https://api.github.com/users/abea/events{/privacy}","received_events_url":"https://api.github.com/users/abea/received_events","type":"User","site_admin":false},"labels":[{"id":881549864,"node_id":"MDU6TGFiZWw4ODE1NDk4NjQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/3.0","name":"3.0","color":"86a1f9","default":false,"description":"Potentially included in version 3.0"},{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-05-03T15:41:08Z","updated_at":"2020-06-16T21:54:55Z","closed_at":"2020-06-16T21:54:55Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Is your feature request related to a problem you are experiencing that is not a bug? Please describe.**\r\nNo.\r\n\r\n**Describe the solution you'd like**\r\nAs discovered in 3.x test conversion, `dispatch` is a confusing name for the method in apos-custom-pages. https://github.com/apostrophecms/apostrophe/blob/3.0/lib/modules/apostrophe-custom-pages/lib/dispatch.js#L27\r\n\r\nAs I understand, the method adds a dispatch route that then triggers middleware and/or a handler. I'd suggest we alias the method with something like `addDispatchRoute` or `dispatchRoute` to add clarity without a BC break. Using the `dispatch` name would also log a deprecation warning.\r\n\r\n**Describe alternatives you've considered**\r\nLeaving it as is...\r\n","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/280","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/280/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/280/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/280/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/280","id":93872896,"node_id":"MDU6SXNzdWU5Mzg3Mjg5Ng==","number":280,"title":"Users: all users should be able to edit their firstName, lastName, username, title, password, email (profile)","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null},{"id":2108417303,"node_id":"MDU6TGFiZWwyMTA4NDE3MzAz","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/apostrophecms/apostrophe/milestones/1","html_url":"https://github.com/apostrophecms/apostrophe/milestone/1","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/milestones/1/labels","id":966292,"node_id":"MDk6TWlsZXN0b25lOTY2Mjky","number":1,"title":"Apostrophe 0.6 Release","description":"We are in the process of refactoring the back-end and core-services of Apostrophe. This milestone represents a complete version of a refactored Apostrophe that works again.","creator":{"login":"benirose","id":2953531,"node_id":"MDQ6VXNlcjI5NTM1MzE=","avatar_url":"https://avatars1.githubusercontent.com/u/2953531?v=4","gravatar_id":"","url":"https://api.github.com/users/benirose","html_url":"https://github.com/benirose","followers_url":"https://api.github.com/users/benirose/followers","following_url":"https://api.github.com/users/benirose/following{/other_user}","gists_url":"https://api.github.com/users/benirose/gists{/gist_id}","starred_url":"https://api.github.com/users/benirose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benirose/subscriptions","organizations_url":"https://api.github.com/users/benirose/orgs","repos_url":"https://api.github.com/users/benirose/repos","events_url":"https://api.github.com/users/benirose/events{/privacy}","received_events_url":"https://api.github.com/users/benirose/received_events","type":"User","site_admin":false},"open_issues":1,"closed_issues":162,"state":"closed","created_at":"2015-02-04T22:37:52Z","updated_at":"2020-07-03T02:58:53Z","due_on":null,"closed_at":"2016-09-08T18:31:57Z"},"comments":5,"created_at":"2015-07-08T19:40:13Z","updated_at":"2020-07-03T01:58:54Z","closed_at":"2020-07-03T01:58:53Z","author_association":"MEMBER","active_lock_reason":null,"body":"","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1557","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1557/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1557/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1557/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1557","id":349246039,"node_id":"MDU6SXNzdWUzNDkyNDYwMzk=","number":1557,"title":"Reimplement schema field types on the front end","user":{"login":"stuartromanek","id":1889830,"node_id":"MDQ6VXNlcjE4ODk4MzA=","avatar_url":"https://avatars1.githubusercontent.com/u/1889830?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartromanek","html_url":"https://github.com/stuartromanek","followers_url":"https://api.github.com/users/stuartromanek/followers","following_url":"https://api.github.com/users/stuartromanek/following{/other_user}","gists_url":"https://api.github.com/users/stuartromanek/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartromanek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartromanek/subscriptions","organizations_url":"https://api.github.com/users/stuartromanek/orgs","repos_url":"https://api.github.com/users/stuartromanek/repos","events_url":"https://api.github.com/users/stuartromanek/events{/privacy}","received_events_url":"https://api.github.com/users/stuartromanek/received_events","type":"User","site_admin":false},"labels":[{"id":881549864,"node_id":"MDU6TGFiZWw4ODE1NDk4NjQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/3.0","name":"3.0","color":"86a1f9","default":false,"description":"Potentially included in version 3.0"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-08-09T18:47:20Z","updated_at":"2020-06-16T21:56:44Z","closed_at":"2020-06-16T21:56:44Z","author_association":"MEMBER","active_lock_reason":null,"body":"","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/216","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/216/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/216/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/issues/216/events","html_url":"https://github.com/apostrophecms/apostrophe-workflow/issues/216","id":386480975,"node_id":"MDU6SXNzdWUzODY0ODA5NzU=","number":216,"title":"There should be a way to remove workflow","user":{"login":"boutell","id":32125,"node_id":"MDQ6VXNlcjMyMTI1","avatar_url":"https://avatars1.githubusercontent.com/u/32125?v=4","gravatar_id":"","url":"https://api.github.com/users/boutell","html_url":"https://github.com/boutell","followers_url":"https://api.github.com/users/boutell/followers","following_url":"https://api.github.com/users/boutell/following{/other_user}","gists_url":"https://api.github.com/users/boutell/gists{/gist_id}","starred_url":"https://api.github.com/users/boutell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boutell/subscriptions","organizations_url":"https://api.github.com/users/boutell/orgs","repos_url":"https://api.github.com/users/boutell/repos","events_url":"https://api.github.com/users/boutell/events{/privacy}","received_events_url":"https://api.github.com/users/boutell/received_events","type":"User","site_admin":false},"labels":[{"id":106564144,"node_id":"MDU6TGFiZWwxMDY1NjQxNDQ=","url":"https://api.github.com/repos/apostrophecms/apostrophe-workflow/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-01T17:55:31Z","updated_at":"2020-06-22T20:28:02Z","closed_at":"2020-06-22T20:28:01Z","author_association":"MEMBER","active_lock_reason":null,"body":"Such a command line task would have to come with a dire warning, of course, that you are losing all of your localized content. A requirement to pick the locale you are keeping, if you have more than one. And a choice whether to keep draft or live.\r\n\r\nAlso a reminder to the user that they must remove the workflow module immediately after running the task.","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2227","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2227/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2227/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/2227/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/2227","id":641996856,"node_id":"MDU6SXNzdWU2NDE5OTY4NTY=","number":2227,"title":"Dismissing a notification leaks MongoDB connection information","user":{"login":"jogarijo","id":26466090,"node_id":"MDQ6VXNlcjI2NDY2MDkw","avatar_url":"https://avatars3.githubusercontent.com/u/26466090?v=4","gravatar_id":"","url":"https://api.github.com/users/jogarijo","html_url":"https://github.com/jogarijo","followers_url":"https://api.github.com/users/jogarijo/followers","following_url":"https://api.github.com/users/jogarijo/following{/other_user}","gists_url":"https://api.github.com/users/jogarijo/gists{/gist_id}","starred_url":"https://api.github.com/users/jogarijo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jogarijo/subscriptions","organizations_url":"https://api.github.com/users/jogarijo/orgs","repos_url":"https://api.github.com/users/jogarijo/repos","events_url":"https://api.github.com/users/jogarijo/events{/privacy}","received_events_url":"https://api.github.com/users/jogarijo/received_events","type":"User","site_admin":false},"labels":[{"id":27815317,"node_id":"MDU6TGFiZWwyNzgxNTMxNw==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/bug","name":"bug","color":"e11d21","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-19T14:08:30Z","updated_at":"2020-06-24T19:05:25Z","closed_at":"2020-06-24T19:05:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## To Reproduce\r\n\r\n- When logged in, send a notification from the server. For example you can add the following snippet in any of your existing modules:\r\n```js\r\nself.on('apostrophe-pages:beforeSend', 'sayHi', (req) => {\r\n  if (req.user) {\r\n    self.apos.notify(req, 'Hi', { type: 'success' })\r\n  }\r\n})\r\n```\r\n- On the browser-side, open the developer console on the \"Network\" tab;\r\n- Dismiss the notification (or wait for it to be dismissed automatically);\r\n- Inspect the response of the `dismiss` API.\r\n\r\n## Expected behavior\r\n\r\nThe response should be:\r\n```json\r\n{ \"status\": \"ok\" }\r\n```\r\n\r\n## Describe the bug\r\n\r\nThe response includes the whole response of a Mongo DB remove operation, which includes at least the connection information, i.e. host and port of your database. Depending on the server configuration, it might also leak some other information, such as execution time, server signature, and various less sensible options.\r\n\r\n<details>\r\n<summary>Example of the dismiss response on a local server (containerized, the database is hosted at <code>mongodb</code>)</summary>\r\n\r\n```json\r\n{\"status\":\"ok\",\"result\":{\"n\":1,\"ok\":1},\"connection\":{\"id\":2,\"host\":\"mongodb\",\"port\":27017},\"message\":{\"parsed\":true,\"raw\":{\"type\":\"Buffer\",\"data\":[60,0,0,0,233,7,0,0,44,1,0,0,1,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,24,0,0,0,16,110,0,1,0,0,0,1,111,107,0,0,0,0,0,0,0,240,63,0]},\"data\":{\"type\":\"Buffer\",\"data\":[8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,24,0,0,0,16,110,0,1,0,0,0,1,111,107,0,0,0,0,0,0,0,240,63,0]},\"bson\":{},\"opts\":{\"promoteLongs\":true,\"promoteValues\":true,\"promoteBuffers\":false},\"length\":60,\"requestId\":2025,\"responseTo\":300,\"opCode\":1,\"responseFlags\":8,\"cursorId\":\"0\",\"startingFrom\":0,\"numberReturned\":1,\"documents\":[{\"n\":1,\"ok\":1}],\"cursorNotFound\":false,\"queryFailure\":false,\"shardConfigStale\":false,\"awaitCapable\":true,\"promoteLongs\":true,\"promoteValues\":true,\"promoteBuffers\":false,\"index\":44,\"hashedName\":\"c93e3b46a78f39d38dd30006cac18ecd78805366\"}}\r\n```\r\n</details>\r\n\r\n## Details\r\n\r\nThe extra information comes from the snippet below, the callback `next` is passed directly to the `remove()` method; wrapping it in an anonymous function that does not pass the response from the `remove()` operation should be enough to prevent the information from leaking to the frontend.\r\n\r\nhttps://github.com/apostrophecms/apostrophe/blob/c71d1790d110ba364301b053e7a4a248aecbe632/lib/modules/apostrophe-notifications/index.js#L146-L154\r\n\r\n<details>\r\n<summary><b>Screenshots</b></summary>\r\n\r\n![image](https://user-images.githubusercontent.com/26466090/85140680-de487700-b245-11ea-9a90-537bd4d91876.png)\r\n\r\n</details>","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1053","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1053/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1053/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1053/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1053","id":264228968,"node_id":"MDU6SXNzdWUyNjQyMjg5Njg=","number":1053,"title":"Need more verbose errors for min and max options for strings","user":{"login":"bgantick","id":640182,"node_id":"MDQ6VXNlcjY0MDE4Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/640182?v=4","gravatar_id":"","url":"https://api.github.com/users/bgantick","html_url":"https://github.com/bgantick","followers_url":"https://api.github.com/users/bgantick/followers","following_url":"https://api.github.com/users/bgantick/following{/other_user}","gists_url":"https://api.github.com/users/bgantick/gists{/gist_id}","starred_url":"https://api.github.com/users/bgantick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgantick/subscriptions","organizations_url":"https://api.github.com/users/bgantick/orgs","repos_url":"https://api.github.com/users/bgantick/repos","events_url":"https://api.github.com/users/bgantick/events{/privacy}","received_events_url":"https://api.github.com/users/bgantick/received_events","type":"User","site_admin":false},"labels":[{"id":27815319,"node_id":"MDU6TGFiZWwyNzgxNTMxOQ==","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/enhancement","name":"enhancement","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-10-10T13:31:28Z","updated_at":"2020-06-19T22:10:47Z","closed_at":"2020-06-19T22:10:47Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"setting `min` and `max` on strings in schemas doesn't give an explicit error (would be nice to display limits)","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/779","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/779/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/779/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/779/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/779","id":195875936,"node_id":"MDU6SXNzdWUxOTU4NzU5MzY=","number":779,"title":"No session secret provided, please set `secret` for apostrophe-express module","user":{"login":"markcalkins","id":4914983,"node_id":"MDQ6VXNlcjQ5MTQ5ODM=","avatar_url":"https://avatars0.githubusercontent.com/u/4914983?v=4","gravatar_id":"","url":"https://api.github.com/users/markcalkins","html_url":"https://github.com/markcalkins","followers_url":"https://api.github.com/users/markcalkins/followers","following_url":"https://api.github.com/users/markcalkins/following{/other_user}","gists_url":"https://api.github.com/users/markcalkins/gists{/gist_id}","starred_url":"https://api.github.com/users/markcalkins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markcalkins/subscriptions","organizations_url":"https://api.github.com/users/markcalkins/orgs","repos_url":"https://api.github.com/users/markcalkins/repos","events_url":"https://api.github.com/users/markcalkins/events{/privacy}","received_events_url":"https://api.github.com/users/markcalkins/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2016-12-15T18:11:12Z","updated_at":"2020-08-18T15:08:26Z","closed_at":"2016-12-23T18:11:51Z","author_association":"NONE","active_lock_reason":null,"body":"Get this error when I try to set admin name and password. Initial site comes up but I'm unable to login as an admin. Full error:\r\n\r\nWARNING: No session secret provided, please set the `secret` property of the `session` property of the apostrophe-express module in app.js\r\nThat group does not exist.\r\n\r\nI'm running Mac OSX Sierra, Node 3.10.9. \r\n\r\nBy the way, for those that do not have Homebrew installed on their mac, you also need to run this after installing mongodb:\r\nbrew tap homebrew/services\r\nto get the mongo console to work. ","performed_via_github_app":null,"score":1.0},{"url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1396","repository_url":"https://api.github.com/repos/apostrophecms/apostrophe","labels_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1396/labels{/name}","comments_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1396/comments","events_url":"https://api.github.com/repos/apostrophecms/apostrophe/issues/1396/events","html_url":"https://github.com/apostrophecms/apostrophe/issues/1396","id":324522327,"node_id":"MDU6SXNzdWUzMjQ1MjIzMjc=","number":1396,"title":"Chooser choices: if `limit: 1`, don't display directional move UI","user":{"login":"stuartromanek","id":1889830,"node_id":"MDQ6VXNlcjE4ODk4MzA=","avatar_url":"https://avatars1.githubusercontent.com/u/1889830?v=4","gravatar_id":"","url":"https://api.github.com/users/stuartromanek","html_url":"https://github.com/stuartromanek","followers_url":"https://api.github.com/users/stuartromanek/followers","following_url":"https://api.github.com/users/stuartromanek/following{/other_user}","gists_url":"https://api.github.com/users/stuartromanek/gists{/gist_id}","starred_url":"https://api.github.com/users/stuartromanek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuartromanek/subscriptions","organizations_url":"https://api.github.com/users/stuartromanek/orgs","repos_url":"https://api.github.com/users/stuartromanek/repos","events_url":"https://api.github.com/users/stuartromanek/events{/privacy}","received_events_url":"https://api.github.com/users/stuartromanek/received_events","type":"User","site_admin":false},"labels":[{"id":736438130,"node_id":"MDU6TGFiZWw3MzY0MzgxMzA=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/UX","name":"UX","color":"89f9b4","default":false,"description":null},{"id":802052583,"node_id":"MDU6TGFiZWw4MDIwNTI1ODM=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/good%20first%20issue","name":"good first issue","color":"7bcde0","default":true,"description":null},{"id":179159712,"node_id":"MDU6TGFiZWwxNzkxNTk3MTI=","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/help%20wanted","name":"help wanted","color":"0052cc","default":true,"description":""},{"id":2108417303,"node_id":"MDU6TGFiZWwyMTA4NDE3MzAz","url":"https://api.github.com/repos/apostrophecms/apostrophe/labels/stale","name":"stale","color":"ffffff","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-05-18T19:13:54Z","updated_at":"2020-07-03T00:59:02Z","closed_at":"2020-07-03T00:59:02Z","author_association":"MEMBER","active_lock_reason":null,"body":"","performed_via_github_app":null,"score":1.0}]}
0

