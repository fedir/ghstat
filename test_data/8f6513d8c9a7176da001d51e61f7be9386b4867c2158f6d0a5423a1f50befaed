HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:07:23 GMT
Link: <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CAC1:57C6:2FE3E87:64E9CFC:5B1B8ABA
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 5
X-Ratelimit-Reset: 1528531675
X-Runtime-Rack: 0.460513
X-Xss-Protection: 1; mode=block

8000
{"total_count":11150,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/rails/rails/issues/33100","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33100/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33100/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33100/events","html_url":"https://github.com/rails/rails/issues/33100","id":330772867,"node_id":"MDU6SXNzdWUzMzA3NzI4Njc=","number":33100,"title":"ActiveStorage not working with errors","user":{"login":"Bistaff","id":8402993,"node_id":"MDQ6VXNlcjg0MDI5OTM=","avatar_url":"https://avatars2.githubusercontent.com/u/8402993?v=4","gravatar_id":"","url":"https://api.github.com/users/Bistaff","html_url":"https://github.com/Bistaff","followers_url":"https://api.github.com/users/Bistaff/followers","following_url":"https://api.github.com/users/Bistaff/following{/other_user}","gists_url":"https://api.github.com/users/Bistaff/gists{/gist_id}","starred_url":"https://api.github.com/users/Bistaff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bistaff/subscriptions","organizations_url":"https://api.github.com/users/Bistaff/orgs","repos_url":"https://api.github.com/users/Bistaff/repos","events_url":"https://api.github.com/users/Bistaff/events{/privacy}","received_events_url":"https://api.github.com/users/Bistaff/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-08T19:14:19Z","updated_at":"2018-06-08T23:34:54Z","closed_at":"2018-06-08T23:34:54Z","author_association":"NONE","body":"### Steps to reproduce\r\nI upgrade Rails from 5.1.4 to 5.2 following the rubyonrails.org guide. I've added Active storage migration and executed them with rails db:migrate.\r\n\r\n**[CODE]**\r\n**registrations_controller.rb**\r\n```\r\ndef save_image\r\n    au = current_admin_user\r\n    au.update(admin_user_params)\r\n    au.avatar.attach(params[:admin_users][:avatar]) (**2)\r\nend\r\n```\r\n\r\n**admin_user.rb**\r\n`has_one_attached :avatar`\r\n\r\n**edit.html.erb**\r\n```\r\n<%= form_for(resource, as: resource_name, url: save_image_path(resource_name), method: :put)  do |f| %>\r\n  <div class=\"field\">\r\n    <%= f.file_field :avatar, class: \"form-control\" %>\r\n  <div class=\"field\">\r\n\r\n  <div class=\"actions\">\r\n    <%= f.submit \"Update\" %>\r\n  </div>\r\n<% end %>\r\n```\r\n\r\n### Expected behavior\r\nAccording to the official guide:\r\n\"\" Call avatar.attach to attach an avatar to an existing user: \r\n      user.avatar.attach(params[:avatar]) \"\"\r\n\r\n### Actual behavior\r\nI have this errors (**2) point:\r\n  - NoMethodError (undefined method `deep_symbolize_keys' for false:FalseClass)\r\nI inspect params and **params[:admin_users][:avatar]** is different from **avatar of admin_user**\r\n- LoadError (Unable to autoload constant ActiveStorage::Blob::Analyzable, expected /Users/bistaff/.rvm/gems/ruby-2.4.2/gems/activestorage-5.2.0/app/models/active_storage/blob/analyzable.rb to define it):\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.2.0\r\n\r\n**Ruby version**:\r\nruby 2.4.2p198\r\n\r\nCould anyone help me?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33099","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33099/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33099/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33099/events","html_url":"https://github.com/rails/rails/issues/33099","id":330746785,"node_id":"MDU6SXNzdWUzMzA3NDY3ODU=","number":33099,"title":"EDITOR=\"subl --w\" bin/rails credentials:edit not opening editor jumps to \"new credentials encrypted and saved\"","user":{"login":"Bsmoder","id":19339436,"node_id":"MDQ6VXNlcjE5MzM5NDM2","avatar_url":"https://avatars2.githubusercontent.com/u/19339436?v=4","gravatar_id":"","url":"https://api.github.com/users/Bsmoder","html_url":"https://github.com/Bsmoder","followers_url":"https://api.github.com/users/Bsmoder/followers","following_url":"https://api.github.com/users/Bsmoder/following{/other_user}","gists_url":"https://api.github.com/users/Bsmoder/gists{/gist_id}","starred_url":"https://api.github.com/users/Bsmoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bsmoder/subscriptions","organizations_url":"https://api.github.com/users/Bsmoder/orgs","repos_url":"https://api.github.com/users/Bsmoder/repos","events_url":"https://api.github.com/users/Bsmoder/events{/privacy}","received_events_url":"https://api.github.com/users/Bsmoder/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-08T17:45:54Z","updated_at":"2018-06-08T23:20:00Z","closed_at":"2018-06-08T23:20:00Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nI am trying to open credentials file with the following command. \r\n\r\nEDITOR=\"subl --w\" bin/rails credentials:edit\r\n\r\nHowever, terminal responds with \"New credentials encrypted and saved\" without opening an editor. It sucks. \r\n\r\n### Expected behavior\r\nIt should open an editor but not opening it. I tried with rubymine, mate, subl... all of them throwing the same thing. \r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n**Ruby version**:\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33098","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33098/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33098/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33098/events","html_url":"https://github.com/rails/rails/issues/33098","id":330745403,"node_id":"MDU6SXNzdWUzMzA3NDU0MDM=","number":33098,"title":"Rails validation returns true after adding errors manually","user":{"login":"lucasruroken","id":16969686,"node_id":"MDQ6VXNlcjE2OTY5Njg2","avatar_url":"https://avatars0.githubusercontent.com/u/16969686?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasruroken","html_url":"https://github.com/lucasruroken","followers_url":"https://api.github.com/users/lucasruroken/followers","following_url":"https://api.github.com/users/lucasruroken/following{/other_user}","gists_url":"https://api.github.com/users/lucasruroken/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasruroken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasruroken/subscriptions","organizations_url":"https://api.github.com/users/lucasruroken/orgs","repos_url":"https://api.github.com/users/lucasruroken/repos","events_url":"https://api.github.com/users/lucasruroken/events{/privacy}","received_events_url":"https://api.github.com/users/lucasruroken/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-08T17:41:27Z","updated_at":"2018-06-08T19:36:47Z","closed_at":"2018-06-08T19:36:46Z","author_association":"NONE","body":"### Steps to reproduce\r\nWhen you have an instance of any model, add errors manually\r\n```\r\nproduct.errors.add(:base, \"My own error\")\r\n```\r\n\r\nafter that if you run the `valid?` method it returns `true`. Same behavior if you run `save`\r\n\r\n### Expected behavior\r\n`valid?` or `save` should return false\r\n\r\n### Actual behavior\r\n`valid?` or `save` returns true\r\n\r\n### System configuration\r\n**Rails version**: 5.2\r\n\r\n**Ruby version**: 2.4.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33084","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33084/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33084/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33084/events","html_url":"https://github.com/rails/rails/issues/33084","id":330371321,"node_id":"MDU6SXNzdWUzMzAzNzEzMjE=","number":33084,"title":"Why is an instance variable used instead of a local variable?","user":{"login":"g13ydson","id":1000342,"node_id":"MDQ6VXNlcjEwMDAzNDI=","avatar_url":"https://avatars0.githubusercontent.com/u/1000342?v=4","gravatar_id":"","url":"https://api.github.com/users/g13ydson","html_url":"https://github.com/g13ydson","followers_url":"https://api.github.com/users/g13ydson/followers","following_url":"https://api.github.com/users/g13ydson/following{/other_user}","gists_url":"https://api.github.com/users/g13ydson/gists{/gist_id}","starred_url":"https://api.github.com/users/g13ydson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/g13ydson/subscriptions","organizations_url":"https://api.github.com/users/g13ydson/orgs","repos_url":"https://api.github.com/users/g13ydson/repos","events_url":"https://api.github.com/users/g13ydson/events{/privacy}","received_events_url":"https://api.github.com/users/g13ydson/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-07T17:43:16Z","updated_at":"2018-06-08T04:38:11Z","closed_at":"2018-06-08T04:38:11Z","author_association":"NONE","body":"Specifically for the create and index method. Should not it be a local variable since it will not be reused?\r\n\r\n```\r\n# GET <%= route_url %>\r\n  def index\r\n    @<%= plural_table_name %> = <%= orm_class.all(class_name) %>\r\n\r\n    render json: <%= \"@#{plural_table_name}\" %>\r\n  end\r\n```\r\n\r\n```\r\n# POST <%= route_url %>\r\n  def create\r\n    @<%= singular_table_name %> = <%= orm_class.build(class_name, \"#{singular_table_name}_params\") %>\r\n\r\n    if @<%= orm_instance.save %>\r\n      render json: <%= \"@#{singular_table_name}\" %>, status: :created, location: <%= \"@#{singular_table_name}\" %>\r\n    else\r\n      render json: <%= \"@#{orm_instance.errors}\" %>, status: :unprocessable_entity\r\n    end\r\n  end\r\n```\r\n\r\nhttps://github.com/rails/rails/blob/35730055174c3b4b4dd2b08fc743e425310d5131/railties/lib/rails/generators/rails/scaffold_controller/templates/api_controller.rb.tt#L11","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33080","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33080/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33080/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33080/events","html_url":"https://github.com/rails/rails/issues/33080","id":330302150,"node_id":"MDU6SXNzdWUzMzAzMDIxNTA=","number":33080,"title":"Incorrect offset for Berlin","user":{"login":"abinoda","id":50083,"node_id":"MDQ6VXNlcjUwMDgz","avatar_url":"https://avatars0.githubusercontent.com/u/50083?v=4","gravatar_id":"","url":"https://api.github.com/users/abinoda","html_url":"https://github.com/abinoda","followers_url":"https://api.github.com/users/abinoda/followers","following_url":"https://api.github.com/users/abinoda/following{/other_user}","gists_url":"https://api.github.com/users/abinoda/gists{/gist_id}","starred_url":"https://api.github.com/users/abinoda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abinoda/subscriptions","organizations_url":"https://api.github.com/users/abinoda/orgs","repos_url":"https://api.github.com/users/abinoda/repos","events_url":"https://api.github.com/users/abinoda/events{/privacy}","received_events_url":"https://api.github.com/users/abinoda/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-06-07T14:37:17Z","updated_at":"2018-06-07T15:54:58Z","closed_at":"2018-06-07T15:14:16Z","author_association":"NONE","body":"`ActiveSupport::Timezone` is returning an offset of `UTC+01:00` for [Berlin](https://github.com/rails/rails/blob/375a4143cf5caeb6159b338be824903edfd62836/activesupport/lib/active_support/values/time_zone.rb#L90) but this is wrong—Berlin's offset is `UTC+02:00` until October 28.\r\n\r\n```\r\nirb(main):003:0> ActiveSupport::TimeZone.new('Berlin').to_s\r\n=> \"(GMT+01:00) Berlin\"\r\n```\r\n\r\nI am using ActiveSupport v5.1.6. My `Gemfile.lock` also shows `tzinfo (1.2.5)` which looks like the most recent version.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33068","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33068/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33068/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33068/events","html_url":"https://github.com/rails/rails/issues/33068","id":329900404,"node_id":"MDU6SXNzdWUzMjk5MDA0MDQ=","number":33068,"title":"Duplication in active_support/core_ext/object/conversions.rb","user":{"login":"ajitsing","id":3875127,"node_id":"MDQ6VXNlcjM4NzUxMjc=","avatar_url":"https://avatars0.githubusercontent.com/u/3875127?v=4","gravatar_id":"","url":"https://api.github.com/users/ajitsing","html_url":"https://github.com/ajitsing","followers_url":"https://api.github.com/users/ajitsing/followers","following_url":"https://api.github.com/users/ajitsing/following{/other_user}","gists_url":"https://api.github.com/users/ajitsing/gists{/gist_id}","starred_url":"https://api.github.com/users/ajitsing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajitsing/subscriptions","organizations_url":"https://api.github.com/users/ajitsing/orgs","repos_url":"https://api.github.com/users/ajitsing/repos","events_url":"https://api.github.com/users/ajitsing/events{/privacy}","received_events_url":"https://api.github.com/users/ajitsing/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-06T14:45:16Z","updated_at":"2018-06-06T15:20:09Z","closed_at":"2018-06-06T15:20:09Z","author_association":"NONE","body":"While going through the active_support code I came across `activesupport-5.1.4/lib/active_support/core_ext/object/conversions.rb` file which requires all the conversion related files.\r\n\r\n```ruby\r\nrequire \"active_support/core_ext/object/to_param\"\r\nrequire \"active_support/core_ext/object/to_query\"\r\nrequire \"active_support/core_ext/array/conversions\"\r\nrequire \"active_support/core_ext/hash/conversions\"\r\n```\r\n\r\nWhen I dived into the `to_param` file I saw below code\r\n```ruby\r\nrequire \"active_support/core_ext/object/to_query\"\r\n```\r\n\r\n`active_support/core_ext/object/to_query` is getting required twice. Once from the `conversions.rb` and then from the `to_param.rb`. I thought its a duplication and must be highlighted. Feel free to close this issue with a comment if its not a duplication and serves some other purpose.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33063","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33063/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33063/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33063/events","html_url":"https://github.com/rails/rails/issues/33063","id":329666394,"node_id":"MDU6SXNzdWUzMjk2NjYzOTQ=","number":33063,"title":"Duplicated associations in JOINs with Rails 5.2 (PG::DuplicateAlias)","user":{"login":"chalofa","id":217029,"node_id":"MDQ6VXNlcjIxNzAyOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/217029?v=4","gravatar_id":"","url":"https://api.github.com/users/chalofa","html_url":"https://github.com/chalofa","followers_url":"https://api.github.com/users/chalofa/followers","following_url":"https://api.github.com/users/chalofa/following{/other_user}","gists_url":"https://api.github.com/users/chalofa/gists{/gist_id}","starred_url":"https://api.github.com/users/chalofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chalofa/subscriptions","organizations_url":"https://api.github.com/users/chalofa/orgs","repos_url":"https://api.github.com/users/chalofa/repos","events_url":"https://api.github.com/users/chalofa/events{/privacy}","received_events_url":"https://api.github.com/users/chalofa/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-06T00:05:58Z","updated_at":"2018-06-06T12:25:01Z","closed_at":"2018-06-06T10:50:03Z","author_association":"CONTRIBUTOR","body":"Rails 5.2 is throwing a duplicated association error as a regression after this:\r\nhttps://github.com/rails/rails/commit/249ddd0c39e6f24145ae1150d4c8eec9f11219b1\r\n\r\n_(:point_up: `git bisect`ed using the executable code to find that was the first \"bad\" commit)_\r\n\r\nThe next example uses 3 tables (`users`, `projects` & `tasks`).  \r\nWe want to query all the Projects that matches both:\r\n- associated User is an admin, example: `project.user.admin? == true`.\r\n- associated Task User name exists, example: `project.tasks.first.user.present? == true`.\r\n\r\nProbably related to https://github.com/rails/rails/issues/33048, but they mention a `left_outer_joins` & CanCan gem, and my example is Rails only and used to work on Rails 5.1.x.\r\n\r\n### Steps to reproduce\r\n\r\n**Executable code:**\r\n\r\n```rb\r\n# frozen_string_literal: true\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users, force: true do |t|\r\n    t.string :name\r\n    t.boolean :admin, default: false\r\n  end\r\n\r\n  create_table :projects, force: true  do |t|\r\n    t.string :name\r\n    t.references :user\r\n  end\r\n\r\n  create_table :tasks, force: true do |t|\r\n    t.string :name\r\n    t.references :project\r\n    t.references :user\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :projects\r\n  has_many :tasks\r\n\r\n  scope :with_name, -> { where.not(name: nil) }\r\n  scope :admins_only, -> { where(admin: true) }\r\nend\r\n\r\nclass Project < ActiveRecord::Base\r\n  belongs_to :user\r\n  has_many :tasks\r\n\r\n  scope :tasks_with_user_names, -> { joins(:tasks).merge(Task.with_user_names) }\r\n  scope :for_admin_users, -> { joins(:user).merge(User.admins_only) }\r\nend\r\n\r\nclass Task < ActiveRecord::Base\r\n  belongs_to :project\r\n  belongs_to :user\r\n\r\n  scope :with_user_names, -> { joins(:user).merge(User.with_name) }\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_duplicated_alias\r\n    user      = User.create!(name: 'User', admin: true)\r\n    user_2    = User.create!(name: 'Non Admin', admin: false)\r\n    project_1 = user.projects.create!(name: 'Project 1')\r\n    task_1    = project_1.tasks.create!(name: 'Task 1', user: user)\r\n    project_2 = user_2.projects.create!(name: 'Project 2')\r\n    task_2    = project_2.tasks.create!(name: 'Task 2', user: user)\r\n\r\n    assert_equal 1, Project.for_admin_users.tasks_with_user_names.count\r\n  end\r\nend\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\n- \"Namespace\" the JOIN generated by `joins(:other).merge(Other.scope)`:\r\n\r\n```\r\nINNER JOIN \"users\" ON \"users\".\"id\" = \"projects\".\"user_id\" \r\nINNER JOIN \"users\" \"users_tasks\" ON \"users_tasks\".\"id\" = \"tasks\".\"user_id\" \r\n```\r\n\r\nRails 5.1 used to \"namespace\" the 2nd JOIN, doing something like:\r\n\r\n```\r\nINNER JOIN \"users\" ON \"users\".\"id\" = \"projects\".\"user_id\" \r\nLEFT OUTER JOIN \"users\" \"users_tasks\" ON \"users_tasks\".\"id\" = \"tasks\".\"user_id\" \r\n```\r\n\r\nWith the fix for the LEFT OUTER JOIN sent by @MaxLap, the 2nd should be an INNER JOIN instead.\r\n\r\n\r\n### Actual behavior\r\n\r\nThe secondary JOINs are not namespaced, thus throwing an error:\r\n- sqlite: `SQLite3::SQLException: ambiguous column name:`\r\n- PostgreSQL: `PG::DuplicateAlias: ERROR:  table name \"users\" specified more than once`\r\n- MySQL: `Mysql2::Error: Not unique table/alias: 'users'`\r\n\r\nRails 5.2, after https://github.com/rails/rails/commit/249ddd0c39e6f24145ae1150d4c8eec9f11219b1, generates the next SQL:\r\n\r\n```\r\nINNER JOIN \"users\" ON \"users\".\"id\" = \"projects\".\"user_id\" \r\nINNER JOIN \"users\" ON \"users\".\"id\" = \"tasks\".\"user_id\" \r\n```\r\n\r\n### System configuration\r\n\r\n- Rails 5.2\r\n- Ruby 2.5.1 (also fails in Ruby 2.4.* & 2.3.*)\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33062","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33062/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33062/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33062/events","html_url":"https://github.com/rails/rails/issues/33062","id":329546296,"node_id":"MDU6SXNzdWUzMjk1NDYyOTY=","number":33062,"title":"Stack Level too deep (SystemStackError)","user":{"login":"polytronix","id":18667426,"node_id":"MDQ6VXNlcjE4NjY3NDI2","avatar_url":"https://avatars2.githubusercontent.com/u/18667426?v=4","gravatar_id":"","url":"https://api.github.com/users/polytronix","html_url":"https://github.com/polytronix","followers_url":"https://api.github.com/users/polytronix/followers","following_url":"https://api.github.com/users/polytronix/following{/other_user}","gists_url":"https://api.github.com/users/polytronix/gists{/gist_id}","starred_url":"https://api.github.com/users/polytronix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polytronix/subscriptions","organizations_url":"https://api.github.com/users/polytronix/orgs","repos_url":"https://api.github.com/users/polytronix/repos","events_url":"https://api.github.com/users/polytronix/events{/privacy}","received_events_url":"https://api.github.com/users/polytronix/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-06-05T17:05:59Z","updated_at":"2018-06-05T20:23:47Z","closed_at":"2018-06-05T20:23:47Z","author_association":"NONE","body":"### Steps to reproduce\r\n`rails plugin install git://github.com/ryanb/cancan.git`\r\n`rails g cancan:ability`\r\n\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\nThis should create a ability file for cancan in my ror app\r\n\r\n### Actual behavior\r\n\r\n`/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:90:` `warning:` `already` initialized constant FileUtils::VERSION\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:92: warning: previous definition of VERSION was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1188: warning: already initialized constant FileUtils::Entry_::S_IF_DOOR\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1267: warning: previous definition of S_IF_DOOR was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1446: warning: already initialized constant FileUtils::Entry_::DIRECTORY_TERM\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1541: warning: previous definition of DIRECTORY_TERM was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1448: warning: already initialized constant FileUtils::Entry_::SYSCASE\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1543: warning: previous definition of SYSCASE was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1501: warning: already initialized constant FileUtils::OPT_TABLE\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1596: warning: previous definition of OPT_TABLE was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1555: warning: already initialized constant FileUtils::LOW_METHODS\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1650: warning: previous definition of LOW_METHODS was here\r\n/usr/local/Cellar/ruby/2.5.1/lib/ruby/2.5.0/fileutils.rb:1562: warning: already initialized constant FileUtils::METHODS\r\n/usr/local/lib/ruby/gems/2.5.0/gems/fileutils-1.1.0/lib/fileutils.rb:1657: warning: previous definition of METHODS was here\r\nWARNING: Nokogiri was built against LibXML version 2.9.4, but has dynamically loaded 2.8.0\r\n/usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:121: warning: constant ::Fixnum is deprecated\r\n/usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:121: warning: constant ::Bignum is deprecated\r\nTraceback (most recent call last):\r\n\t5368: from bin/rails:4:in `<main>'\r\n\t5367: from bin/rails:4:in `require'\r\n\t5366: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/commands.rb:17:in `<top (required)>'\r\n\t5365: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\r\n\t5364: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:50:in `generate'\r\n\t5363: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:128:in `generate_or_destroy'\r\n\t5362: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:142:in `require_application_and_environment!'\r\n\t5361: from /usr/local/lib/ruby/gems/2.5.0/gems/railties-4.2.1/lib/rails/application.rb:328:in `require_environment!'\r\n\t ... 5356 levels...\r\n\t   4: from /usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:131:in `block (2 levels) in <class:Numeric>'\r\n\t   3: from /usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:131:in `block (2 levels) in <class:Numeric>'\r\n\t   2: from /usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:131:in `block (2 levels) in <class:Numeric>'\r\n\t   1: from /usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:131:in `block (2 levels) in <class:Numeric>'\r\n/usr/local/lib/ruby/gems/2.5.0/gems/activesupport-4.2.1/lib/active_support/core_ext/numeric/conversions.rb:131:in `block (2 levels) in <class:Numeric>': stack level too deep (SystemStackError)\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 4.2.1\r\n**Ruby version**:\r\nRuby 2.5.1p57\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33061","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33061/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33061/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33061/events","html_url":"https://github.com/rails/rails/issues/33061","id":329509871,"node_id":"MDU6SXNzdWUzMjk1MDk4NzE=","number":33061,"title":"ller params","user":{"login":"tavy88","id":1955084,"node_id":"MDQ6VXNlcjE5NTUwODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1955084?v=4","gravatar_id":"","url":"https://api.github.com/users/tavy88","html_url":"https://github.com/tavy88","followers_url":"https://api.github.com/users/tavy88/followers","following_url":"https://api.github.com/users/tavy88/following{/other_user}","gists_url":"https://api.github.com/users/tavy88/gists{/gist_id}","starred_url":"https://api.github.com/users/tavy88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tavy88/subscriptions","organizations_url":"https://api.github.com/users/tavy88/orgs","repos_url":"https://api.github.com/users/tavy88/repos","events_url":"https://api.github.com/users/tavy88/events{/privacy}","received_events_url":"https://api.github.com/users/tavy88/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-06-05T15:28:54Z","updated_at":"2018-06-05T15:29:48Z","closed_at":"2018-06-05T15:29:48Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n**Ruby version**:\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33052","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33052/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33052/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33052/events","html_url":"https://github.com/rails/rails/issues/33052","id":329010555,"node_id":"MDU6SXNzdWUzMjkwMTA1NTU=","number":33052,"title":"Active Storage with Cloudfront (usage)","user":{"login":"DmytroStepaniuk","id":14220682,"node_id":"MDQ6VXNlcjE0MjIwNjgy","avatar_url":"https://avatars1.githubusercontent.com/u/14220682?v=4","gravatar_id":"","url":"https://api.github.com/users/DmytroStepaniuk","html_url":"https://github.com/DmytroStepaniuk","followers_url":"https://api.github.com/users/DmytroStepaniuk/followers","following_url":"https://api.github.com/users/DmytroStepaniuk/following{/other_user}","gists_url":"https://api.github.com/users/DmytroStepaniuk/gists{/gist_id}","starred_url":"https://api.github.com/users/DmytroStepaniuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DmytroStepaniuk/subscriptions","organizations_url":"https://api.github.com/users/DmytroStepaniuk/orgs","repos_url":"https://api.github.com/users/DmytroStepaniuk/repos","events_url":"https://api.github.com/users/DmytroStepaniuk/events{/privacy}","received_events_url":"https://api.github.com/users/DmytroStepaniuk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-04T11:10:15Z","updated_at":"2018-06-04T15:25:23Z","closed_at":"2018-06-04T15:25:23Z","author_association":"NONE","body":"### Expected behavior\r\nIs there any way to configure ActiveStorage to generate **signed** url with cloudfront hostname instead?\r\n\r\n### Actual behavior\r\nHaven't found _right_ way in guides/source code.\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.4.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33043","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33043/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33043/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33043/events","html_url":"https://github.com/rails/rails/issues/33043","id":328485993,"node_id":"MDU6SXNzdWUzMjg0ODU5OTM=","number":33043,"title":"Extensions consisting of digits can not be registered in mime_types","user":{"login":"silverdr","id":4529686,"node_id":"MDQ6VXNlcjQ1Mjk2ODY=","avatar_url":"https://avatars3.githubusercontent.com/u/4529686?v=4","gravatar_id":"","url":"https://api.github.com/users/silverdr","html_url":"https://github.com/silverdr","followers_url":"https://api.github.com/users/silverdr/followers","following_url":"https://ap
8000
i.github.com/users/silverdr/following{/other_user}","gists_url":"https://api.github.com/users/silverdr/gists{/gist_id}","starred_url":"https://api.github.com/users/silverdr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silverdr/subscriptions","organizations_url":"https://api.github.com/users/silverdr/orgs","repos_url":"https://api.github.com/users/silverdr/repos","events_url":"https://api.github.com/users/silverdr/events{/privacy}","received_events_url":"https://api.github.com/users/silverdr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-01T11:38:30Z","updated_at":"2018-06-02T13:17:39Z","closed_at":"2018-06-02T00:36:59Z","author_association":"NONE","body":"### Steps to reproduce\r\nInsert a line like:\r\n\r\n    Mime::Type.register \"text/plain\", '1'\r\n\r\nor \r\n\r\n    Mime::Type.register \"text/plain\", :\"1\"\r\n\r\ninto `config/initializers/mime_types.rb`\r\n\r\n### Expected behavior\r\nMIME-TYPE gets registered and becomes available for use\r\n\r\n### Actual behavior\r\n```\r\n/Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/abstract_controller/collector.rb:7:in `class_eval': /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/abstract_controller/collector.rb:8: syntax error, unexpected tINTEGER (SyntaxError)\r\n        def 1(*args, &block)\r\n             ^\r\n\tfrom /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/abstract_controller/collector.rb:7:in `generate_method_for_mime'\r\n\tfrom /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/abstract_controller/collector.rb:19:in `block in <module:Collector>'\r\n\tfrom /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/action_dispatch/http/mime_type.rb:192:in `block in register'\r\n\tfrom /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/action_dispatch/http/mime_type.rb:191:in `each'\r\n\tfrom /Users/silverdr/.rbenv/versions/2.4.3/lib/ruby/gems/2.4.0/gems/actionpack-5.0.6/lib/action_dispatch/http/mime_type.rb:191:in `register'\r\n\tfrom /Users/silverdr/sources/silverdr/aria_main/config/initializers/mime_types.rb:7:in `<top (required)>'\r\n[...]\r\n```\r\n\r\n### System configuration\r\n**Rails version**: rails (5.0.6)\r\n\r\n**Ruby version**: ruby 2.4.3p205 (2017-12-14 revision 61247) [x86_64-darwin15]\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33038","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33038/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33038/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33038/events","html_url":"https://github.com/rails/rails/issues/33038","id":328399149,"node_id":"MDU6SXNzdWUzMjgzOTkxNDk=","number":33038,"title":"validates_*_of adds the wrong message symbol to errors.details","user":{"login":"cork","id":404380,"node_id":"MDQ6VXNlcjQwNDM4MA==","avatar_url":"https://avatars3.githubusercontent.com/u/404380?v=4","gravatar_id":"","url":"https://api.github.com/users/cork","html_url":"https://github.com/cork","followers_url":"https://api.github.com/users/cork/followers","following_url":"https://api.github.com/users/cork/following{/other_user}","gists_url":"https://api.github.com/users/cork/gists{/gist_id}","starred_url":"https://api.github.com/users/cork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cork/subscriptions","organizations_url":"https://api.github.com/users/cork/orgs","repos_url":"https://api.github.com/users/cork/repos","events_url":"https://api.github.com/users/cork/events{/privacy}","received_events_url":"https://api.github.com/users/cork/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-01T06:41:19Z","updated_at":"2018-06-04T06:47:36Z","closed_at":"2018-06-02T06:44:18Z","author_association":"NONE","body":"```\r\nvalidates_format_of :content, allow_blank: true, with: Resolv::IPv4::Regex, message: :bad_formatting\r\nvalidates_format_of :content, with: /\\A[[:ascii:]]+\\z/, allow_blank: true, message: :none_us_ascii_characters\r\n\r\ndns = Dns.new(content: \"☀\")\r\ndns.valid?\r\n```\r\nrails 5.1\r\n```\r\ndns.added?(:content, :bad_formatting) => true\r\ndns.added?(:content, :none_us_ascii_characters) => true\r\ndns.added?(:content, :invalid) => false\r\n```\r\n\r\nrails 5.2\r\n```\r\ndns.added?(:content, :bad_formatting) => false\r\ndns.added?(:content, :none_us_ascii_characters) => false\r\ndns.added?(:content, :invalid) => true # for both validators\r\n```\r\n\r\nThe change is that .added? now days checks the symbol of details instead of the normalised message. But validators send hardcoded messages symbols instead of the one provided to the validates_*_of line[1] and sends the message symbol provided as options to add.\r\n[1] https://github.com/rails/rails/blob/375a4143cf5caeb6159b338be824903edfd62836/activemodel/lib/active_model/validations/format.rb#L9\r\n\r\nThis means it isn't possible to check for different validators in tests anymore.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33037","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33037/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33037/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33037/events","html_url":"https://github.com/rails/rails/issues/33037","id":328278423,"node_id":"MDU6SXNzdWUzMjgyNzg0MjM=","number":33037,"title":"Variant syntax for loading into memory differs from normal image","user":{"login":"CodingAnarchy","id":5926159,"node_id":"MDQ6VXNlcjU5MjYxNTk=","avatar_url":"https://avatars0.githubusercontent.com/u/5926159?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingAnarchy","html_url":"https://github.com/CodingAnarchy","followers_url":"https://api.github.com/users/CodingAnarchy/followers","following_url":"https://api.github.com/users/CodingAnarchy/following{/other_user}","gists_url":"https://api.github.com/users/CodingAnarchy/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingAnarchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingAnarchy/subscriptions","organizations_url":"https://api.github.com/users/CodingAnarchy/orgs","repos_url":"https://api.github.com/users/CodingAnarchy/repos","events_url":"https://api.github.com/users/CodingAnarchy/events{/privacy}","received_events_url":"https://api.github.com/users/CodingAnarchy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-31T20:06:22Z","updated_at":"2018-06-01T13:24:12Z","closed_at":"2018-06-01T13:21:38Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n```ruby\r\nclass Foo\r\n  has_one_attached :image\r\nend\r\n\r\n<get foo instance with attached image>\r\nraw_blob = foo.image.variant(resize: \"100x100^\").processed.download\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe resized image should be loaded into memory (`raw_blob`).\r\n\r\n### Actual behavior\r\n\r\n`NoMethodError: undefined method 'download' for #<ActiveStorage::Variant:0x00007ff09013a7a8>`\r\n\r\nThis can be resolved with a `foo.image.variant(resize: \"100x100^\").processed.blob.download`, but this will actually fetch the newly uploaded file again, so it is a big performance hit to do this.\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33032","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33032/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33032/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33032/events","html_url":"https://github.com/rails/rails/issues/33032","id":328041957,"node_id":"MDU6SXNzdWUzMjgwNDE5NTc=","number":33032,"title":"how to validates the file ?","user":{"login":"Thomastar","id":17611854,"node_id":"MDQ6VXNlcjE3NjExODU0","avatar_url":"https://avatars2.githubusercontent.com/u/17611854?v=4","gravatar_id":"","url":"https://api.github.com/users/Thomastar","html_url":"https://github.com/Thomastar","followers_url":"https://api.github.com/users/Thomastar/followers","following_url":"https://api.github.com/users/Thomastar/following{/other_user}","gists_url":"https://api.github.com/users/Thomastar/gists{/gist_id}","starred_url":"https://api.github.com/users/Thomastar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thomastar/subscriptions","organizations_url":"https://api.github.com/users/Thomastar/orgs","repos_url":"https://api.github.com/users/Thomastar/repos","events_url":"https://api.github.com/users/Thomastar/events{/privacy}","received_events_url":"https://api.github.com/users/Thomastar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-31T08:29:03Z","updated_at":"2018-05-31T10:25:48Z","closed_at":"2018-05-31T09:11:14Z","author_association":"NONE","body":"how to validates the file ?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33024","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33024/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33024/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33024/events","html_url":"https://github.com/rails/rails/issues/33024","id":327817074,"node_id":"MDU6SXNzdWUzMjc4MTcwNzQ=","number":33024,"title":"AC Migration allows duplicate column names when using t.belongs_to","user":{"login":"neidiom","id":8058363,"node_id":"MDQ6VXNlcjgwNTgzNjM=","avatar_url":"https://avatars0.githubusercontent.com/u/8058363?v=4","gravatar_id":"","url":"https://api.github.com/users/neidiom","html_url":"https://github.com/neidiom","followers_url":"https://api.github.com/users/neidiom/followers","following_url":"https://api.github.com/users/neidiom/following{/other_user}","gists_url":"https://api.github.com/users/neidiom/gists{/gist_id}","starred_url":"https://api.github.com/users/neidiom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neidiom/subscriptions","organizations_url":"https://api.github.com/users/neidiom/orgs","repos_url":"https://api.github.com/users/neidiom/repos","events_url":"https://api.github.com/users/neidiom/events{/privacy}","received_events_url":"https://api.github.com/users/neidiom/received_events","type":"User","site_admin":false},"labels":[{"id":107191,"node_id":"MDU6TGFiZWwxMDcxOTE=","url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-05-30T17:00:17Z","updated_at":"2018-06-04T21:25:22Z","closed_at":"2018-06-04T21:00:12Z","author_association":"NONE","body":"I just had a migration similar to the one below, resource_id will be created only once, I think this should generate a warning at least.\r\n\r\n\r\n````\r\nclass CreateAlerts < ActiveRecord::Migration[5.2]\r\n  def change\r\n    create_table :alerts do |t|\r\n      t.belongs_to :resource, index: true\r\n      t.string :resource_id\r\n      t.string :resource_group_name\r\n      t.timestamps\r\n    end\r\n  end\r\nend\r\n````","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33023","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33023/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33023/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33023/events","html_url":"https://github.com/rails/rails/issues/33023","id":327816603,"node_id":"MDU6SXNzdWUzMjc4MTY2MDM=","number":33023,"title":"Errors#added? API changed from 5.1 to 5.2","user":{"login":"jdzak","id":8027,"node_id":"MDQ6VXNlcjgwMjc=","avatar_url":"https://avatars3.githubusercontent.com/u/8027?v=4","gravatar_id":"","url":"https://api.github.com/users/jdzak","html_url":"https://github.com/jdzak","followers_url":"https://api.github.com/users/jdzak/followers","following_url":"https://api.github.com/users/jdzak/following{/other_user}","gists_url":"https://api.github.com/users/jdzak/gists{/gist_id}","starred_url":"https://api.github.com/users/jdzak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdzak/subscriptions","organizations_url":"https://api.github.com/users/jdzak/orgs","repos_url":"https://api.github.com/users/jdzak/repos","events_url":"https://api.github.com/users/jdzak/events{/privacy}","received_events_url":"https://api.github.com/users/jdzak/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-30T16:58:53Z","updated_at":"2018-05-30T18:40:25Z","closed_at":"2018-05-30T17:21:33Z","author_association":"CONTRIBUTOR","body":"\r\n[rails_5_2_0_errors_added_bug.rb.zip](https://github.com/rails/rails/files/2054921/rails_5_2_0_errors_added_bug.rb.zip)\r\n\r\n### Steps to reproduce\r\n\r\n1. Create a rails model with a field having a presence validation\r\n2. Don't populate the field\r\n3. Call `model.valid?`\r\n4. Check if the model object has the presence error (it should). `model.errors.added?(:field, :blank) => true` \r\n5. Copy errors from the model to a form object\r\n6. Check if the form object has the presence error (it should, but it doesn't). `form_object.errors.added?(:field, :blank) => false` 😢 \r\n\r\n### Expected behavior\r\nI want to use `form_object.added?(:field, :blank)` to return true if my field has a presence error.\r\n\r\n### Actual behavior\r\nIn rails 5.2.0, `form_object.added?(:field, :blank)` returns false.\r\nIn rails < 5.2.0, `form_object.added?(:field, :blank)` returns true.\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.4.3\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33015","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33015/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33015/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33015/events","html_url":"https://github.com/rails/rails/issues/33015","id":327396987,"node_id":"MDU6SXNzdWUzMjczOTY5ODc=","number":33015,"title":"Are there alternatives to delegating 'as' to Arel ?","user":{"login":"genezys","id":65271,"node_id":"MDQ6VXNlcjY1Mjcx","avatar_url":"https://avatars1.githubusercontent.com/u/65271?v=4","gravatar_id":"","url":"https://api.github.com/users/genezys","html_url":"https://github.com/genezys","followers_url":"https://api.github.com/users/genezys/followers","following_url":"https://api.github.com/users/genezys/following{/other_user}","gists_url":"https://api.github.com/users/genezys/gists{/gist_id}","starred_url":"https://api.github.com/users/genezys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/genezys/subscriptions","organizations_url":"https://api.github.com/users/genezys/orgs","repos_url":"https://api.github.com/users/genezys/repos","events_url":"https://api.github.com/users/genezys/events{/privacy}","received_events_url":"https://api.github.com/users/genezys/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-29T16:28:11Z","updated_at":"2018-06-07T13:03:52Z","closed_at":"2018-05-29T22:16:11Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nI have the following code that allows me to add computed fields to my models in order to sort and search using basic Active Record queries:\r\n\r\n```ruby\r\n# in ApplicationRecord\r\ndef self.with_computed_column(*selects)\r\n  from select(\"#{quoted_table_name}.*\").select(*selects).as(quoted_table_name)\r\nend\r\n\r\n# usage in model User\r\ndefault_scope do\r\n  with_computed_column(\"CONCAT(users.firstname, ' ', users.lastname) as fullname\")\r\nend\r\n\r\n# then\r\nUser.where(fullname: \"...\").order(:fullname)\r\n```\r\n\r\nThe idea is to replace the original `from` by a sub-SELECT adding the new field. But I need to alias this sub-SELECT using `as(quoted_table_name)` in order to use it with `from`, otherwise ActiveRecord will not find my fields.\r\n\r\nThis solution works fine but I have lots of warnings about the deprecation of calling `as` on the result of the `select`: `DEPRECATION WARNING: Delegating as to arel is deprecated and will be removed in Rails 6.0.`\r\n\r\nAre there any alternatives to using `as` the way I do that will still be compatible with what I want to achieve? \r\n\r\nOr are there any alternatives to how I add computed fields to my models that will still allow me to use ActiveRecord queries?\r\n\r\nIf not, would it be possible to add an explicit delegation to Arel for `as` that will not trigger the warning, and will be kept in Rails 6?\r\n\r\nThanks\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33011","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33011/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33011/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33011/events","html_url":"https://github.com/rails/rails/issues/33011","id":327097689,"node_id":"MDU6SXNzdWUzMjcwOTc2ODk=","number":33011,"title":"Documentation on Queuing system contains no details at all about the queuing system","user":{"login":"Tectract","id":3859005,"node_id":"MDQ6VXNlcjM4NTkwMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/3859005?v=4","gravatar_id":"","url":"https://api.github.com/users/Tectract","html_url":"https://github.com/Tectract","followers_url":"https://api.github.com/users/Tectract/followers","following_url":"https://api.github.com/users/Tectract/following{/other_user}","gists_url":"https://api.github.com/users/Tectract/gists{/gist_id}","starred_url":"https://api.github.com/users/Tectract/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tectract/subscriptions","organizations_url":"https://api.github.com/users/Tectract/orgs","repos_url":"https://api.github.com/users/Tectract/repos","events_url":"https://api.github.com/users/Tectract/events{/privacy}","received_events_url":"https://api.github.com/users/Tectract/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-28T18:54:25Z","updated_at":"2018-05-28T19:13:53Z","closed_at":"2018-05-28T19:13:53Z","author_association":"NONE","body":"Please help. Refer to:\r\n\r\nhttps://github.com/rails/rails/issues/33009\r\nhttps://github.com/rails/rails/issues/33010\r\nhttps://stackoverflow.com/questions/29169994/where-do-i-enqueue-jobs-into-activejob-in-rails-4-2/50571535#50571535\r\n\r\n\r\nI have specifically asked for rafaelfranca not to close this issue. I don't appreciate my issues being force-closed with no help at all and being referred off of github.com for help with this repo.\r\n\r\n-------\r\n\r\nI'm trying to learn about how to enqueue jobs into Rails as a \"background\" task, and the documentation on this topic is really not clear. Maybe someone can help me, and help update the docs. From here:\r\n\r\nhttp://guides.rubyonrails.org/active_job_basics.html\r\n\r\n    How to enqueue jobs.\r\n    Enqueue a job like so:\r\n    GuestsCleanupJob.perform_later guest\r\n\r\nOk. What file should that function go into? Does it get called when the server starts? When does it get called? I want a function that will get called when the server starts. How do I do that?\r\n\r\n    Rails itself only provides an in-process queuing system, which only keeps the jobs in RAM. If the process crashes or the machine is reset, then all outstanding jobs are lost with the default async backend.\r\n\r\nYep, that's exactly what I want. How do I use the \"in-process\" queuing system to start a function that will run in RAM? There is no detail about that in the docs, it appears. I would like to not have to call every one of my \"background\" processes by hand when I start my server...","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33010","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33010/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33010/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33010/events","html_url":"https://github.com/rails/rails/issues/33010","id":327095420,"node_id":"MDU6SXNzdWUzMjcwOTU0MjA=","number":33010,"title":"User questions are being off-loaded to StackOverflow","user":{"login":"Tectract","id":3859005,"node_id":"MDQ6VXNlcjM4NTkwMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/3859005?v=4","gravatar_id":"","url":"https://api.github.com/users/Tectract","html_url":"https://github.com/Tectract","followers_url":"https://api.github.com/users/Tectract/followers","following_url":"https://api.github.com/users/Tectract/following{/other_user}","gists_url":"https://api.github.com/users/Tectract/gists{/gist_id}","starred_url":"https://api.github.com/users/Tectract/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tectract/subscriptions","organizations_url":"https://api.github.com/users/Tectract/orgs","repos_url":"https://api.github.com/users/Tectract/repos","events_url":"https://api.github.com/users/Tectract/events{/privacy}","received_events_url":"https://api.github.com/users/Tectract/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-28T18:39:42Z","updated_at":"2018-05-28T19:11:40Z","closed_at":"2018-05-28T19:11:27Z","author_association":"NONE","body":"I don't approve of you guys off-loading user questions and issues about documentation lacking detail onto StackOverflow. \r\n\r\nI think you guys should let the experts, i.e. actual rails devs, answer user questions. I'm really tired of searching on Google and finding a thousand StackOverflow articles, all asking the same or nearly the same question, and being led astray, referred to other sources, being told they need to do something else instead or being questioned about their motivations, or just trailing off and not being addressed or answered for months. StackOverflow is a bad site and their moderators are horrible people, they are deletionists not archivists like Github! That's why we use GITHUB to talk to repo maintainers and code experts involved with a project!\r\n\r\nPlease, will someone help me instead of just force-closing my issue begging for help?\r\nhttps://github.com/rails/rails/issues/33009\r\n\r\n\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33009","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33009/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33009/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33009/events","html_url":"https://github.com/rails/rails/issues/33009","id":327090891,"node_id":"MDU6SXNzdWUzMjcwOTA4OTE=","number":33009,"title":"Documentation issue","user":{"login":"Tectract","id":3859005,"node_id":"MDQ6VXNlcjM4NTkwMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/3859005?v=4","gravatar_id":"","url":"https://api.github.com/users/Tectract","html_url":"https://github.com/Tectract","followers_url":"https://api.github.com/users/Tectract/followers","following_url":"https://api.github.com/users/Tectract/following{/other_user}","gists_url":"https://api.github.com/users/Tectract/gists{/gist_id}","starred_url":"https://api.github.com/users/Tectract/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tectract/subscriptions","organizations_url":"https://api.github.com/users/Tectract/orgs","repos_url":"https://api.github.com/users/Tectract/repos","events_url":"https://api.github.com/users/Tectract/events{/privacy}","received_events_url":"https://api.github.com/users/Tectract/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2018-05-28T18:10:17Z","updated_at":"2018-05-29T22:03:47Z","closed_at":"2018-05-28T18:17:07Z","author_association":"NONE","body":"I'm trying to learn about how to enqueue jobs into Rails as a \"background\" task, and the documentation on this topic is really not clear. Maybe someone can help me, and help update the docs. From here:\r\n\r\nhttp://guides.rubyonrails.org/active_job_basics.html\r\n\r\n> How to enqueue jobs.\r\n> Enqueue a job like so:\r\n> GuestsCleanupJob.perform_later guest\r\n\r\nOk. What file should that function go into? Does it get called when the server starts? When does it get called? I want a function that will get called when the server starts. How do I do that?\r\n\r\n> Rails itself only provides an in-process queuing system, which only keeps the jobs in RAM. If the process crashes or the machine is reset, then all outstanding jobs are lost with the default async backend. \r\n\r\nYep, that's exactly what I want. How do I use the \"in-process\" queuing system to start a function that will run in RAM? There is no detail about that in the docs, it appears. I would like to not have to call every one of my \"background\" processes by hand when I start my server...\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33006","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33006/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33006/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33006/events","html_url":"https://github.com/rails/rails/issues/33006","id":327046493,"node_id":"MDU6SXNzdWUzMjcwNDY0OTM=","number":33006,"title":"Active Storage migration installation task appears twice in tasks index","user":{"login":"dhh","id":2741,"node_id":"MDQ6VXNlcjI3NDE=","avatar_url":"https://avatars0.githubusercontent.com/u/2741?v=4","gravatar_id":"","url":"https://api.github.com/users/dhh","html_url":"https://github.com/dhh","followers_url":"https://api.github.com/users/dhh/followers","following_url":"https://api.github.com/users/dhh/following{/other_user}","gists_url":"https://api.github.com/users/dhh/gists{/gist_id}","starred_url":"https://api.github.com/users/dhh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhh/subscriptions","organizations_url":"https://api.github.com/users/dhh/orgs","repos_url":"https://api.github.com/users/dhh/repos","events_url":"https://api.github.com/users/dhh/events{/privacy}","received_events_url":"https://api.github.com/users/dhh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-28T14:34:24Z","updated_at":"2018-05-28T16:09:39Z","closed_at":"2018-05-28T16:09:39Z","author_association":"MEMBER","body":"We should find a way to hide the `active_storage:install:migrations` task that's being added by virtue of Active Storage being an engine. It's repetitive from `active_storage:install` and shouldn't be run directly.\r\n\r\n```\r\n$ rails -T\r\nrails active_storage:install             # Copy over the migration needed to the application\r\nrails active_storage:install:migrations  # Copy migrations from active_storage to application\r\n```","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/33000","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/33000/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/33000/comments","events_url":"https://api.github.com/repos/rails/rails/issues/33000/events","html_url":"https://github.com/rails/rails/issues/33000","id":326848460,"node_id":"MDU6SXNzdWUzMjY4NDg0NjA=","number":33000,"title":"Getting Started with Rails : NoMethodError in CommentsController#create","user":{"login":"pitsolu","id":16669704,"node_id":"MDQ6VXNlcjE2NjY5NzA0","avatar_url":"https://avatars0.githubusercontent.com/u/16669704?v=4","gravatar_id":"","url":"https://api.github.com/users/pitsolu","html_url":"https://github.com/pitsolu","followers_url":"https://api.github.com/users/pitsolu/followers","following_url":"https://api.github.com/users/pitsolu/following{/other_user}","gists_url":"https://api.github.com/users/pitsolu/gists{/gist_id}","starred_url":"https://api.github.com/users/pitsolu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitsolu/subscriptions","organizations_url":"https://api.github.com/users/pitsolu/orgs","repos_url":"https://api.github.com/users/pitsolu/repos","events_url":"https://api.github.com/users/pitsolu/events{/privacy}","received_events_url":"https://api.github.com/users/pitsolu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-27T20:36:26Z","updated_at":"2018-05-28T19:24:33Z","closed_at":"2018-05-27T22:42:38Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nI'm new to Ruby and Rails. Currently going through the [Getting Started with Rails](http://guides.rubyonrails.org/getting_started.html#adding-a-route-for-comments) Tutorial.\r\nI've been able to resolve all hiccups so far except an error while saving comments.\r\n\r\n### Expected behavior\r\nSave comment without error associated to Article on attribute 'title' appearing.\r\n\r\n### Actual behavior\r\nI get the error below while trying to save a Comment.\r\n\r\n\"NoMethodError in CommentsController#create\r\nundefined method `title' for #<Comment:0x00007fe3ee84b2d0>\"\r\n\r\nThe error appears on [line 6](https://github.com/pitsolu/rails-tutorial-demo/blob/master/app/controllers/comments_controller.rb#L6)\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n**Ruby version**: 2.3.7p456\r\n\r\nPlease assist. Thanks.\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32993","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32993/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32993/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32993/events","html_url":"https://github.com/rails/rails/issues/32993","id":326613071,"node_id":"MDU6SXNzdWUzMjY2MTMwNzE=","number":32993,"title":"please can you give me advice how to create a new ruby project with post and get documents ","user":{"login":"abderrahmen12345","id":27024062,"node_id":"MDQ6VXNlcjI3MDI0MDYy","avatar_url":"https://avatars1.githubusercontent.com/u/27024062?v=4","gravatar_id":"","url":"https://api.github.com/users/abderrahmen12345","html_url":"https://github.com/abderrahmen12345","followers_url":"https://api.github.com/users/abderrahmen12345/followers","following_url":"https://api.github.com/users/abderrahmen12345/following{/other_user}","gists_url":"https://api.github.com/users/abderrahmen12345/gists{/gist_id}","starred_url":"https://api.github.com/users/abderrahmen12345/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abderrahmen12345/subscriptions","organizations_url":"https://api.github.com/users/abderrahmen12345/orgs","repos_url":"https://api.github.com/users/abder
52fc
rahmen12345/repos","events_url":"https://api.github.com/users/abderrahmen12345/events{/privacy}","received_events_url":"https://api.github.com/users/abderrahmen12345/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-25T17:54:09Z","updated_at":"2018-05-25T18:09:05Z","closed_at":"2018-05-25T18:09:05Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n**Ruby version**:\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32990","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32990/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32990/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32990/events","html_url":"https://github.com/rails/rails/issues/32990","id":326553317,"node_id":"MDU6SXNzdWUzMjY1NTMzMTc=","number":32990,"title":"\"Rails 5 requires Ruby 2.2.2 or newer\" when running Ruby 2.2.10p489","user":{"login":"delner","id":3237131,"node_id":"MDQ6VXNlcjMyMzcxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/3237131?v=4","gravatar_id":"","url":"https://api.github.com/users/delner","html_url":"https://github.com/delner","followers_url":"https://api.github.com/users/delner/followers","following_url":"https://api.github.com/users/delner/following{/other_user}","gists_url":"https://api.github.com/users/delner/gists{/gist_id}","starred_url":"https://api.github.com/users/delner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delner/subscriptions","organizations_url":"https://api.github.com/users/delner/orgs","repos_url":"https://api.github.com/users/delner/repos","events_url":"https://api.github.com/users/delner/events{/privacy}","received_events_url":"https://api.github.com/users/delner/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-25T14:46:02Z","updated_at":"2018-05-25T14:57:31Z","closed_at":"2018-05-25T14:57:31Z","author_association":"NONE","body":"Attempting to load a Rails 5 environment while running Ruby 2.2.10 results in the following error:\r\n\r\n```\r\nRails 5 requires Ruby 2.2.2 or newer.\r\n\r\n    You're running\r\n      ruby 2.2.10p489 (2018-03-28 revision 63023) [x86_64-linux]\r\n\r\n    Please upgrade to Ruby 2.2.2 or newer to continue.\r\n```\r\n\r\nWe encountered this issue while using [Rails 5 in our CI pipeline](https://circleci.com/gh/DataDog/dd-trace-rb/2910)\r\n\r\nProblem stems from [this line](https://github.com/rails/rails/blob/32f7491808d2c4e097ed7b3ee875e4d1cea8c442/railties/lib/rails/ruby_version_check.rb#L1) which does a String comparison:\r\n\r\n```\r\nif RUBY_VERSION < '2.2.2' && RUBY_ENGINE == 'ruby'\r\n```\r\n\r\nWhen version is `\"2.2.10\"` or greater, the check fails. If you pass it `\"2.2.9\"` the check passes.\r\n\r\n### Steps to reproduce\r\n\r\n1. Run `ruby:2.2.10` Docker image with `docker run -it --rm ruby:2.2.10 /bin/bash`\r\n2. Install Rails\r\n3. Run `irb`\r\n4. Do `\"2.2.10\" < \"2.2.2\"`, see that it evaluates to `true`.\r\n4. Do `\"2.2.9\" < \"2.2.2\"`, see that it evaluates to `false`.\r\n\r\n### Expected behavior\r\n\r\nIt should not raise an error for Ruby 2.2.10.\r\n\r\n### Actual behavior\r\n\r\nIt raises an error for Ruby 2.2.10 and kills the application.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.5\r\n\r\n**Ruby version**: 2.2.10 MRI.\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32989","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32989/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32989/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32989/events","html_url":"https://github.com/rails/rails/issues/32989","id":326552832,"node_id":"MDU6SXNzdWUzMjY1NTI4MzI=","number":32989,"title":"ActiveStorage: Variants: Is mini_magic safe for params?","user":{"login":"lucfranken","id":1609379,"node_id":"MDQ6VXNlcjE2MDkzNzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1609379?v=4","gravatar_id":"","url":"https://api.github.com/users/lucfranken","html_url":"https://github.com/lucfranken","followers_url":"https://api.github.com/users/lucfranken/followers","following_url":"https://api.github.com/users/lucfranken/following{/other_user}","gists_url":"https://api.github.com/users/lucfranken/gists{/gist_id}","starred_url":"https://api.github.com/users/lucfranken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucfranken/subscriptions","organizations_url":"https://api.github.com/users/lucfranken/orgs","repos_url":"https://api.github.com/users/lucfranken/repos","events_url":"https://api.github.com/users/lucfranken/events{/privacy}","received_events_url":"https://api.github.com/users/lucfranken/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-25T14:44:48Z","updated_at":"2018-05-27T09:28:44Z","closed_at":"2018-05-25T23:24:57Z","author_association":"CONTRIBUTOR","body":"It's not mentioned in the docs whether the params are safe for the ActiveStorage Variant. \r\n\r\nFor queries there is a mention, for example here in blue:\r\nhttp://guides.rubyonrails.org/active_record_querying.html#array-conditions\r\n\r\nIs it safe of should we sanitize?\r\n\r\n_________________________________________________\r\n\r\nThis issue is based on this discussion after pull-request:\r\nhttps://github.com/rails/rails/pull/32936#issuecomment-391620311\r\n\r\nTo get clear what we are talking about follow those steps:\r\n\r\nIf I follow the guide:\r\n\r\nhttp://guides.rubyonrails.org/active_storage_overview.html#transforming-images\r\n\r\nAnd I change the example:\r\n\r\n```ruby\r\n<%= image_tag user.avatar.variant(resize: \"100x100\") %>\r\n```\r\ninto\r\n\r\n```ruby\r\n<%= image_tag user.avatar.variant(resize: params[:size]) %>\r\n```","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32985","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32985/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32985/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32985/events","html_url":"https://github.com/rails/rails/issues/32985","id":326379477,"node_id":"MDU6SXNzdWUzMjYzNzk0Nzc=","number":32985,"title":"ActiveStorage::Blob#purge_later with queue_adapter 'inline' raises NotImplementedError","user":{"login":"SampsonCrowley","id":22461638,"node_id":"MDQ6VXNlcjIyNDYxNjM4","avatar_url":"https://avatars1.githubusercontent.com/u/22461638?v=4","gravatar_id":"","url":"https://api.github.com/users/SampsonCrowley","html_url":"https://github.com/SampsonCrowley","followers_url":"https://api.github.com/users/SampsonCrowley/followers","following_url":"https://api.github.com/users/SampsonCrowley/following{/other_user}","gists_url":"https://api.github.com/users/SampsonCrowley/gists{/gist_id}","starred_url":"https://api.github.com/users/SampsonCrowley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SampsonCrowley/subscriptions","organizations_url":"https://api.github.com/users/SampsonCrowley/orgs","repos_url":"https://api.github.com/users/SampsonCrowley/repos","events_url":"https://api.github.com/users/SampsonCrowley/events{/privacy}","received_events_url":"https://api.github.com/users/SampsonCrowley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-05-25T04:43:58Z","updated_at":"2018-06-08T17:25:17Z","closed_at":"2018-05-28T22:46:40Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\ncall `some_attachment.purge_later` in test environment when queue adapter is set to `:inline`\r\n\r\n### Expected behavior\r\nit should run the purge immediately\r\n\r\n### Actual behavior\r\nraises `NotImplementedError`\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux]\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32980","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32980/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32980/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32980/events","html_url":"https://github.com/rails/rails/issues/32980","id":326321059,"node_id":"MDU6SXNzdWUzMjYzMjEwNTk=","number":32980,"title":"TypeError: ActiveSupport::Duration can't be coerced into Fixnum","user":{"login":"ttsentsiper","id":692607,"node_id":"MDQ6VXNlcjY5MjYwNw==","avatar_url":"https://avatars0.githubusercontent.com/u/692607?v=4","gravatar_id":"","url":"https://api.github.com/users/ttsentsiper","html_url":"https://github.com/ttsentsiper","followers_url":"https://api.github.com/users/ttsentsiper/followers","following_url":"https://api.github.com/users/ttsentsiper/following{/other_user}","gists_url":"https://api.github.com/users/ttsentsiper/gists{/gist_id}","starred_url":"https://api.github.com/users/ttsentsiper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ttsentsiper/subscriptions","organizations_url":"https://api.github.com/users/ttsentsiper/orgs","repos_url":"https://api.github.com/users/ttsentsiper/repos","events_url":"https://api.github.com/users/ttsentsiper/events{/privacy}","received_events_url":"https://api.github.com/users/ttsentsiper/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-24T22:38:57Z","updated_at":"2018-05-24T22:51:06Z","closed_at":"2018-05-24T22:51:05Z","author_association":"NONE","body":"I Just upgraded old rails app (3.2.22) to rails 4.2.10 and I am not sure if this is the right place but after a few hours of research, I am a little stumped. BRAND NEW rails 4.2.10 (same ruby) projects work (the behavior below does not happen) but this upgraded project fails on any instance of the ```ActiveSupport:: Duration``` functions. Did I miss something in the upgrade? Is it a gem issue? load order?\r\n\r\nits not just Fixnum its any of these ActiveSupport::Duration functions\r\n\r\n### Expected behavior\r\n```\r\nirb(main):001:0> 20.days\r\n=> 20 days\r\nirb(main):002:0> 20.days.from_now\r\n=> Wed, 13 Jun 2018 22:35:42 UTC +00:00\r\n```\r\n\r\n### Actual behavior\r\n```\r\nirb(main):003:0> 20.days\r\nTypeError: ActiveSupport::Duration can't be coerced into Fixnum\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-4.2.10/lib/active_support/core_ext/numeric/time.rb:35:in `*'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-4.2.10/lib/active_support/core_ext/numeric/time.rb:35:in `days'\r\n\tfrom (irb):3\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/console.rb:110:in `start'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/console.rb:9:in `start'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/commands_tasks.rb:68:in `console'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands.rb:17:in `<top (required)>'\r\n\tfrom bin/rails:4:in `require'\r\n\tfrom bin/rails:4:in `<main>'\r\nirb(main):004:0> 20.days.from_now\r\nTypeError: ActiveSupport::Duration can't be coerced into Fixnum\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-4.2.10/lib/active_support/core_ext/numeric/time.rb:35:in `*'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-4.2.10/lib/active_support/core_ext/numeric/time.rb:35:in `days'\r\n\tfrom (irb):4\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/console.rb:110:in `start'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/console.rb:9:in `start'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/commands_tasks.rb:68:in `console'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\r\n\tfrom /Users/ttsentsiper/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-4.2.10/lib/rails/commands.rb:17:in `<top (required)>'\r\n\tfrom bin/rails:4:in `require'\r\n\tfrom bin/rails:4:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 4.2.10\r\n\r\n**Ruby version**: ruby 2.3.1p112\r\n\r\n\r\nI also tried upgrading to ruby 2.4 on the same project and the issue persists (seems not ruby related)\r\nAlso copied the gemfile from the project that does not work into a new project and things seem ok","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32974","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32974/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32974/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32974/events","html_url":"https://github.com/rails/rails/issues/32974","id":326123285,"node_id":"MDU6SXNzdWUzMjYxMjMyODU=","number":32974,"title":"Improves AR Forking Test","user":{"login":"GeminPatel","id":7913203,"node_id":"MDQ6VXNlcjc5MTMyMDM=","avatar_url":"https://avatars3.githubusercontent.com/u/7913203?v=4","gravatar_id":"","url":"https://api.github.com/users/GeminPatel","html_url":"https://github.com/GeminPatel","followers_url":"https://api.github.com/users/GeminPatel/followers","following_url":"https://api.github.com/users/GeminPatel/following{/other_user}","gists_url":"https://api.github.com/users/GeminPatel/gists{/gist_id}","starred_url":"https://api.github.com/users/GeminPatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeminPatel/subscriptions","organizations_url":"https://api.github.com/users/GeminPatel/orgs","repos_url":"https://api.github.com/users/GeminPatel/repos","events_url":"https://api.github.com/users/GeminPatel/events{/privacy}","received_events_url":"https://api.github.com/users/GeminPatel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-24T13:31:07Z","updated_at":"2018-05-24T17:27:00Z","closed_at":"2018-05-24T13:46:38Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nThis gist below is copy of an existing [test case](https://github.com/matthewd/rails/blob/f32cff5563f2188e657aa2fd9f8513f0da4a49ca/activerecord/test/cases/connection_adapters/connection_handler_test.rb#L147) in AR\r\n\r\nI suggest we add GC.start before the last assert, to make the test deterministic.\r\nhttps://gist.github.com/GeminPatel/4c0ef392c754e653bf86411eedfd89d2\r\n\r\n### Expected behavior\r\nShould not pass ever on 5.1.0, 4.2.0.\r\n\r\n### Actual behavior\r\nThe [tests](https://github.com/matthewd/rails/blob/f32cff5563f2188e657aa2fd9f8513f0da4a49ca/activerecord/test/cases/connection_adapters/connection_handler_test.rb#L147) pass sometimes on 5.1.0, 4.2.0. Try by changing the AR version in the gist\r\n\r\n\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0\r\n\r\n**Ruby version**: 2.3.1\r\n\r\nPS: I am new, so please forgive in case I am over my head and wrong.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32972","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32972/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32972/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32972/events","html_url":"https://github.com/rails/rails/issues/32972","id":326058623,"node_id":"MDU6SXNzdWUzMjYwNTg2MjM=","number":32972,"title":"How to protect from this (Evilginx).","user":{"login":"johnunclesam","id":21275217,"node_id":"MDQ6VXNlcjIxMjc1MjE3","avatar_url":"https://avatars3.githubusercontent.com/u/21275217?v=4","gravatar_id":"","url":"https://api.github.com/users/johnunclesam","html_url":"https://github.com/johnunclesam","followers_url":"https://api.github.com/users/johnunclesam/followers","following_url":"https://api.github.com/users/johnunclesam/following{/other_user}","gists_url":"https://api.github.com/users/johnunclesam/gists{/gist_id}","starred_url":"https://api.github.com/users/johnunclesam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnunclesam/subscriptions","organizations_url":"https://api.github.com/users/johnunclesam/orgs","repos_url":"https://api.github.com/users/johnunclesam/repos","events_url":"https://api.github.com/users/johnunclesam/events{/privacy}","received_events_url":"https://api.github.com/users/johnunclesam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-24T10:25:06Z","updated_at":"2018-05-24T10:49:39Z","closed_at":"2018-05-24T10:49:39Z","author_association":"NONE","body":"How to protect from this?\r\n\r\nhttps://breakdev.org/evilginx-advanced-phishing-with-two-factor-authentication-bypass/\r\n\r\nI have many websites, in many technologies... I need a way to protect.\r\n\r\nI'm wondering if there is just something like a check of suspicious IP activities in the aftermath.?\r\n\r\nJust this? Really?\r\n\r\nCan I check my SSL certificate? HSTS? Avoid using nginx from serving my site?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32970","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32970/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32970/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32970/events","html_url":"https://github.com/rails/rails/issues/32970","id":325997471,"node_id":"MDU6SXNzdWUzMjU5OTc0NzE=","number":32970,"title":":Error: undefined method `match?'","user":{"login":"Faizaankhan3","id":16518466,"node_id":"MDQ6VXNlcjE2NTE4NDY2","avatar_url":"https://avatars0.githubusercontent.com/u/16518466?v=4","gravatar_id":"","url":"https://api.github.com/users/Faizaankhan3","html_url":"https://github.com/Faizaankhan3","followers_url":"https://api.github.com/users/Faizaankhan3/followers","following_url":"https://api.github.com/users/Faizaankhan3/following{/other_user}","gists_url":"https://api.github.com/users/Faizaankhan3/gists{/gist_id}","starred_url":"https://api.github.com/users/Faizaankhan3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Faizaankhan3/subscriptions","organizations_url":"https://api.github.com/users/Faizaankhan3/orgs","repos_url":"https://api.github.com/users/Faizaankhan3/repos","events_url":"https://api.github.com/users/Faizaankhan3/events{/privacy}","received_events_url":"https://api.github.com/users/Faizaankhan3/received_events","type":"User","site_admin":false},"labels":[{"id":107189,"node_id":"MDU6TGFiZWwxMDcxODk=","url":"https://api.github.com/repos/rails/rails/labels/actionpack","name":"actionpack","color":"FFF700","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-05-24T07:32:10Z","updated_at":"2018-05-24T19:36:41Z","closed_at":"2018-05-24T19:36:41Z","author_association":"NONE","body":"https://github.com/rails/rails/blob/375a4143cf5caeb6159b338be824903edfd62836/actionpack/lib/action_dispatch/middleware/templates/rescues/invalid_statement.html.erb#L13\r\n\r\nGetting below error in Ruby Version 2.3.3 and Rails version 5.2.0\r\nPlease have a look \r\n\r\nActionView::Template::Error: undefined method `match?' for #<String:0x0055f37773e6f8>\r\nDid you mean?  match\r\n .../.rvm/gems/ruby-2.3.3@*/gems/actionpack-5.2.0/lib/action_dispatch/middleware/templates/rescues/invalid_statement.html.erb:\r\n","score":1.0}]}
0

