HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sun, 13 May 2018 13:01:22 GMT
Link: <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CE00:4F42:44DF091:8AC1850:5AF83721
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 2
X-Ratelimit-Reset: 1526216518
X-Runtime-Rack: 0.577997
X-Xss-Protection: 1; mode=block

8000
{"total_count":11062,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/rails/rails/issues/32879","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32879/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32879/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32879/events","html_url":"https://github.com/rails/rails/issues/32879","id":322578649,"number":32879,"title":"Running `app:update` doesn't respect `rails new` options","user":{"login":"vfonic","id":67437,"avatar_url":"https://avatars0.githubusercontent.com/u/67437?v=4","gravatar_id":"","url":"https://api.github.com/users/vfonic","html_url":"https://github.com/vfonic","followers_url":"https://api.github.com/users/vfonic/followers","following_url":"https://api.github.com/users/vfonic/following{/other_user}","gists_url":"https://api.github.com/users/vfonic/gists{/gist_id}","starred_url":"https://api.github.com/users/vfonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vfonic/subscriptions","organizations_url":"https://api.github.com/users/vfonic/orgs","repos_url":"https://api.github.com/users/vfonic/repos","events_url":"https://api.github.com/users/vfonic/events{/privacy}","received_events_url":"https://api.github.com/users/vfonic/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-13T09:30:12Z","updated_at":"2018-05-13T11:23:04Z","closed_at":"2018-05-13T11:20:37Z","author_association":"CONTRIBUTOR","body":"EDIT:\r\nI just saw this PR: https://github.com/rails/rails/pull/29645\r\nLooking further to see if it covers all of my mentioned cases.\r\n\r\nI believe that `rails app:update` was introduced for the ease of updating to newer rails versions. However, sometimes it introduces unnecessary extra work and makes it look like it might be easier to simply skip the rake task and update manually. This is unfortunate, as I think `rails app:update` has a great potential, especially in rails where a lot of users find it non trivial to update to the next rails version.\r\n\r\n### Steps to reproduce\r\n\r\n1. Create a new rails app with options related to rails \"core\" gems. For example `--skip-yarn` or `--skip-action-cable`:\r\n`rails _5.1.6_ new active_storage_skippy --skip-active-storage`\r\n2. Bump rails version in `Gemfile`:\r\n`gem 'rails', '~> 5.2.0'`\r\n3. Bundle update; Rails app update:\r\n`rails app:update`\r\n4. Accept all prompts\r\n5. Find all kinds of ActiveStorage relics after the update:\r\n`config/storage.yml`, `config/environments/{development,test,production}.rb`: `config.active_storage.service = ...`\r\n\r\n### Expected behavior\r\n\r\nIf ActiveStorage (or any other gem) is not available in the application, skip adding changes related to it on `app:update`.\r\n\r\n### Actual behavior\r\n\r\nExplained above. Under `#5`\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.6 / 5.2.0\r\n**Ruby version**:\r\n2.4.2\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32877","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32877/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32877/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32877/events","html_url":"https://github.com/rails/rails/issues/32877","id":322507632,"number":32877,"title":"lower limit range is wrong value in ActiveRecord validates 'length in' option","user":{"login":"kuro-kuroite","id":26164343,"avatar_url":"https://avatars1.githubusercontent.com/u/26164343?v=4","gravatar_id":"","url":"https://api.github.com/users/kuro-kuroite","html_url":"https://github.com/kuro-kuroite","followers_url":"https://api.github.com/users/kuro-kuroite/followers","following_url":"https://api.github.com/users/kuro-kuroite/following{/other_user}","gists_url":"https://api.github.com/users/kuro-kuroite/gists{/gist_id}","starred_url":"https://api.github.com/users/kuro-kuroite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kuro-kuroite/subscriptions","organizations_url":"https://api.github.com/users/kuro-kuroite/orgs","repos_url":"https://api.github.com/users/kuro-kuroite/repos","events_url":"https://api.github.com/users/kuro-kuroite/events{/privacy}","received_events_url":"https://api.github.com/users/kuro-kuroite/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-12T12:28:52Z","updated_at":"2018-05-12T12:43:56Z","closed_at":"2018-05-12T12:43:56Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n1. make new rails app and generate content column in blogs table\r\n\r\n```sh\r\n$ rails new bug_reproduction\r\n$ cd $_\r\n\r\n$ rails g model blog content:text\r\n$ rails db:migrate\r\n```\r\n\r\n2. replace models/blog.rb file like this\r\n\r\n```rb\r\nclass Blog < ApplicationRecord\r\n  validates :content, presence: true,\r\n                      length: { in: 1..140 }\r\nend\r\n```\r\n3.  generate an error in rails console\r\n\r\n```sh\r\n$ rails c\r\n> Blog.create.errors.full_messages\r\n```\r\n\r\n### Expected behavior\r\n\r\nonly content presence validation\r\n\r\n`[\"Content can't be blank\"]`\r\n\r\n### Actual behavior\r\n\r\nnot only presence error but also length error are occurring\r\n\r\n`[\"Content can't be blank\", \"Content is too short (minimum is 1 character)\"]`\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.1.6\r\n**Ruby version**:\r\nruby 2.3.4p301 (2017-03-30 revision 58214) [x86_64-linux]","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32869","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32869/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32869/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32869/events","html_url":"https://github.com/rails/rails/issues/32869","id":322173359,"number":32869,"title":"Why is structure empty when table_name is not?","user":{"login":"avineshwar","id":5191100,"avatar_url":"https://avatars2.githubusercontent.com/u/5191100?v=4","gravatar_id":"","url":"https://api.github.com/users/avineshwar","html_url":"https://github.com/avineshwar","followers_url":"https://api.github.com/users/avineshwar/followers","following_url":"https://api.github.com/users/avineshwar/following{/other_user}","gists_url":"https://api.github.com/users/avineshwar/gists{/gist_id}","starred_url":"https://api.github.com/users/avineshwar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avineshwar/subscriptions","organizations_url":"https://api.github.com/users/avineshwar/orgs","repos_url":"https://api.github.com/users/avineshwar/repos","events_url":"https://api.github.com/users/avineshwar/events{/privacy}","received_events_url":"https://api.github.com/users/avineshwar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-11T05:36:35Z","updated_at":"2018-05-11T06:04:07Z","closed_at":"2018-05-11T06:04:06Z","author_association":"NONE","body":"https://github.com/rails/rails/blob/375a4143cf5caeb6159b338be824903edfd62836/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb#L396\r\n\r\n\r\n- It raises an exception and essentially I cannot move ahead. Please suggest a reasoning and remediation.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32867","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32867/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32867/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32867/events","html_url":"https://github.com/rails/rails/issues/32867","id":322108339,"number":32867,"title":"5.1.5 → 5.1.6 breaks uniqueness validation","user":{"login":"zhuravel","id":1140581,"avatar_url":"https://avatars3.githubusercontent.com/u/1140581?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuravel","html_url":"https://github.com/zhuravel","followers_url":"https://api.github.com/users/zhuravel/followers","following_url":"https://api.github.com/users/zhuravel/following{/other_user}","gists_url":"https://api.github.com/users/zhuravel/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuravel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuravel/subscriptions","organizations_url":"https://api.github.com/users/zhuravel/orgs","repos_url":"https://api.github.com/users/zhuravel/repos","events_url":"https://api.github.com/users/zhuravel/events{/privacy}","received_events_url":"https://api.github.com/users/zhuravel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-10T22:31:09Z","updated_at":"2018-05-11T11:43:29Z","closed_at":"2018-05-11T11:30:48Z","author_association":"NONE","body":"[This commit](https://github.com/rails/rails/commit/aa2b1ab56b1d546a6af6072adf6537eb4db1fbb9#diff-1a091d0f7eb7b0b2ca95c82f5ba0e1fbR20) in 5.1.6 assumes `id_in_database` never return nil value for persisted record, but it does.\r\nThe test below passes on 5.1.5 and fails on 5.1.6 and above.\r\n\r\n### Steps to reproduce\r\n\r\n``` ruby\r\n# frozen_string_literal: true\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", \"5.1.6\"\r\n  gem \"sqlite3\"\r\n  gem \"openssl\", \">= 2.0.3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :employees, force: true do |t|\r\n    t.string :type\r\n    t.string :full_name\r\n    t.text :working_conditions\r\n  end\r\nend\r\n\r\nclass Employee < ActiveRecord::Base\r\n  serialize :working_conditions, Hash\r\n  store_accessor :working_conditions, \"hours_per_week\"\r\n  validates_uniqueness_of :full_name\r\nend\r\n\r\nclass FullTimeEmployee < Employee\r\nend\r\n\r\nclass PartTimeEmployee < Employee\r\n  after_initialize :init_defaults\r\n\r\n  def init_defaults\r\n    self.hours_per_week = 20\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_validate_uniqueness_works_with_becomes\r\n    employee = FullTimeEmployee.create(full_name: \"Bohdan Zhuravel\")\r\n    employee = employee.becomes!(PartTimeEmployee)\r\n\r\n    assert employee.valid?, \"Should be valid\"\r\n    assert employee.save, \"Should still save employee as unique\"\r\n\r\n    # Assertions below should also pass, but they don’t (both v5.1.5 and v5.1.6).\r\n    # Persisted record does not have id_in_database.\r\n\r\n    # assert !employee.id_in_database.nil?\r\n    # assert_equal employee.id, employee.id_in_database\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n`id_in_database` should be present for persisted record.\r\n\r\n### Actual behavior\r\n`id_in_database` is nil for persisted record and the uniqueness validation is broken.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.6 and above\r\n\r\n**Ruby version**: 2.4.2","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32866","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32866/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32866/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32866/events","html_url":"https://github.com/rails/rails/issues/32866","id":322101189,"number":32866,"title":"Activestorrage service_url missing default_url_options[:host]","user":{"login":"johansmitsnl","id":12995632,"avatar_url":"https://avatars3.githubusercontent.com/u/12995632?v=4","gravatar_id":"","url":"https://api.github.com/users/johansmitsnl","html_url":"https://github.com/johansmitsnl","followers_url":"https://api.github.com/users/johansmitsnl/followers","following_url":"https://api.github.com/users/johansmitsnl/following{/other_user}","gists_url":"https://api.github.com/users/johansmitsnl/gists{/gist_id}","starred_url":"https://api.github.com/users/johansmitsnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johansmitsnl/subscriptions","organizations_url":"https://api.github.com/users/johansmitsnl/orgs","repos_url":"https://api.github.com/users/johansmitsnl/repos","events_url":"https://api.github.com/users/johansmitsnl/events{/privacy}","received_events_url":"https://api.github.com/users/johansmitsnl/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-10T22:01:45Z","updated_at":"2018-05-12T11:07:06Z","closed_at":"2018-05-10T22:31:27Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n1. Create a new rails app 5.2.0\r\n2. Add active storrage\r\n3. Add model with attachment\r\n4. Add file to the model\r\n5. Create a helper that calls a on the attachment (or variant) the service_url\r\n\r\n### Expected behavior\r\nGive back a service url for the attachment\r\n\r\n### Actual behavior\r\nRaises an error that the host is not set\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.5.1\r\n\r\nCreated a new app and activated activestorrage.\r\nI want to create a service_url behind a protected link.\r\n\r\nMy test code is:\r\n```ruby\r\nUser.avatar.variant(resize: '100x100').service_url\r\n```\r\nThe error:\r\n```\r\nMissing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true\r\n```\r\nDo I miss something because normal url helpers like: `root_url` work as expected. In the documentation it does not mention this and it seems strange that I need to set it while for other url helpers it works fine.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32857","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32857/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32857/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32857/events","html_url":"https://github.com/rails/rails/issues/32857","id":321618403,"number":32857,"title":"rails new . --with-bootstrap-latest ?","user":{"login":"oystersauce8","id":10361390,"avatar_url":"https://avatars1.githubusercontent.com/u/10361390?v=4","gravatar_id":"","url":"https://api.github.com/users/oystersauce8","html_url":"https://github.com/oystersauce8","followers_url":"https://api.github.com/users/oystersauce8/followers","following_url":"https://api.github.com/users/oystersauce8/following{/other_user}","gists_url":"https://api.github.com/users/oystersauce8/gists{/gist_id}","starred_url":"https://api.github.com/users/oystersauce8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oystersauce8/subscriptions","organizations_url":"https://api.github.com/users/oystersauce8/orgs","repos_url":"https://api.github.com/users/oystersauce8/repos","events_url":"https://api.github.com/users/oystersauce8/events{/privacy}","received_events_url":"https://api.github.com/users/oystersauce8/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-09T15:29:22Z","updated_at":"2018-05-10T00:11:21Z","closed_at":"2018-05-10T00:11:21Z","author_association":"NONE","body":"\r\nI've worked with many rails code bases, and very few of them had vue.js\r\nYet when I generate a new rails application today with rails 5, I can specify vuejs as a framework.\r\n\r\n95% of rails apps I come across have some kind of bootstrap integration. So I think it's fair to\r\nsay it (bootstrap) is not an exotic framework, many new sites use it.\r\n\r\nSo it would be nice (imho) if the rails new command somehow provided an option to turn on or off the bootstrap frontend framework. (much like you can say no coffee script) \r\nThus avoiding the need for a newly generated app to do the\r\n`mv app/assets/stylesheets/application.css app/assets/stylesheets/application.scss` dance \r\nand\r\n`@import \"bootstrap\";`\r\netc\r\n\r\nWhatchu think?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32853","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32853/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32853/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32853/events","html_url":"https://github.com/rails/rails/issues/32853","id":321482265,"number":32853,"title":"ActiveJob discard_on does not pass exception class","user":{"login":"javinto","id":363831,"avatar_url":"https://avatars0.githubusercontent.com/u/363831?v=4","gravatar_id":"","url":"https://api.github.com/users/javinto","html_url":"https://github.com/javinto","followers_url":"https://api.github.com/users/javinto/followers","following_url":"https://api.github.com/users/javinto/following{/other_user}","gists_url":"https://api.github.com/users/javinto/gists{/gist_id}","starred_url":"https://api.github.com/users/javinto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javinto/subscriptions","organizations_url":"https://api.github.com/users/javinto/orgs","repos_url":"https://api.github.com/users/javinto/repos","events_url":"https://api.github.com/users/javinto/events{/privacy}","received_events_url":"https://api.github.com/users/javinto/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-09T08:44:00Z","updated_at":"2018-05-12T04:55:26Z","closed_at":"2018-05-12T04:55:26Z","author_association":"NONE","body":"I've got an ActiveJob on Rails 5.2 where I used\r\n\r\n```\r\ndiscard_on(StandardError) do |job, exception|\r\n   logger.info exception.message\r\nend\r\n```\r\n\r\nI expect the exception message to log. \r\n\r\nBut instead I get an error: \r\nNoMethodError: undefined method `message' for StandardError:Class\r\n\r\nLooking at the code of the discard_on method, I see:\r\n```\r\nrescue_from exception do |error|\r\n    if block_given?\r\n      yield self, exception\r\n```\r\n\r\nwhile the retry_on method - working kind of similar -  yields the error argument:\r\n\r\n```\r\nrescue_from exception do |error|\r\n     ....\r\n      if block_given?\r\n        yield self, error\r\n```\r\n\r\nMy conclusion: the discard_on method should yield self, error\r\n\r\n### System configuration\r\nRails 5.2.0\r\n\r\nRuby 2.4.3\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32839","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32839/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32839/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32839/events","html_url":"https://github.com/rails/rails/issues/32839","id":320771973,"number":32839,"title":"Installing ActionCable library by yarn with 'autoclean' option","user":{"login":"BEGEMOT9I","id":11138075,"avatar_url":"https://avatars1.githubusercontent.com/u/11138075?v=4","gravatar_id":"","url":"https://api.github.com/users/BEGEMOT9I","html_url":"https://github.com/BEGEMOT9I","followers_url":"https://api.github.com/users/BEGEMOT9I/followers","following_url":"https://api.github.com/users/BEGEMOT9I/following{/other_user}","gists_url":"https://api.github.com/users/BEGEMOT9I/gists{/gist_id}","starred_url":"https://api.github.com/users/BEGEMOT9I/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BEGEMOT9I/subscriptions","organizations_url":"https://api.github.com/users/BEGEMOT9I/orgs","repos_url":"https://api.github.com/users/BEGEMOT9I/repos","events_url":"https://api.github.com/users/BEGEMOT9I/events{/privacy}","received_events_url":"https://api.github.com/users/BEGEMOT9I/received_events","type":"User","site_admin":false},"labels":[{"id":300028327,"url":"https://api.github.com/repos/rails/rails/labels/actioncable","name":"actioncable","color":"bfdadc","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-07T11:39:02Z","updated_at":"2018-05-10T10:51:12Z","closed_at":"2018-05-10T10:51:12Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n`yarn install` for `actioncable` with `autoclean` (https://yarnpkg.com/lang/en/docs/cli/autoclean/)\r\n\r\n### Expected behavior\r\nUnknow\r\n\r\n### Actual behavior\r\n**`.yarnclean` File example:**\r\n```\r\n# asset directories\r\ndocs\r\ndoc\r\nwebsite\r\nimages\r\nassets\r\n```\r\n\r\nBy default, `yarn` cleaning all dirs assets from packages. You can, of course, forbid him to delete a folder from your library, but, it seems to me, this is wrong. Is it possible to move the source code to the root of the library?\r\n\r\n### System configuration\r\n**Rails version**: any\r\n\r\n**Ruby version**: any\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32836","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32836/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32836/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32836/events","html_url":"https://github.com/rails/rails/issues/32836","id":320702057,"number":32836,"title":"Specific Text is Causing Literal = Equals sign in email after mail.body.encoded is called","user":{"login":"uhrohraggy","id":3861250,"avatar_url":"https://avatars0.githubusercontent.com/u/3861250?v=4","gravatar_id":"","url":"https://api.github.com/users/uhrohraggy","html_url":"https://github.com/uhrohraggy","followers_url":"https://api.github.com/users/uhrohraggy/followers","following_url":"https://api.github.com/users/uhrohraggy/following{/other_user}","gists_url":"https://api.github.com/users/uhrohraggy/gists{/gist_id}","starred_url":"https://api.github.com/users/uhrohraggy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uhrohraggy/subscriptions","organizations_url":"https://api.github.com/users/uhrohraggy/orgs","repos_url":"https://api.github.com/users/uhrohraggy/repos","events_url":"https://api.github.com/users/uhrohraggy/events{/privacy}","received_events_url":"https://api.github.com/users/uhrohraggy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-05-07T07:30:23Z","updated_at":"2018-05-07T17:50:02Z","closed_at":"2018-05-07T15:08:51Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nFork https://github.com/uhrohraggy/email-bug (sample app showing mail behavior)\r\nRun the following\r\n\r\n```\r\nrails c\r\nUserMailer.test.deliver_now #Shows generating the Email generally\r\n# or\r\nUserMailer.test2.deliver_now #uses built-in mail function\r\n```\r\nIt doesn't appear any special characters or encodings are used, but perhaps I'm missing something?\r\n\r\n### Expected behavior\r\nEmail should be delivered as specified in the Mailer template and without literal equals signs in the email and between characters.\r\n\r\n>  Fix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to MeetFix height of Parking and Where to Meet\r\n\r\n\r\n### Actual behavior\r\nEmail renders with literal equals sign in the email, which is present after mailer internally calls `mail.body.encoded`. \r\n\r\n> Fix height of Parking and Where to MeetFix height of Parking and Where = to MeetFix height of Parking and Where to MeetFix height of Parking and W= here to MeetFix height of Parking and Where to MeetFix height of Parking = and Where to MeetFix height of Parking and Where to MeetFix height of Par= king and Where to MeetFix height of Parking and Where to MeetFix height o= f Parking and Where to MeetFix height of Parking and Where to MeetFix hei= ght of Parking and Where to MeetFix height of Parking and Where to MeetFi= x height of Parking and Where to MeetFix height of Parking and Where to M= eetFix height of Parking and Where to MeetFix height of Parking and Where= to MeetFix height of Parking and Where to MeetFix height of Parking and = Where to MeetFix height of Parking and Where to MeetFix height of Parking= and Where to MeetFix height of Parking and Where to MeetFix height of Pa= rking and Where to MeetFix height of Parking and Where to MeetFix height = of Parking and Where to MeetFix height of Parking and Where to Meet\r\n\r\n\r\n\r\n### System configuration\r\n**Rails version**: Rails 5.1.6\r\n\r\n**Ruby version**: ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin17]\r\n<img width=\"1222\" alt=\"screen shot 2018-05-07 at 3 20 57 am\" src=\"https://user-images.githubusercontent.com/3861250/39690001-9637d96c-51a6-11e8-8d42-5ffb1f170a93.png\">\r\n<img width=\"1438\" alt=\"screen shot 2018-05-07 at 3 28 12 am\" src=\"https://user-images.githubusercontent.com/3861250/39690042-bc81f152-51a6-11e8-925b-988f2f3b56c6.png\">\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32834","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32834/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32834/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32834/events","html_url":"https://github.com/rails/rails/issues/32834","id":320619274,"number":32834,"title":"undefined method `deliver_now!' for #<Mail::Message:0x00000000027aa470>","user":{"login":"knzudgt","id":15718033,"avatar_url":"https://avatars0.githubusercontent.com/u/15718033?v=4","gravatar_id":"","url":"https://api.github.com/users/knzudgt","html_url":"https://github.com/knzudgt","followers_url":"https://api.github.com/users/knzudgt/followers","following_url":"https://api.github.com/users/knzudgt/following{/other_user}","gists_url":"https://api.github.com/users/knzudgt/gists{/gist_id}","starred_url":"https://api.github.com/users/knzudgt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knzudgt/subscriptions","organizations_url":"https://api.github.com/users/knzudgt/orgs","repos_url":"https://api.github.com/users/knzudgt/repos","events_url":"https://api.github.com/users/knzudgt/events{/privacy}","received_events_url":"https://api.github.com/users/knzudgt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-06T19:08:19Z","updated_at":"2018-05-06T22:38:57Z","closed_at":"2018-05-06T22:38:56Z","author_association":"NONE","body":"I am studying Peter Cooper's book Beginning Ruby.\r\nAccording to the author ActionMailer can be used independently of Rails.\r\nSo I installed the ActionMailer gem and wrote the code below which is an extract from the book:\r\n\r\n    require 'action_mailer'\r\n\r\n    ActionMailer::Base.smtp_settings = {\r\n\t    :address => \"smtp.mail.yahoo.com\",\r\n\t    :port => 465,\r\n\t    :authentication => :login,\r\n\t    :user_name => \"username@yahoo.com\",\r\n\t    :password => \"password\",\r\n\t    :openssl_verify_mode => :ssl\r\n    }\r\n\r\n    class Emailer < ActionMailer::Base\r\n\t  def test_email(email_address, email_body)\r\n        mail(to: email_address, from: 'username@yahoo.com', subject: 'action mailer test', body: email_body)\r\n\t  end\r\n    end\r\n\r\n    emailer = Emailer.new\r\n    emailer.test_email('username@gmail.com', 'This is a test e-mail!').deliver_now\r\n\r\nWhen I run the rb file containing the above code I receive the following error message:\r\n\r\n    /home/knzudgt/.rvm/gems/ruby-2.5.1@beginning_ruby/gems/mail-2.7.0/lib/mail/message.rb:1396:in `method_missing': undefined method `deliver_now' for #<Mail::Message:0x0000000002256b68> (NoMethodError)\r\n\r\nWhy the method `deliver_now` is not recognized?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32824","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32824/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32824/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32824/events","html_url":"https://github.com/rails/rails/issues/32824","id":320523221,"number":32824,"title":"has_secure_token NoMethodError: undefined method `token?'","user":{"login":"itay-grudev","id":2123767,"avatar_url":"https://avatars2.githubusercontent.com/u/2123767?v=4","gravatar_id":"","url":"https://api.github.com/users/itay-grudev","html_url":"https://github.com/itay-grudev","followers_url":"https://api.github.com/users/itay-grudev/followers","following_url":"https://api.github.com/users/itay-grudev/following{/other_user}","gists_url":"https://api.github.com/users/itay-grudev/gists{/gist_id}","starred_url":"https://api.github.com/users/itay-grudev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itay-grudev/subscriptions","organizations_url":"https://api.github.com/users/itay-grudev/orgs","repos_url":"https://api.github.com/users/itay-grudev/repos","events_url":"https://api.github.com/users/itay-grudev/events{/privacy}","received_events_url":"https://api.github.com/users/itay-grudev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-05T16:39:36Z","updated_at":"2018-05-05T22:30:54Z","closed_at":"2018-05-05T22:30:54Z","author_association":"NONE","body":"In some situations I am getting a:\r\n```\r\n`NoMethodError: undefined method `token?'`.\r\n```\r\n\r\nFor example creating an object containing `has_secure_token` with FactoryBot.\r\n\r\nI traced the issue to line `32`:\r\n\r\nhttps://github.com/rails/rails/blob/831be98f9a6685da3410b0c9bf4143bd8dd647af/activerecord/lib/active_record/secure_token.rb#L28-L33\r\n\r\nCan we instead use something like:\r\n\r\n```ruby\r\nself.try(\"#{attribute}?\")\r\n```\r\n\r\ninstead of\r\n\r\n```ruby\r\nsend(\"#{attribute}?\")\r\n```\r\n\r\nThis would bypass the issue and allow for a broader range of scenarios without breaking backwards compatibility.\r\n\r\nP.S. Though I'm not sure why exactly the `token?` method is missing, but I don't have time to dig in the ActiveRecord and FactoryBot code.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32816","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/iss
8000
ues/32816/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32816/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32816/events","html_url":"https://github.com/rails/rails/issues/32816","id":320237627,"number":32816,"title":"How to move particular controller action log from production.log to test.log ?","user":{"login":"ShubhamSChouhan","id":29707026,"avatar_url":"https://avatars1.githubusercontent.com/u/29707026?v=4","gravatar_id":"","url":"https://api.github.com/users/ShubhamSChouhan","html_url":"https://github.com/ShubhamSChouhan","followers_url":"https://api.github.com/users/ShubhamSChouhan/followers","following_url":"https://api.github.com/users/ShubhamSChouhan/following{/other_user}","gists_url":"https://api.github.com/users/ShubhamSChouhan/gists{/gist_id}","starred_url":"https://api.github.com/users/ShubhamSChouhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShubhamSChouhan/subscriptions","organizations_url":"https://api.github.com/users/ShubhamSChouhan/orgs","repos_url":"https://api.github.com/users/ShubhamSChouhan/repos","events_url":"https://api.github.com/users/ShubhamSChouhan/events{/privacy}","received_events_url":"https://api.github.com/users/ShubhamSChouhan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-04T11:16:19Z","updated_at":"2018-05-04T13:09:55Z","closed_at":"2018-05-04T13:09:55Z","author_association":"NONE","body":"For example :\r\nProcessing TestController#test_action (for 00.00.00.00 at 2018-03-21 11:37:52) [POST]\r\n  Parameters: {\"action\"=>\"test_action\", \"id\"=>\"1\", \"controller\"=>\"test\", \"authenticity_token\"=>\"***************************************\"}\r\n[paperclip] Saving attachments.\r\nCompleted in 23277ms (View: 000, DB: 000) | 200 OK [https://localhost.test/test/test_action/11]\r\n\r\n### Expected behavior\r\nAbove log comes in front on me 1000's of times when I do tail -f log/production.log to see my production logs, and because of the above action, I wasnt able to check my other important logs which are few in number, so I want to move the particular controller action log to another new log file which makes my logging experience better.\r\n\r\n### System configuration\r\n**Rails version**:\r\n2.3\r\n**Ruby version**:\r\n1.8.7\r\n\r\nPlease help.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32814","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32814/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32814/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32814/events","html_url":"https://github.com/rails/rails/issues/32814","id":320212134,"number":32814,"title":"`date_select` always sends current day number","user":{"login":"carlesjove","id":1800981,"avatar_url":"https://avatars1.githubusercontent.com/u/1800981?v=4","gravatar_id":"","url":"https://api.github.com/users/carlesjove","html_url":"https://github.com/carlesjove","followers_url":"https://api.github.com/users/carlesjove/followers","following_url":"https://api.github.com/users/carlesjove/following{/other_user}","gists_url":"https://api.github.com/users/carlesjove/gists{/gist_id}","starred_url":"https://api.github.com/users/carlesjove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlesjove/subscriptions","organizations_url":"https://api.github.com/users/carlesjove/orgs","repos_url":"https://api.github.com/users/carlesjove/repos","events_url":"https://api.github.com/users/carlesjove/events{/privacy}","received_events_url":"https://api.github.com/users/carlesjove/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-04T09:42:31Z","updated_at":"2018-05-04T10:18:22Z","closed_at":"2018-05-04T10:18:22Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nI have created a sample app that reproduces the error: https://github.com/carlesjove/rails-date-error-demo\r\n\r\nAs you can see, it's a clean app that just uses the `date_select` helper. Nothing else.\r\n\r\nHere's [a video](https://vimeo.com/267973681), too, showing both the form and server output.\r\n\r\n### Expected behavior\r\n\r\nWhen selecting a day number in `date_select`, the select day number should be the one that is sent to the server.\r\n\r\n### Actual behavior\r\n\r\nIn a form using `date_select` and `time_select`, day number parameter (`starts_at(3i)`) that gets to the server is always the current day number, regardless of what's selected in the form.\r\n\r\nIf using `datetime_select` instead, everything works as expected.\r\n\r\n### System configuration\r\n**Rails version**: 5.2\r\n\r\n**Ruby version**: 2.5.1\r\n\r\n\r\nPS: Not sure I have the skills, but I'll be happy to try a fix if given some tips of where to start :-)","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32812","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32812/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32812/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32812/events","html_url":"https://github.com/rails/rails/issues/32812","id":320194250,"number":32812,"title":"[ActiveRecord] Migration 5.2 cause db tables recored is deleted.","user":{"login":"zw963","id":549126,"avatar_url":"https://avatars3.githubusercontent.com/u/549126?v=4","gravatar_id":"","url":"https://api.github.com/users/zw963","html_url":"https://github.com/zw963","followers_url":"https://api.github.com/users/zw963/followers","following_url":"https://api.github.com/users/zw963/following{/other_user}","gists_url":"https://api.github.com/users/zw963/gists{/gist_id}","starred_url":"https://api.github.com/users/zw963/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zw963/subscriptions","organizations_url":"https://api.github.com/users/zw963/orgs","repos_url":"https://api.github.com/users/zw963/repos","events_url":"https://api.github.com/users/zw963/events{/privacy}","received_events_url":"https://api.github.com/users/zw963/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-05-04T08:40:30Z","updated_at":"2018-05-04T11:12:06Z","closed_at":"2018-05-04T10:14:55Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nA have a old project, which use sequel, it worked, so, in my develop online database, \r\nexists a table, named: 'schema_info', have a version column, value is `73`, that means, \r\nthe last we runed migrate is  `0073_change_metadata_type_to_string_for_feeds.rb`.\r\n\r\nI create a new project, which run migrate use ActiveRecord 5.2, so i dump the database\r\ninto one file, named: `db/migrate/20180504062319_add_tables.rb`, in the files, have so\r\nmany create_table methods\r\n\r\n```rb\r\nclass AddTables < ActiveRecord::Migration[5.2]\r\n  def change\r\n    create_table \"activities\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\", force: :cascade do |t|\r\n      t.string \"title\", default: \"\", null: false\r\n      t.text \"content\", limit: 16777215, null: false, comment: \"动态内容\"\r\n      t.bigint \"creator_id\", default: 0, null: false\r\n      t.datetime \"happened_at\", default: -> { \"CURRENT_TIMESTAMP\" }, null: false, comment: \"动态用户填入的记录时间\"\r\n      t.datetime \"created_at\", default: -> { \"CURRENT_TIMESTAMP\" }, null: false\r\n      t.datetime \"updated_at\", default: -> { \"CURRENT_TIMESTAMP\" }, null: false\r\n      t.bigint \"subject_id\", default: 0, null: false\r\n      t.bigint \"clazz_id\", default: 0, null: false\r\n      t.bigint \"kindergarten_id\", default: 0, null: false\r\n      t.bigint \"feed_id\", default: 0, null: false\r\n      t.bigint \"grade_id\", default: 0, null: false\r\n      t.index [\"clazz_id\"], name: \"activities_clazz_id_index\"\r\n      t.index [\"creator_id\"], name: \"activities_creator_id_index\"\r\n      t.index [\"feed_id\"], name: \"activities_feed_id_index\"\r\n      t.index [\"grade_id\"], name: \"activities_grade_id_index\"\r\n      t.index [\"kindergarten_id\"], name: \"activities_kindergarten_id_index\"\r\n      t.index [\"subject_id\"], name: \"activities_subject_id_index\"\r\n    end\r\n\r\n     ......\r\n\r\n    create_table \"audios\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\r\n\r\n      ......\r\n      ......\r\nend\r\n\r\n### Expected behavior\r\n\r\nthrow some exception,  told me those tables is exist.\r\n\r\n### Actual behavior\r\nIt seem like drop my db before run this migration.\r\n### System configuration\r\n**Rails version**:\r\nRails 5.2.0\r\n\r\n**Ruby version**:\r\nRuby 2.5.1","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32811","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32811/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32811/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32811/events","html_url":"https://github.com/rails/rails/issues/32811","id":320170609,"number":32811,"title":"Don't require 'ruby-oci8' warning as soon as I use ruby-oci8 gem","user":{"login":"francescm","id":785452,"avatar_url":"https://avatars2.githubusercontent.com/u/785452?v=4","gravatar_id":"","url":"https://api.github.com/users/francescm","html_url":"https://github.com/francescm","followers_url":"https://api.github.com/users/francescm/followers","following_url":"https://api.github.com/users/francescm/following{/other_user}","gists_url":"https://api.github.com/users/francescm/gists{/gist_id}","starred_url":"https://api.github.com/users/francescm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francescm/subscriptions","organizations_url":"https://api.github.com/users/francescm/orgs","repos_url":"https://api.github.com/users/francescm/repos","events_url":"https://api.github.com/users/francescm/events{/privacy}","received_events_url":"https://api.github.com/users/francescm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-04T06:57:48Z","updated_at":"2018-05-04T13:39:47Z","closed_at":"2018-05-04T08:54:41Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n    rails new myapp\r\n    cd myapp\r\n    echo \"gem 'ruby-oci8'\" >> Gemfile\r\n    bundle install\r\n\r\n### Expected behavior\r\n\r\nI should start coding, no further settings/fixes required.\r\n\r\n### Actual behavior\r\n\r\n    bundle exec rake -T\r\n\r\nreturns a warning:\r\n\r\n     Don't require 'ruby-oci8'. Use \"require 'oci8'\" instead. 'ruby-oci8.rb' was added only for 'Bundler.require'.\r\n     Warning: NLS_LANG is not set. fallback to US7ASCII.\r\n\r\nSame warning in `rails c` as well.\r\n\r\n### System configuration\r\n\r\n```\r\nAbout your application's environment\r\nRails version             5.2.0\r\nRuby version              2.5.0-p0 (x86_64-darwin17)\r\nRubyGems version          2.7.3\r\nRack version              2.0.5\r\nJavaScript Runtime        Node.js (V8)\r\nMiddleware                Rack::Sendfile, ActionDispatch::Static, ActionDispatch::Executor, ActiveSupport::Cache::Strategy::LocalCache::Middleware, Rack::Runtime, Rack::MethodOverride, ActionDispatch::RequestId, ActionDispatch::RemoteIp, Sprockets::Rails::QuietAssets, Rails::Rack::Logger, ActionDispatch::ShowExceptions, WebConsole::Middleware, ActionDispatch::DebugExceptions, ActionDispatch::Reloader, ActionDispatch::Callbacks, ActiveRecord::Migration::CheckPending, ActionDispatch::Cookies, ActionDispatch::Session::CookieStore, ActionDispatch::Flash, ActionDispatch::ContentSecurityPolicy::Middleware, Rack::Head, Rack::ConditionalGet, Rack::ETag, Rack::TempfileReaper\r\nApplication root          /Users/francesco/sviluppo/rails/oci8\r\nEnvironment               development\r\nDatabase adapter          sqlite3\r\nDatabase schema version   0\r\n\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32797","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32797/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32797/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32797/events","html_url":"https://github.com/rails/rails/issues/32797","id":319709679,"number":32797,"title":"command not found: rake","user":{"login":"frichardben","id":24980034,"avatar_url":"https://avatars1.githubusercontent.com/u/24980034?v=4","gravatar_id":"","url":"https://api.github.com/users/frichardben","html_url":"https://github.com/frichardben","followers_url":"https://api.github.com/users/frichardben/followers","following_url":"https://api.github.com/users/frichardben/following{/other_user}","gists_url":"https://api.github.com/users/frichardben/gists{/gist_id}","starred_url":"https://api.github.com/users/frichardben/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frichardben/subscriptions","organizations_url":"https://api.github.com/users/frichardben/orgs","repos_url":"https://api.github.com/users/frichardben/repos","events_url":"https://api.github.com/users/frichardben/events{/privacy}","received_events_url":"https://api.github.com/users/frichardben/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-02T20:57:52Z","updated_at":"2018-05-02T21:07:15Z","closed_at":"2018-05-02T21:07:15Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\nWheel solidus application\r\n\r\n### Actual behavior\r\n![rake](https://user-images.githubusercontent.com/24980034/39548809-112ad6b0-4e32-11e8-885a-e27b3459a53e.png)\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.1.6\r\n**Ruby version**:\r\n2.4.4\r\n**S.O**\r\nWin10","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32790","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32790/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32790/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32790/events","html_url":"https://github.com/rails/rails/issues/32790","id":319441008,"number":32790,"title":"Folder with active storage","user":{"login":"kaluznyo","id":372462,"avatar_url":"https://avatars2.githubusercontent.com/u/372462?v=4","gravatar_id":"","url":"https://api.github.com/users/kaluznyo","html_url":"https://github.com/kaluznyo","followers_url":"https://api.github.com/users/kaluznyo/followers","following_url":"https://api.github.com/users/kaluznyo/following{/other_user}","gists_url":"https://api.github.com/users/kaluznyo/gists{/gist_id}","starred_url":"https://api.github.com/users/kaluznyo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaluznyo/subscriptions","organizations_url":"https://api.github.com/users/kaluznyo/orgs","repos_url":"https://api.github.com/users/kaluznyo/repos","events_url":"https://api.github.com/users/kaluznyo/events{/privacy}","received_events_url":"https://api.github.com/users/kaluznyo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-02T07:36:46Z","updated_at":"2018-05-02T11:31:16Z","closed_at":"2018-05-02T11:31:16Z","author_association":"NONE","body":"I try to use ActiveStorage to store my images. With paperclip, in S3 bucket we can have product/id_image/*.png. But with ActiveStorage, all is at the root and in the variants folder.\r\n\r\nAny pan to hierarchy this with folder, at least one folder by model ? Because brows in FTP with several images is very slow.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32789","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32789/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32789/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32789/events","html_url":"https://github.com/rails/rails/issues/32789","id":319432436,"number":32789,"title":"Websocket connection error Actioncable rails5 apache","user":{"login":"manohar-nyros","id":18182361,"avatar_url":"https://avatars1.githubusercontent.com/u/18182361?v=4","gravatar_id":"","url":"https://api.github.com/users/manohar-nyros","html_url":"https://github.com/manohar-nyros","followers_url":"https://api.github.com/users/manohar-nyros/followers","following_url":"https://api.github.com/users/manohar-nyros/following{/other_user}","gists_url":"https://api.github.com/users/manohar-nyros/gists{/gist_id}","starred_url":"https://api.github.com/users/manohar-nyros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manohar-nyros/subscriptions","organizations_url":"https://api.github.com/users/manohar-nyros/orgs","repos_url":"https://api.github.com/users/manohar-nyros/repos","events_url":"https://api.github.com/users/manohar-nyros/events{/privacy}","received_events_url":"https://api.github.com/users/manohar-nyros/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-02T07:03:09Z","updated_at":"2018-05-02T07:06:13Z","closed_at":"2018-05-02T07:06:13Z","author_association":"NONE","body":"Action cable not working in AWS with ssl. Getting the following error. It's working fine in local environment.\r\n\r\n> WebSocket connection to 'wss://www.example.net/cable' failed: Error during WebSocket handshake: Unexpected response code: 404\r\n\r\nHere's my apache configuration.\r\n\r\n`<VirtualHost *:80>`\r\n`ServerName    example.net`\r\n`DocumentRoot /home/ubuntu/mydomain/public`\r\n`RewriteEngine On`\r\n`RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f`\r\n`RewriteRule ^/(.*)$ balancer://unicornservers%{REQUEST_URI} [P,QSA,L]`\r\n`<Proxy balancer://unicornservers>`\r\n`Allow from any`\r\n`BalancerMember http://127.0.0.1:3000`\r\n`</Proxy>`\r\n`<Proxy balancer://thinservers>`\r\n`Allow from any`\r\n`BalancerMember http://127.0.0.1:9292`\r\n`</Proxy>`\r\n`ProxyPass /faye http://127.0.0.1:9292`\r\n`ProxyPassReverse /faye http://127.0.0.1:9292`\r\n`ErrorLog ${APACHE_LOG_DIR}/error.log`\r\n`CustomLog ${APACHE_LOG_DIR}/access.log combined`\r\n`<Directory \"/home/ubuntu/mydomain/public\">`\r\n`Options FollowSymLinks`\r\n`Require all granted`\r\n`</Directory>`\r\n`</VirtualHost>`\r\n`<VirtualHost *:443>`\r\n`ServerName    example.net`\r\n`DocumentRoot /home/ubuntu/mydomainco/public`\r\n`RewriteEngine On`\r\n`RewriteCond %{HTTPS} off [OR]`\r\n`RewriteCond %{HTTP_HOST} !^www\\. [NC]`\r\n`RewriteCond %{HTTP_HOST} ^(?:www\\.)?(.+)$ [NC]`\r\n`RewriteRule ^ https://www.%1%{REQUEST_URI} [L,NE,R=301]`\r\n`RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f`\r\n`RewriteRule ^/(.*)$ balancer://unicornservers%{REQUEST_URI} [P,QSA,L]`\r\n`RequestHeader set X-Forwarded-Proto \"https\"`\r\n`RewriteCond %{HTTP_HOST} ^mydomain/.net$ [NC]`\r\n`RewriteRule ^ https://www.example.net%{REQUEST_URI} [R=301,L]`\r\n`<Proxy balancer://unicornservers>`\r\n`Allow from any`\r\n`BalancerMember http://127.0.0.1:3000`\r\n`</Proxy>`\r\n`<Proxy balancer://thinservers>`\r\n`Allow from any`\r\n`BalancerMember http://127.0.0.1:3000`\r\n`</Proxy>`\r\n`RewriteCond %{HTTP:UPGRADE} ^WebSocket$ [NC]`\r\n`RewriteCond %{HTTP:CONNECTION} Upgrade$ [NC]`\r\n`RewriteRule \"/cable\" ws://127.0.0.1:3000/cable [P]`\r\n`ErrorLog ${APACHE_LOG_DIR}/error.log`\r\n`CustomLog ${APACHE_LOG_DIR}/access.log combined`\r\n`SSLEngine on`\r\n`SSLCertificateFile /home/ubuntu/ssl/31755a8ebd042758.crt`\r\n`SSLCertificateKeyFile /home/ubuntu/ssl/mydomain.key`\r\n`SSLCertificateChainFile /home/ubuntu/ssl/gd_bundle-g2-g1.crt`\r\n`<Directory \"/home/ubuntu/mydomainco/public\">`\r\n`Options FollowSymLinks`\r\n`Require all granted`\r\n`</Directory>`\r\n`</VirtualHost>`\r\n\r\nPlease help in this.\r\nThanks in advance.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32786","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32786/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32786/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32786/events","html_url":"https://github.com/rails/rails/issues/32786","id":319322567,"number":32786,"title":"ActiveRecord::Type::Boolean.new.cast doesn't cast capitalized values","user":{"login":"phspies","id":4684625,"avatar_url":"https://avatars1.githubusercontent.com/u/4684625?v=4","gravatar_id":"","url":"https://api.github.com/users/phspies","html_url":"https://github.com/phspies","followers_url":"https://api.github.com/users/phspies/followers","following_url":"https://api.github.com/users/phspies/following{/other_user}","gists_url":"https://api.github.com/users/phspies/gists{/gist_id}","starred_url":"https://api.github.com/users/phspies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phspies/subscriptions","organizations_url":"https://api.github.com/users/phspies/orgs","repos_url":"https://api.github.com/users/phspies/repos","events_url":"https://api.github.com/users/phspies/events{/privacy}","received_events_url":"https://api.github.com/users/phspies/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-01T20:47:05Z","updated_at":"2018-05-01T21:41:10Z","closed_at":"2018-05-01T21:41:10Z","author_association":"NONE","body":"### Expected behavior\r\nActiveRecord::Type::Boolean.new.cast(\"False\") produces true\r\n\r\n### Actual behavior\r\nActiveRecord::Type::Boolean.new.cast(\"False\") should produce false\r\n\r\n### System configuration\r\nRails 5.2.0\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32785","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32785/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32785/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32785/events","html_url":"https://github.com/rails/rails/issues/32785","id":319293109,"number":32785,"title":"Rails CSRF protection with Single Page Application (react, angular, ember)","user":{"login":"johnunclesam","id":21275217,"avatar_url":"https://avatars3.githubusercontent.com/u/21275217?v=4","gravatar_id":"","url":"https://api.github.com/users/johnunclesam","html_url":"https://github.com/johnunclesam","followers_url":"https://api.github.com/users/johnunclesam/followers","following_url":"https://api.github.com/users/johnunclesam/following{/other_user}","gists_url":"https://api.github.com/users/johnunclesam/gists{/gist_id}","starred_url":"https://api.github.com/users/johnunclesam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnunclesam/subscriptions","organizations_url":"https://api.github.com/users/johnunclesam/orgs","repos_url":"https://api.github.com/users/johnunclesam/repos","events_url":"https://api.github.com/users/johnunclesam/events{/privacy}","received_events_url":"https://api.github.com/users/johnunclesam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-01T19:05:17Z","updated_at":"2018-05-01T22:38:14Z","closed_at":"2018-05-01T22:30:35Z","author_association":"NONE","body":"Ok. I officially lost my mind with this problem.\r\n\r\nLet's take a default Rails application (`5`, but I tried also with a `4` default app).\r\n\r\nI'm trying to use a simple javascript code to send an ajax POST request to one controller action.\r\n\r\nIn my `ApplicationController` I have this code:\r\n\r\n```ruby\r\n    class ApplicationController < ActionController::Base\r\n      \r\n      after_action :set_csrf_cookie\r\n    \r\n      protected\r\n    \r\n        def set_csrf_cookie\r\n          cookies[\"X-CSRF-Token\"] = form_authenticity_token\r\n        end\r\n    \r\n    end\r\n```\r\n\r\nwhich sets a cookie `\"X-CSRF-Token\"` with the value of `form_authenticity_token`.\r\n\r\nAfter that I can read this cookie in my SPA (Single Page Application) using this code:\r\n\r\n```js\r\n    function readCookie(name) {\r\n        var nameEQ = name + \"=\";\r\n        var ca = document.cookie.split(\";\");\r\n        for (var i = 0; i < ca.length; i++) {\r\n          var c = ca[i];\r\n          while (c.charAt(0) === \" \") c = c.substring(1, c.length);\r\n          if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n        }\r\n        return null;\r\n      }\r\n    \r\n    // var token = document.getElementsByName('csrf-token')[0].content; // this works!\r\n    const token = readCookie(\"X-CSRF-Token\"); // this doesn't work!\r\n    \r\n    fetch('/api/v1', {\r\n      method: 'POST',\r\n      body: {\"\"},\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': token\r\n      },\r\n      credentials: 'include'\r\n    }).then(function(response) {\r\n      return response.json();\r\n    });\r\n```\r\n\r\nWhen I use this line:\r\n\r\n```js\r\nvar token = document.getElementsByName('csrf-token')[0].content;\r\n```\r\n\r\nit works because it reads what Rails insert in html page with: \r\n\r\n    this\r\n    <%= csrf_meta_tags %>\r\n\r\n    renders:\r\n    <meta name=\"csrf-param\" content=\"authenticity_token\">\r\n    <meta name=\"csrf-token\" content=\"VXaKlO+/Gr/8pGhr5y0bThQ5L/0IDiznMR/9SpaoI6vOoF9KtmB5/9ka+Hz+zjyssNRi/Em/Ye27C+E5pl3odg==\">\r\n\r\nSo the content of \"csrf-token\" works and my Rails application can validate CSRF.\r\n\r\nThis is the code from Rails source: https://github.com/rails/rails/blob/v5.2.0/actionpack/lib/action_controller/metal/request_forgery_protection.rb\r\n\r\nWhen instead I use this line:\r\n\r\n```js\r\nconst token = readCookie(\"X-CSRF-Token\");\r\n```\r\n\r\nit doesn't work and I get this error:\r\n\r\n```\r\n    Started POST \"/api/v1\" for 172.18.0.1 at 2018-05-01 18:52:56 +0000\r\n    Processing by MyController#action as */*\r\n      Parameters: {\"body\"=>{}}\r\n    Can't verify CSRF token authenticity.\r\n    Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms)\r\n    ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):\r\n```\r\n\r\nAlso if I use another page with another server (npm http-server or Microsoft IIS or others) with the same script the problem is the same.\r\n\r\nIf I copy the content of \"csrf-token\" from Rails html page and use this line in my Javascript:\r\n\r\n```js\r\nconst token = \"VXaKlO+/Gr/8pGhr5y0bThQ5L/0IDiznMR/9SpaoI6vOoF9KtmB5/9ka+Hz+zjyssNRi/Em/Ye27C+E5pl3odg==\";\r\n```\r\n\r\n**it WORKS!**\r\n\r\nSo my question is: **WHY?**\r\n\r\n---------------\r\n\r\nWhat I have read (nut nothing!):\r\n\r\n- https://github.com/equivalent/scrapbook2/blob/master/archive/blogs/2017-10-12-csrf-protection-on-single-page-app-api.md\r\n- https://stackoverflow.com/questions/42723989/invalid-auth-token-with-rails-graphql-apollo-client\r\n- https://www.bhalash.com/archives/13544808782\r\n- https://stackoverflow.com/questions/14734243/rails-csrf-protection-angular-js-protect-from-forgery-makes-me-to-log-out-on\r\n- https://technpol.wordpress.com/2014/04/17/rails4-angularjs-csrf-and-devise/\r\n- https://stackoverflow.com/questions/7573024/work-with-authenticity-token-or-disable-it\r\n- https://stackoverflow.com/questions/7600347/rails-api-design-without-disabling-csrf-protection\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32779","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32779/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32779/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32779/events","html_url":"https://github.com/rails/rails/issues/32779","id":319173334,"number":32779,"title":"NameError: uninitialized constant DidYouMean::SpellChecker if ruby 2.6.0dev is chosen by rbenv global system","user":{"login":"yahonda","id":73684,"avatar_url":"https://avatars3.githubusercontent.com/u/73684?v=4","gravatar_id":"","url":"https://api.github.com/users/yahonda","html_url":"https://github.com/yahonda","followers_url":"https://api.github.com/users/yahonda/followers","following_url":"https://api.github.com/users/yahonda/following{/other_user}","gists_url":"https://api.github.com/users/yahonda/gists{/gist_id}","starred_url":"https://api.github.com/users/yahonda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahonda/subscriptions","organizations_url":"https://api.github.com/users/yahonda/orgs","repos_url":"https://api.github.com/users/yahonda/repos","events_url":"https://api.github.com/users/yahonda/events{/privacy}","received_events_url":"https://api.github.com/users/yahonda/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-01T11:11:57Z","updated_at":"2018-05-01T19:07:46Z","closed_at":"2018-05-01T19:07:46Z","author_association":"CONTRIBUTOR","body":"### Steps to reproduce\r\n\r\n`NameError: uninitialized constant DidYouMean::SpellChecker` reported 7 times at https://travis-ci.org/rails/rails/jobs/373320011\r\n\r\nThere was a pull request #32752 but it has been closed since it did not reproduce locally.\r\nI think I have found how to reproduce and how not to reproduce this error.\r\n\r\n```ruby\r\n$ git clone https://github.com/ruby/ruby.git\r\n$ cd ruby\r\n$ sudo make clean ; autoconf ; ./configure ; make ; sudo make install\r\n$ rbenv global system\r\n$ sudo gem install bundler\r\n$ cd /path/to/rails/railties\r\n$ bundle install\r\n$ bundle exec ruby -w -Itest test/command/spellchecker_test.rb\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ rbenv global system\r\n$ rbenv version\r\nsystem (set by /home/yahonda/.rbenv/version)\r\n$ ruby -v\r\nruby 2.6.0dev (2018-05-01 trunk 63314) [x86_64-linux]\r\n$ bundle exec ruby -w -Itest test/command/spellchecker_test.rb\r\nRun options: --seed 37507\r\n\r\n# Running:\r\n\r\nE\r\n\r\nError:\r\nRails::Command::SpellcheckerTest#test_suggests_a_word_correction_from_dictionary:\r\nNameError: uninitialized constant DidYouMean::SpellChecker\r\n    test/command/spellchecker_test.rb:8:in `block in <class:SpellcheckerTest>'\r\n\r\n\r\nbin/rails test test/command/spellchecker_test.rb:7\r\n\r\n\r\n\r\nFinished in 0.001387s, 720.7446 runs/s, 0.0000 assertions/s.\r\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n\r\n### Here are steps NOT to reproduce this error by using 2.6.0-dev\r\n\r\n```ruby\r\n$ rbenv global 2.6.0-dev\r\n$ rbenv version\r\n2.6.0-dev (set by /home/yahonda/.rbenv/version)\r\n$ ruby -v\r\nruby 2.6.0dev (2018-05-01 trunk 63314) [x86_64-linux]\r\n$ bundle exec ruby -w -Itest test/command/spellchecker_test.rb\r\nRun options: --seed 27357\r\n\r\n# Running:\r\n\r\n.\r\n\r\nFinished in 0.002871s, 348.2873 runs/s, 348.2873 assertions/s.\r\n1 runs, 1 assertions, 0 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### System configuration\r\n**Rails version**:master branch\r\n\r\n**Ruby version**:ruby 2.6.0dev (2018-05-01 trunk 63314) [x86_64-linux]","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32774","repository_url":"https://api.github.com/repos/rails/rails","lab
8000
els_url":"https://api.github.com/repos/rails/rails/issues/32774/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32774/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32774/events","html_url":"https://github.com/rails/rails/issues/32774","id":319088725,"number":32774,"title":"Copywriting","user":{"login":"navxx","id":33487082,"avatar_url":"https://avatars3.githubusercontent.com/u/33487082?v=4","gravatar_id":"","url":"https://api.github.com/users/navxx","html_url":"https://github.com/navxx","followers_url":"https://api.github.com/users/navxx/followers","following_url":"https://api.github.com/users/navxx/following{/other_user}","gists_url":"https://api.github.com/users/navxx/gists{/gist_id}","starred_url":"https://api.github.com/users/navxx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navxx/subscriptions","organizations_url":"https://api.github.com/users/navxx/orgs","repos_url":"https://api.github.com/users/navxx/repos","events_url":"https://api.github.com/users/navxx/events{/privacy}","received_events_url":"https://api.github.com/users/navxx/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-01T01:23:58Z","updated_at":"2018-05-01T01:28:02Z","closed_at":"2018-05-01T01:28:02Z","author_association":"NONE","body":"Hello!\r\n\r\nI've been watching your project and I want to make the copywriting stuff: Contact Us, About Us, FAQ, etc\r\n\r\nBest Regards!","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32772","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32772/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32772/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32772/events","html_url":"https://github.com/rails/rails/issues/32772","id":319072340,"number":32772,"title":"HTML5 data attributes are not escaped (Rails UJS)","user":{"login":"aardvarkk","id":1251092,"avatar_url":"https://avatars3.githubusercontent.com/u/1251092?v=4","gravatar_id":"","url":"https://api.github.com/users/aardvarkk","html_url":"https://github.com/aardvarkk","followers_url":"https://api.github.com/users/aardvarkk/followers","following_url":"https://api.github.com/users/aardvarkk/following{/other_user}","gists_url":"https://api.github.com/users/aardvarkk/gists{/gist_id}","starred_url":"https://api.github.com/users/aardvarkk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aardvarkk/subscriptions","organizations_url":"https://api.github.com/users/aardvarkk/orgs","repos_url":"https://api.github.com/users/aardvarkk/repos","events_url":"https://api.github.com/users/aardvarkk/events{/privacy}","received_events_url":"https://api.github.com/users/aardvarkk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-30T23:41:14Z","updated_at":"2018-05-01T00:13:10Z","closed_at":"2018-05-01T00:13:10Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nCreate a view with the following code, then display the view and click the link:\r\n\r\n`<%= link_to 'foo', '#', data: { confirm: \"<script>alert('bar')</script>\" } %>`\r\n\r\n### Expected behavior\r\n\r\nClicking the link shows a confirmation box with the text \"<script>alert('bar')</script>\"\r\n\r\n### Actual behavior\r\n\r\nClicking the link displays a JavaScript alert, then shows an empty confirmation box.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 4.2.10\r\n\r\n**Ruby version**: 2.3.5\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32767","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32767/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32767/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32767/events","html_url":"https://github.com/rails/rails/issues/32767","id":318992461,"number":32767,"title":"Problems with subsequent request after #32673","user":{"login":"mmoll","id":1434927,"avatar_url":"https://avatars2.githubusercontent.com/u/1434927?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoll","html_url":"https://github.com/mmoll","followers_url":"https://api.github.com/users/mmoll/followers","following_url":"https://api.github.com/users/mmoll/following{/other_user}","gists_url":"https://api.github.com/users/mmoll/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoll/subscriptions","organizations_url":"https://api.github.com/users/mmoll/orgs","repos_url":"https://api.github.com/users/mmoll/repos","events_url":"https://api.github.com/users/mmoll/events{/privacy}","received_events_url":"https://api.github.com/users/mmoll/received_events","type":"User","site_admin":false},"labels":[{"id":107189,"url":"https://api.github.com/repos/rails/rails/labels/actionpack","name":"actionpack","color":"FFF700","default":false},{"id":41328116,"url":"https://api.github.com/repos/rails/rails/labels/attached%20PR","name":"attached PR","color":"006b75","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-30T18:41:57Z","updated_at":"2018-05-01T02:48:11Z","closed_at":"2018-05-01T02:48:11Z","author_association":"NONE","body":"Given this test:\r\n```ruby\r\n  test \"should assign operating system\" do\r\n    put :update, params: { :id => @ptable.to_param, :ptable => { :operatingsystem_ids => [operatingsystems(:redhat).to_param] } }\r\n    assert_response :success\r\n    get :show, params: { :id => @ptable.to_param }\r\n    show_response = ActiveSupport::JSON.decode(@response.body)\r\n    assert_equal operatingsystems(:redhat).id, show_response[\"operatingsystems\"].first[\"id\"]\r\n  end\r\n```\r\nAfter #32673 was backported to 5-2-stable I'm getting\r\n```\r\nApi::V2::PtablesControllerTest#test_0019_should assign operating system:\r\nActionDispatch::Http::Parameters::ParseError: no implicit conversion of nil into String\r\n    test/controllers/api/v2/ptables_controller_test.rb:187:in `block in <class:PtablesControllerTest>'\r\n```\r\nWhen I comment out the PUT, the GET succeeds (the asserts after it fail then, of course) and I'm not 100% sure what's happening here, but could it be that the change is clearing a bit too much?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32765","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32765/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32765/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32765/events","html_url":"https://github.com/rails/rails/issues/32765","id":318932894,"number":32765,"title":"Nested dependent: :destroy not called. Expected behavor?","user":{"login":"bryanculver","id":31187,"avatar_url":"https://avatars0.githubusercontent.com/u/31187?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanculver","html_url":"https://github.com/bryanculver","followers_url":"https://api.github.com/users/bryanculver/followers","following_url":"https://api.github.com/users/bryanculver/following{/other_user}","gists_url":"https://api.github.com/users/bryanculver/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanculver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanculver/subscriptions","organizations_url":"https://api.github.com/users/bryanculver/orgs","repos_url":"https://api.github.com/users/bryanculver/repos","events_url":"https://api.github.com/users/bryanculver/events{/privacy}","received_events_url":"https://api.github.com/users/bryanculver/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-30T15:31:18Z","updated_at":"2018-05-02T19:50:38Z","closed_at":"2018-05-02T19:50:38Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n1. Setup nested has_many, has_many :through, has_one associations between models (see [this gist](https://gist.github.com/bryanculver/35e97d56988a00ac47560268e1e0e18e))\r\n2. Create records to fill associations (see `sample_data.yml` in example above)\r\n3. Update has_many collection via has_many :through association that is missing user originally in collection (example pertaining to above):\r\n```\r\nevent = Event.find(1)\r\nuser_a = User.find(1)\r\n\r\nevent.users = [user_a] # Now missing user_b\r\n```\r\n\r\n### Expected behavior\r\nRecords attached via has_one association should be deleted.\r\n\r\n### Actual behavior\r\nRecords persist but are now \"orphaned\"\r\n\r\n### System configuration\r\n**Rails version**: 5.1.5\r\n\r\n**Ruby version**: 2.4.1p111\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32762","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32762/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32762/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32762/events","html_url":"https://github.com/rails/rails/issues/32762","id":318840852,"number":32762,"title":"useless SELECT all relations in db locks ...","user":{"login":"JokerCatz","id":70926,"avatar_url":"https://avatars3.githubusercontent.com/u/70926?v=4","gravatar_id":"","url":"https://api.github.com/users/JokerCatz","html_url":"https://github.com/JokerCatz","followers_url":"https://api.github.com/users/JokerCatz/followers","following_url":"https://api.github.com/users/JokerCatz/following{/other_user}","gists_url":"https://api.github.com/users/JokerCatz/gists{/gist_id}","starred_url":"https://api.github.com/users/JokerCatz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JokerCatz/subscriptions","organizations_url":"https://api.github.com/users/JokerCatz/orgs","repos_url":"https://api.github.com/users/JokerCatz/repos","events_url":"https://api.github.com/users/JokerCatz/events{/privacy}","received_events_url":"https://api.github.com/users/JokerCatz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-30T10:06:11Z","updated_at":"2018-05-01T23:54:39Z","closed_at":"2018-05-01T23:54:39Z","author_association":"NONE","body":"just demo code , use scaffold to build belongs_to models\r\n\r\n    rails new testme\r\n    cd testme\r\n    rails g scaffold User status:integer\r\n    rails g scaffold Post status:integer user:belongs_to\r\n    rake db:migrate\r\n    rails c\r\n    # at console\r\n    u = User.create\r\n    p = Post.create(user:u)\r\n    p.with_lock{p.status ||= 0 ; p.status += 1 ; p.save}\r\n    p = Post.last.lock!\r\n    p.status += 1\r\n    p.save!\r\n\r\nthe SQL will be like (same happen in SQLite & MySQL ...)\r\n\r\n    begin transaction\r\n      SELECT  \"posts\".* FROM \"posts\" WHERE \"posts\".\"id\" = ? LIMIT ?   [[\"id\", 1], [\"LIMIT\", 1]]\r\n      SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = ? LIMIT ?  [[\"id\", 1], [\"LIMIT\", 1]]\r\n      UPDATE \"posts\" SET \"status\" = ?, \"updated_at\" = ? WHERE \"posts\".\"id\" = ?  [[\"status\", 1], [\"updated_at\", \"2018-04-30 09:54:25.291122\"], [\"id\", 1]]\r\n    commit transaction\r\n\r\nI think the relations select (`SELECT users`) is useless ... and this will be a huge performance issue when a model use lock & the model has many relations?\r\n\r\n### System configuration\r\nRails 4.x , Rails 5.x","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32760","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32760/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32760/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32760/events","html_url":"https://github.com/rails/rails/issues/32760","id":318773735,"number":32760,"title":"test_assets_are_concatenated_when_debug_is_off_and_compile_is_off_either_if_debug_assets_param_is_provided fails with ruby 2.6.0dev","user":{"login":"yahonda","id":73684,"avatar_url":"https://avatars3.githubusercontent.com/u/73684?v=4","gravatar_id":"","url":"https://api.github.com/users/yahonda","html_url":"https://github.com/yahonda","followers_url":"https://api.github.com/users/yahonda/followers","following_url":"https://api.github.com/users/yahonda/following{/other_user}","gists_url":"https://api.github.com/users/yahonda/gists{/gist_id}","starred_url":"https://api.github.com/users/yahonda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahonda/subscriptions","organizations_url":"https://api.github.com/users/yahonda/orgs","repos_url":"https://api.github.com/users/yahonda/repos","events_url":"https://api.github.com/users/yahonda/events{/privacy}","received_events_url":"https://api.github.com/users/yahonda/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-30T02:36:38Z","updated_at":"2018-05-01T10:35:42Z","closed_at":"2018-05-01T10:35:42Z","author_association":"CONTRIBUTOR","body":"### Steps to reproduce\r\n\r\n```ruby\r\n$ cd rails/railties\r\n$ bundle\r\n$ bundle exec ruby -w -Itest test/application/asset_debugging_test.rb -n test_assets_are_concatenated_when_debug_is_off_and_compile_is_off_either_if_debug_assets_param_is_provided\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ bundle exec ruby -w -Itest test/application/asset_debugging_test.rb -n test_assets_are_concatenated_when_debug_is_off_and_compile_is_off_either_if_debug_assets_param_is_provided\r\nRun options: -n test_assets_are_concatenated_when_debug_is_off_and_compile_is_off_either_if_debug_assets_param_is_provided --seed 24637\r\n\r\n# Running:\r\n\r\nE\r\n\r\nError:\r\nApplicationTests::AssetDebuggingTest#test_assets_are_concatenated_when_debug_is_off_and_compile_is_off_either_if_debug_assets_param_is_provided:\r\nRuntimeError: rails command failed (1): bin/rails assets:precompile --trace 2>&1\r\n** Invoke assets:precompile (first_time)\r\n** Invoke assets:environment (first_time)\r\n** Execute assets:environment\r\n** Invoke environment (first_time)\r\n** Execute environment\r\n** Invoke yarn:install (first_time)\r\n** Execute yarn:install\r\nYarn executable was not detected in the system.\r\nDownload Yarn at https://yarnpkg.com/en/docs/install\r\n** Execute assets:precompile\r\nI, [2018-04-30T02:33:58.510869 #1924]  INFO -- : Writing /tmp/d20180430-1921-1ue4j1s/app/public/assets/application-59ffc7a8b7f622633c59a088fd477aea723ce45d1f0533edb17f837cfea10dd5.js\r\nI, [2018-04-30T02:33:58.511633 #1924]  INFO -- : Writing /tmp/d20180430-1921-1ue4j1s/app/public/assets/application-59ffc7a8b7f622633c59a088fd477aea723ce45d1f0533edb17f837cfea10dd5.js.gz\r\nI, [2018-04-30T02:33:58.514692 #1924]  INFO -- : Writing /tmp/d20180430-1921-1ue4j1s/app/public/assets/application-f0d704deea029cf000697e2c0181ec173a1b474645466ed843eb5ee7bb215794.css\r\nI, [2018-04-30T02:33:58.514818 #1924]  INFO -- : Writing /tmp/d20180430-1921-1ue4j1s/app/public/assets/application-f0d704deea029cf000697e2c0181ec173a1b474645466ed843eb5ee7bb215794.css.gz\r\nrails aborted!\r\nfatal: No live threads left. Deadlock?\r\n5 threads, 5 sleeps current:0x000055864056bbd0 main thread:0x000055864056bbd0\r\n* #<Thread:0x000055864010a498@/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/parallel.rb:28 sleep_forever>\r\n   rb_thread_t:0x000055864056bbd0 native:0x00007fe9279b7700 int:0\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `sleep'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `ns_wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/abstract_lockable_object.rb:43:in `ns_wait_until'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:87:in `block in wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:84:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:75:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:87:in `wait!'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:230:in `each'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:230:in `compile'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-rails-3.2.0/lib/sprockets/rails/task.rb:68:in `block (3 levels) in define'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/rake/sprocketstask.rb:147:in `with_logger'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-rails-3.2.0/lib/sprockets/rails/task.rb:67:in `block (2 levels) in define'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `block in execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `each'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:195:in `block in invoke_with_call_chain'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/2.6.0/monitor.rb:226:in `mon_synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:188:in `invoke_with_call_chain'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:181:in `invoke'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:160:in `invoke_task'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block (2 levels) in top_level'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `each'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block in top_level'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:125:in `run_with_threads'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:110:in `top_level'\r\n   /home/yahonda/git/rails/railties/lib/rails/commands/rake/rake_command.rb:23:in `block in perform'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:186:in `standard_exception_handling'\r\n   /home/yahonda/git/rails/railties/lib/rails/commands/rake/rake_command.rb:20:in `perform'\r\n   /home/yahonda/git/rails/railties/lib/rails/command.rb:48:in `invoke'\r\n   /home/yahonda/git/rails/railties/lib/rails/commands.rb:18:in `<top (required)>'\r\n   /tmp/d20180430-1921-1ue4j1s/app/bin/rails:4:in `require'\r\n   /tmp/d20180430-1921-1ue4j1s/app/bin/rails:4:in `<top (required)>'\r\n   /home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:317:in `load'\r\n   /home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:317:in `block in rails'\r\n   /home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:291:in `fork'\r\n   /home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:291:in `rails'\r\n   test/application/asset_debugging_test.rb:39:in `block in <class:AssetDebuggingTest>'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:98:in `block (3 levels) in run'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:195:in `capture_exceptions'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:95:in `block (2 levels) in run'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:265:in `time_it'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:94:in `block in run'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:360:in `on_signal'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:211:in `with_info_handler'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:93:in `run'\r\n   /home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:20:in `block in run'\r\n   /home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:34:in `block in run_in_isolation'\r\n   /home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:32:in `fork'\r\n   /home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:32:in `run_in_isolation'\r\n   /home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:19:in `run'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:960:in `run_one_method'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/parallel.rb:33:in `block (2 levels) in start'\r\n* #<Thread:0x00007fe92230c128@/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:317 sleep_forever>\r\n   rb_thread_t:0x00007fe922608910 native:0x00007fe9277b5700 int:0\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:322:in `pop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:322:in `block (3 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'\r\n* #<Thread:0x00007fe9221eb1e0@/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:317 sleep_forever>\r\n   rb_thread_t:0x00007fe9227270f0 native:0x00007fe92cd82700 int:0\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `sleep'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `ns_wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/abstract_lockable_object.rb:43:in `ns_wait_until'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:87:in `block in wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:84:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:75:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:87:in `wait!'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:223:in `block (2 levels) in compile'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:24:in `block in execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:19:in `execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/ivar.rb:170:in `safe_execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/future.rb:52:in `block in execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'\r\n* #<Thread:0x00007fe921ee4fa0@/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:317 sleep_forever>\r\n   rb_thread_t:0x00007fe9208bc980 native:0x00007fe9266a9700 int:0\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:322:in `pop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:322:in `block (3 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'\r\n* #<Thread:0x00007fe921ee42f8@/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:317 sleep_forever>\r\n   rb_thread_t:0x00007fe921f00a70 native:0x00007fe9265a8700 int:0\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `sleep'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `ns_wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/abstract_lockable_object.rb:43:in `ns_wait_until'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:87:in `block in wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:84:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:75:in `wait'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:87:in `wait!'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:223:in `block (2 levels) in compile'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:24:in `block in execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/v
3fd4
ersions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/safe_task_executor.rb:19:in `execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/ivar.rb:170:in `safe_execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/future.rb:52:in `block in execute'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'\r\n   /home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `sleep'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `wait'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:43:in `ns_wait'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/abstract_lockable_object.rb:43:in `ns_wait_until'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:87:in `block in wait'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `block in synchronize'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/synchronization/mri_lockable_object.rb:38:in `synchronize'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/atomic/event.rb:84:in `wait'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:75:in `wait'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.0.5/lib/concurrent/concern/obligation.rb:87:in `wait!'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:230:in `each'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/sprockets/manifest.rb:230:in `compile'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-rails-3.2.0/lib/sprockets/rails/task.rb:68:in `block (3 levels) in define'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-3.7.1/lib/rake/sprocketstask.rb:147:in `with_logger'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/sprockets-rails-3.2.0/lib/sprockets/rails/task.rb:67:in `block (2 levels) in define'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `block in execute'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `each'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:251:in `execute'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:195:in `block in invoke_with_call_chain'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/2.6.0/monitor.rb:226:in `mon_synchronize'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:188:in `invoke_with_call_chain'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/task.rb:181:in `invoke'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:160:in `invoke_task'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block (2 levels) in top_level'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `each'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:116:in `block in top_level'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:125:in `run_with_threads'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:110:in `top_level'\r\n/home/yahonda/git/rails/railties/lib/rails/commands/rake/rake_command.rb:23:in `block in perform'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/rake-12.3.0/lib/rake/application.rb:186:in `standard_exception_handling'\r\n/home/yahonda/git/rails/railties/lib/rails/commands/rake/rake_command.rb:20:in `perform'\r\n/home/yahonda/git/rails/railties/lib/rails/command.rb:48:in `invoke'\r\n/home/yahonda/git/rails/railties/lib/rails/commands.rb:18:in `<top (required)>'\r\n/tmp/d20180430-1921-1ue4j1s/app/bin/rails:4:in `require'\r\n/tmp/d20180430-1921-1ue4j1s/app/bin/rails:4:in `<top (required)>'\r\n/home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:317:in `load'\r\n/home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:317:in `block in rails'\r\n/home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:291:in `fork'\r\n/home/yahonda/git/rails/railties/test/isolation/abstract_unit.rb:291:in `rails'\r\ntest/application/asset_debugging_test.rb:39:in `block in <class:AssetDebuggingTest>'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:98:in `block (3 levels) in run'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:195:in `capture_exceptions'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:95:in `block (2 levels) in run'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:265:in `time_it'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:94:in `block in run'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:360:in `on_signal'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:211:in `with_info_handler'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:93:in `run'\r\n/home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:20:in `block in run'\r\n/home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:34:in `block in run_in_isolation'\r\n/home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:32:in `fork'\r\n/home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:32:in `run_in_isolation'\r\n/home/yahonda/git/rails/activesupport/lib/active_support/testing/isolation.rb:19:in `run'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:960:in `run_one_method'\r\n/home/yahonda/.rbenv/versions/2.6.0-dev/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/parallel.rb:33:in `block (2 levels) in start'\r\nTasks: TOP => assets:precompile\r\n\r\n    testapplication/asset_debugging_test.rb:39:in `block in <class:AssetDebuggingTest>'\r\n\r\n\r\nbin/rails test test/application/asset_debugging_test.rb:36\r\n\r\n\r\n\r\nFinished in 2.706305s, 0.3695 runs/s, 0.0000 assertions/s.\r\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n### System configuration\r\n**Rails version**:master branch\r\n\r\n**Ruby version**:ruby 2.6.0dev (2018-04-30 trunk 63304) [x86_64-linux]","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32754","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32754/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32754/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32754/events","html_url":"https://github.com/rails/rails/issues/32754","id":318708123,"number":32754,"title":"ActionMailer::LogSubscriber logs `Sent Mail` when perform_delivers = false","user":{"login":"marcshaw","id":5554217,"avatar_url":"https://avatars0.githubusercontent.com/u/5554217?v=4","gravatar_id":"","url":"https://api.github.com/users/marcshaw","html_url":"https://github.com/marcshaw","followers_url":"https://api.github.com/users/marcshaw/followers","following_url":"https://api.github.com/users/marcshaw/following{/other_user}","gists_url":"https://api.github.com/users/marcshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/marcshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcshaw/subscriptions","organizations_url":"https://api.github.com/users/marcshaw/orgs","repos_url":"https://api.github.com/users/marcshaw/repos","events_url":"https://api.github.com/users/marcshaw/events{/privacy}","received_events_url":"https://api.github.com/users/marcshaw/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-29T11:02:19Z","updated_at":"2018-05-02T04:38:45Z","closed_at":"2018-05-02T04:38:45Z","author_association":"NONE","body":"### Steps to reproduce\r\n1. Set the action mailer perform deliveries configuration to false\r\n`config.action_mailer.perform_deliveries = false`\r\n\r\n2. Send an email through action mailer.\r\n\r\n### Actual behaviour\r\nWhen the configuration is set `perform_deliveries = false` and we send a email.  The following is logged.\r\n\r\n```\r\n[ActiveJob] [ActionMailer::DeliveryJob] [248fce59-6508-4fa8-91a4-8f9d4d26e8eb] \r\nSent mail to test@email.com (6.8ms)\r\n[ActiveJob] [ActionMailer::DeliveryJob] [248fce59-6508-4fa8-91a4-8f9d4d26e8eb] Date: Sun, 15 Apr 2018 18:42:51 +1200\r\nFrom: example@example.com\r\nReply-To: noreply@example.com\r\nTo: test@email.com\r\nMessage-ID: <5ad2f46be9b27_184d93fcc59009050328c8@local>\r\nSubject: Reset password instructions\r\n.....\r\n```\r\n\r\nLogging `Sent mail...` could be potentially misleading when we aren't performing the delivery, but logging that we sent it.\r\n\r\nThis is logged from log subscriber.\r\nhttps://github.com/rails/rails/blob/master/actionmailer/lib/action_mailer/log_subscriber.rb \r\n\r\n### Expected behaviour\r\n\r\nI am interested to know if the actual behaviour is what we would expect. \r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.1/5.0\r\n\r\n**Ruby version**:\r\n2.3.7","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32749","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32749/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32749/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32749/events","html_url":"https://github.com/rails/rails/issues/32749","id":318671350,"number":32749,"title":"path helpers fails with modules on models","user":{"login":"israelias94","id":16140960,"avatar_url":"https://avatars0.githubusercontent.com/u/16140960?v=4","gravatar_id":"","url":"https://api.github.com/users/israelias94","html_url":"https://github.com/israelias94","followers_url":"https://api.github.com/users/israelias94/followers","following_url":"https://api.github.com/users/israelias94/following{/other_user}","gists_url":"https://api.github.com/users/israelias94/gists{/gist_id}","starred_url":"https://api.github.com/users/israelias94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/israelias94/subscriptions","organizations_url":"https://api.github.com/users/israelias94/orgs","repos_url":"https://api.github.com/users/israelias94/repos","events_url":"https://api.github.com/users/israelias94/events{/privacy}","received_events_url":"https://api.github.com/users/israelias94/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-28T21:53:23Z","updated_at":"2018-04-28T23:01:54Z","closed_at":"2018-04-28T23:01:54Z","author_association":"NONE","body":"### Steps to reproduce\r\napp/models/\r\n``` ruby\r\nclass Foo::Bar; end\r\nclass Foo::Baz; end\r\n```\r\nconfig/routes.rb\r\n``` ruby\r\n  namespace :foo do\r\n    resources :bar do\r\n      resources :baz\r\n    end\r\n  end\r\n``` \r\n### Actual behavior\r\nand then link_to helpers doesn't work\r\n\r\n![image](https://user-images.githubusercontent.com/16140960/39401123-19eff326-4b0c-11e8-9906-63a388f6f63f.png)\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.2.0\r\n**Ruby version**:\r\n2.5.0","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32746","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32746/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32746/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32746/events","html_url":"https://github.com/rails/rails/issues/32746","id":318605547,"number":32746,"title":"cant get service url from activestorage image","user":{"login":"adenta","id":9259638,"avatar_url":"https://avatars2.githubusercontent.com/u/9259638?v=4","gravatar_id":"","url":"https://api.github.com/users/adenta","html_url":"https://github.com/adenta","followers_url":"https://api.github.com/users/adenta/followers","following_url":"https://api.github.com/users/adenta/following{/other_user}","gists_url":"https://api.github.com/users/adenta/gists{/gist_id}","starred_url":"https://api.github.com/users/adenta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adenta/subscriptions","organizations_url":"https://api.github.com/users/adenta/orgs","repos_url":"https://api.github.com/users/adenta/repos","events_url":"https://api.github.com/users/adenta/events{/privacy}","received_events_url":"https://api.github.com/users/adenta/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-28T06:28:38Z","updated_at":"2018-04-28T17:42:23Z","closed_at":"2018-04-28T17:42:23Z","author_association":"NONE","body":"### Steps to reproduce\r\nInstall activestorage \r\nupload an image\r\ncall the method `service_url` on the image\r\n(Guidelines for creating a bug report are [available\r\nhere](http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nI should get the service url\r\n\r\n### Actual behavior\r\nI am getting an error: \r\n```\r\n*** ArgumentError Exception: Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true\r\n```\r\n\r\n### System configuration\r\n**Rails version**:5.1\r\n\r\n**Ruby version**:2.5.1\r\n","score":1.0}]}
0

