HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Apr 2018 20:22:21 GMT
Link: <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Arails%2Frails+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D1B2:148A:14FD395:2FD5552:5AD262FC
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 26
X-Ratelimit-Reset: 1523737401
X-Runtime-Rack: 0.354385
X-Xss-Protection: 1; mode=block

8000
{"total_count":10952,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/rails/rails/issues/32570","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32570/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32570/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32570/events","html_url":"https://github.com/rails/rails/issues/32570","id":314321748,"number":32570,"title":"why? ошибку не показывает 5.2.0","user":{"login":"nikolaokonesh","id":6263853,"avatar_url":"https://avatars0.githubusercontent.com/u/6263853?v=4","gravatar_id":"","url":"https://api.github.com/users/nikolaokonesh","html_url":"https://github.com/nikolaokonesh","followers_url":"https://api.github.com/users/nikolaokonesh/followers","following_url":"https://api.github.com/users/nikolaokonesh/following{/other_user}","gists_url":"https://api.github.com/users/nikolaokonesh/gists{/gist_id}","starred_url":"https://api.github.com/users/nikolaokonesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikolaokonesh/subscriptions","organizations_url":"https://api.github.com/users/nikolaokonesh/orgs","repos_url":"https://api.github.com/users/nikolaokonesh/repos","events_url":"https://api.github.com/users/nikolaokonesh/events{/privacy}","received_events_url":"https://api.github.com/users/nikolaokonesh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-14T11:28:52Z","updated_at":"2018-04-14T11:57:26Z","closed_at":"2018-04-14T11:57:26Z","author_association":"NONE","body":"![screenshot-2018-4-14 we re sorry but something went wrong 500](https://user-images.githubusercontent.com/6263853/38767693-0c73a3ee-4032-11e8-87a7-f22b7bdd01f6.png)\r\n![2018-04-14 22-22-13](https://user-images.githubusercontent.com/6263853/38767717-875ac178-4032-11e8-9216-cf46f0364e20.png)\r\nПосле обновлений до последней версии Rails.\r\nОшибки не показывает. Log-файл ужасный.\r\n**Rails version**: 5.2.0 final\r\n**Ruby version**: 2.5.0\r\nСпасибо за внимание.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32559","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32559/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32559/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32559/events","html_url":"https://github.com/rails/rails/issues/32559","id":314088085,"number":32559,"title":"5.2.0 activesupport problem caching attributes","user":{"login":"akdasari","id":5419577,"avatar_url":"https://avatars0.githubusercontent.com/u/5419577?v=4","gravatar_id":"","url":"https://api.github.com/users/akdasari","html_url":"https://github.com/akdasari","followers_url":"https://api.github.com/users/akdasari/followers","following_url":"https://api.github.com/users/akdasari/following{/other_user}","gists_url":"https://api.github.com/users/akdasari/gists{/gist_id}","starred_url":"https://api.github.com/users/akdasari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akdasari/subscriptions","organizations_url":"https://api.github.com/users/akdasari/orgs","repos_url":"https://api.github.com/users/akdasari/repos","events_url":"https://api.github.com/users/akdasari/events{/privacy}","received_events_url":"https://api.github.com/users/akdasari/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-13T12:28:29Z","updated_at":"2018-04-14T03:28:49Z","closed_at":"2018-04-14T03:28:49Z","author_association":"NONE","body":"### Steps to reproduce\r\nfile used as chef/rspec  --> default.rb\r\n================================\r\nchef_gem \"activesupport\" do\r\n         action :install\r\n         version \"5.1.6\"\r\nend\r\nrequire 'pathname'\r\nrequire 'active_support/core_ext/hash/deep_merge'\r\n\r\nruby_block \"dump_node_attributes\" do\r\n  block do\r\n     require 'json'\r\n        attrs = {}\r\n        attrs = attrs.deep_merge(node.default_attrs) unless node.default_attrs.empty?\r\n        attrs = attrs.deep_merge(node.normal_attrs) unless node.normal_attrs.empty?\r\n        attrs = attrs.deep_merge(node.override_attrs) unless node.override_attrs.empty?\r\n    recipe_json = \"{ \"run_list\": [ \"\r\n    recipe_json << node.run_list.expand(node.chef_environment).recipes.map! { |k| \"\"#{k}\"\" }.join(\",\")\r\n    recipe_json << \" ] }\"\r\n        attrs = attrs.deep_merge(JSON.parse(recipe_json))\r\n        puts \"=A=====\"\r\n          puts JSON.pretty_generate(attrs)\r\n       puts \"=Aend=\"\r\n    end\r\nend\r\n\r\n\r\n### Expected behavior\r\npart of json output where jenkins attributes supposed to be\r\n\r\n\"jenkins\": {\r\n    \"java\": \"/usr/lib/jvm/java-1.8.0/bin/java\",\r\n    \"executor\": {\r\n      \"timeout\": 240,\r\n      \"private_key\": null,\r\n      \"proxy\": null,\r\n      \"jvm_options\": \"-Djavax.net.ssl.trustStore=/var/lib/jenkins/.keystore/cacerts -Dhttp.nonProxyHosts=127.0.0.1\\\\|localhost\\\\|169.254.169.254\\\\|mybitbucket.com\\\\|master\\\\|172.27.14.66 -Dhttp.proxyHost=192.168.198.11 -Dhttp.proxyPort=3128 -Dhttps.proxyHost=192.168.198.11 -Dhttps.proxyPort=3128\",\r\n      \"protocol\": \"remoting\"\r\n    },\r\n    \"master\": {\r\n      \"install_method\": \"package\",\r\n      \"version\": null,\r\n      \"channel\": \"current\",\r\n      \"mirror\": \"https://updates.jenkins.io\",\r\n      \"source\": \"https://updates.jenkins.io/current/latest/jenkins.war\",\r\n      \"checksum\": null,\r\n      \"jvm_options\": \"-Djenkins.install.runSetupWizard=false -Djavax.net.ssl.trustStore=$JENKINS_HOME/.keystore/cacerts\",\r\n      \"jenkins_args\": null,\r\n      \"user\": \"jenkins\",\r\n      \"group\": \"jenkins\",\r\n      \"use_system_accounts\": true,\r\n      \"host\": \"127.0.0.1\",\r\n      \"listen_address\": \"0.0.0.0\",\r\n      \"port\": 8080,\r\n      \"endpoint\": \"http://127.0.0.1:8080\",\r\n      \"home\": \"/var/lib/jenkins\",\r\n      \"log_directory\": \"/var/log/jenkins\",\r\n      \"maxopenfiles\": 8192,\r\n      \"runit\": {\r\n        \"groups\": [\r\n          \"jenkins\"\r\n        ],\r\n        \"sv_timeout\": 7\r\n      },\r\n      \"ulimits\": null,\r\n\r\n### Actual behavior\r\n \"jenkins\": {                                                                               \r\n    \"java\": \"java\",                                                                          \r\n    \"executor\": {                                                                            \r\n      \"timeout\": 240                                                                         \r\n    },                                                                                       \r\n    \"master\": {                                                                              \r\n      \"host\": \"127.0.0.1\",                                                                   \r\n      \"channel\": \"current\",                                                                  \r\n      \"proxy_host\": \"192.168.198.11\",                                                        \r\n      \"proxy_port\": \"3128\",                                                                  \r\n      \"no_proxy\": \"127.0.0.1,localhost,169.254.169.254,mybitbucket.com,master,172.27.14.66\"  \r\n    },                                                                                       \r\n    \"cacert\": {                                                                              \r\n      \"password\": \"changeit\"                                                                 \r\n    },                                                                                       \r\n    \"node\": {                                                                                \r\n      \"node_name\": \"node\",                                                                   \r\n      \"retries\": 20,                                                                         \r\n      \"retry_delay\": 60                                                                      \r\n    },                                                                                       \r\n    \"fqdn\": \"jenkins.aws.tlg.private\"                                                        \r\n  },\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0\r\n\r\n**Ruby version**: 2.3.3\r\n\r\n Missing lot of attributes in version 5.2.0   and works fine with version 5.1.6\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32558","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32558/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32558/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32558/events","html_url":"https://github.com/rails/rails/issues/32558","id":314064486,"number":32558,"title":"establish_connection opens 2 connections","user":{"login":"n-n1ks","id":2771642,"avatar_url":"https://avatars0.githubusercontent.com/u/2771642?v=4","gravatar_id":"","url":"https://api.github.com/users/n-n1ks","html_url":"https://github.com/n-n1ks","followers_url":"https://api.github.com/users/n-n1ks/followers","following_url":"https://api.github.com/users/n-n1ks/following{/other_user}","gists_url":"https://api.github.com/users/n-n1ks/gists{/gist_id}","starred_url":"https://api.github.com/users/n-n1ks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n-n1ks/subscriptions","organizations_url":"https://api.github.com/users/n-n1ks/orgs","repos_url":"https://api.github.com/users/n-n1ks/repos","events_url":"https://api.github.com/users/n-n1ks/events{/privacy}","received_events_url":"https://api.github.com/users/n-n1ks/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-13T11:05:00Z","updated_at":"2018-04-13T11:06:49Z","closed_at":"2018-04-13T11:06:02Z","author_association":"NONE","body":"### Steps to reproduce\r\nI have the following code: https://gist.github.com/n-n1ks/b1e0a80c054181e6b8dac05ae2bb0ff4\r\n\r\nAfter calling:\r\n```ruby\r\nApplication::WorkingIndustry.count\r\nApplication::SocialStatus.count\r\n```\r\n\r\nI can see 2 database connections via `establish_connection` (both of them from rails console and same PID): http://dl3.joxi.net/drive/2018/04/13/0007/0175/463023/23/8bd7fe0814.jpg\r\n\r\nIf I understand correctly, in my case I must have 1 `establish_connection` with pools, am I right?\r\n\r\n### Expected behavior\r\nestablish_connection must open 1 connection.\r\n\r\n### Actual behavior\r\nestablish_connection opens 2 connections.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.6\r\n\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32546","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32546/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32546/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32546/events","html_url":"https://github.com/rails/rails/issues/32546","id":313758709,"number":32546,"title":"/storage/.keep is being gitignored, exception missing from .gitignore","user":{"login":"TheAssailant","id":10618389,"avatar_url":"https://avatars3.githubusercontent.com/u/10618389?v=4","gravatar_id":"","url":"https://api.github.com/users/TheAssailant","html_url":"https://github.com/TheAssailant","followers_url":"https://api.github.com/users/TheAssailant/followers","following_url":"https://api.github.com/users/TheAssailant/following{/other_user}","gists_url":"https://api.github.com/users/TheAssailant/gists{/gist_id}","starred_url":"https://api.github.com/users/TheAssailant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheAssailant/subscriptions","organizations_url":"https://api.github.com/users/TheAssailant/orgs","repos_url":"https://api.github.com/users/TheAssailant/repos","events_url":"https://api.github.com/users/TheAssailant/events{/privacy}","received_events_url":"https://api.github.com/users/TheAssailant/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-12T14:44:01Z","updated_at":"2018-04-13T18:33:05Z","closed_at":"2018-04-13T18:33:05Z","author_association":"CONTRIBUTOR","body":"Just ran rails new on a project and noticed the new `storage` folder is being gitignored despite having a `.keep`. Looked at .gitignore and looks like someone forgot to add `!/storage/.keep` under the `/storage/*` line.\r\n\r\nI'm assuming this is unintended since `log` and `tmp` are also being ignored minus the `.keep` file, but feel free to close if I'm wrong.\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0 stable\r\n\r\n**Ruby version**: 2.5.1 stable\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32545","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32545/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32545/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32545/events","html_url":"https://github.com/rails/rails/issues/32545","id":313752033,"number":32545,"title":"activesupport new version 5.2.0 can't handle attributes in memcache","user":{"login":"akdasari","id":5419577,"avatar_url":"https://avatars0.githubusercontent.com/u/5419577?v=4","gravatar_id":"","url":"https://api.github.com/users/akdasari","html_url":"https://github.com/akdasari","followers_url":"https://api.github.com/users/akdasari/followers","following_url":"https://api.github.com/users/akdasari/following{/other_user}","gists_url":"https://api.github.com/users/akdasari/gists{/gist_id}","starred_url":"https://api.github.com/users/akdasari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akdasari/subscriptions","organizations_url":"https://api.github.com/users/akdasari/orgs","repos_url":"https://api.github.com/users/akdasari/repos","events_url":"https://api.github.com/users/akdasari/events{/privacy}","received_events_url":"https://api.github.com/users/akdasari/received_events","type":"User","site_admin":false},"labels":[{"id":257468118,"url":"https://api.github.com/repos/rails/rails/labels/needs%20work","name":"needs work","color":"000000","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-04-12T14:28:45Z","updated_at":"2018-04-13T11:15:24Z","closed_at":"2018-04-13T09:09:20Z","author_association":"NONE","body":"### Steps to reproduce\r\nCode:\r\n\r\nchef_gem \"activesupport\"  -->  in my ruby file defaults to checkout 5.2.0 version\r\nrequire 'active_support/core_ext/hash/deep_merge'\r\nattrs = attrs.deep_merge(node.default_attrs) unless node.default_attrs.empty?\r\n    attrs = attrs.deep_merge(node.normal_attrs) unless node.normal_attrs.empty?\r\n    attrs = attrs.deep_merge(node.override_attrs) unless node.override_attrs.empty?\r\nrecipe_json = \"{ \\\"run_list\\\": \\[ \"\r\n    recipe_json << node.run_list.expand(node.chef_environment).recipes.map! { |k| \"\\\"#{k}\\\"\" }.join(\",\")\r\n    recipe_json << \" \\] }\"\r\n    attrs = attrs.deep_merge(JSON.parse(recipe_json))\r\n<end>\r\n\r\nThis code should fetch my attributes from cookbook into a json file and used this json in test case later as\r\nCode:\r\nsubject { file(\"#{$node['jenkins']['master']['home']}/.keystore/cacerts\") }\r\n  it { should exist }\r\n<End>\r\n\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nshould exist\r\n\r\n### Actual behavior\r\n should exist (FAILED - 1)\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n**Ruby version**:\r\nruby 2.3.3p222\r\nbundler (default: 1.16.1)\r\n\r\nbut when i used  activesupport 5.1.6 version this test passes, not sure what is changed in 5.2.0 and causing my test fail. can somebody help me?","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32535","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32535/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32535/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32535/events","html_url":"https://github.com/rails/rails/issues/32535","id":313531233,"number":32535,"title":"Rails 5.2 cookies persist after removing RAILS_MASTER_KEY","user":{"login":"9mm","id":1386207,"avatar_url":"https://avatars2.githubusercontent.com/u/1386207?v=4","gravatar_id":"","url":"https://api.github.com/users/9mm","html_url":"https://github.com/9mm","followers_url":"https://api.github.com/users/9mm/followers","following_url":"https://api.github.com/users/9mm/following{/other_user}","gists_url":"https://api.github.com/users/9mm/gists{/gist_id}","starred_url":"https://api.github.com/users/9mm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/9mm/subscriptions","organizations_url":"https://api.github.com/users/9mm/orgs","repos_url":"https://api.github.com/users/9mm/repos","events_url":"https://api.github.com/users/9mm/events{/privacy}","received_events_url":"https://api.github.com/users/9mm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-12T00:09:30Z","updated_at":"2018-04-12T03:09:52Z","closed_at":"2018-04-12T01:12:15Z","author_association":"NONE","body":"I was migrating from 5.1 to 5.2 and decided to do some testing to make sure I migrated properly. My goal was to 'break' a user session by removing `RAILS_MASTER_KEY`, which in turn removes/nullifies `SECRET_KEY_BASE`. I wanted to then see if my valid session would expire. It did not.\r\n\r\nI tested this in production on Heroku. I also did a second test locally on a fresh rails app with the same results.\r\n\r\n### Steps to reproduce\r\n\r\n1. Create a new blank rails 5.2 app which simply stores a value in a session, or outputs the value if it already exists.\r\n2. Refresh a few times to see that its properly reading from the cookie\r\n3. Stop Rails server\r\n4. Delete `master.key`\r\n5. Start rails server again\r\n\r\n### Expected behavior\r\n\r\nI would expect this would invalidate the current session, because SECRET_KEY_BASE is now changed (to an empty string I would assume?)\r\n\r\n### Actual behavior\r\n\r\nThe actual behavior is that the session is still entirely valid. I can keep refreshing and it reads the session properly.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.2\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32534","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32534/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32534/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32534/events","html_url":"https://github.com/rails/rails/issues/32534","id":313485020,"number":32534,"title":"ActiveRecord::ImmutableRelation is raised when collection caching and HTTP caching are used together","user":{"login":"georgeclaghorn","id":94129,"avatar_url":"https://avatars1.githubusercontent.com/u/94129?v=4","gravatar_id":"","url":"https://api.github.com/users/georgeclaghorn","html_url":"https://github.com/georgeclaghorn","followers_url":"https://api.github.com/users/georgeclaghorn/followers","following_url":"https://api.github.com/users/georgeclaghorn/following{/other_user}","gists_url":"https://api.github.com/users/georgeclaghorn/gists{/gist_id}","starred_url":"https://api.github.com/users/georgeclaghorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgeclaghorn/subscriptions","organizations_url":"https://api.github.com/users/georgeclaghorn/orgs","repos_url":"https://api.github.com/users/georgeclaghorn/repos","events_url":"https://api.github.com/users/georgeclaghorn/events{/privacy}","received_events_url":"https://api.github.com/users/georgeclaghorn/received_events","type":"User","site_admin":false},"labels":[{"id":107191,"url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-11T20:55:52Z","updated_at":"2018-04-12T01:03:12Z","closed_at":"2018-04-12T01:03:12Z","author_association":"MEMBER","body":"Given an Active Record relation, `ActionController::ConditionalGet#fresh_when` calls the relation’s `maximum` method, which indirectly calls the `arel` method.\r\n\r\nIf the same relation is rendered as a cached collection, an `ActiveRecord::ImmutableRelation` error will be raised:\r\n\r\n```erb\r\n<%= render partial: 'posts/post', collection: @posts, cached: true %>\r\n```\r\n\r\n`ActiveRecord::Railties::CollectionCacheAssociationLoading#relation_from_options` checks whether the relation it chooses is loaded before calling `ActiveRecord::Relation::QueryMethods#skip_preloading!`, but that method can raise `ActiveRecord::ImmutableRelation` even if the relation isn't loaded (i.e. when `ActiveRecord::Relation::QueryMethods#arel` was previously called).\r\n\r\nThis bug was introduced in #31250. A minimal sample application demonstrating it is available [here](https://github.com/georgeclaghorn/rails-bug-32534). See the README for a short code walkthrough.\r\n\r\n/cc @lsylvester","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32529","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32529/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32529/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32529/events","html_url":"https://github.com/rails/rails/issues/32529","id":313247094,"number":32529,"title":"ActiveStorage - The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.","user":{"login":"Dorian","id":129149,"avatar_url":"https://avatars3.githubusercontent.com/u/129149?v=4","gravatar_id":"","url":"https://api.github.com/users/Dorian","html_url":"https://github.com/Dorian","followers_url":"https://api.github.com/users/Dorian/followers","following_url":"https://api.github.com/users/Dorian/following{/other_user}","gists_url":"https://api.github.com/users/Dorian/gists{/gist_id}","starred_url":"https://api.github.com/users/Dorian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dorian/subscriptions","organizations_url":"https://api.github.com/users/Dorian/orgs","repos_url":"https://api.github.com/users/Dorian/repos","events_url":"https://api.github.com/users/Dorian/events{/privacy}","received_events_url":"https://api.github.com/users/Dorian/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-11T09:39:29Z","updated_at":"2018-04-11T12:05:45Z","closed_at":"2018-04-11T12:05:45Z","author_association":"CONTRIBUTOR","body":"### Steps to reproduce\r\n\r\nIt's available on https://github.com/Dorian/magic\r\n\r\n### Expected behavior\r\n\r\nI should see an image.\r\n\r\n### Actual behavior\r\n\r\nI get an AWS error when looking at the image.\r\n\r\nhttps://s3.amazonaws.com/magic.doma.io/iB68ze7FHdf8zYzoGrS4FzCP?response-content-disposition=inline%3B%20filename%3D%22Screen%20Shot%202018-04-06%20at%2011.19.32%20AM.png%22%3B%20filename%2A%3DUTF-8%27%27Screen%2520Shot%25202018-04-06%2520at%252011.19.32%2520AM.png&response-content-type=image%2Fpng&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAI4IE6Y56GAUDFDGQ%2F20180411%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20180411T093708Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz-Signature=c611a8262d6bc60467b3b4b3aa49be649407e1ce2264927c34b895fea75edb19\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.2.0.rc2\r\n**Ruby version**: 2.5.0\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32528","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32528/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32528/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32528/events","html_url":"https://github.com/rails/rails/issues/32528","id":313237572,"number":32528,"title":"Flash does not work after a redirect","user":{"login":"Voker57","id":22776,"avatar_url":"https://avatars3.githubusercontent.com/u/22776?v=4","gravatar_id":"","url":"https://api.github.com/users/Voker57","html_url":"https://github.com/Voker57","followers_url":"https://api.github.com/users/Voker57/followers","following_url":"https://api.github.com/users/Voker57/following{/other_user}","gists_url":"https://api.github.com/users/Voker57/gists{/gist_id}","starred_url":"https://api.github.com/users/Voker57/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Voker57/subscriptions","organizations_url":"https://api.github.com/users/Voker57/orgs","repos_url":"https://api.github.com/users/Voker57/repos","events_url":"https://api.github.com/users/Voker57/events{/privacy}","received_events_url":"https://api.github.com/users/Voker57/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-11T09:13:40Z","updated_at":"2018-04-11T09:29:50Z","closed_at":"2018-04-11T09:29:50Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nSet flash, redirect to page that includes flash.\r\n\r\nhttps://gist.github.com/Voker57/48f7f990a9aff9a2a2512f8de4b81e27\r\n\r\n### Expected behavior\r\n\r\nFlash should persist between redirects\r\n\r\n### Actual behavior\r\n\r\nFlash is nil\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n5bca1f216770\r\n\r\n**Ruby version**:\r\n\r\n2.5.1","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32518","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32518/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32518/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32518/events","html_url":"https://github.com/rails/rails/issues/32518","id":312889947,"number":32518,"title":"Wrong timezone offset in attributes with time type","user":{"login":"AliSepehri","id":7887290,"avatar_url":"https://avatars0.githubusercontent.com/u/7887290?v=4","gravatar_id":"","url":"https://api.github.com/users/AliSepehri","html_url":"https://github.com/AliSepehri","followers_url":"https://api.github.com/users/AliSepehri/followers","following_url":"https://api.github.com/users/AliSepehri/following{/other_user}","gists_url":"https://api.github.com/users/AliSepehri/gists{/gist_id}","starred_url":"https://api.github.com/users/AliSepehri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliSepehri/subscriptions","organizations_url":"https://api.github.com/users/AliSepehri/orgs","repos_url":"https://api.github.com/users/AliSepehri/repos","events_url":"https://api.github.com/users/AliSepehri/events{/privacy}","received_events_url":"https://api.github.com/users/AliSepehri/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-10T11:55:31Z","updated_at":"2018-04-10T16:36:32Z","closed_at":"2018-04-10T13:42:07Z","author_association":"NONE","body":"In Tehran most of the time we have +3:30 offset from UTC but after daylight saving time effect, our offset has been +4:30. For example the result of `Time.zone.now` is:\r\n```\r\nTue, 10 Apr 2018 16:00:00 +0430 +04:30\r\n```\r\n\r\nAssume I have following model:\r\n```\r\n  create_table \"events\", force: :cascade do |t|\r\n    t.time \"time_attr\"\r\n    t.datetime \"datetime_attr\"\r\n  end\r\n```\r\n\r\nWhen I initialize `Event` model, `time_attr` with `time` type has wrong offset:\r\n```\r\nEvent.new time_attr: Time.zone.now, datetime_attr: Time.zone.now\r\n\r\n#<Event:0x00000\r\ntime_attr: Sat, 01 Jan 2000 16:00:00 +0330 +03:30,\r\ndatetime_attr: Tue, 10 Apr 2018 16:00:00 +0430 +04:30\r\n>\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32516","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32516/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32516/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32516/events","html_url":"https://github.com/rails/rails/issues/32516","id":312752640,"number":32516,"title":"Middleware config problems are difficult to trace.","user":{"login":"j3pic","id":26551894,"avatar_url":"https://avatars2.githubusercontent.com/u/26551894?v=4","gravatar_id":"","url":"https://api.github.com/users/j3pic","html_url":"https://github.com/j3pic","followers_url":"https://api.github.com/users/j3pic/followers","following_url":"https://api.github.com/users/j3pic/following{/other_user}","gists_url":"https://api.github.com/users/j3pic/gists{/gist_id}","starred_url":"https://api.github.com/users/j3pic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j3pic/subscriptions","organizations_url":"https://api.github.com/users/j3pic/orgs","repos_url":"https://api.github.com/users/j3pic/repos","events_url":"https://api.github.com/users/j3pic/events{/privacy}","received_events_url":"https://api.github.com/users/j3pic/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-10T02:37:56Z","updated_at":"2018-04-13T04:37:37Z","closed_at":"2018-04-10T06:57:21Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nTry to perform a Rails 4 -> 5.1 upgrade on an app that depends on gems\r\nthat do the following:\r\n\r\n```\r\n  config.middleware.use \"Foo::Bar::Baz\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nIt would be nice if the resulting error showed the source location where `config.middleware.use` was called. This would require collecting and storing that information when `config.middleware.use` is called. Or perhaps the `use` method could simply check the validity of its arguments before storing them in internal data structures. (I can't make a PR to do that because I can't deduce the full criteria for argument validity from the documentation's [limited examples](http://api.rubyonrails.org/classes/Rails/Configuration/MiddlewareStackProxy.html).)\r\n\r\n### Actual behavior\r\n\r\nA secondary error occurs when ActionDispatch tries to call `\"Foo::Bar::Baz\".new`. The stack trace is useless, so extensive reading of Rails internals and use of pry-byebug is required to figure out which gem added the offending middleware:\r\n\r\n```\r\nNoMethodError: undefined method `new' for \"Foo::Bar::Baz\":String\r\nDid you mean?  next\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/actionpack-5.1.6/lib/action_dispatch/middleware/stack.rb:35:in `build'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/actionpack-5.1.6/lib/action_dispatch/middleware/stack.rb:100:in `block in build'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/actionpack-5.1.6/lib/action_dispatch/middleware/stack.rb:100:in `each'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/actionpack-5.1.6/lib/action_dispatch/middleware/stack.rb:100:in `inject'\
8000
r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/actionpack-5.1.6/lib/action_dispatch/middleware/stack.rb:100:in `build'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/engine.rb:508:in `block in app'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/engine.rb:504:in `synchronize'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/engine.rb:504:in `app'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/application/finisher.rb:45:in `block in <module:Finisher>'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/initializable.rb:30:in `instance_exec'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/initializable.rb:30:in `run'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/initializable.rb:59:in `block in run_initializers'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:228:in `block in tsort_each'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:431:in `each_strongly_connected_component_from'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:349:in `block in each_strongly_connected_component'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:347:in `each'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:347:in `call'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:347:in `each_strongly_connected_component'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:226:in `tsort_each'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/2.3.0/tsort.rb:205:in `tsort_each'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/initializable.rb:58:in `run_initializers'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/application.rb:353:in `initialize!'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/railtie.rb:185:in `public_send'\r\n  /Users/j3pic/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/railties-5.1.6/lib/rails/railtie.rb:185:in `method_missing'\r\n  /Users/j3pic/myapp/config/environment.rb:5:in `<top (required)>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n5.1.5\r\n\r\n**Ruby version**:\r\n\r\n2.3.7","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32505","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32505/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32505/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32505/events","html_url":"https://github.com/rails/rails/issues/32505","id":312667997,"number":32505,"title":"ActiveRecord duplicates primary key into column called ID","user":{"login":"mlh758","id":4331955,"avatar_url":"https://avatars1.githubusercontent.com/u/4331955?v=4","gravatar_id":"","url":"https://api.github.com/users/mlh758","html_url":"https://github.com/mlh758","followers_url":"https://api.github.com/users/mlh758/followers","following_url":"https://api.github.com/users/mlh758/following{/other_user}","gists_url":"https://api.github.com/users/mlh758/gists{/gist_id}","starred_url":"https://api.github.com/users/mlh758/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlh758/subscriptions","organizations_url":"https://api.github.com/users/mlh758/orgs","repos_url":"https://api.github.com/users/mlh758/repos","events_url":"https://api.github.com/users/mlh758/events{/privacy}","received_events_url":"https://api.github.com/users/mlh758/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-09T20:05:53Z","updated_at":"2018-04-10T04:29:16Z","closed_at":"2018-04-10T04:29:16Z","author_association":"NONE","body":"### Steps to reproduce\r\n1. Have a model with a primary key that is not ID. \r\n2. Decide it's time to change the primary key over to a column called ID because the old primary key is no longer valid.\r\n3. Add an ID column using a migration\r\n\r\n[Here is a test case](https://gist.github.com/mlh758/58b9a2e7863d3c81b68ec7b261c3d94a)\r\n\r\n### Expected behavior\r\nAfter creating a new column called ID on my class, that column should be nil when I pull records from the database.\r\n\r\n### Actual behavior\r\nWhatever data is in the primary key column is duplicated into the column called ID. This is weird by itself, but it also prevents me from being able to pre-populate the ID column with unique values before altering the table to use that column as the primary key. Saves into ID just seem to get ignored since it doesn't detect a change. Things like this happen:\r\n```\r\nrecord.old_key # let's say it's 3\r\nrecord.id # returns 3, it should be nil\r\nrecord.id = 12345\r\nrecord.save!\r\nKlass.where(id: 12345).count # 0, it didn't actually save the change\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.1.6\r\n\r\n**Ruby version**: 2.4.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32504","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32504/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32504/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32504/events","html_url":"https://github.com/rails/rails/issues/32504","id":312598161,"number":32504,"title":"serialize not inherited to subclasses","user":{"login":"jackrandom","id":5002075,"avatar_url":"https://avatars0.githubusercontent.com/u/5002075?v=4","gravatar_id":"","url":"https://api.github.com/users/jackrandom","html_url":"https://github.com/jackrandom","followers_url":"https://api.github.com/users/jackrandom/followers","following_url":"https://api.github.com/users/jackrandom/following{/other_user}","gists_url":"https://api.github.com/users/jackrandom/gists{/gist_id}","starred_url":"https://api.github.com/users/jackrandom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackrandom/subscriptions","organizations_url":"https://api.github.com/users/jackrandom/orgs","repos_url":"https://api.github.com/users/jackrandom/repos","events_url":"https://api.github.com/users/jackrandom/events{/privacy}","received_events_url":"https://api.github.com/users/jackrandom/received_events","type":"User","site_admin":false},"labels":[{"id":107191,"url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-04-09T16:24:28Z","updated_at":"2018-04-11T18:59:25Z","closed_at":"2018-04-11T18:59:25Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nput `serialize :something` in a model of your app. i.e.:\r\n```\r\nmodule Ci\r\n  class Configuration < ApplicationRecord\r\n   [...]\r\n    Ci::Configuration::Toolbar\r\n   [...]\r\n    belongs_to :project\r\n    serialize :config\r\n  end\r\nend\r\n\r\n```\r\nlet other classes inherit from this class, i.e.:\r\n```\r\nmodule Ci\r\n  class Configuration::Toolbar < Configuration\r\n    [...]\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n> If you have an attribute that needs to be saved to the database as an object, and retrieved as the same object, then specify the name of that attribute using this method and it will be handled **automatically** [1]\r\n[1] [ActiveRecord::AttributeMethods::Serialization::ClassMethods#serialize](http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html)\r\n\r\nI expect it to get an unserialized Ruby Object (not a String, if it isn't a String in Ruby)\r\n\r\n### Actual behavior\r\nWhen I try to get an object, it's not handled automatically, but instead always deliveres as a string like\r\n```\r\n Ci::Configuration Load (0.5ms)  SELECT `configurations`.* FROM `configurations` WHERE `configurations`.`type` = 'Ci::Configuration::Toolbar' AND `configurations`.`project_id` = 1\r\n=> \"---\\n:default:\\n- :label: Bearbeiten\\n  :url:\\n    :action: :show\\n  :deactivate:\\n    :if:\\n      :action: :show\\n    :icon: glyphicon-floppy-disk\\n    :label: Speichern\\n  :options:\\n    :remote: true\\n  :icon: glyphicon-pencil\\n- :label: Hinzuf\\xC3\\xBCgen\\n  :url:\\n    :action: :show_modal_for_insert\\n  :options:\\n    :remote: true\\n  :icon: glyphicon-plus\\n- :label: Entfernen\\n  :url:\\n    :action: :delete_node\\n  :options:\\n    :remote: false\\n    :data:\\n      :confirm: Eintrag wirklich l\\xC3\\xB6schen?\\n  :icon: glyphicon-remove\\n- :label: Versionen\\n  :engine: :versioning\\n  :url:\\n    :action: :history\\n  :options:\\n    :remote: false\\n  :icon: glyphicon-list-alt\\n\"\r\n```\r\n### Why I think it's inheritance related\r\nit works as expected, if I put \r\n`serialize :config`\r\n\r\ninside `Configuration::Toolbar < Configuration`, as in:\r\n```\r\nmodule Ci\r\n  class Configuration::Toolbar < Configuration\r\n    serialize :config\r\n    DEFAULT =\r\n      [\r\n        { label: 'Bearbeiten', url: { action: :show }, deactivate: { if: { action: :show }, icon: 'glyphicon-floppy-disk', label: 'Speichern' }, options: { remote: true }, icon: 'glyphicon-pencil' },\r\n        { label: 'Hinzufügen', url: { action: :show_modal_for_insert }, options: { remote: true }, icon: 'glyphicon-plus' },\r\n        { label: 'Entfernen', url: { action: :delete_node }, options: { remote: false, data: { confirm: 'Eintrag wirklich löschen?' } }, icon: 'glyphicon-remove' }\r\n      ].freeze\r\n  end\r\nend\r\n\r\n```\r\nI could reproduce this issue with every single model and it now works as expected, as I do have `serialize :config` included in all models inheriting from `Ci::Configuration`\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0.rc2\r\n\r\n**Ruby version**:2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32501","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32501/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32501/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32501/events","html_url":"https://github.com/rails/rails/issues/32501","id":312411737,"number":32501,"title":"Strange namespace issue of controllers in Rails Engine","user":{"login":"JevanWu","id":4226011,"avatar_url":"https://avatars0.githubusercontent.com/u/4226011?v=4","gravatar_id":"","url":"https://api.github.com/users/JevanWu","html_url":"https://github.com/JevanWu","followers_url":"https://api.github.com/users/JevanWu/followers","following_url":"https://api.github.com/users/JevanWu/following{/other_user}","gists_url":"https://api.github.com/users/JevanWu/gists{/gist_id}","starred_url":"https://api.github.com/users/JevanWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JevanWu/subscriptions","organizations_url":"https://api.github.com/users/JevanWu/orgs","repos_url":"https://api.github.com/users/JevanWu/repos","events_url":"https://api.github.com/users/JevanWu/events{/privacy}","received_events_url":"https://api.github.com/users/JevanWu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-09T06:40:57Z","updated_at":"2018-04-09T10:50:14Z","closed_at":"2018-04-09T10:50:13Z","author_association":"NONE","body":"### Steps to reproduce\r\nIn a Rails Engine, I create a new `ApplicationController` under the namespace:\r\n```\r\nmodule Foo\r\n  class ApplicationController < ActionController::Base\r\n    def current_employee\r\n      ...\r\n    end\r\n  end\r\nend\r\n```\r\nand another controller inherits from this application controller, like:\r\n```\r\nmodule Foo\r\n  class BarController < ApplicationController\r\n    before_action :set_employee\r\n    ...\r\n    private\r\n      def set_employee\r\n        @employee = current_employee\r\n      end\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe anticipated behavior should be that the superclass of `Foo::BarController` is `Foo::ApplicationController`, instead of the `ApplicationController` in the Rails application\r\n\r\n### Actual behavior\r\nThe code works as what I expect in the development environment on my locale machine. However, after I deployed it to staging environment on the server(Ubuntu), the superclass of `Foo::BarController` becomes the `ApplicationController` in the Rails application and the `set_employee` method throwed the error `undefined method 'current_employee'`\r\n\r\n### More info\r\nIt's a strange problem. After I tried out this in Ruby code, which worked well, I only can create an issue here.\r\nRuby code:\r\n```\r\nclass Parent\r\nend\r\n\r\nmodule Foo\r\n  class Parent\r\n  end\r\nend\r\n\r\nmodule Foo\r\n  class A < Parent\r\n  end\r\nend\r\n\r\nFoo::A.ancestors\r\n=> [Foo::A, Foo::Parent, Object, Kernel, BasicObject]\r\n\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.1.5\r\n**Ruby version**:\r\nruby 2.4.1p111","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32500","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32500/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32500/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32500/events","html_url":"https://github.com/rails/rails/issues/32500","id":312382712,"number":32500,"title":"ActiveStorage with Rails API","user":{"login":"NicholasLYang","id":7357863,"avatar_url":"https://avatars3.githubusercontent.com/u/7357863?v=4","gravatar_id":"","url":"https://api.github.com/users/NicholasLYang","html_url":"https://github.com/NicholasLYang","followers_url":"https://api.github.com/users/NicholasLYang/followers","following_url":"https://api.github.com/users/NicholasLYang/following{/other_user}","gists_url":"https://api.github.com/users/NicholasLYang/gists{/gist_id}","starred_url":"https://api.github.com/users/NicholasLYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NicholasLYang/subscriptions","organizations_url":"https://api.github.com/users/NicholasLYang/orgs","repos_url":"https://api.github.com/users/NicholasLYang/repos","events_url":"https://api.github.com/users/NicholasLYang/events{/privacy}","received_events_url":"https://api.github.com/users/NicholasLYang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-04-09T03:43:19Z","updated_at":"2018-04-10T07:36:45Z","closed_at":"2018-04-09T11:06:15Z","author_association":"NONE","body":"I'm basically trying to get ActiveStorage working with Rails API. The main issue I have is getting a URL from an Attachment object. `url_for` doesn't work outside of Rails views, so I cannot get the url from that. In addition, I'm not quite clear on creating an article with an image. The following code when run in the Rails console does not create an attachment:\r\n\r\n `School.create(name: \"New York University\", image: File.open(Rails.root + \"db/sample.jpg\"))`\r\n\r\nInstead, it simply gives the following: \r\n\r\n```\r\n(0.1ms)  begin transaction\r\n  School Create (0.8ms)  INSERT INTO \"schools\" (\"name\", \"created_at\", \"updated_at\") VALUES (?, ?, ?)  [[\"name\", \"New York University\"], [\"created_at\", \"2018-04-09 03:36:54.304927\"], [\"updated_at\", \"2018-04-09 03:36:54.304927\"]]\r\n   (2.8ms)  commit transaction\r\n=> #<School id: 4, name: \"New York University\", created_at: \"2018-04-09 03:36:54\", updated_at: \"2018-04-09 03:36:54\">\r\n```\r\n\r\n\r\n### Steps to reproduce\r\nTry to run `url_for` in the Rails console. \r\n\r\n### Expected behavior\r\nI get the url. Granted, I get that this is not the purpose of `url_for` (it's a view helper, not a method). But I'd like some equivalent, ideally a method in the ActiveStorage::Attached object.\r\n\r\n### Actual behavior\r\n`url_for` gives the following error: `(undefined method 'url_for' for main:Object)`. Even when I include the Rails view helpers, I get the following: \r\n\r\n`ArgumentError (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true)`\r\n\r\nI could try adding a host to the `ActiveStorage::Attached` object, but that's sorta hackneyed as splats don't work with it, and I can't mutate it easily.\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.2.0.rc2\r\n**Ruby version**:\r\nruby 2.5.0p0\r\n\r\nThank you for your time. I understand that ActiveStorage is not fully stable or released yet, but it looked too damn cool to not use 😄 . I'd be open to contributing/opening a PR if someone could point me in the right direction.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32499","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32499/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32499/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32499/events","html_url":"https://github.com/rails/rails/issues/32499","id":312373289,"number":32499,"title":"scoped routes :as option not working as expected","user":{"login":"moritzschepp","id":506366,"avatar_url":"https://avatars0.githubusercontent.com/u/506366?v=4","gravatar_id":"","url":"https://api.github.com/users/moritzschepp","html_url":"https://github.com/moritzschepp","followers_url":"https://api.github.com/users/moritzschepp/followers","following_url":"https://api.github.com/users/moritzschepp/following{/other_user}","gists_url":"https://api.github.com/users/moritzschepp/gists{/gist_id}","starred_url":"https://api.github.com/users/moritzschepp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moritzschepp/subscriptions","organizations_url":"https://api.github.com/users/moritzschepp/orgs","repos_url":"https://api.github.com/users/moritzschepp/repos","events_url":"https://api.github.com/users/moritzschepp/events{/privacy}","received_events_url":"https://api.github.com/users/moritzschepp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-09T02:41:33Z","updated_at":"2018-04-10T07:23:28Z","closed_at":"2018-04-09T10:22:13Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nIts my understanding that these two routes should be equivalent:\r\n\r\n```\r\nmatch 'houses/list', to: 'houses#list', via: 'GET', as: nil\r\n\r\nscope path: 'houses', controller: 'houses', as: nil do\r\n  match 'list', action: 'list'\r\nend\r\n```\r\n\r\n### Expected behavior\r\nNeither of the routes should define any helpers.\r\n\r\n### Actual behavior\r\nThe first route doesn't define a helper but the second does.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.4\r\n\r\n**Ruby version**: 2.4.3\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32495","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32495/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32495/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32495/events","html_url":"https://github.com/rails/rails/issues/32495","id":312332953,"number":32495,"title":"klass.ignored_columns.any? crashes on nil.any?","user":{"login":"eiked","id":2196134,"avatar_url":"https://avatars2.githubusercontent.com/u/2196134?v=4","gravatar_id":"","url":"https://api.github.com/users/eiked","html_url":"https://github.com/eiked","followers_url":"https://api.github.com/users/eiked/followers","following_url":"https://api.github.com/users/eiked/following{/other_user}","gists_url":"https://api.github.com/users/eiked/gists{/gist_id}","starred_url":"https://api.github.com/users/eiked/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiked/subscriptions","organizations_url":"https://api.github.com/users/eiked/orgs","repos_url":"https://api.github.com/users/eiked/repos","events_url":"https://api.github.com/users/eiked/events{/privacy}","received_events_url":"https://api.github.com/users/eiked/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-08T19:30:08Z","updated_at":"2018-04-11T21:28:56Z","closed_at":"2018-04-09T11:27:24Z","author_association":"NONE","body":"In rails 5.1.6: active_record/relation/query_methods.rb: build_select(arel):\r\n\r\n(sidenote: on the current github, query_methods.rb has been refactored, but the problem might still apply, see below) \r\n\r\nI newly got this error message on some code that did work before for years\r\n(possibly with updating to 5.1.6)\r\n\r\nruby2.5/gems/2.5.0/gems/activerecord-5.1.6/lib/active_record/relation/query_methods.rb:1044:in `build_select': undefined method `any?' for nil:NilClass (NoMethodError)\r\n\r\nin the line:\r\nelsif klass.ignored_columns.any?\r\n\r\nUnder some circumstances \"klass.ignored_columns\" can be nil.\r\n(this might possibly be caused by the \"ignorable\" gem)\r\n\r\nI'd like to suggest to make this immune against nil,\r\naka to change that to:\r\nelsif klass.ignored_columns&.any?\r\n\r\nOne might argue that ignored_columns should never become nil in the first place,\r\nso this might actually be the correct behaviour to fail fast here.\r\n\r\nI'd argue that rails should be robust and defensive.\r\nSo instead of crashing,  we'd better emit a warning here and go on.\r\n\r\n---\r\n\r\nThis is pretty much along the lines of empty? and blank?\r\n\r\nI'd like to suggest that the non-existant quantors on Arrays, Enumerables and Collections\r\nshould be forgiving on nil (where appropriate - possibly emiting a warning)\r\n\r\nIn the context of the ruby language,\r\nthere is a well defined difference between the empty collection or nil.\r\n\r\nBut in the context of rails,\r\nwhere collections are all around,\r\nthere is not much difference between an empty collection or not having a collection at all.\r\n\r\n---\r\n\r\nSomething like any?? or any?! (just joking)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n### Steps to reproduce\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n**Ruby version**:\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32493","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32493/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32493/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32493/events","html_url":"https://github.com/rails/rails/issues/32493","id":312289888,"number":32493,"title":"Routing wrong action when using \"controller:\"","user":{"login":"hexcat","id":21160542,"avatar_url":"https://avatars2.githubusercontent.com/u/21160542?v=4","gravatar_id":"","url":"https://api.github.com/users/hexcat","html_url":"https://github.com/hexcat","followers_url":"https://api.github.com/users/hexcat/followers","following_url":"https://api.github.com/users/hexcat/following{/other_user}","gists_url":"https://api.github.com/users/hexcat/gists{/gist_id}","starred_url":"https://api.github.com/users/hexcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexcat/subscriptions","organizations_url":"https://api.github.com/users/hexcat/orgs","repos_url":"https://api.github.com/users/hexcat/repos","events_url":"https://api.github.com/users/hexcat/events{/privacy}","received_events_url":"https://api.github.com/users/hexcat/received_events","type":"User","site_admin":false},"labels":[{"id":150377,"url":"https://api.github.com/repos/rails/rails/labels/docs","name":"docs","color":"02d7e1","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-08T09:32:31Z","updated_at":"2018-04-08T19:22:40Z","closed_at":"2018-04-08T19:17:22Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n1. Create new application with `rails new`\r\n2. Add `get 'wrong_action', to: :show, controller: 'test'` line to `config/routes.rb`\r\n3. Create `app/controllers/test_controller.rb` and write this code into it:\r\n```\r\nclass TestController < ApplicationController\r\n  def show\r\n    render plain: params\r\n  end\r\nend\r\n```\r\n4. Start server with `bin/rails server -b 127.0.0.1`\r\n5. Navigate web browser to [http://127.0.0.1:3000/wrong_action](http://127.0.0.1:3000/wrong_action)\r\n\r\n### Expected behavior\r\n`{\"controller\"=>\"test\", \"action\"=>\"show\"}` [(Rails Routing from the Outside In)](http://guides.rubyonrails.org/routing.html#singular-resources)\r\n\r\n### Actual behavior\r\n`The action 'wrong_action' could not be found for TestController`\r\n\r\n### System configuration\r\n**Rails version**: 5.1.6\r\n\r\n**Ruby version**: 2.5.1\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32483","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32483/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32483/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32483/events","html_url":"https://github.com/rails/rails/issues/32483","id":312076250,"number":32483,"title":"ActionDispatch default headers ignored in API only mode","user":{"login":"kddeisz","id":5093358,"avatar_url":"https://avatars2.githubusercontent.com/u/5093358?v=4","gravatar_id":"","url":"https://api.github.com/users/kddeisz","html_url":"https://github.com/kddeisz","followers_url":"https://api.github.com/users/kddeisz/followers","following_url":"https://api.github.com/users/kddeisz/following{/other_user}","gists_url":"https://api.github.com/users/kddeisz/gists{/gist_id}","starred_url":"https://api.github.com/users/kddeisz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kddeisz/subscriptions","organizations_url":"https://api.github.com/users/kddeisz/orgs","repos_url":"https://api.github.com/users/kddeisz/repos","events_url":"https://api.github.com/users/kddeisz/events{/privacy}","received_events_url":"https://api.github.com/users/kddeisz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-06T18:38:33Z","updated_at":"2018-04-10T23:10:53Z","closed_at":"2018-04-10T23:10:53Z","author_association":"CONTRIBUTOR","body":"This may have originally been a design decision, but it seems like an odd choice. When an application is running in API only mode, default headers are not merged into the request. Adding the following code (copied straight from the non-API side) to the `ApplicationController` fixes it:\r\n\r\n```ruby\r\ndef self.make_response!(request)\r\n  ActionDispatch::Response.create.tap do |res|\r\n    res.request = request\r\n  end\r\nend\r\n```\r\n\r\nI'd like to open a PR to either:\r\n\r\n* push this code up so that both `ActionController::Base` and `ActionController::API` have access to it\r\n* push this code into a module that users can optionally include in their `ApplicationController`\r\n\r\nI'd prefer the former, as I don't know why you wouldn't want security headers on your API. Let me know which approach would be preferred, if either.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32474","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32474/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32474/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32474/events","html_url":"https://github.com/rails/rails/issues/32474","id":311841803,"number":32474,"title":"Uninitialized constant ActionCable","user":{"login":"emikaijuin","id":19805576,"avatar_url":"https://avatars1.githubusercontent.com/u/19805576?v=4","gravatar_id":"","url":"https://api.github.com/users/emikaijuin","html_url":"https://github.com/emikaijuin","followers_url":"https://api.github.com/users/emikaijuin/followers","following_url":"https://api.github.com/users/emikaijuin/following{/other_user}","gists_url":"https://api.github.com/users/emikaijuin/gists{/gist_id}","starred_url":"https://api.github.com/users/emikaijuin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emikaijuin/subscriptions","organizations_url":"https://api.github.com/users/emikaijuin/orgs","repos_url":"https://api.github.com/users/emikaijuin/repos","events_url":"https://api.github.com/users/emikaijuin/events{/privacy}","received_events_url":"https://api.github.com/users/emikaijuin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-06T04:04:33Z","updated_at":"2018-04-06T05:01:48Z","closed_at":"2018-04-06T05:01:48Z","author_association":"NONE","body":"I also have a question open on this [at Stack Overflow](https://stackoverflow.com/questions/49670092/uninitialized-constant-actioncable).\r\n\r\nI have a project which was created on Rails 4.2.5 which I upgraded to Rails 5.1.5 to code in a chatroom feature using Action Cable. To upgrade, I changed the version in my rails Gemfile and then used `rake rails:update` to update to the most current version. There were some conflicting files (`config/routes.rb`, `secrets.yml`, `config/development.rb`) during the upgrade, I kept my existing routes.rb and secrets.yml and let the others override per the rails update. \r\n\r\nI then manually created a `app/channels/application_cable` directory and created a `channel.rb` and `connection.rb` file. The current code in these is:\r\n\r\n```\r\nmodule ApplicationCable\r\n  class Channel < ActionCable::Channel::Base\r\n  end\r\nend\r\n```\r\n\r\nand\r\n\r\n\r\n```\r\nmodule ApplicationCable\r\n  class Connection < ActionCable::Connection::Base\r\n    identified_by :current_user\r\n\r\n        def connect\r\n          self.current_user = find_verified_user\r\n          logger.add_tags 'ActionCable', current_user.email\r\n        end\r\n\r\n        protected\r\n\r\n        def find_verified_user # this checks whether a user is authenticated with devise\r\n          if verified_user = env['warden'].user\r\n            verified_user\r\n          else\r\n            reject_unauthorized_connection\r\n          end\r\n        end\r\n  end\r\nend\r\n```\r\n\r\nI have the following ActionCable.server mounted to my `config/routes.rb` as follows:\r\n```\r\ninclude SessionsHelper\r\n\r\nRails.application.routes.draw do\r\n\r\n  [...]\r\n  mount ActionCable.server => '/cable'\r\n  [...]\r\nend\r\n```\r\n\r\nWhenever I try to start my server, it crashes with the following error: \r\n```\r\n/home/ubuntu/workspace/config/routes.rb:39:in `block in <top (required)>': uninitialized constant ActionCable (NameError)\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:434:in `instance_exec'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:434:in `eval_block'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:412:in `draw'\r\n        from /home/ubuntu/workspace/config/routes.rb:3:in `<top (required)>'\r\n        from /
7f1a
usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `each'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `load_paths'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:16:in `reload!'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:26:in `block in updater'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/activesupport-4.2.5/lib/active_support/file_update_checker.rb:75:in `execute'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:27:in `updater'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:7:in `execute_if_updated'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application/finisher.rb:69:in `block in <module:Finisher>'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/initializable.rb:30:in `instance_exec'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/initializable.rb:30:in `run'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/initializable.rb:55:in `block in run_initializers'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:228:in `block in tsort_each'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:431:in `each_strongly_connected_component_from'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:349:in `block in each_strongly_connected_component'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `each'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `call'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `each_strongly_connected_component'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:226:in `tsort_each'\r\n        from /usr/local/rvm/rubies/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:205:in `tsort_each'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/initializable.rb:54:in `run_initializers'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/application.rb:352:in `initialize!'\r\n        from /home/ubuntu/workspace/config/environment.rb:5:in `<top (required)>'\r\n        from /home/ubuntu/workspace/config.ru:3:in `require'\r\n        from /home/ubuntu/workspace/config.ru:3:in `block in <main>'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/builder.rb:55:in `instance_eval'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/builder.rb:55:in `initialize'\r\n        from /home/ubuntu/workspace/config.ru:in `new'\r\n        from /home/ubuntu/workspace/config.ru:in `<main>'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/builder.rb:49:in `eval'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/builder.rb:49:in `new_from_string'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/builder.rb:40:in `parse_file'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/server.rb:300:in `build_app_and_options_from_config'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/server.rb:209:in `app'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/server.rb:61:in `app'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/rack-1.6.9/lib/rack/server.rb:337:in `wrapped_app'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/server.rb:139:in `log_to_stdout'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/server.rb:78:in `start'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:80:in `block in server'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:75:in `tap'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:75:in `server'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\r\n        from /usr/local/rvm/gems/ruby-2.3.4/gems/railties-4.2.5/lib/rails/commands.rb:17:in `<top (required)>'\r\n        from bin/rails:4:in `require'\r\n        from bin/rails:4:in `<main>'\r\n```\r\n\r\nI have tried adding `require \"action_cable\"` and `require \"action_cable/engine\"` to the `config/application.rb` but it gives back an error `require': cannot load such file -- action_cable/engine (LoadError)` or `require': cannot load such file -- action_cable (LoadError)`\r\n\r\nDoes anybody know how to finalize ActionCable configuration after upgrading to Rails 5? ","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32470","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32470/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32470/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32470/events","html_url":"https://github.com/rails/rails/issues/32470","id":311795473,"number":32470,"title":"ActionView::Helpers::DateHelper#time_ago_in_words is off by an hour","user":{"login":"ilyakatz","id":282514,"avatar_url":"https://avatars1.githubusercontent.com/u/282514?v=4","gravatar_id":"","url":"https://api.github.com/users/ilyakatz","html_url":"https://github.com/ilyakatz","followers_url":"https://api.github.com/users/ilyakatz/followers","following_url":"https://api.github.com/users/ilyakatz/following{/other_user}","gists_url":"https://api.github.com/users/ilyakatz/gists{/gist_id}","starred_url":"https://api.github.com/users/ilyakatz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilyakatz/subscriptions","organizations_url":"https://api.github.com/users/ilyakatz/orgs","repos_url":"https://api.github.com/users/ilyakatz/repos","events_url":"https://api.github.com/users/ilyakatz/events{/privacy}","received_events_url":"https://api.github.com/users/ilyakatz/received_events","type":"User","site_admin":false},"labels":[{"id":107194,"url":"https://api.github.com/repos/rails/rails/labels/activesupport","name":"activesupport","color":"FC9300","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-05T22:50:36Z","updated_at":"2018-04-07T14:50:33Z","closed_at":"2018-04-07T14:50:33Z","author_association":"CONTRIBUTOR","body":"### Steps to reproduce\r\n\r\n```\r\nirb(main):023:0> Time.now\r\n=> 2018-04-05 22:28:50 +0000\r\nirb(main):024:0> Time.now.in_time_zone\r\n=> Thu, 05 Apr 2018 15:28:55 PDT -07:00\r\nirb(main):025:0> time_ago_in_words(Time.now - 15.hours)\r\n=> \"16 hours\"\r\n```\r\n\r\n### Expected behavior\r\nWhen using `distance_of_time_in_words_to_now` helper, it should take into account current Timezone, however, it does not\r\n\r\n### Actual behavior\r\n\r\nTime is off by one hour\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n4.2 but looks like it's the same on master\r\n\r\nhttps://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/date_helper.rb#L177\r\n\r\nThis can be resolved by using `Time.now.in_time_zone` in the argument \r\n\r\n**Ruby version**:\r\n\r\n2.3\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32467","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32467/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32467/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32467/events","html_url":"https://github.com/rails/rails/issues/32467","id":311660253,"number":32467,"title":"Persisting an empty string in an integer field with a default value converts to nil","user":{"login":"gduquesnay","id":84978,"avatar_url":"https://avatars2.githubusercontent.com/u/84978?v=4","gravatar_id":"","url":"https://api.github.com/users/gduquesnay","html_url":"https://github.com/gduquesnay","followers_url":"https://api.github.com/users/gduquesnay/followers","following_url":"https://api.github.com/users/gduquesnay/following{/other_user}","gists_url":"https://api.github.com/users/gduquesnay/gists{/gist_id}","starred_url":"https://api.github.com/users/gduquesnay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gduquesnay/subscriptions","organizations_url":"https://api.github.com/users/gduquesnay/orgs","repos_url":"https://api.github.com/users/gduquesnay/repos","events_url":"https://api.github.com/users/gduquesnay/events{/privacy}","received_events_url":"https://api.github.com/users/gduquesnay/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-05T15:32:04Z","updated_at":"2018-04-05T16:31:53Z","closed_at":"2018-04-05T16:31:53Z","author_association":"NONE","body":"### Steps to reproduce\r\nAdd a field such as\r\nt.integer \"time_limit\", default: 0\r\n\r\nupdate(time_limit: '')\r\n\r\nThis is what happens by default if you use are using an input_field to set this integer and the user clears the field and submits the form\r\n\r\n### Expected behavior\r\nSeem like to would be less surprising to set it to the default value\r\n\r\n### Actual behavior\r\nIt get's set to nil\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n\r\n**Ruby version**: 2.5.0\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32465","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32465/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32465/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32465/events","html_url":"https://github.com/rails/rails/issues/32465","id":311616140,"number":32465,"title":"Using url helper for a route that has constraints does not take encoding into consideration","user":{"login":"zinkkrysty","id":570771,"avatar_url":"https://avatars0.githubusercontent.com/u/570771?v=4","gravatar_id":"","url":"https://api.github.com/users/zinkkrysty","html_url":"https://github.com/zinkkrysty","followers_url":"https://api.github.com/users/zinkkrysty/followers","following_url":"https://api.github.com/users/zinkkrysty/following{/other_user}","gists_url":"https://api.github.com/users/zinkkrysty/gists{/gist_id}","starred_url":"https://api.github.com/users/zinkkrysty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinkkrysty/subscriptions","organizations_url":"https://api.github.com/users/zinkkrysty/orgs","repos_url":"https://api.github.com/users/zinkkrysty/repos","events_url":"https://api.github.com/users/zinkkrysty/events{/privacy}","received_events_url":"https://api.github.com/users/zinkkrysty/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-05T13:43:47Z","updated_at":"2018-04-05T16:07:48Z","closed_at":"2018-04-05T16:07:48Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\n1. Create a route with a constraint:\r\n```\r\nget 'my_route/:url' => 'my_controller#my_route' url: /[^\\/]+/, as: :my_route\r\n```\r\n\r\n2. Using a helper to create a path:\r\n```\r\nmy_route_path(url: 'http://www.example.com/')\r\n```\r\n\r\n### Expected behavior\r\nHelper outputs: `/my_route/http%3A%2F%2Fwww.example.com%2F` which is a valid route that points to the `my_controller#my_route` action.\r\n\r\nWhen using the helper, the constraint should be applied/verified after the encoding, not before.\r\n\r\n### Actual behavior\r\nAn Error is thrown:\r\n\r\n```\r\nNo route matches {:action=>\"my_route\", :controller=>\"my_controller\"}, missing required keys: [:url]\r\n```\r\n\r\nRequesting this path works though:\r\n\r\n`/my_route/http%3A%2F%2Fwww.example.com%2F`\r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.8\r\n**Ruby version**:\r\n2.4.0\r\n\r\n\r\n### Bonus: Opposite (but also wrong) behaviour with the same cause\r\n\r\nWhat should happen if the route constraint is excluding valid encoded characters? So having a route like `get 'my_route/:url' => 'my_controller#my_route' url: /[^\\/%]+/, as: :my_route` would output an invalid path (`/my_route/using%3Acolon`) when using the helper `my_route_path(url: 'using:colon')` but won't complain when using the helper.","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32464","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32464/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32464/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32464/events","html_url":"https://github.com/rails/rails/issues/32464","id":311556307,"number":32464,"title":"Assets pipeline URL helpers generate `/javascript/....` instead of `/assets/....`","user":{"login":"snird","id":2139589,"avatar_url":"https://avatars1.githubusercontent.com/u/2139589?v=4","gravatar_id":"","url":"https://api.github.com/users/snird","html_url":"https://github.com/snird","followers_url":"https://api.github.com/users/snird/followers","following_url":"https://api.github.com/users/snird/following{/other_user}","gists_url":"https://api.github.com/users/snird/gists{/gist_id}","starred_url":"https://api.github.com/users/snird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snird/subscriptions","organizations_url":"https://api.github.com/users/snird/orgs","repos_url":"https://api.github.com/users/snird/repos","events_url":"https://api.github.com/users/snird/events{/privacy}","received_events_url":"https://api.github.com/users/snird/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-05T10:30:46Z","updated_at":"2018-04-05T12:29:06Z","closed_at":"2018-04-05T12:29:05Z","author_association":"NONE","body":"First, I'm sorry I can't attach an example application, as I couldn't reproduce it outside of my production app.\r\nAnd even with it, locally, in development everything worked fine, it was just when deploying to production the weird behaviour occurred.\r\n\r\nI'm in the process of upgrading a rails 4.2 app to rails 5.0. In development, everything works as expected, but the issue occurs only on deployment:\r\nThe assets pipeline compilation works as expected, and all the files are under `/public/assets`, as it always has been.\r\nIn the local development machine, loading every page works as expected, and the URLs for all the assets looks like:\r\n`/assets/application.js`\r\n`/assets/application.css`\r\nBut when deploying the app, the pipeline compilation still compiles as expected, but the URLs in all pages for the assets now looks like:\r\n`/javascripts/application.js`\r\n`/stylesheets/application.css`\r\n\r\nAfter trying long to find solution in google, it seems like it has happen to some people but there was no solution.\r\nI dived into the rails code, which made me wonder how did it ever work.\r\nEvery URL and Tag helper available, from here: https://github.com/rails/rails/tree/5-0-stable/actionview/lib/action_view/helpers\r\nare using the `compute_asset_path` method in the end. https://github.com/rails/rails/blob/4-2-stable/actionview/lib/action_view/helpers/asset_url_helper.rb#L192\r\nAnd this method, determines the path by the `type` of the asset, generating `/javascripts/..` for script etc'.\r\nBut all comments of the function say that is should generate `/assets/...` for everything.\r\n(And I did check, it is the same code for rails 4.2.. it didn't change.)\r\n\r\nSo taking a look at the code did not help.\r\nI feel like I'm missing something obvious. Can someone help me with a pointer?\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32463","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32463/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32463/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32463/events","html_url":"https://github.com/rails/rails/issues/32463","id":311470706,"number":32463,"title":"Implement ApplicationRecord.pluck","user":{"login":"sunnyrjuneja","id":1108341,"avatar_url":"https://avatars3.githubusercontent.com/u/1108341?v=4","gravatar_id":"","url":"https://api.github.com/users/sunnyrjuneja","html_url":"https://github.com/sunnyrjuneja","followers_url":"https://api.github.com/users/sunnyrjuneja/followers","following_url":"https://api.github.com/users/sunnyrjuneja/following{/other_user}","gists_url":"https://api.github.com/users/sunnyrjuneja/gists{/gist_id}","starred_url":"https://api.github.com/users/sunnyrjuneja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunnyrjuneja/subscriptions","organizations_url":"https://api.github.com/users/sunnyrjuneja/orgs","repos_url":"https://api.github.com/users/sunnyrjuneja/repos","events_url":"https://api.github.com/users/sunnyrjuneja/events{/privacy}","received_events_url":"https://api.github.com/users/sunnyrjuneja/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-05T04:42:29Z","updated_at":"2018-04-06T20:20:18Z","closed_at":"2018-04-05T05:12:16Z","author_association":"NONE","body":"Hi,\r\n\r\nI have code that looks like this:\r\n\r\n```ruby\r\nclass Example < ApplicationRecord\r\n  has_many :team\r\n  has_one :individual\r\n\r\n  def notifiers\r\n    if on_team?\r\n      team\r\n    elsif solo?\r\n      individual\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nI want to call `Example.new.notifiers.pluck(:email)` but ApplicationRecord  does not define #pluck. I want ApplicationRecord to define pluck that returns [\"email@gmail.com\"].\r\n\r\nI'm aware that I can do `[individual]` but I think this would be a tiny QOL improvement because I sometimes forget.\r\n\r\nA possible implementation might be\r\n\r\n```ruby\r\ndef pluck(**columns)\r\n  colums.map! { |c| c.to_s }\r\n  [attributes.slice(columns).values]\r\nend\r\n```","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32460","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32460/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32460/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32460/events","html_url":"https://github.com/rails/rails/issues/32460","id":311398142,"number":32460,"title":"Scopes and Single Table Inheritance","user":{"login":"aliCamargo","id":8186569,"avatar_url":"https://avatars0.githubusercontent.com/u/8186569?v=4","gravatar_id":"","url":"https://api.github.com/users/aliCamargo","html_url":"https://github.com/aliCamargo","followers_url":"https://api.github.com/users/aliCamargo/followers","following_url":"https://api.github.com/users/aliCamargo/following{/other_user}","gists_url":"https://api.github.com/users/aliCamargo/gists{/gist_id}","starred_url":"https://api.github.com/users/aliCamargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aliCamargo/subscriptions","organizations_url":"https://api.github.com/users/aliCamargo/orgs","repos_url":"https://api.github.com/users/aliCamargo/repos","events_url":"https://api.github.com/users/aliCamargo/events{/privacy}","received_events_url":"https://api.github.com/users/aliCamargo/received_events","type":"User","site_admin":false},"labels":[{"id":107191,"url":"https://api.github.com/repos/rails/rails/labels/activerecord","name":"activerecord","color":"0b02e1","default":false},{"id":257468118,"url":"https://api.github.com/repos/rails/rails/labels/needs%20work","name":"needs work","color":"000000","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-04T21:30:14Z","updated_at":"2018-04-04T23:34:59Z","closed_at":"2018-04-04T23:34:59Z","author_association":"NONE","body":"### Steps to reproduce\r\nThe scopes not working correctly in the STI class, when the scope is execute from child class returns all instances of the parent class.\r\n\r\n```Ruby\r\nclass Person < ActiveRecord::Base\r\n  scope :order_by_name, ->(order = 'asc') { order(name: order.to_sym)}\r\nend\r\n\r\nclass LegalPerson < Person\r\n  scope :industrial, -> { where(classification: 'industrial') }\r\n  scope :textile, -> { where(classification: 'textile') }\r\nend\r\n\r\nclass NaturalPerson < Person\r\n  scope :employee, -> { where(classification: 'employee') }\r\n  scope :independent, -> { where(classification: 'independent') }\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe expected behavior is apply the order scope and keep the conditional `WHERE` because the `scope` is executing on `Legal` model.\r\n\r\n```Ruby\r\nLegal.order_by_name.to_sql\r\n#=> SELECT persons.* FROM persons WHERE persons.type IN ('LegalPerson') ORDER BY persons.name ASC\r\n```\r\n\r\n### Actual behavior\r\nThe Actual behavior is applying the order scope but remove the conditional `WHERE` although the `scope` is executing on `LegalPerson` model.\r\n\r\nApparently, the `scope` is applied in the parent class and return `Person` instances including `NaturalPerson`.\r\n\r\n```Ruby\r\nLegalPerson.order_by_name.to_sql\r\n#=> SELECT persons.* FROM persons ORDER BY persons.name ASC\r\n```\r\n\r\n### System configuration\r\n**Rails version**: Rails 5.1.5\r\n\r\n**Ruby version**: ruby-2.5.0\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32459","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32459/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32459/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32459/events","html_url":"https://github.com/rails/rails/issues/32459","id":311394913,"number":32459,"title":"ActiveJob::TestHelper methods cause SystemStackError: stack level too deep errors","user":{"login":"katiemccann","id":2029820,"avatar_url":"https://avatars3.githubusercontent.com/u/2029820?v=4","gravatar_id":"","url":"https://api.github.com/users/katiemccann","html_url":"https://github.com/katiemccann","followers_url":"https://api.github.com/users/katiemccann/followers","following_url":"https://api.github.com/users/katiemccann/following{/other_user}","gists_url":"https://api.github.com/users/katiemccann/gists{/gist_id}","starred_url":"https://api.github.com/users/katiemccann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/katiemccann/subscriptions","organizations_url":"https://api.github.com/users/katiemccann/orgs","repos_url":"https://api.github.com/users/katiemccann/repos","events_url":"https://api.github.com/users/katiemccann/events{/privacy}","received_events_url":"https://api.github.com/users/katiemccann/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-04T21:18:42Z","updated_at":"2018-04-04T22:38:48Z","closed_at":"2018-04-04T21:58:06Z","author_association":"NONE","body":"When I try to use *any* methods from ActiveJob::TestHelper in an integration test, I get a SystemStackError: stack level too deep\r\n\r\n### Steps to reproduce\r\nsimple_test.rb:\r\n```\r\nrequire 'test_helper'\r\ninclude ActiveJob::TestHelper\r\n\r\nclass SimpleTest < ActionDispatch::IntegrationTest\r\n\r\n  test 'simple' do\r\n    perform_enqueued_jobs do\r\n      #do something later\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n`$ rails test test/integration/simple_test.rb`\r\n\r\n> Running via Spring preloader in process 98102\r\n> Run options: --seed 60371\r\n> \r\n> Running:\r\n> \r\n> E\r\n> \r\n> Error:\r\n> SimpleTest#test_simple:\r\n> SystemStackError: stack level too deep\r\n>     test/integration/simple_test.rb:9:in `block in <class:SimpleTest>'\r\n> \r\n> \r\n> bin/rails test test/integration/simple_test.rb:8\r\n> \r\n\r\n### Expected behavior\r\nTest should run  normally\r\n\r\n### Actual behavior\r\nError:\r\nSimpleTest#test_simple:\r\nSystemStackError: stack level too deep\r\n    test/integration/simple_test.rb:9:in `block in <class:SimpleTest>'\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.6 (also happened on 5.1.4)\r\n\r\n**Ruby version**:\r\n 2.5.1 (also happened on 2.3.1)\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32455","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32455/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32455/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32455/events","html_url":"https://github.com/rails/rails/issues/32455","id":311324281,"number":32455,"title":"Ruby 2.2.10 > Ruby 2.2.2","user":{"login":"osburn-sharp","id":325710,"avatar_url":"https://avatars1.githubusercontent.com/u/325710?v=4","gravatar_id":"","url":"https://api.github.com/users/osburn-sharp","html_url":"https://github.com/osburn-sharp","followers_url":"https://api.github.com/users/osburn-sharp/followers","following_url":"https://api.github.com/users/osburn-sharp/following{/other_user}","gists_url":"https://api.github.com/users/osburn-sharp/gists{/gist_id}","starred_url":"https://api.github.com/users/osburn-sharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osburn-sharp/subscriptions","organizations_url":"https://api.github.com/users/osburn-sharp/orgs","repos_url":"https://api.github.com/users/osburn-sharp/repos","events_url":"https://api.github.com/users/osburn-sharp/events{/privacy}","received_events_url":"https://api.github.com/users/osburn-sharp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-04T17:35:33Z","updated_at":"2018-04-08T12:11:44Z","closed_at":"2018-04-04T18:18:24Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nTry starting Rails 5 with Ruby 2.2.10\r\n\r\n### Expected behavior\r\nShould work OK\r\n\r\n### Actual behavior\r\nThinks that Ruby 2.2.10 < 2.2.2 and refuses to start\r\n\r\n### System configuration\r\n**Rails version**: 5.1.4\r\n\r\n**Ruby version**: 2.2.10\r\n","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32452","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32452/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32452/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32452/events","html_url":"https://github.com/rails/rails/issues/32452","id":311273476,"number":32452,"title":"Shopify/bootsnap gem breaks `webpacker:install`","user":{"login":"dwarfmondo","id":156790,"avatar_url":"https://avatars3.githubusercontent.com/u/156790?v=4","gravatar_id":"","url":"https://api.github.com/users/dwarfmondo","html_url":"https://github.com/dwarfmondo","followers_url":"https://api.github.com/users/dwarfmondo/followers","following_url":"https://api.github.com/users/dwarfmondo/following{/other_user}","gists_url":"https://api.github.com/users/dwarfmondo/gists{/gist_id}","starred_url":"https://api.github.com/users/dwarfmondo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwarfmondo/subscriptions","organizations_url":"https://api.github.com/users/dwarfmondo/orgs","repos_url":"https://api.github.com/users/dwarfmondo/repos","events_url":"https://api.github.com/users/dwarfmondo/events{/privacy}","received_events_url":"https://api.github.com/users/dwarfmondo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-04T15:13:38Z","updated_at":"2018-04-05T14:37:47Z","closed_at":"2018-04-04T22:12:55Z","author_association":"NONE","body":"### Steps to reproduce\r\n\r\nExecute a clean install of a new rails `5.2.0.rc2` app with ruby `2.5.0`. With the following command `rails new webpacker-bootsnap-test --webpack=stimulus`. \r\n\r\n### Expected behavior\r\nRails spins up a new app with no errors and a clean configuration of webpack with stimulus js.\r\n\r\n### Actual behavior\r\nInstallation is aborted with an uninitialized constant error and a slew of warnings are logged referring to double loading gems from rbenv and homebrew.\r\n\r\nDouble-Loading Gems with rbenv and homebrew\r\nhttps://github.com/Shopify/bootsnap/issues/112\r\n\r\nUse realpaths in Cache @path_obj\r\nhttps://github.com/Shopify/bootsnap/pull/136\r\n\r\nRemoving the bootsnap gem results in a clean install with expected behavior.\r\n\r\n### System configuration\r\n**Rails version**: 5.2.0.rc2\r\n\r\n**Ruby version**: 2.5.0","score":1.0},{"url":"https://api.github.com/repos/rails/rails/issues/32438","repository_url":"https://api.github.com/repos/rails/rails","labels_url":"https://api.github.com/repos/rails/rails/issues/32438/labels{/name}","comments_url":"https://api.github.com/repos/rails/rails/issues/32438/comments","events_url":"https://api.github.com/repos/rails/rails/issues/32438/events","html_url":"https://github.com/rails/rails/issues/32438","id":310975375,"number":32438,"title":"Rails-ujs events not firing from links loaded through rails-ujs","user":{"login":"hughkelsey","id":1226188,"avatar_url":"https://avatars3.githubusercontent.com/u/1226188?v=4","gravatar_id":"","url":"https://api.github.com/users/hughkelsey","html_url":"https://github.com/hughkelsey","followers_url":"https://api.github.com/users/hughkelsey/followers","following_url":"https://api.github.com/users/hughkelsey/following{/other_user}","gists_url":"https://api.github.com/users/hughkelsey/gists{/gist_id}","starred_url":"https://api.github.com/users/hughkelsey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hughkelsey/subscriptions","organizations_url":"https://api.github.com/users/hughkelsey/orgs","repos_url":"https://api.github.com/users/hughkelsey/repos","events_url":"https://api.github.com/users/hughkelsey/events{/privacy}","received_events_url":"https://api.github.com/users/hughkelsey/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-04-03T19:55:58Z","updated_at":"2018-04-05T13:07:10Z","closed_at":"2018-04-05T05:16:03Z","author_association":"CONTRIBUTOR","body":"### Steps to reproduce\r\n\r\nI've created a quick example app here: https://shielded-beach-23078.herokuapp.com/examples\r\nThe source is here: https://github.com/hughkelsey/rails-ujs-issue\r\n\r\n1. Visit https://shielded-beach-23078.herokuapp.com/examples\r\n2. Click on any of the links, they will load some basic content with a link through rails-ujs\r\n3. Click on the link that was loaded by rails-ujs\r\n4. This will reload the same partial through rails-ujs\r\n\r\n### Expected behavior\r\nThe ajax:complete event should fire whenever the `data-remote: true` link is clicked.\r\n\r\n### Actual behavior\r\nThe ajax:complete event fires for the links initially loaded but not for the links loaded through rails-ujs.\r\n\r\n### System configuration\r\n**Rails version**: 5.2rc2\r\n**Ruby version**: 2.4.1\r\n\r\nThis issue was originally noticed in 5.1 but the test case above is in 5.2rc2\r\n","score":1.0}]}
0

