HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:11:18 GMT
Link: <https://api.github.com/search/issues?q=repo%3Acakephp%2Fcakephp+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Acakephp%2Fcakephp+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CE61:57C5:373388D:71A8FAC:5B1B8BA5
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 3
X-Ratelimit-Reset: 1528531917
X-Runtime-Rack: 0.366737
X-Xss-Protection: 1; mode=block

8000
{"total_count":4719,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12186","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12186/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12186/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12186/events","html_url":"https://github.com/cakephp/cakephp/issues/12186","id":329495068,"node_id":"MDU6SXNzdWUzMjk0OTUwNjg=","number":12186,"title":"Undefined property Cell::$viewClass","user":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60504934,"node_id":"MDU6TGFiZWw2MDUwNDkzNA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/view","name":"view","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-06-05T14:55:24Z","updated_at":"2018-06-05T17:48:31Z","closed_at":"2018-06-05T14:58:42Z","author_association":"MEMBER","body":"_From @Erwane on June 5, 2018 6:52_\n\nHi,\r\n```\r\ncakephp/cakephp                    3.6.4                  \r\ncakephp/debug_kit                  3.16.1                 \r\n```\r\nI've bake a new very simple cell, when rendering, debug_kit warn about an undefined property\r\n\r\n```\r\nNotice (8): Undefined property: App\\View\\Cell\\NotificationCell::$viewClass [CORE/src/View/Cell.php, line 307]\r\nCode Context\r\n            if ($previousHandler) {\r\n                return $previousHandler($code, $message, $file, $line, $context);\r\n            }\r\nCake\\Core\\Plugin::{closure}() - ROOT/vendor/cakephp/debug_kit/config/bootstrap.php, line 41\r\nCake\\View\\Cell::__debugInfo() - CORE/src/View/Cell.php, line 307\r\nDebugKit\\Panel\\VariablesPanel::_walkDebugInfo() - ROOT/vendor/cakephp/debug_kit/src/Panel/VariablesPanel.php, line 76\r\nDebugKit\\Panel\\VariablesPanel::DebugKit\\Panel\\{closure}() - ROOT/vendor/cakephp/debug_kit/src/Panel/VariablesPanel.php, line 127\r\narray_walk_recursive - [internal], line ??\r\nDebugKit\\Panel\\VariablesPanel::shutdown() - ROOT/vendor/cakephp/debug_kit/src/Panel/VariablesPanel.php, line 143\r\n```\r\n\r\nMy display method of NotificationCell\r\n```php\r\n    public function display()\r\n    {\r\n        $notificationNumber = 23;\r\n        $this->set('notificationNumber', $notificationNumber);\r\n    }\r\n```\r\nCalled in AppController::beforeRender()\r\n```php\r\n    public function beforeRender(Event $event)\r\n    {\r\n        $cell = $this->cell('Notification');\r\n\r\n        $this->set('notificationCell', $cell);\r\n    }\r\n```\n\n_Copied from original issue: cakephp/debug_kit#629_","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12181","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12181/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12181/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12181/events","html_url":"https://github.com/cakephp/cakephp/issues/12181","id":329230698,"node_id":"MDU6SXNzdWUzMjkyMzA2OTg=","number":12181,"title":"abort() in command class breaking tests","user":{"login":"PhantomWatson","id":1965565,"node_id":"MDQ6VXNlcjE5NjU1NjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1965565?v=4","gravatar_id":"","url":"https://api.github.com/users/PhantomWatson","html_url":"https://github.com/PhantomWatson","followers_url":"https://api.github.com/users/PhantomWatson/followers","following_url":"https://api.github.com/users/PhantomWatson/following{/other_user}","gists_url":"https://api.github.com/users/PhantomWatson/gists{/gist_id}","starred_url":"https://api.github.com/users/PhantomWatson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PhantomWatson/subscriptions","organizations_url":"https://api.github.com/users/PhantomWatson/orgs","repos_url":"https://api.github.com/users/PhantomWatson/repos","events_url":"https://api.github.com/users/PhantomWatson/events{/privacy}","received_events_url":"https://api.github.com/users/PhantomWatson/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60506670,"node_id":"MDU6TGFiZWw2MDUwNjY3MA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/testing","name":"testing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"jeremyharris","id":184903,"node_id":"MDQ6VXNlcjE4NDkwMw==","avatar_url":"https://avatars0.githubusercontent.com/u/184903?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyharris","html_url":"https://github.com/jeremyharris","followers_url":"https://api.github.com/users/jeremyharris/followers","following_url":"https://api.github.com/users/jeremyharris/following{/other_user}","gists_url":"https://api.github.com/users/jeremyharris/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyharris/subscriptions","organizations_url":"https://api.github.com/users/jeremyharris/orgs","repos_url":"https://api.github.com/users/jeremyharris/repos","events_url":"https://api.github.com/users/jeremyharris/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyharris/received_events","type":"User","site_admin":false},"assignees":[{"login":"jeremyharris","id":184903,"node_id":"MDQ6VXNlcjE4NDkwMw==","avatar_url":"https://avatars0.githubusercontent.com/u/184903?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyharris","html_url":"https://github.com/jeremyharris","followers_url":"https://api.github.com/users/jeremyharris/followers","following_url":"https://api.github.com/users/jeremyharris/following{/other_user}","gists_url":"https://api.github.com/users/jeremyharris/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyharris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyharris/subscriptions","organizations_url":"https://api.github.com/users/jeremyharris/orgs","repos_url":"https://api.github.com/users/jeremyharris/repos","events_url":"https://api.github.com/users/jeremyharris/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyharris/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-06-04T21:54:00Z","updated_at":"2018-06-05T13:30:49Z","closed_at":"2018-06-05T13:30:37Z","author_association":"CONTRIBUTOR","body":"This appears to be a bug in CakePHP Version: 3.6.4\r\n\r\nI'm having trouble testing `$this->abort()` in a Command class. The docs suggest that I can just use `$this->assertExitCode(Command::CODE_ERROR);`, but the `StopException` that `abort()` throws bubbles all the way up to my test and breaks it unless if I put `exec()` in a try/catch block.\r\n\r\nShould `ConsoleIntegrationTestCase::exec()` be catching exceptions thrown by `abort()`?\r\n\r\n### What I did\r\n```\r\nclass FooCommand extends Command\r\n{\r\n    public function execute(Arguments $args, ConsoleIo $io)\r\n    {\r\n        $this->abort();\r\n    }\r\n}\r\n```\r\n```\r\nclass FooCommandTest extends ConsoleIntegrationTestCase\r\n{\r\n    public function setUp()\r\n    {\r\n        parent::setUp();\r\n        $this->useCommandRunner();\r\n    }\r\n\t\r\n    public function testExecute()\r\n    {\r\n        $this->exec('foo');\r\n        $this->assertExitCode(Command::CODE_ERROR);\r\n    }\r\n}\r\n```\r\n\r\n### What happened\r\n`Cake\\Console\\Exception\\StopException : Command aborted` is thrown and a a stack trace is displayed.\r\n\r\n### What I expected to happen\r\n[The docs](https://book.cakephp.org/3.0/en/console-and-shells/commands.html#testing-interactive-shells) suggest that `abort()` won't break tests and can be tested with `assertExitCode()`.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12175","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12175/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12175/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12175/events","html_url":"https://github.com/cakephp/cakephp/issues/12175","id":328841310,"node_id":"MDU6SXNzdWUzMjg4NDEzMTA=","number":12175,"title":"TranslateBehavior with custom table name","user":{"login":"rudy1976s","id":1161343,"node_id":"MDQ6VXNlcjExNjEzNDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1161343?v=4","gravatar_id":"","url":"https://api.github.com/users/rudy1976s","html_url":"https://github.com/rudy1976s","followers_url":"https://api.github.com/users/rudy1976s/followers","following_url":"https://api.github.com/users/rudy1976s/following{/other_user}","gists_url":"https://api.github.com/users/rudy1976s/gists{/gist_id}","starred_url":"https://api.github.com/users/rudy1976s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudy1976s/subscriptions","organizations_url":"https://api.github.com/users/rudy1976s/orgs","repos_url":"https://api.github.com/users/rudy1976s/repos","events_url":"https://api.github.com/users/rudy1976s/events{/privacy}","received_events_url":"https://api.github.com/users/rudy1976s/received_events","type":"User","site_admin":false},"labels":[{"id":60505171,"node_id":"MDU6TGFiZWw2MDUwNTE3MQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/behaviors","name":"behaviors","color":"FFFFFF","default":false},{"id":60504893,"node_id":"MDU6TGFiZWw2MDUwNDg5Mw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/documentation","name":"documentation","color":"FFFFFF","default":false},{"id":60504396,"node_id":"MDU6TGFiZWw2MDUwNDM5Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/i18n","name":"i18n","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":8,"created_at":"2018-06-03T16:18:03Z","updated_at":"2018-06-05T14:43:32Z","closed_at":"2018-06-04T01:12:17Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: EXACT RELEASE VERSION OR COMMIT HASH, HERE.\r\n\r\nCakephp version 3.6.4\r\n\r\n* Platform and Target: YOUR WEB-SERVER, DATABASE AND OTHER RELEVANT INFO AND HOW THE REQUEST IS BEING MADE, HERE.\r\n\r\nPhp 7.1 Nginx / sqlserver\r\n\r\n### What you did\r\nI need to be able to setup tables on database with table custom names and I set up all those names in initialize method of all my tables.\r\nFo example I  have a table called COMPANY_attachments_i18n and all other table follow the same table name convention.\r\nAll model works fine with custo table name but the translation of such table always search for the lowercase underscored version of the table.\r\nIn the docs there is the following sentence **\"No inflection conventions will be applied when specifying a table.\"** but TranslateBehavior or something like that will do the inflectiob with the result that I had to be forced to change table name to original format.\r\n\r\n### What happened\r\nas in the above mentioned example the TranslateBehavior search for underscore lowercase version of the table COMPANY_attachments_i18n breaking it \r\n\r\n### What you expected to happen\r\nI expect that translate behavior will trait the table the correctly without inflecting it \r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12168","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12168/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12168/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12168/events","html_url":"https://github.com/cakephp/cakephp/issues/12168","id":328680341,"node_id":"MDU6SXNzdWUzMjg2ODAzNDE=","number":12168,"title":"Http\\Client\\Adapter\\Stream not restoring error handler if wrapper throws exception","user":{"login":"snelg","id":5741887,"node_id":"MDQ6VXNlcjU3NDE4ODc=","avatar_url":"https://avatars0.githubusercontent.com/u/5741887?v=4","gravatar_id":"","url":"https://api.github.com/users/snelg","html_url":"https://github.com/snelg","followers_url":"https://api.github.com/users/snelg/followers","following_url":"https://api.github.com/users/snelg/following{/other_user}","gists_url":"https://api.github.com/users/snelg/gists{/gist_id}","starred_url":"https://api.github.com/users/snelg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snelg/subscriptions","organizations_url":"https://api.github.com/users/snelg/orgs","repos_url":"https://api.github.com/users/snelg/repos","events_url":"https://api.github.com/users/snelg/events{/privacy}","received_events_url":"https://api.github.com/users/snelg/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60505665,"node_id":"MDU6TGFiZWw2MDUwNTY2NQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/errorhandler","name":"errorhandler","color":"FFFFFF","default":false},{"id":366710687,"node_id":"MDU6TGFiZWwzNjY3MTA2ODc=","url":"https://api.github.com/repos/cakephp/cakephp/labels/http","name":"http","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-06-01T22:37:01Z","updated_at":"2018-06-02T01:02:56Z","closed_at":"2018-06-02T01:02:56Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n* Platform and Target: phpunit\r\n\r\n### What you did\r\nRan some unit tests that use php-vcr\r\n\r\n### What happened\r\nI noticed that some error messages were disappearing. Figured out that ConsoleErrorHandler wasn't handling errors.\r\nTracked down the culprit to Cake\\Http\\Client\\Adapter\\Stream.php:\r\n`restore_error_handler` on line 310 not being called when `fopen` on line 309 throws an exception, leaving the little error handling closure on line 306 handling all subsequent errors for the whole process. \r\n\r\n### What you expected to happen\r\nI expected to see error messages :)\r\n\r\nI have a pull request ready to go, just submitting this issue first.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12163","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12163/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12163/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12163/events","html_url":"https://github.com/cakephp/cakephp/issues/12163","id":328005787,"node_id":"MDU6SXNzdWUzMjgwMDU3ODc=","number":12163,"title":"Model.afterSaveCommit dispatch has mixed type for third argument","user":{"login":"JoepRoebroek","id":6129014,"node_id":"MDQ6VXNlcjYxMjkwMTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/6129014?v=4","gravatar_id":"","url":"https://api.github.com/users/JoepRoebroek","html_url":"https://github.com/JoepRoebroek","followers_url":"https://api.github.com/users/JoepRoebroek/followers","following_url":"https://api.github.com/users/JoepRoebroek/following{/other_user}","gists_url":"https://api.github.com/users/JoepRoebroek/gists{/gist_id}","starred_url":"https://api.github.com/users/JoepRoebroek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoepRoebroek/subscriptions","organizations_url":"https://api.github.com/users/JoepRoebroek/orgs","repos_url":"https://api.github.com/users/JoepRoebroek/repos","events_url":"https://api.github.com/users/JoepRoebroek/events{/privacy}","received_events_url":"https://api.github.com/users/JoepRoebroek/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-05-31T06:08:29Z","updated_at":"2018-05-31T15:00:09Z","closed_at":"2018-05-31T15:00:05Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4 (but from release notes, I found this happens since 3.6.3)\r\n* Platform and Target: nginx, mysql, ubuntu 16.04\r\n\r\n### What you did\r\n\r\n`public function afterSaveCommit(Event $event, EntityInterface $entity, ArrayObject $options)`\r\n\r\n### What happened\r\n\r\nCalled `findOrCreate()`\r\n\r\nGot: argument 3 passed to Camptoo\\ORM\\Table::afterSaveCommit() must be an instance of ArrayObject, array given\r\n\r\n### What you expected to happen\r\n\r\nNo error\r\n\r\nhttps://github.com/cakephp/cakephp/blob/master/src/ORM/Table.php#L1678\r\n\r\nThis line should convert options to an ArrayObject, just like the save operation does.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12161","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12161/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12161/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12161/events","html_url":"https://github.com/cakephp/cakephp/issues/12161","id":327918699,"node_id":"MDU6SXNzdWUzMjc5MTg2OTk=","number":12161,"title":"SQL Server insert","user":{"login":"thiagoreri","id":8278951,"node_id":"MDQ6VXNlcjgyNzg5NTE=","avatar_url":"https://avatars3.githubusercontent.com/u/8278951?v=4","gravatar_id":"","url":"https://api.github.com/users/thiagoreri","html_url":"https://github.com/thiagoreri","followers_url":"https://api.github.com/users/thiagoreri/followers","following_url":"https://api.github.com/users/thiagoreri/following{/other_user}","gists_url":"https://api.github.com/users/thiagoreri/gists{/gist_id}","starred_url":"https://api.github.com/users/thiagoreri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thiagoreri/subscriptions","organizations_url":"https://api.github.com/users/thiagoreri/orgs","repos_url":"https://api.github.com/users/thiagoreri/repos","events_url":"https://api.github.com/users/thiagoreri/events{/privacy}","received_events_url":"https://api.github.com/users/thiagoreri/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-05-30T22:15:33Z","updated_at":"2018-05-31T01:25:28Z","closed_at":"2018-05-31T01:25:28Z","author_association":"NONE","body":"Error encontrado\r\n\r\nError: SQLSTATE[42000]: [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The target table 'TblUsuarios' of the DML statement cannot have any enabled triggers if the statement contains an OUTPUT clause without INTO clause\r\n\r\nPHP 7.2 IIS\r\n\r\nSQL Query:\r\n\r\nINSERT INTO [TblUsuarios] ([User], [Password], [Nivel], [Ativo], [NumInstituicao], [DataNascimento]) OUTPUT INSERTED.* VALUES (:c0, :c1, :c2, :c3, :c4, :c5)","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12160","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12160/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12160/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12160/events","html_url":"https://github.com/cakephp/cakephp/issues/12160","id":327888062,"node_id":"MDU6SXNzdWUzMjc4ODgwNjI=","number":12160,"title":"Insertion fails for tables with column names containing periods","user":{"login":"ZackaryMurphy","id":16784826,"node_id":"MDQ6VXNlcjE2Nzg0ODI2","avatar_url":"https://avatars3.githubusercontent.com/u/16784826?v=4","gravatar_id":"","url":"https://api.github.com/users/ZackaryMurphy","html_url":"https://github.com/ZackaryMurphy","followers_url":"https://api.github.com/users/ZackaryMurphy/followers","following_url":"https://api.github.com/users/ZackaryMurphy/following{/other_user}","gists_url":"https://api.github.com/users/ZackaryMurphy/gists{/gist_id}","starred_url":"https://api.github.com/users/ZackaryMurphy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZackaryMurphy/subscriptions","organizations_url":"https://api.github.com/users/ZackaryMurphy/orgs","repos_url":"https://api.github.com/users/ZackaryMurphy/repos","events_url":"https://api.github.com/users/ZackaryMurphy/events{/privacy}","received_events_url":"https://api.github.com/users/ZackaryMurphy/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events
8000
","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-05-30T20:32:08Z","updated_at":"2018-05-31T01:07:50Z","closed_at":"2018-05-31T01:07:50Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n* Platform and Target: Apache, MySQL\r\n\r\n### What you did\r\nPerformed a save query on a table which has a column with a period in its name.\r\n\r\n### What happened\r\nThe ORM generated incorrect SQL\r\n\r\n### What you expected to happen\r\nThe insertion to happen\r\n\r\nI have a table with colum names along the lines of 'T0.010S'. When attempting to perform a save the generated SQL is INSERT INTO 'table' ('TO'.'010S') VALUES (....) which generates a MySQL error for a non existent field. Since the database was set up by a client, changing the column names is not an option.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12158","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12158/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12158/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12158/events","html_url":"https://github.com/cakephp/cakephp/issues/12158","id":327867622,"node_id":"MDU6SXNzdWUzMjc4Njc2MjI=","number":12158,"title":"I18n unit tests fail on fresh clone (macOS, PHP 7.1.16)","user":{"login":"michaelbutler","id":521702,"node_id":"MDQ6VXNlcjUyMTcwMg==","avatar_url":"https://avatars1.githubusercontent.com/u/521702?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbutler","html_url":"https://github.com/michaelbutler","followers_url":"https://api.github.com/users/michaelbutler/followers","following_url":"https://api.github.com/users/michaelbutler/following{/other_user}","gists_url":"https://api.github.com/users/michaelbutler/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbutler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbutler/subscriptions","organizations_url":"https://api.github.com/users/michaelbutler/orgs","repos_url":"https://api.github.com/users/michaelbutler/repos","events_url":"https://api.github.com/users/michaelbutler/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbutler/received_events","type":"User","site_admin":false},"labels":[{"id":60525626,"node_id":"MDU6TGFiZWw2MDUyNTYyNg==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":6,"created_at":"2018-05-30T19:28:38Z","updated_at":"2018-05-30T20:53:31Z","closed_at":"2018-05-30T20:03:14Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: cfaa31c2cb09309a4db90daca1d64c7e5c3f6a07 (master on May 30, 2018 3:00 PM America\\New_York)\r\n* Platform and Target: php 7.1.16 CLI, macOS (brew installed), running unit tests\r\n\r\n### What you did\r\n```\r\ngit clone git@github.com:cakephp/cakephp.git\r\ncomposer install\r\nphp -dmemory_limit=512M vendor/bin/phpunit tests/TestCase/I18n\r\n```\r\n\r\n### What happened\r\nGot 8 failing tests:\r\n\r\n```\r\nPHPUnit 6.5.8 by Sebastian Bergmann and contributors.\r\n\r\n..FF...........................................................  63 / 317 ( 19%)\r\n............S.................................................. 126 / 317 ( 39%)\r\n............................................................... 189 / 317 ( 59%)\r\n............................................................... 252 / 317 ( 79%)\r\n.....................FFFF..FF.................................. 315 / 317 ( 99%)\r\n..                                                              317 / 317 (100%)\r\n\r\nTime: 1.31 seconds, Memory: 12.00MB\r\n\r\nThere were 8 failures:\r\n\r\n1) Cake\\Test\\TestCase\\I18n\\DateTest::testI18nFormat with data set \"mutable\" ('Cake\\I18n\\Date')\r\nFailed asserting that two strings are equal.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'jeudi 14 janvier 2010 00:00:00 UTC'\r\n+'jeudi 14 janvier 2010 00:00:00 Temps universel coordonnÃ©'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/DateTest.php:112\r\n\r\n2) Cake\\Test\\TestCase\\I18n\\DateTest::testI18nFormat with data set \"immutable\" ('Cake\\I18n\\FrozenDate')\r\nFailed asserting that two strings are equal.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'jeudi 14 janvier 2010 00:00:00 UTC'\r\n+'jeudi 14 janvier 2010 00:00:00 Temps universel coordonnÃ©'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/DateTest.php:112\r\n\r\n3) Cake\\Test\\TestCase\\I18n\\TimeTest::testI18nFormat with data set \"mutable\" ('Cake\\I18n\\Time')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'jueves 14 de enero de 2010 13:59:28 GMT'\r\n+'jueves 14 de enero de 2010 13:59:28 tiempo universal coordinado'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:441\r\n\r\n4) Cake\\Test\\TestCase\\I18n\\TimeTest::testI18nFormat with data set \"immutable\" ('Cake\\I18n\\FrozenTime')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'jueves 14 de enero de 2010 13:59:28 GMT'\r\n+'jueves 14 de enero de 2010 13:59:28 tiempo universal coordinado'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:441\r\n\r\n5) Cake\\Test\\TestCase\\I18n\\TimeTest::testI18nFormatWithOffsetTimezone with data set \"mutable\" ('Cake\\I18n\\Time')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'Wednesday January 1 2014 12:00:00 AM GMT'\r\n+'Wednesday January 1 2014 12:00:00 AM Coordinated Universal Time'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:498\r\n\r\n6) Cake\\Test\\TestCase\\I18n\\TimeTest::testI18nFormatWithOffsetTimezone with data set \"immutable\" ('Cake\\I18n\\FrozenTime')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'Wednesday January 1 2014 12:00:00 AM GMT'\r\n+'Wednesday January 1 2014 12:00:00 AM Coordinated Universal Time'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:498\r\n\r\n7) Cake\\Test\\TestCase\\I18n\\TimeTest::testToString with data set \"mutable\" ('Cake\\I18n\\Time')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'dimanche 20 avril 2014 22:10:00 UTC'\r\n+'dimanche 20 avril 2014 22:10:00 Temps universel coordonnÃ©'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:574\r\n\r\n8) Cake\\Test\\TestCase\\I18n\\TimeTest::testToString with data set \"immutable\" ('Cake\\I18n\\FrozenTime')\r\nFailed asserting that two strings are identical.\r\n--- Expected\r\n+++ Actual\r\n@@ @@\r\n-'dimanche 20 avril 2014 22:10:00 UTC'\r\n+'dimanche 20 avril 2014 22:10:00 Temps universel coordonnÃ©'\r\n\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:924\r\n/Users/bmichael/tmp/cakephp/tests/TestCase/I18n/TimeTest.php:574\r\n\r\nFAILURES!\r\nTests: 317, Assertions: 739, Failures: 8, Skipped: 1.\r\n```\r\n\r\n### What you expected to happen\r\nTests to pass. Do I need some sort of specific locale setting for these tests to pass? It's obviously passing in travis, and I noticed there is a step to do `sudo locale-gen da_DK`, is that related? Or is this strictly due to my version of php-intl or C libs being different somehow.\r\n\r\nAdditionally, it looks like in this line: https://github.com/cakephp/cakephp/blob/master/tests/TestCase/I18n/DateTest.php#L77 two arguments are passed to `FrozenDate` however only the 1st argument is ever used. Could the 2nd argument just be deleted?\r\n\r\nThanks ðŸ˜„ ","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12155","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12155/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12155/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12155/events","html_url":"https://github.com/cakephp/cakephp/issues/12155","id":327842813,"node_id":"MDU6SXNzdWUzMjc4NDI4MTM=","number":12155,"title":"Modelless form set value is impossible without setter","user":{"login":"duoorases","id":16020182,"node_id":"MDQ6VXNlcjE2MDIwMTgy","avatar_url":"https://avatars3.githubusercontent.com/u/16020182?v=4","gravatar_id":"","url":"https://api.github.com/users/duoorases","html_url":"https://github.com/duoorases","followers_url":"https://api.github.com/users/duoorases/followers","following_url":"https://api.github.com/users/duoorases/following{/other_user}","gists_url":"https://api.github.com/users/duoorases/gists{/gist_id}","starred_url":"https://api.github.com/users/duoorases/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duoorases/subscriptions","organizations_url":"https://api.github.com/users/duoorases/orgs","repos_url":"https://api.github.com/users/duoorases/repos","events_url":"https://api.github.com/users/duoorases/events{/privacy}","received_events_url":"https://api.github.com/users/duoorases/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60504893,"node_id":"MDU6TGFiZWw2MDUwNDg5Mw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/documentation","name":"documentation","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":4,"created_at":"2018-05-30T18:13:42Z","updated_at":"2018-05-30T20:59:47Z","closed_at":"2018-05-30T19:19:07Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: EXACT RELEASE VERSION OR COMMIT HASH, HERE.\r\n* Platform and Target: YOUR WEB-SERVER, DATABASE AND OTHER RELEVANT INFO AND HOW THE REQUEST IS BEING MADE, HERE.\r\n\r\n### What you did\r\nRef: https://book.cakephp.org/3.0/en/core-libraries/form.html#setting-form-values\r\nA filter is using modelless form. The search items are stored in session. If like previously the session data can be passed to $this->request->data, it's no problem to display the value from session in filter. But the deprecation in 3.6 make you unable to do it.\r\n\r\n### What happened\r\nBut the deprecation in 3.6 make you unable to do it.\r\n\r\n### What you expected to happen\r\nCan we put setter for the request?\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12152","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12152/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12152/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12152/events","html_url":"https://github.com/cakephp/cakephp/issues/12152","id":327622582,"node_id":"MDU6SXNzdWUzMjc2MjI1ODI=","number":12152,"title":"3.6: BC Break: Shell in command runner gone","user":{"login":"dereuromark","id":39854,"node_id":"MDQ6VXNlcjM5ODU0","avatar_url":"https://avatars0.githubusercontent.com/u/39854?v=4","gravatar_id":"","url":"https://api.github.com/users/dereuromark","html_url":"https://github.com/dereuromark","followers_url":"https://api.github.com/users/dereuromark/followers","following_url":"https://api.github.com/users/dereuromark/following{/other_user}","gists_url":"https://api.github.com/users/dereuromark/gists{/gist_id}","starred_url":"https://api.github.com/users/dereuromark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dereuromark/subscriptions","organizations_url":"https://api.github.com/users/dereuromark/orgs","repos_url":"https://api.github.com/users/dereuromark/repos","events_url":"https://api.github.com/users/dereuromark/events{/privacy}","received_events_url":"https://api.github.com/users/dereuromark/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60507596,"node_id":"MDU6TGFiZWw2MDUwNzU5Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/console","name":"console","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-05-30T08:19:19Z","updated_at":"2018-05-30T17:31:08Z","closed_at":"2018-05-30T17:31:07Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6 latest\r\n\r\n### What you did\r\nSwitched out the cake.php etc, and use the new command runner.\r\nI also have an existing shell for some stuff to run on build:\r\n\r\n```\r\nbin/cake app prepare\r\n```\r\n\r\n### What happened\r\nThe shell is not found and therefore cannot be executed\r\n\r\n### What you expected to happen\r\n```\r\nclass AppShell extends Shell\r\n```\r\nshould work.\r\n\r\nRenaming it to e.g. MyAppShell works.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12149","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12149/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12149/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12149/events","html_url":"https://github.com/cakephp/cakephp/issues/12149","id":327087613,"node_id":"MDU6SXNzdWUzMjcwODc2MTM=","number":12149,"title":"Basic Auth fails to authorize numeric logins","user":{"login":"dmromanov","id":299059,"node_id":"MDQ6VXNlcjI5OTA1OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/299059?v=4","gravatar_id":"","url":"https://api.github.com/users/dmromanov","html_url":"https://github.com/dmromanov","followers_url":"https://api.github.com/users/dmromanov/followers","following_url":"https://api.github.com/users/dmromanov/following{/other_user}","gists_url":"https://api.github.com/users/dmromanov/gists{/gist_id}","starred_url":"https://api.github.com/users/dmromanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmromanov/subscriptions","organizations_url":"https://api.github.com/users/dmromanov/orgs","repos_url":"https://api.github.com/users/dmromanov/repos","events_url":"https://api.github.com/users/dmromanov/events{/privacy}","received_events_url":"https://api.github.com/users/dmromanov/received_events","type":"User","site_admin":false},"labels":[{"id":146052076,"node_id":"MDU6TGFiZWwxNDYwNTIwNzY=","url":"https://api.github.com/repos/cakephp/cakephp/labels/Works%20For%20Me","name":"Works For Me","color":"fbca04","default":false},{"id":123161034,"node_id":"MDU6TGFiZWwxMjMxNjEwMzQ=","url":"https://api.github.com/repos/cakephp/cakephp/labels/auth","name":"auth","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-05-28T17:48:33Z","updated_at":"2018-05-29T12:48:14Z","closed_at":"2018-05-29T12:45:45Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n* Platform and Target: Linux, PHPUnit\r\n\r\n### What you did\r\nI have a controller, with an AuthComponent set up like this.\r\n```php\r\npublic function initialize()\r\n    {\r\n        parent::initialize();\r\n        $this->loadComponent('Auth', [\r\n            'authenticate' => [\r\n                'Basic' => [\r\n                    'userModel' => 'SomeModel',\r\n                    'fields' => [\r\n                        'username' => 'id',\r\n                        'password' => 'client_secret'\r\n                    ]\r\n                ]\r\n            ],\r\n            'storage' => 'Memory',\r\n            'unauthorizedRedirect' => false\r\n        ]);\r\n    }\r\n```\r\n\r\nI have a following fixture:\r\n```php\r\n'id' => 1,\r\n'client_secret' => 'secret',\r\n```\r\n\r\nAnd the following test method:\r\n```php\r\n$this->configRequest([\r\n       'environment' => [\r\n           'PHP_AUTH_USER' => 1,\r\n           'PHP_AUTH_PW' => 'secret',\r\n       ]\r\n]);\r\n```\r\n\r\n### What happened\r\nCakePHP threats login as an integer and thus fails authentication.\r\nhttps://github.com/cakephp/cakephp/blob/master/src/Auth/BasicAuthenticate.php#L79\r\n\r\n### What you expected to happen\r\nSuccessfull authentication.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12147","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12147/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12147/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12147/events","html_url":"https://github.com/cakephp/cakephp/issues/12147","id":327070909,"node_id":"MDU6SXNzdWUzMjcwNzA5MDk=","number":12147,"title":"quoteIdentifier() with function and parameters does not work","user":{"login":"odan","id":781074,"node_id":"MDQ6VXNlcjc4MTA3NA==","avatar_url":"https://avatars0.githubusercontent.com/u/781074?v=4","gravatar_id":"","url":"https://api.github.com/users/odan","html_url":"https://github.com/odan","followers_url":"https://api.github.com/users/odan/followers","following_url":"https://api.github.com/users/odan/following{/other_user}","gists_url":"https://api.github.com/users/odan/gists{/gist_id}","starred_url":"https://api.github.com/users/odan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odan/subscriptions","organizations_url":"https://api.github.com/users/odan/orgs","repos_url":"https://api.github.com/users/odan/repos","events_url":"https://api.github.com/users/odan/events{/privacy}","received_events_url":"https://api.github.com/users/odan/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":2,"created_at":"2018-05-28T16:10:04Z","updated_at":"2018-05-28T17:35:18Z","closed_at":"2018-05-28T17:35:18Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n* Platform and Target: PHP 7.2, MySQL\r\n\r\n### What you did\r\n\r\n```php\r\n$query = $connection->newQuery()->from('customers');\r\n$query->select(array(\r\n    'created_date' => \"DATE_FORMAT(customers.created,'%d.%m.%Y')\",\r\n));\r\n$rows = $query->execute->fetchAll('assoc');\r\n```\r\n\r\n### What happened\r\n\r\nError message:\r\n\r\n```\r\nSQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.`%Y'`) AS `created_date`, DATE_FORMAT(`customers`.`created,'%H:%i:%s'`) AS ' at line 1\r\n```\r\n\r\nThe quoted expression is:\r\n\r\n```sql\r\nDATE_FORMAT(`customers`.`created,'%d`.`%m`.`%Y'`)\r\n```\r\n\r\n### What you expected to happen\r\n\r\nThe quoted expression should be something like this:\r\n\r\n```sql\r\nDATE_FORMAT(`customers`.`created`,'%d.%m.%Y')\r\n```\r\nor just raw:\r\n\r\n```sql\r\nDATE_FORMAT(customers.created,'%d.%m.%Y')\r\n```\r\n\r\n### Possible source\r\n\r\nI've checked the source code and found the possbile issue here:\r\nhttps://github.com/cakephp/cakephp/blob/9c79d8ce3f991d421b5990001d803ae341601b7e/src/Database/SqlDialectTrait.php#L58\r\n\r\nHere is a similar issues, but it's still not exact the same problem: https://github.com/cakephp/cakephp/issues/9091\r\n\r\nI have already searched for a `$query->func()->dateFormat(...)` function, or something similar.\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12146","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12146/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12146/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12146/events","html_url":"https://github.com/cakephp/cakephp/issues/12146","id":326998376,"node_id":"MDU6SXNzdWUzMjY5OTgzNzY=","number":12146,"title":"Integration tests and application routing","user":{"login":"dakota","id":83255,"node_id":"MDQ6VXNlcjgzMjU1","avatar_url":"https://avatars3.githubusercontent.com/u/83255?v=4","gravatar_id":"","url":"https://api.github.com/users/dakota","html_url":"https://github.com/dakota","followers_url":"https://api.github.com/users/dakota/followers","following_url":"https://api.github.com/users/dakota/following{/other_user}","gists_url":"https://api.github.com/users/dakota/gists{/gist_id}","starred_url":"https://api.github.com/users/dakota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakota/subscriptions","organizations_url":"https://api.github.com/users/dakota/orgs","repos_url":"https://api.github.com/users/dakota/repos","events_url":"https://api.github.com/users/dakota/events{/privacy}","received_events_url":"https://api.github.com/users/dakota/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60505787,"node_id":"MDU6TGFiZWw2MDUwNTc4Nw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/plugins","name":"plugins","color":"FFFFFF","default":false},{"id":60505876,"node_id":"MDU6TGFiZWw2MDUwNTg3Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/routing","name":"routing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/fol
8000
lowing{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-05-28T11:44:28Z","updated_at":"2018-06-06T00:56:01Z","closed_at":"2018-06-06T00:56:00Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.x\r\n* Platform and Target: Any\r\n\r\n### What you did\r\nWhen relying on the Application class's `route()` hook to load routes, OR using a plugin with routes integration tests fail when trying to use array based routes.\r\n\r\nA fully working example application is available: https://github.com/dakota/plugin-test/tree/application-routing\r\n\r\n### What happened\r\n`Cake\\Routing\\Exception\\MissingRouteException` is thrown as demonstrated https://travis-ci.com/dakota/plugin-test/builds/74640142\r\n\r\n### What you expected to happen\r\nIntegration tests should work.\r\n\r\nThe cause of failure is https://github.com/cakephp/cakephp/blob/master/src/TestSuite/IntegrationTestCase.php#L671\r\n\r\nAn attempt is made to match the route before the Router middleware is loaded, and so no routes have been loaded at this time. Trying to load the routes manually before the tests works unless named routes are used (In which case a duplicate route exception is thrown)\r\n\r\nThe server class will need to be refactored to load middleware/routes before execution. Alternatively an `AppBuilder` needs to be created that can build the application state (Including middleware and routing) before a server instance is created.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12134","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12134/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12134/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12134/events","html_url":"https://github.com/cakephp/cakephp/issues/12134","id":326375293,"node_id":"MDU6SXNzdWUzMjYzNzUyOTM=","number":12134,"title":"Mailer in plugin cannot read template correctly","user":{"login":"tsmsogn","id":595966,"node_id":"MDQ6VXNlcjU5NTk2Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/595966?v=4","gravatar_id":"","url":"https://api.github.com/users/tsmsogn","html_url":"https://github.com/tsmsogn","followers_url":"https://api.github.com/users/tsmsogn/followers","following_url":"https://api.github.com/users/tsmsogn/following{/other_user}","gists_url":"https://api.github.com/users/tsmsogn/gists{/gist_id}","starred_url":"https://api.github.com/users/tsmsogn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsmsogn/subscriptions","organizations_url":"https://api.github.com/users/tsmsogn/orgs","repos_url":"https://api.github.com/users/tsmsogn/repos","events_url":"https://api.github.com/users/tsmsogn/events{/privacy}","received_events_url":"https://api.github.com/users/tsmsogn/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60506331,"node_id":"MDU6TGFiZWw2MDUwNjMzMQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/mailer","name":"mailer","color":"FFFFFF","default":false},{"id":60505787,"node_id":"MDU6TGFiZWw2MDUwNTc4Nw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/plugins","name":"plugins","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":2,"created_at":"2018-05-25T04:15:10Z","updated_at":"2018-05-28T04:50:32Z","closed_at":"2018-05-28T04:49:27Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n\r\n### What you did\r\n\r\nI made UserMailer and template in `Users` plugin as follows.\r\n\r\n/var/www/myapp/plugins/Users/src/Mailer/UserMailer.php:\r\n\r\n```php\r\n<?php\r\n\r\nnamespace Users\\Mailer;\r\n\r\nuse Users\\Model\\Entity\\User;\r\nuse Cake\\Mailer\\Email;\r\nuse Cake\\Mailer\\Mailer;\r\n\r\nclass UserMailer extends Mailer\r\n{\r\n\r\n    public function resetPassword(User $user)\r\n    {\r\n        $this\r\n            ->setTo($user->email)\r\n            ->setSubject('Reset password')\r\n            ->set(compact('user'));\r\n    }\r\n}\r\n```\r\n\r\n/var/www/myapp/plugins/Users/src/Template/Email/text/reset_password.ctp:\r\n\r\n```php\r\n<?php\r\n/**\r\n * @var \\Users\\Model\\Entity\\User $user\r\n */\r\n\r\nuse Cake\\Routing\\Router;\r\n\r\n$url = Router::url(array(\r\n    'plugin' => 'Users',\r\n    'controller' => 'Users',\r\n    'action' => 'reset',\r\n    $user->username,\r\n    $user->token,\r\n), true);\r\n\r\necho $url;\r\n```\r\n\r\n### What happened\r\n\r\ncakephp raised `Cake\\View\\Exception\\MissingTemplateException`.\r\n\r\nThe error message is follow.\r\n\r\n```\r\nConfirm you have created the file: \"Email/text/reset_password.ctp\" in one of the following paths:\r\n\r\n/var/www/myapp/src/Template/Plugin/Users/Email/text/reset_password.ctp\r\n/var/www/myapp/plugins/Users/src/Template/Email/text/reset_password.ctp\r\n/var/www/myapp/src/Template/Email/text/reset_password.ctp\r\n```\r\n\r\n### What you expected to happen\r\n\r\nMailer in plugin reads template correctly.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12132","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12132/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12132/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12132/events","html_url":"https://github.com/cakephp/cakephp/issues/12132","id":326251693,"node_id":"MDU6SXNzdWUzMjYyNTE2OTM=","number":12132,"title":"SecurityComponent does not prevent form tampering","user":{"login":"Avemaar","id":8372600,"node_id":"MDQ6VXNlcjgzNzI2MDA=","avatar_url":"https://avatars3.githubusercontent.com/u/8372600?v=4","gravatar_id":"","url":"https://api.github.com/users/Avemaar","html_url":"https://github.com/Avemaar","followers_url":"https://api.github.com/users/Avemaar/followers","following_url":"https://api.github.com/users/Avemaar/following{/other_user}","gists_url":"https://api.github.com/users/Avemaar/gists{/gist_id}","starred_url":"https://api.github.com/users/Avemaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avemaar/subscriptions","organizations_url":"https://api.github.com/users/Avemaar/orgs","repos_url":"https://api.github.com/users/Avemaar/repos","events_url":"https://api.github.com/users/Avemaar/events{/privacy}","received_events_url":"https://api.github.com/users/Avemaar/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-24T19:05:25Z","updated_at":"2018-05-24T21:18:48Z","closed_at":"2018-05-24T21:18:48Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.12\r\n\r\n### What you did\r\nI  load SecurityComponent in AppController.php at the initialize function, also i add this line to beforeFilter()\r\n`\r\n\tpublic function blackhole($type) \r\n\t\t\t{ \r\n\t\t\t// Handle errors. \r\n\t\t\techo 'Wrong Request!';\r\n\t\t\t} \r\n$this->Security->setConfig('blackHoleCallback', 'blackhole');`\r\n\r\nAlso i render my form elements in the template like: ` echo $this->Form->control('name');`\r\nso this means i use FormHelper\r\n### What happened\r\nI test the form by removing input fields, add hidden field(approved) in the html source code\r\nThe hidden field value was inserted to database.\r\n### What you expected to happen\r\nI expect that the SecurityComponent prevents these kinds of attacks. I know that i can prevent in the entity by the $_accessible array('approved'=>true,) .But it would be easier if i can arrange this from the SecurityComponent\r\n\r\nAs the cookbook has not write any additional settings or source codes which has to be add to make the SecurityComponent works i dont know if it is a bug but the biggest issue is that i have no idea how is possible to debug in this case\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12131","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12131/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12131/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12131/events","html_url":"https://github.com/cakephp/cakephp/issues/12131","id":326248491,"node_id":"MDU6SXNzdWUzMjYyNDg0OTE=","number":12131,"title":"normalizePath does not actually normalize paths.","user":{"login":"AlPri78","id":30730774,"node_id":"MDQ6VXNlcjMwNzMwNzc0","avatar_url":"https://avatars2.githubusercontent.com/u/30730774?v=4","gravatar_id":"","url":"https://api.github.com/users/AlPri78","html_url":"https://github.com/AlPri78","followers_url":"https://api.github.com/users/AlPri78/followers","following_url":"https://api.github.com/users/AlPri78/following{/other_user}","gists_url":"https://api.github.com/users/AlPri78/gists{/gist_id}","starred_url":"https://api.github.com/users/AlPri78/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlPri78/subscriptions","organizations_url":"https://api.github.com/users/AlPri78/orgs","repos_url":"https://api.github.com/users/AlPri78/repos","events_url":"https://api.github.com/users/AlPri78/events{/privacy}","received_events_url":"https://api.github.com/users/AlPri78/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"node_id":"MDU6TGFiZWw2MDUwNDE0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/167","html_url":"https://github.com/cakephp/cakephp/milestone/167","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/167/labels","id":3267588,"node_id":"MDk6TWlsZXN0b25lMzI2NzU4OA==","number":167,"title":"3.7.0","description":"Enhancements for the next 3.x feature release.","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":136,"closed_issues":28,"state":"open","created_at":"2018-04-15T02:06:13Z","updated_at":"2018-06-08T18:59:58Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2018-05-24T18:56:10Z","updated_at":"2018-05-28T03:07:33Z","closed_at":"2018-05-28T03:07:33Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.\r\n* Platform and Target: Windows 10\r\n\r\n### What you did\r\nJust using Folder::normalizePath()\r\n\r\n### What happened\r\nnormalizePath returns only one character '\\' on Windows else '/'\r\nIn fact, it's just a copy of the function Folder::correctSlashFor()\r\n\r\n### What you expected to happen\r\nI expect a return of the complete path but with the correct set of slashes (like description of the function, if I understand well), and like standard normalizePath function in other languages.\r\n\r\nFor example \r\n`pr(Folder::normalizePath('D:\\www\\site\\webroot/img/'));`\r\nwould display on Windows\r\n\r\n> D:\\www\\site\\webroot\\img\\\r\n\r\nIt's seems that this function is not finished, or I understood nothing.\r\n\r\nIf you agree, I can pull a request.\r\n\r\nAlPri78\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12130","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12130/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12130/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12130/events","html_url":"https://github.com/cakephp/cakephp/issues/12130","id":326137556,"node_id":"MDU6SXNzdWUzMjYxMzc1NTY=","number":12130,"title":"Duplicate Named Route for plugin","user":{"login":"Erwane","id":712604,"node_id":"MDQ6VXNlcjcxMjYwNA==","avatar_url":"https://avatars2.githubusercontent.com/u/712604?v=4","gravatar_id":"","url":"https://api.github.com/users/Erwane","html_url":"https://github.com/Erwane","followers_url":"https://api.github.com/users/Erwane/followers","following_url":"https://api.github.com/users/Erwane/following{/other_user}","gists_url":"https://api.github.com/users/Erwane/gists{/gist_id}","starred_url":"https://api.github.com/users/Erwane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erwane/subscriptions","organizations_url":"https://api.github.com/users/Erwane/orgs","repos_url":"https://api.github.com/users/Erwane/repos","events_url":"https://api.github.com/users/Erwane/events{/privacy}","received_events_url":"https://api.github.com/users/Erwane/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60505787,"node_id":"MDU6TGFiZWw2MDUwNTc4Nw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/plugins","name":"plugins","color":"FFFFFF","default":false},{"id":60505876,"node_id":"MDU6TGFiZWw2MDUwNTg3Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/routing","name":"routing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":6,"created_at":"2018-05-24T14:04:14Z","updated_at":"2018-05-26T15:27:08Z","closed_at":"2018-05-26T15:27:07Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n\r\n### What you did\r\nload plugin with routes in bootstrap\r\n`Plugin::load('I18nUrl', ['routes' => true]);`\r\n\r\ncall `Plugin::routes()` at the end of config/routes.php in base app\r\n\r\ncreate a route in plugin\r\n```php\r\nuse Cake\\Routing\\Router;\r\nuse Cake\\Routing\\RouteBuilder;\r\n\r\nRouter::plugin('Backend', ['path' => '/gestion'], function (RouteBuilder $routes) {\r\n    $routes->connect('/', ['controller' => 'Dashboard', 'action' => 'index'], ['_name' => 'backend.dashboard']);\r\n});\r\n```\r\n\r\n### What happened\r\n`Cake\\Routing\\Exception\\DuplicateNamedRouteException`\r\n`Error: A route named \"backend.dashboard\" has already been connected to \"/gestion\".`\r\n\r\n### What you expected to happen\r\nno duplicate routes\r\n\r\n\r\n## where to search\r\nIt's look like the RoutingMiddleware now check if $this->app is instance of PluginApplicationInterface\r\n\r\nthe src/Application extends BaseApplication which implement PluginApplicationInterface SO the standard application build plugin routes twice, first via application and bootstrap, second time via the `RoutingMiddleware::prepareRouteCollection()`\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12129","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12129/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12129/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12129/events","html_url":"https://github.com/cakephp/cakephp/issues/12129","id":326126480,"node_id":"MDU6SXNzdWUzMjYxMjY0ODA=","number":12129,"title":"Route caching + unserialisable instances","user":{"login":"josbeir","id":26058,"node_id":"MDQ6VXNlcjI2MDU4","avatar_url":"https://avatars1.githubusercontent.com/u/26058?v=4","gravatar_id":"","url":"https://api.github.com/users/josbeir","html_url":"https://github.com/josbeir","followers_url":"https://api.github.com/users/josbeir/followers","following_url":"https://api.github.com/users/josbeir/following{/other_user}","gists_url":"https://api.github.com/users/josbeir/gists{/gist_id}","starred_url":"https://api.github.com/users/josbeir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josbeir/subscriptions","organizations_url":"https://api.github.com/users/josbeir/orgs","repos_url":"https://api.github.com/users/josbeir/repos","events_url":"https://api.github.com/users/josbeir/events{/privacy}","received_events_url":"https://api.github.com/users/josbeir/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"node_id":"MDU6TGFiZWw2MDUyNTYyNg==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false},{"id":60505876,"node_id":"MDU6TGFiZWw2MDUwNTg3Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/routing","name":"routing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":5,"created_at":"2018-05-24T13:38:56Z","updated_at":"2018-05-27T03:19:05Z","closed_at":"2018-05-27T03:19:05Z","author_association":"CONTRIBUTOR","body":"This is a \r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n\r\n### What you did\r\nAttached a middleware using  $routes->registerMiddleware that is holding a class instance that cannot be serialised (AwsS3Adapter in my case)\r\n\r\n### What happened\r\nException thrown \"Instances of Aws\\S3\\S3Client cannot be serialised\" in the __sleep() method of AwsClient.php\r\n\r\n### What you expected to happen\r\nNo exception\r\n\r\nI have a middleware that is added using $routes->registerMiddleware that is holding an instance of an Aws\\S3\\S3Client, when using RoutingMiddleware with cache enabled all of Router::getRouteCollection() is serialised and cached. If this information holds any unserialisable data an exception will be thrown.\r\n\r\nDisabling cache on the RoutingMiddleware  fixes the issue but then i loose route caching :-)\r\n\r\nIt would be handy if there was an option to prevent caching for certain routes/scopes or something in that matter. Or just disable caching of middleware in routes fully. ","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12128","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12128/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12128/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12128/events","html_url":"https://github.com/cakephp/cakephp/issues/12128","id":326109749,"node_id":"MDU6SXNzdWUzMjYxMDk3NDk=","number":12128,"title":"can i migrate cakephp 1.3 to cakephp 3.0 ? and project size is large ","user":{"login":"webanil","id":30173963,"node_id":"MDQ6VXNlcjMwMTczOTYz","avatar_url":"https://avatars2.githubusercontent.com/u/30173963?v=4","gravatar_id":"","url":"https://api.github.com/users/webanil","html_url":"https://github.com/webanil","followers_url":"https://api.github.com/users/webanil/followers","following_url":"https://api.github.com/users/webanil/following{/other_user}","gists_url":"https://api.github.com/users/webanil/gists{/gist_id}","starred_url":"https://api.github.com/users/webanil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/webanil/subscriptions","organizations_url":"https://api.github.com/users/webanil/orgs","repos_url":"https://api.github.com/users/webanil/repos","events_url":"https://api.github.com/users/webanil/events{/privacy}","received_events_url":"https://api.github.com/users/webanil/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":1,"created_at":"2018-05-24T12:57:23Z","updated_at":"2018-05-24T13:26:47Z","closed_at":"2018-05-24T13:26:33Z","author_association":"NONE","body":"","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12127","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12127/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12127/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12127/events","html_url":"https://github.com/cakephp/cakephp/issues/12127","id":326059930,"node_id":"MDU6SXNzdWUzMjYwNTk5MzA=","number":12127,"title":"Empty X-CSRF-Token header","user":{"login":"Avemaar","id":8372600,"node_id":"MDQ6VXNlcjgzNzI2MDA=","avatar_url":"https://avatars3.githubusercontent.com/u/8372600?v=4","g
8000
ravatar_id":"","url":"https://api.github.com/users/Avemaar","html_url":"https://github.com/Avemaar","followers_url":"https://api.github.com/users/Avemaar/followers","following_url":"https://api.github.com/users/Avemaar/following{/other_user}","gists_url":"https://api.github.com/users/Avemaar/gists{/gist_id}","starred_url":"https://api.github.com/users/Avemaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avemaar/subscriptions","organizations_url":"https://api.github.com/users/Avemaar/orgs","repos_url":"https://api.github.com/users/Avemaar/repos","events_url":"https://api.github.com/users/Avemaar/events{/privacy}","received_events_url":"https://api.github.com/users/Avemaar/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":3,"created_at":"2018-05-24T10:29:00Z","updated_at":"2018-05-24T12:08:58Z","closed_at":"2018-05-24T12:08:39Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.12\r\n* Platform and Target: Lampp,Apache2,Mysql\r\n\r\n### What you did\r\n\r\nThe issue is come while i tried to implement CsrfProtectionMiddleware\r\n\r\nThe $header variable is always empty\r\ni add this to the appcontroller's beforefilter function: \r\n`$this->response->cors($this->request)\r\n    ->allowHeaders(['X-CSRF-Token'])`\r\n\r\nBut the original problem is still exist, adding this line to the appcontroller did not solve that in CsrfProtectionMiddleware.php file: \r\nhttps://github.com/cakephp/cakephp/blob/d4bcd8b7e76fb3058dcc45f2ddfbe3ca955c69e9/src/Http/Middleware/CsrfProtectionMiddleware.php#L187\r\n$header variable is still empty\r\n\r\n\r\n\r\n### What happened\r\n\r\nI get everytime :\r\n'CSRF token mismatch.' error message since $header is not equal to $cookie\r\n### What you expected to happen\r\nI would like to use the csrf protection so if the form is not modified by the user than allow to save into the database. But now its like as the user modified something in the inputs so return token mismatch error\r\n\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12125","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12125/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12125/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12125/events","html_url":"https://github.com/cakephp/cakephp/issues/12125","id":325995894,"node_id":"MDU6SXNzdWUzMjU5OTU4OTQ=","number":12125,"title":"MimeType for .bmp is missing","user":{"login":"smap9","id":39582624,"node_id":"MDQ6VXNlcjM5NTgyNjI0","avatar_url":"https://avatars1.githubusercontent.com/u/39582624?v=4","gravatar_id":"","url":"https://api.github.com/users/smap9","html_url":"https://github.com/smap9","followers_url":"https://api.github.com/users/smap9/followers","following_url":"https://api.github.com/users/smap9/following{/other_user}","gists_url":"https://api.github.com/users/smap9/gists{/gist_id}","starred_url":"https://api.github.com/users/smap9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smap9/subscriptions","organizations_url":"https://api.github.com/users/smap9/orgs","repos_url":"https://api.github.com/users/smap9/repos","events_url":"https://api.github.com/users/smap9/events{/privacy}","received_events_url":"https://api.github.com/users/smap9/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":2,"created_at":"2018-05-24T07:27:12Z","updated_at":"2018-05-24T09:37:33Z","closed_at":"2018-05-24T09:37:32Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4\r\n* Platform and Target: Apache, MariaDB\r\n\r\n### What you did\r\nCreate a file download of an ```.bmp``` file:\r\n\r\n```php\r\n        $response = $this->response->withFile('path/file.bmp', [\r\n            'download' => true,\r\n            'name' => 'file.bmp',\r\n        ]);\r\n```\r\n\r\n### What happened\r\nFile is downloaded as ```Content-Type: text/html; charset=UTF-8```\r\n\r\n\r\n### What you expected to happen\r\nFile should be downloaded with ```image/bmp```.\r\n\r\n### Possible fix\r\nAdd Mimetype for bmp files in https://github.com/cakephp/cakephp/blob/master/src/Http/Response.php#L120","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12115","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12115/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12115/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12115/events","html_url":"https://github.com/cakephp/cakephp/issues/12115","id":325179865,"node_id":"MDU6SXNzdWUzMjUxNzk4NjU=","number":12115,"title":"Undefined index in entity properties for new entity","user":{"login":"BenoKop","id":32838942,"node_id":"MDQ6VXNlcjMyODM4OTQy","avatar_url":"https://avatars0.githubusercontent.com/u/32838942?v=4","gravatar_id":"","url":"https://api.github.com/users/BenoKop","html_url":"https://github.com/BenoKop","followers_url":"https://api.github.com/users/BenoKop/followers","following_url":"https://api.github.com/users/BenoKop/following{/other_user}","gists_url":"https://api.github.com/users/BenoKop/gists{/gist_id}","starred_url":"https://api.github.com/users/BenoKop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenoKop/subscriptions","organizations_url":"https://api.github.com/users/BenoKop/orgs","repos_url":"https://api.github.com/users/BenoKop/repos","events_url":"https://api.github.com/users/BenoKop/events{/privacy}","received_events_url":"https://api.github.com/users/BenoKop/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-05-22T07:57:49Z","updated_at":"2018-05-22T09:18:35Z","closed_at":"2018-05-22T08:32:52Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.4.\r\n* Platform and Target: Apache / MySQL.\r\n\r\n### What you did\r\nI wrote the following reusable Trait for Users:\r\n```php\r\nnamespace App\\Model\\Traits;\r\ntrait UsersPropertiesTrait\r\n{\r\n\r\n    /**\r\n     * Return fullName of contact.\r\n     *\r\n     * @return string\r\n     */\r\n    protected function _getFullName()\r\n    {\r\n        return $this->_properties['first_name'] . '  ' . $this->_properties['last_name'];\r\n    }\r\n\r\n    /**\r\n     * Return fullName + email.\r\n     *\r\n     * @return string\r\n     */\r\n    protected function _getFullLabel()\r\n    {\r\n        return $this->_getFullName() . '  (' . $this->_properties['email'] . ')';\r\n    }\r\n}\r\n```\r\nEntity code for Users, based on CakeDC Users Class:\r\n```php\r\nnamespace App\\Model\\Entity;\r\n\r\nuse App\\Model\\Traits\\UsersPropertiesTrait;\r\nuse CakeDC\\Users\\Model\\Entity\\User;\r\n\r\nclass MyUser extends User\r\n{\r\n    use UsersPropertiesTrait;\r\n\r\n    /**\r\n     * Fields that can be mass assigned using newEntity() or patchEntity().\r\n     *\r\n     * Note that when '*' is set to true, this allows all unspecified fields to\r\n     * be mass assigned. For security purposes, it is advised to set '*' to false\r\n     * (or remove it), and explicitly make individual fields accessible as needed.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $_accessible = [\r\n        '*' => true,\r\n        'id' => false\r\n    ];\r\n\r\n    /**\r\n     * Fields that are excluded from JSON versions of the entity.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $_hidden = [\r\n        'password',\r\n        'token'\r\n    ];\r\n\r\n    protected $_virtual = ['full_label', 'full_name'];\r\n}\r\n```\r\nThe virtual properties are working if the data already exists. But since my upgrade to 3.6.4, it doesn't work with a new entity.\r\n\r\n### What happened\r\n**Undefined index: first_name in [/var/www/html/charlie/src/Model/Traits/UsersPropertiesTrait.php, line 14]**\r\n\r\nThe new entity hasn't the expected keys.\r\n\r\n### What you expected to happen\r\nWhat can i do to make this work again ?\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12106","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12106/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12106/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12106/events","html_url":"https://github.com/cakephp/cakephp/issues/12106","id":324651613,"node_id":"MDU6SXNzdWUzMjQ2NTE2MTM=","number":12106,"title":"Hmm, bug cakephp for install ","user":{"login":"Bertelsane","id":39443468,"node_id":"MDQ6VXNlcjM5NDQzNDY4","avatar_url":"https://avatars3.githubusercontent.com/u/39443468?v=4","gravatar_id":"","url":"https://api.github.com/users/Bertelsane","html_url":"https://github.com/Bertelsane","followers_url":"https://api.github.com/users/Bertelsane/followers","following_url":"https://api.github.com/users/Bertelsane/following{/other_user}","gists_url":"https://api.github.com/users/Bertelsane/gists{/gist_id}","starred_url":"https://api.github.com/users/Bertelsane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bertelsane/subscriptions","organizations_url":"https://api.github.com/users/Bertelsane/orgs","repos_url":"https://api.github.com/users/Bertelsane/repos","events_url":"https://api.github.com/users/Bertelsane/events{/privacy}","received_events_url":"https://api.github.com/users/Bertelsane/received_events","type":"User","site_admin":false},"labels":[{"id":177038150,"node_id":"MDU6TGFiZWwxNzcwMzgxNTA=","url":"https://api.github.com/repos/cakephp/cakephp/labels/Invalid","name":"Invalid","color":"e6e6e6","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-19T18:50:02Z","updated_at":"2018-05-19T20:24:39Z","closed_at":"2018-05-19T18:50:23Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: EXACT RELEASE VERSION OR COMMIT HASH, HERE.\r\n* Platform and Target: YOUR WEB-SERVER, DATABASE AND OTHER RELEVANT INFO AND HOW THE REQUEST IS BEING MADE, HERE.\r\n\r\n### What you did\r\nEXPLAIN WHAT YOU DID, PREFERABLY WITH CODE EXAMPLES, HERE.\r\n\r\n### What happened\r\nEXPLAIN WHAT IS ACTUALLY HAPPENING, HERE.\r\n\r\n### What you expected to happen\r\nEXPLAIN WHAT IS TO BE EXPECTED, HERE.\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12104","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12104/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12104/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12104/events","html_url":"https://github.com/cakephp/cakephp/issues/12104","id":324642484,"node_id":"MDU6SXNzdWUzMjQ2NDI0ODQ=","number":12104,"title":"I am facing dynamic  routing issue with cakephp 3.6","user":{"login":"anil-sidhu","id":14924211,"node_id":"MDQ6VXNlcjE0OTI0MjEx","avatar_url":"https://avatars3.githubusercontent.com/u/14924211?v=4","gravatar_id":"","url":"https://api.github.com/users/anil-sidhu","html_url":"https://github.com/anil-sidhu","followers_url":"https://api.github.com/users/anil-sidhu/followers","following_url":"https://api.github.com/users/anil-sidhu/following{/other_user}","gists_url":"https://api.github.com/users/anil-sidhu/gists{/gist_id}","starred_url":"https://api.github.com/users/anil-sidhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anil-sidhu/subscriptions","organizations_url":"https://api.github.com/users/anil-sidhu/orgs","repos_url":"https://api.github.com/users/anil-sidhu/repos","events_url":"https://api.github.com/users/anil-sidhu/events{/privacy}","received_events_url":"https://api.github.com/users/anil-sidhu/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60505876,"node_id":"MDU6TGFiZWw2MDUwNTg3Ng==","url":"https://api.github.com/repos/cakephp/cakephp/labels/routing","name":"routing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-19T16:37:07Z","updated_at":"2018-05-21T19:46:50Z","closed_at":"2018-05-21T19:46:50Z","author_association":"NONE","body":"\r\nhttp://localhost/cake/my_app_name/ when i am using this defult url this is working fine\r\n  but when i am  trying to use \r\n**http://localhost/cake/my_app_name/anything  it is giving me Not Found**  \r\n\r\n  \r\nfor example i want to access \r\nhttp://localhost/cake/my_app_name/pages/10 \r\n\r\n  and routing for this is \r\n    **$routes->connect('/pages/*', ['controller' => 'Pages', 'action' => 'display']);**\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12102","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12102/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12102/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12102/events","html_url":"https://github.com/cakephp/cakephp/issues/12102","id":324592606,"node_id":"MDU6SXNzdWUzMjQ1OTI2MDY=","number":12102,"title":"The 0x20 was added to the downloaded file","user":{"login":"entereal","id":10758890,"node_id":"MDQ6VXNlcjEwNzU4ODkw","avatar_url":"https://avatars3.githubusercontent.com/u/10758890?v=4","gravatar_id":"","url":"https://api.github.com/users/entereal","html_url":"https://github.com/entereal","followers_url":"https://api.github.com/users/entereal/followers","following_url":"https://api.github.com/users/entereal/following{/other_user}","gists_url":"https://api.github.com/users/entereal/gists{/gist_id}","starred_url":"https://api.github.com/users/entereal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/entereal/subscriptions","organizations_url":"https://api.github.com/users/entereal/orgs","repos_url":"https://api.github.com/users/entereal/repos","events_url":"https://api.github.com/users/entereal/events{/privacy}","received_events_url":"https://api.github.com/users/entereal/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":894137765,"node_id":"MDU6TGFiZWw4OTQxMzc3NjU=","url":"https://api.github.com/repos/cakephp/cakephp/labels/On%20hold","name":"On hold","color":"ededed","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":5,"created_at":"2018-05-19T02:02:52Z","updated_at":"2018-05-27T03:27:19Z","closed_at":"2018-05-27T03:27:19Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug? (not sure yet)\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.3\r\n* Platform and Target: CentOS7, Nginx1.13, AWS-MySQL\r\n\r\n### What you did\r\npublic function download() {\r\n\t$response = $this->response->withFile($path_to_the_file, ['download' => true]);\r\n\treturn $response;\r\n}\r\n\r\n### What happened\r\nThe 0x20 was added to the downloaded file (at the top of the file actually)\r\n\r\nit happens with jpg, xlsx and csv files i tried.\r\nwith jpg and xlsx, Windows OS says it corrupt and, i couldn't open.\r\nwith csv file, i could open it but a space was added to the first data.\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12096","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12096/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12096/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12096/events","html_url":"https://github.com/cakephp/cakephp/issues/12096","id":323999107,"node_id":"MDU6SXNzdWUzMjM5OTkxMDc=","number":12096,"title":"Collections from Statements","user":{"login":"ccriem","id":7968415,"node_id":"MDQ6VXNlcjc5Njg0MTU=","avatar_url":"https://avatars3.githubusercontent.com/u/7968415?v=4","gravatar_id":"","url":"https://api.github.com/users/ccriem","html_url":"https://github.com/ccriem","followers_url":"https://api.github.com/users/ccriem/followers","following_url":"https://api.github.com/users/ccriem/following{/other_user}","gists_url":"https://api.github.com/users/ccriem/gists{/gist_id}","starred_url":"https://api.github.com/users/ccriem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccriem/subscriptions","organizations_url":"https://api.github.com/users/ccriem/orgs","repos_url":"https://api.github.com/users/ccriem/repos","events_url":"https://api.github.com/users/ccriem/events{/privacy}","received_events_url":"https://api.github.com/users/ccriem/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":366710731,"node_id":"MDU6TGFiZWwzNjY3MTA3MzE=","url":"https://api.github.com/repos/cakephp/cakephp/labels/database","name":"database","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/172","html_url":"https://github.com/cakephp/cakephp/milestone/172","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/172/labels","id":3360005,"node_id":"MDk6TWlsZXN0b25lMzM2MDAwNQ==","number":172,"title":"3.6.5","description":"Bugfixes for 3.6.x","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":32,"closed_issues":49,"state":"open","created_at":"2018-05-21T02:30:44Z","updated_at":"2018-06-08T17:50:24Z","due_on":"2018-06-09T07:00:00Z","closed_at":null},"comments":10,"created_at":"2018-05-17T12:22:00Z","updated_at":"2018-05-25T03:38:25Z","closed_at":"2018-05-25T03:38:25Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.3\r\n* Platform and Target: Linux SMP Debian 4.9, 10.1-MariaDB\r\n\r\n### What you did\r\nWhen creating a collection from a statement, for instance in cake console...\r\n\r\n    >>> $rs = \\Cake\\Datasource\\ConnectionManager::get('default')->query('SELECT id FROM users LIMIT 3');\r\n    => Cake\\Database\\Statement\\MysqlStatement {#1738}\r\n    >>> foreach($rs as $r) echo \"$r[id] \";\r\n    1 2 3 âŽ\r\n    >>> $c = new \\Cake\\Collection\\Collection($rs); count( $c->toArray() );\r\n    => 3\r\n    >>> $c = new \\Cake\\Collection\\Collection($rs); $c->extract('id')->toArray();\r\n    => [\r\n         \"2\",\r\n         \"3\",\r\n       ]\r\n    >>> \r\n\r\n### What happened\r\n... with some methods the first entry from the iteration seems swallowed.\r\n\r\n### What you expected to happen\r\nCollection is documented to allow for any Traversable as constructor argument. Connection::query() (according to the docs) returns an IteratorAggregate. So that should be a valid use case. But Collection's methods like toArray, extract, indexBy, ... return inconsistent results. Noticed with 3.5.1 and 3.6.3.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12083","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12083/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12083/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12083/events","html_url":"https://github.com/cakephp/cakephp/issues/12083","id":323240618,"node_id":"MDU6SXNzdWUzMjMyNDA2MTg=","number":12083,"title":"php intl already enabled","user":{"login":"mathritter","id":6000689,"node_id":"MDQ6VXNlcjYwMDA2ODk=","avatar_url":"https://avatars2.githubusercontent.com/u/6000689?v=4","gravatar_id":"","url":"https://api.github.com/users/mathritter","html_url":"https://github.com/mathritter","followers_url":"https://api.github.com/users/mathritter/followers","following_url":"https://api.github.com/users/mathritter/following{/other_user}","gists_url":"https://api.github.com/users/mathritter/gists{/gist_id}","starred_url":"https://api.github.com/users/mathritter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathritter/subscriptions","organizations_url":"https://api.github.com/users/mathritter/orgs","repos_url":"https://api.github.com/users/mathritter/repos","events_url":"https://api.github.com/users/mathritter/events{/privacy}","received_events_url":"https://api.github.com/users/mathritter/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"node_id":"MDU6TGFiZWw2MDYwMDEzNQ==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/171","html_url":"https://github.com/cakephp/cakephp/milestone/171","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/171/labels","id":3342335,"node_id":"MDk6TWlsZXN0b25lMzM0MjMzNQ==","number":171,"title":"3.6.4","description":"Bugfixes for 3.6","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/othe
539b
r_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2018-05-13T23:21:41Z","updated_at":"2018-05-21T02:31:07Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-05-21T02:31:07Z"},"comments":5,"created_at":"2018-05-15T14:22:24Z","updated_at":"2018-05-15T20:45:04Z","closed_at":"2018-05-15T17:59:13Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: v3.4.7\r\n* Platform and Target: webserver\r\n\r\n### What I did\r\nTried to run the command line \"php cake.php\"\r\n\r\n### What happened\r\nSays intl is not enabled, but the server is running for over seven months.\r\n\r\n### What I expected to happen\r\nI created a shell in my local dev machine, following the right steps from cakephp docs. It worked locally, won't work on webserver. Tried phpinfo, it says intl is enabled.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12081","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12081/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12081/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12081/events","html_url":"https://github.com/cakephp/cakephp/issues/12081","id":322966280,"node_id":"MDU6SXNzdWUzMjI5NjYyODA=","number":12081,"title":"Empty OR conditions in Query::where() cause invalid SQL","user":{"login":"burzum","id":162789,"node_id":"MDQ6VXNlcjE2Mjc4OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/162789?v=4","gravatar_id":"","url":"https://api.github.com/users/burzum","html_url":"https://github.com/burzum","followers_url":"https://api.github.com/users/burzum/followers","following_url":"https://api.github.com/users/burzum/following{/other_user}","gists_url":"https://api.github.com/users/burzum/gists{/gist_id}","starred_url":"https://api.github.com/users/burzum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burzum/subscriptions","organizations_url":"https://api.github.com/users/burzum/orgs","repos_url":"https://api.github.com/users/burzum/repos","events_url":"https://api.github.com/users/burzum/events{/privacy}","received_events_url":"https://api.github.com/users/burzum/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"node_id":"MDU6TGFiZWw2MDUyNTYyNg==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false},{"id":83815438,"node_id":"MDU6TGFiZWw4MzgxNTQzOA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/ORM","name":"ORM","color":"ffffff","default":false},{"id":366710731,"node_id":"MDU6TGFiZWwzNjY3MTA3MzE=","url":"https://api.github.com/repos/cakephp/cakephp/labels/database","name":"database","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/171","html_url":"https://github.com/cakephp/cakephp/milestone/171","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/171/labels","id":3342335,"node_id":"MDk6TWlsZXN0b25lMzM0MjMzNQ==","number":171,"title":"3.6.4","description":"Bugfixes for 3.6","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2018-05-13T23:21:41Z","updated_at":"2018-05-21T02:31:07Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-05-21T02:31:07Z"},"comments":8,"created_at":"2018-05-14T20:21:10Z","updated_at":"2018-05-15T23:17:05Z","closed_at":"2018-05-15T23:17:05Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6\r\n\r\n### What you did\r\n\r\nAfter upgrading to Cake 3.6 I've got a fatal with a query that had nothing after the WHERE and was invalid SQL because of that. Debugged it and found out that an empty OR is generated by the marshaller when using the append strategy for many.\r\n\r\n@lorenzo guess is that the cause is this commit: https://github.com/cakephp/cakephp/commit/bf25c4c25ce283b6e6f81c08f3753d612f343a71\r\n\r\nTest case, you can copy and paste this into the Table test of CakePHP to reproduce it.\r\n\r\n```php\r\n    /**\r\n     * Testing that a find with an empty OR won't cause a problem\r\n     *\r\n     * @return void\r\n     */\r\n    public function testFindWithEmptyOr()\r\n    {\r\n        $table = $this->getTableLocator()->get('users');\r\n        $result = $table->find()->where(['OR' => []])->all();\r\n\r\n        $this->assertInstanceOf(ResultSet::class, $result);\r\n    }\r\n```\r\n\r\n### What happened\r\n\r\n```sh\r\n1) Cake\\Test\\TestCase\\ORM\\TableTest::testFindWithEmptyOr\r\nPDOException: SQLSTATE[HY000]: General error: 1 near \" \": syntax error\r\n\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Driver\\Sqlite.php:107\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Connection.php:275\r\nC:\\xampp\\htdocs\\cakephp\\src\\Core\\Retry\\CommandRetry.php:68\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Connection.php:282\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Connection.php:332\r\nC:\\xampp\\htdocs\\cakephp\\src\\Core\\Retry\\CommandRetry.php:68\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Connection.php:337\r\nC:\\xampp\\htdocs\\cakephp\\src\\Database\\Query.php:219\r\nC:\\xampp\\htdocs\\cakephp\\src\\ORM\\Query.php:1125\r\nC:\\xampp\\htdocs\\cakephp\\src\\Datasource\\QueryTrait.php:309\r\nC:\\xampp\\htdocs\\cakephp\\src\\ORM\\Query.php:1073\r\nC:\\xampp\\htdocs\\cakephp\\tests\\TestCase\\ORM\\TableTest.php:6839\r\n```\r\n\r\n### What you expected to happen\r\n\r\nA valid query. :)","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12080","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12080/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12080/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12080/events","html_url":"https://github.com/cakephp/cakephp/issues/12080","id":322903863,"node_id":"MDU6SXNzdWUzMjI5MDM4NjM=","number":12080,"title":"Input type button attribute error.","user":{"login":"paulorwd","id":13220452,"node_id":"MDQ6VXNlcjEzMjIwNDUy","avatar_url":"https://avatars1.githubusercontent.com/u/13220452?v=4","gravatar_id":"","url":"https://api.github.com/users/paulorwd","html_url":"https://github.com/paulorwd","followers_url":"https://api.github.com/users/paulorwd/followers","following_url":"https://api.github.com/users/paulorwd/following{/other_user}","gists_url":"https://api.github.com/users/paulorwd/gists{/gist_id}","starred_url":"https://api.github.com/users/paulorwd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulorwd/subscriptions","organizations_url":"https://api.github.com/users/paulorwd/orgs","repos_url":"https://api.github.com/users/paulorwd/repos","events_url":"https://api.github.com/users/paulorwd/events{/privacy}","received_events_url":"https://api.github.com/users/paulorwd/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"node_id":"MDU6TGFiZWw2MDUyNTYyNg==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/171","html_url":"https://github.com/cakephp/cakephp/milestone/171","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/171/labels","id":3342335,"node_id":"MDk6TWlsZXN0b25lMzM0MjMzNQ==","number":171,"title":"3.6.4","description":"Bugfixes for 3.6","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2018-05-13T23:21:41Z","updated_at":"2018-05-21T02:31:07Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-05-21T02:31:07Z"},"comments":4,"created_at":"2018-05-14T17:09:09Z","updated_at":"2018-05-15T12:12:54Z","closed_at":"2018-05-15T12:12:54Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.1.\r\n* Platform and Target: Chrome, Mysql, Windows 10.\r\n\r\n### What you did\r\n`$this->Form->input('field-name', ['type' => 'button', 'text' => 'Hello']);`\r\n\r\n### What happened\r\nAttribute text is not assumed, it ends up being replaced with the name of the field.\r\n\r\n### What you expected to happen\r\nThe attribute should be assumed and should only use the field name in not to be filled.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/12079","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/12079/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/12079/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/12079/events","html_url":"https://github.com/cakephp/cakephp/issues/12079","id":322755580,"node_id":"MDU6SXNzdWUzMjI3NTU1ODA=","number":12079,"title":"QuoteIdentifiers issue with single or multiple conditions with space on field name DB SQLServer ","user":{"login":"rudy1976s","id":1161343,"node_id":"MDQ6VXNlcjExNjEzNDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1161343?v=4","gravatar_id":"","url":"https://api.github.com/users/rudy1976s","html_url":"https://github.com/rudy1976s","followers_url":"https://api.github.com/users/rudy1976s/followers","following_url":"https://api.github.com/users/rudy1976s/following{/other_user}","gists_url":"https://api.github.com/users/rudy1976s/gists{/gist_id}","starred_url":"https://api.github.com/users/rudy1976s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rudy1976s/subscriptions","organizations_url":"https://api.github.com/users/rudy1976s/orgs","repos_url":"https://api.github.com/users/rudy1976s/repos","events_url":"https://api.github.com/users/rudy1976s/events{/privacy}","received_events_url":"https://api.github.com/users/rudy1976s/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"node_id":"MDU6TGFiZWw2MDUwNDU0NA==","url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60504513,"node_id":"MDU6TGFiZWw2MDUwNDUxMw==","url":"https://api.github.com/repos/cakephp/cakephp/labels/sqlserver","name":"sqlserver","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/171","html_url":"https://github.com/cakephp/cakephp/milestone/171","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/171/labels","id":3342335,"node_id":"MDk6TWlsZXN0b25lMzM0MjMzNQ==","number":171,"title":"3.6.4","description":"Bugfixes for 3.6","creator":{"login":"markstory","id":24086,"node_id":"MDQ6VXNlcjI0MDg2","avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2018-05-13T23:21:41Z","updated_at":"2018-05-21T02:31:07Z","due_on":"2018-06-01T07:00:00Z","closed_at":"2018-05-21T02:31:07Z"},"comments":4,"created_at":"2018-05-14T10:19:43Z","updated_at":"2018-05-19T17:45:41Z","closed_at":"2018-05-19T17:44:51Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.6.2\r\n* Platform and Target:  Nginx SQL Server\r\n\r\n### What you did\r\nI made a query with multiple where conditions:\r\n\r\n\t'sql' => 'SELECT [Products].[No_] AS [Products__No_], [Products].[Item Category Code] AS [Products__Item Category Code], [Products].[Description] AS [Products__Description], [Products].[Base Unit of Measure] AS [Products__Base Unit of Measure] FROM [GLS72_ECOMMERCE$Item] [Products] LEFT JOIN [GLS72_ECOMMERCE$Item Category] [ProductsCategories] ON [ProductsCategories].[Code] = ([Products].[Item Category Code]) LEFT JOIN [GLS72_ECOMMERCE$Manufacturer] [Manufacturers] ON [Manufacturers].[Code] = ([Products].[Manufacturer Code]) LEFT JOIN [GLS72_ECOMMERCE$Brand] [Brands] ON [Brands].[Code] = ([Products].[Brand Code]) WHERE ([Products].[eCommerce] = :c0 AND [Products].[Item] category code :c1) GROUP BY [Products].[No_], [Products].[Item Category Code], [Products].[Description], [Products].[Base Unit of Measure] ',\r\n\r\nYou can check it here :  https://gls72.acmecms.it/catalogo?category=00040\r\n\r\n### What happened\r\nThe conditions are not properly formed because the space are not recognized and the \"=\" has not been added.\r\n\r\n### What you expected to happen\r\n\r\nThe query should be formed like the following:\r\n\r\n```sql\r\nSELECT \r\n\t[Products].[No_] AS [Products__No_], \r\n\t[Products].[Item Category Code] AS [Products__Item Category Code], \r\n\t[Products].[Description] AS [Products__Description], \r\n\t[Products].[Base Unit of Measure] AS [Products__Base Unit of Measure] \r\n\r\nFROM [GLS72_ECOMMERCE$Item] [Products] \r\n\tLEFT JOIN [GLS72_ECOMMERCE$Item Category] [ProductsCategories] ON [ProductsCategories].[Code] = ([Products].[Item Category Code]) \r\n\tLEFT JOIN [GLS72_ECOMMERCE$Manufacturer] [Manufacturers] ON [Manufacturers].[Code] = ([Products].[Manufacturer Code])\r\n\tLEFT JOIN [GLS72_ECOMMERCE$Brand] [Brands] ON [Brands].[Code] = ([Products].[Brand Code]) \r\n\t\r\nWHERE ([Products].[eCommerce] = :c0 AND [Products].[Item Category Code] = :c1)\r\nGROUP BY \r\n\t[Products].[No_],\r\n\t[Products].[Item Category Code],\r\n\t[Products].[Description],\r\n\t[Products].[Base Unit of Measure]\r\n```\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0}]}
0

