HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Apr 2018 20:39:42 GMT
Link: <https://api.github.com/search/issues?q=repo%3Acakephp%2Fcakephp+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Acakephp%2Fcakephp+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D434:148C:22D7C32:46E41E7:5AD2670E
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 26
X-Ratelimit-Reset: 1523738442
X-Runtime-Rack: 0.485400
X-Xss-Protection: 1; mode=block

8000
{"total_count":4630,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11921","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11921/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11921/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11921/events","html_url":"https://github.com/cakephp/cakephp/issues/11921","id":313636839,"number":11921,"title":"Removing magic file handling from responses","user":{"login":"ndm2","id":5031606,"avatar_url":"https://avatars0.githubusercontent.com/u/5031606?v=4","gravatar_id":"","url":"https://api.github.com/users/ndm2","html_url":"https://github.com/ndm2","followers_url":"https://api.github.com/users/ndm2/followers","following_url":"https://api.github.com/users/ndm2/following{/other_user}","gists_url":"https://api.github.com/users/ndm2/gists{/gist_id}","starred_url":"https://api.github.com/users/ndm2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ndm2/subscriptions","organizations_url":"https://api.github.com/users/ndm2/orgs","repos_url":"https://api.github.com/users/ndm2/repos","events_url":"https://api.github.com/users/ndm2/events{/privacy}","received_events_url":"https://api.github.com/users/ndm2/received_events","type":"User","site_admin":false},"labels":[{"id":60504137,"url":"https://api.github.com/repos/cakephp/cakephp/labels/RFC","name":"RFC","color":"c7def8","default":false},{"id":742268651,"url":"https://api.github.com/repos/cakephp/cakephp/labels/deprecations","name":"deprecations","color":"0e0566","default":false},{"id":366710687,"url":"https://api.github.com/repos/cakephp/cakephp/labels/http","name":"http","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/140","html_url":"https://github.com/cakephp/cakephp/milestone/140","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/140/labels","id":2671072,"number":140,"title":"3.6.0","description":"New major features that are backwards compatible with 3.x. See the [roadmap](https://github.com/cakephp/cakephp/wiki/3.6-Roadmap) for more details.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":125,"closed_issues":264,"state":"open","created_at":"2017-07-31T11:30:05Z","updated_at":"2018-04-14T17:10:18Z","due_on":"2018-04-14T07:00:00Z","closed_at":null},"comments":4,"created_at":"2018-04-12T09:01:49Z","updated_at":"2018-04-14T08:42:18Z","closed_at":"2018-04-14T04:17:53Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [ ] enhancement\r\n* [x] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 4.0.0\r\n\r\nI've seen this over and over again, people try to send files and accidentally pass non-absolute paths (filenames only, relative paths, ...) to `Response::file()/withFile()`, thus having CakePHP do it's \"magic\", trying to look up the file in `APP`, which by default is the `src` folder.\r\n\r\nEven if auto-resolving non-absolute paths would be deemed useful, who would actually want to serve files from the `src` folder? I would like to suggest to remove this behavior in 4.0, completely that is, ie. make `withFile()` require an absolute path, and fail hard for anything else.\r\n\r\nEven though the current behavior is documented in the API docs, it's IMHO an unnecessary boobytrap, and people seem to step in to it all the time.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11920","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11920/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11920/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11920/events","html_url":"https://github.com/cakephp/cakephp/issues/11920","id":313316704,"number":11920,"title":"dateTime pt_BR locale validation","user":{"login":"allanmcarvalho","id":12012197,"avatar_url":"https://avatars0.githubusercontent.com/u/12012197?v=4","gravatar_id":"","url":"https://api.github.com/users/allanmcarvalho","html_url":"https://github.com/allanmcarvalho","followers_url":"https://api.github.com/users/allanmcarvalho/followers","following_url":"https://api.github.com/users/allanmcarvalho/following{/other_user}","gists_url":"https://api.github.com/users/allanmcarvalho/gists{/gist_id}","starred_url":"https://api.github.com/users/allanmcarvalho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allanmcarvalho/subscriptions","organizations_url":"https://api.github.com/users/allanmcarvalho/orgs","repos_url":"https://api.github.com/users/allanmcarvalho/repos","events_url":"https://api.github.com/users/allanmcarvalho/events{/privacy}","received_events_url":"https://api.github.com/users/allanmcarvalho/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60504418,"url":"https://api.github.com/repos/cakephp/cakephp/labels/validation","name":"validation","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-04-11T13:09:48Z","updated_at":"2018-04-11T14:29:13Z","closed_at":"2018-04-11T14:25:53Z","author_association":"NONE","body":"* [x] bug\r\n* [x] enhancement\r\n\r\n* CakePHP Version: 3.5.13.\r\n\r\nOn model table, in validationDefault for dateTime validation, I can't set correct dateFormat that allows use a date with hours, minutes and seconds for my format \"d/m/Y H:i\". How can I resove this.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11917","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11917/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11917/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11917/events","html_url":"https://github.com/cakephp/cakephp/issues/11917","id":312845950,"number":11917,"title":"[2.x] Update Security documentation with Security.useOpenSsl","user":{"login":"WrDX","id":3046705,"avatar_url":"https://avatars3.githubusercontent.com/u/3046705?v=4","gravatar_id":"","url":"https://api.github.com/users/WrDX","html_url":"https://github.com/WrDX","followers_url":"https://api.github.com/users/WrDX/followers","following_url":"https://api.github.com/users/WrDX/following{/other_user}","gists_url":"https://api.github.com/users/WrDX/gists{/gist_id}","starred_url":"https://api.github.com/users/WrDX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WrDX/subscriptions","organizations_url":"https://api.github.com/users/WrDX/orgs","repos_url":"https://api.github.com/users/WrDX/repos","events_url":"https://api.github.com/users/WrDX/events{/privacy}","received_events_url":"https://api.github.com/users/WrDX/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false},{"id":60504893,"url":"https://api.github.com/repos/cakephp/cakephp/labels/documentation","name":"documentation","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/165","html_url":"https://github.com/cakephp/cakephp/milestone/165","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/165/labels","id":3214261,"number":165,"title":"2.10.10","description":"Bugfixes for 2.10","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":5,"closed_issues":3,"state":"open","created_at":"2018-03-24T15:45:16Z","updated_at":"2018-04-12T08:33:29Z","due_on":"2018-04-28T07:00:00Z","closed_at":null},"comments":2,"created_at":"2018-04-10T09:38:41Z","updated_at":"2018-04-12T08:33:29Z","closed_at":"2018-04-12T08:33:29Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 2.10.9\r\n* PHP Version: 7.2\r\n\r\nI was trying to get ```Security::encrypt()``` to work on CakePHP 2.10.9 and PHP 7.2. The current documentation states that it relies on the deprecated ```mcrypt``` extension:\r\nhttps://book.cakephp.org/2.0/en/core-utility-libraries/security.html\r\n\r\nBut the release notes of 2.10.8 state that setting ```Security.useOpenSsl``` will make ```Security::encrypt()``` use OpenSSL:\r\nhttps://bakery.cakephp.org/2018/02/24/cakephp_2108_released.html\r\n\r\nIt took me a while to figure this out, an update to the documentation would be much appreciated.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11916","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11916/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11916/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11916/events","html_url":"https://github.com/cakephp/cakephp/issues/11916","id":312839791,"number":11916,"title":"Column default value is \"NULL::character varying\" insted of \"null\" for Postgres","user":{"login":"progLamer","id":950969,"avatar_url":"https://avatars1.githubusercontent.com/u/950969?v=4","gravatar_id":"","url":"https://api.github.com/users/progLamer","html_url":"https://github.com/progLamer","followers_url":"https://api.github.com/users/progLamer/followers","following_url":"https://api.github.com/users/progLamer/following{/other_user}","gists_url":"https://api.github.com/users/progLamer/gists{/gist_id}","starred_url":"https://api.github.com/users/progLamer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/progLamer/subscriptions","organizations_url":"https://api.github.com/users/progLamer/orgs","repos_url":"https://api.github.com/users/progLamer/repos","events_url":"https://api.github.com/users/progLamer/events{/privacy}","received_events_url":"https://api.github.com/users/progLamer/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-04-10T09:21:36Z","updated_at":"2018-04-10T16:53:08Z","closed_at":"2018-04-10T11:48:46Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5 \r\n* Platform and Target: Postgres 9.4\r\n\r\n### What you did\r\n1. Create table \r\n```sql\r\nCREATE TABLE tests\r\n(\r\n  name character varying(255) NOT NULL DEFAULT NULL\r\n);\r\n```\r\n2. Decribe table schema\r\n```php\r\n        /** @var TableSchema $schema */\r\n        $schema = ConnectionManager::get('default')\r\n            ->getSchemaCollection()\r\n            ->describe('tests');\r\n\r\n       var_dump($schema->defaultValues());\r\n```\r\n\r\n### What happened\r\n```php\r\narray(1) {\r\n  'name' =>\r\n  string(23) \"NULL::character varying\"\r\n}\r\n```\r\n\r\n### What you expected to happen\r\n```php\r\narray(1) {\r\n  'name' => \r\n  NULL\r\n}\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11913","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11913/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11913/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11913/events","html_url":"https://github.com/cakephp/cakephp/issues/11913","id":312296257,"number":11913,"title":"MultiCheckboxWidget.php error when using variable names with an underscore","user":{"login":"RichardPilbery","id":5834254,"avatar_url":"https://avatars0.githubusercontent.com/u/5834254?v=4","gravatar_id":"","url":"https://api.github.com/users/RichardPilbery","html_url":"https://github.com/RichardPilbery","followers_url":"https://api.github.com/users/RichardPilbery/followers","following_url":"https://api.github.com/users/RichardPilbery/following{/other_user}","gists_url":"https://api.github.com/users/RichardPilbery/gists{/gist_id}","starred_url":"https://api.github.com/users/RichardPilbery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RichardPilbery/subscriptions","organizations_url":"https://api.github.com/users/RichardPilbery/orgs","repos_url":"https://api.github.com/users/RichardPilbery/repos","events_url":"https://api.github.com/users/RichardPilbery/events{/privacy}","received_events_url":"https://api.github.com/users/RichardPilbery/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":4,"created_at":"2018-04-08T11:07:42Z","updated_at":"2018-04-08T15:04:15Z","closed_at":"2018-04-08T14:53:22Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.14\r\n* Platform and Target: PHP 7.1.0, MySQL 5.6.34\r\n\r\n### What you did\r\nCreated a variable to populate a select Form input (checkbox variant). The variable name ($ksf_dimensions) has an underscore in it. Inserted the following code in the view:\r\n\r\n`<?= $this->Form->input('ksf_dimensions',['type'=>'select','multiple'=>'checkbox','label'=>FALSE]); ?>`\r\n\r\n### What happened\r\nReceived the following error instead of a populated select input:\r\n\r\n`Invalid argument supplied for foreach() [CORE/src/View/Widget/MultiCheckboxWidget.php, line 134]`\r\n\r\n### What you expected to happen\r\nCorrect form input generated. \r\n\r\nNote: If the variable is renamed without the underscore, behaviour is as expected.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11911","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11911/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11911/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11911/events","html_url":"https://github.com/cakephp/cakephp/issues/11911","id":312262594,"number":11911,"title":"Problem with 'action' property on Create form ","user":{"login":"vanhelmont","id":8680443,"avatar_url":"https://avatars0.githubusercontent.com/u/8680443?v=4","gravatar_id":"","url":"https://api.github.com/users/vanhelmont","html_url":"https://github.com/vanhelmont","followers_url":"https://api.github.com/users/vanhelmont/followers","following_url":"https://api.github.com/users/vanhelmont/following{/other_user}","gists_url":"https://api.github.com/users/vanhelmont/gists{/gist_id}","starred_url":"https://api.github.com/users/vanhelmont/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanhelmont/subscriptions","organizations_url":"https://api.github.com/users/vanhelmont/orgs","repos_url":"https://api.github.com/users/vanhelmont/repos","events_url":"https://api.github.com/users/vanhelmont/events{/privacy}","received_events_url":"https://api.github.com/users/vanhelmont/received_events","type":"User","site_admin":false},"labels":[{"id":146052076,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Works%20For%20Me","name":"Works For Me","color":"fbca04","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":9,"created_at":"2018-04-08T02:04:57Z","updated_at":"2018-04-08T21:52:49Z","closed_at":"2018-04-08T20:32:44Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5\r\n* Platform and Target: MAMP\r\n\r\n### What you did\r\nI doing a form to send data to another action in the same controller. I coded it:\r\n`<?= $this->Form->create($roll, ['url' => ['action' => 'index']]); ?>`\r\nAnd printed this:\r\n`<form method=\"post\" accept-charset=\"utf-8\" action=\"/dices\">`\r\n\r\n### What happened\r\nWhen I submit the data, it just refresh de page, no codes process in controller.\r\n\r\n### What you expected to happen\r\nJust send the data, without doing any bypass codes to do it.\r\nI try to force action to \"/dices/\", and its ok!\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11905","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11905/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11905/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11905/events","html_url":"https://github.com/cakephp/cakephp/issues/11905","id":311820383,"number":11905,"title":"notEmpty validation rule not working","user":{"login":"yosus","id":5551430,"avatar_url":"https://avatars1.githubusercontent.com/u/5551430?v=4","gravatar_id":"","url":"https://api.github.com/users/yosus","html_url":"https://github.com/yosus","followers_url":"https://api.github.com/users/yosus/followers","following_url":"https://api.github.com/users/yosus/following{/other_user}","gists_url":"https://api.github.com/users/yosus/gists{/gist_id}","starred_url":"https://api.github.com/users/yosus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yosus/subscriptions","organizations_url":"https://api.github.com/users/yosus/orgs","repos_url":"https://api.github.com/users/yosus/repos","events_url":"https://api.github.com/users/yosus/events{/privacy}","received_events_url":"https://api.github.com/users/yosus/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false},{"id":60504418,"url":"https://api.github.com/repos/cakephp/cakephp/labels/validation","name":"validation","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":3,"created_at":"2018-04-06T01:20:16Z","updated_at":"2018-04-06T09:04:39Z","closed_at":"2018-04-06T09:04:38Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3-5-12\r\n\r\n\r\nBased on the Cakephp3 tutorial. When using the ArticlesTable.php, when I make 'title = null', the  notEmpty validator does not work and the data (with 'title = null') is saved to the database.\r\n\r\n```\r\n// In ArticlesController.php\r\npublic function add()    {\r\n        $article = $this->Articles->newEntity();\r\n        if ($this->request->is('post')) {\r\n\r\n            $article = $this->Articles->patchEntity($article, $this->request->getData());\r\n\r\n\tunset( $article->title );\r\n\t\t\t\r\n            // Hardcoding the user_id is temporary, and will be removed later\r\n            // when we build authentication out.\r\n            $article->user_id = 1;\r\n\r\n\r\n            if ($this->Articles->save($article)) {\r\n                $this->Flash->success(__('Your article has been saved.'));\r\n                 return $this->redirect(['action' => 'index']);\r\n            }\r\n            $this->Flash->error(__('Unable to add your article.'));\r\n        }\r\n        $this->set('article', $article);\r\n    }\r\n```\r\n\r\n```\r\n// In ArticlesTable.php\r\npublic function validationDefault(Validator $validator)\t{\r\n\t\t$validator\r\n\r\n\t\t\t->notEmpty('title' , 'Title empty' )\r\n\r\n\r\n\t\treturn $validator;\r\n\t}\r\n```\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11895","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11895/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11895/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11895/events","html_url":"https://github.com/cakephp/cakephp/issues/11895","id":310342333,"number":11895,"title":"Replaced session engine is not used","user":{"login":"lukeelten","id":513392,"avatar_url":"https://avatars2.githubusercontent.com/u/513392?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeelten","html_url":"https://github.com/lukeelten","followers_url":"https://api.github.com/users/lukeelten/followers","following_url":"https://api.github.com/users/lukeelten/following{/other_user}","gists_url":"https://api.github.com/users/lukeelten/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeelten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeelten/subscriptions","organizations_url":"https://api.github.com/users/lukeelten/orgs","repos_url":"https://api.github.com/users/lukeelten/repos","events_url":"https://api.github.com/users/lukeelten/events{/privacy}","received_events_url":"https://api.github.com/users/lukeelten/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":366710687,"url":"https://api.github.com/repos/cakephp/cakephp/labels/http","name":"http","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/use
8000
rs/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":6,"created_at":"2018-04-01T18:08:04Z","updated_at":"2018-04-14T03:57:48Z","closed_at":"2018-04-14T03:57:48Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.14\r\n* Platform and Target: Manjaro with Linux 4.15, PHP 7.2.3, PHP internal webserver, MariaDB 10.2\r\n\r\n### What you did\r\nI use a middleware to replace the session engine with a custom engine to pass in configuration variables which are not available during bootstrap.\r\n`$request->getSession()->engine($engine);`\r\n\r\n### What happened\r\nAfter exchanging the engine object, it remains inside the session object through the whole life cycle, but isn't used at all. Debugging shows, that none of its methods is invoked.\r\n\r\n### What you expected to happen\r\nI expect that the new engine object is used to read the session data before invoking the controller action, and is used to save the session when rendering is finished. \r\n\r\nDuring debugging, I found out, that the constructor of \"\\Cake\\Network\\Session\" calls \"session_set_save_handler\" with the engine object created at construction.\r\nBut when replacing the engine, the PHP function is not called to provide the new engine object.\r\nCalling \"session_set_save_handler\" after passing the new engine to the session object produced the expected behavior.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11888","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11888/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11888/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11888/events","html_url":"https://github.com/cakephp/cakephp/issues/11888","id":310315736,"number":11888,"title":"Cast missing in Request factory?","user":{"login":"dereuromark","id":39854,"avatar_url":"https://avatars0.githubusercontent.com/u/39854?v=4","gravatar_id":"","url":"https://api.github.com/users/dereuromark","html_url":"https://github.com/dereuromark","followers_url":"https://api.github.com/users/dereuromark/followers","following_url":"https://api.github.com/users/dereuromark/following{/other_user}","gists_url":"https://api.github.com/users/dereuromark/gists{/gist_id}","starred_url":"https://api.github.com/users/dereuromark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dereuromark/subscriptions","organizations_url":"https://api.github.com/users/dereuromark/orgs","repos_url":"https://api.github.com/users/dereuromark/repos","events_url":"https://api.github.com/users/dereuromark/events{/privacy}","received_events_url":"https://api.github.com/users/dereuromark/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-04-01T11:08:27Z","updated_at":"2018-04-01T11:14:08Z","closed_at":"2018-04-01T11:14:08Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.next\r\n\r\n### What you did\r\nRunning tests again, also for BC using prefer lowest, on a plugin:\r\nhttps://travis-ci.org/dereuromark/cakephp-calendar/jobs/360844000\r\n\r\n### What happened\r\n```\r\n1) Calendar\\Test\\TestCase\\Controller\\Component\\CalendarComponentTest::testInit\r\nextract() expects parameter 1 to be array, null given\r\n/home/travis/build/dereuromark/cakephp-calendar/vendor/cakephp/cakephp/src/Http/ServerRequestFactory.php:155\r\n/home/travis/build/dereuromark/cakephp-calendar/vendor/cakephp/cakephp/src/Http/ServerRequestFactory.php:93\r\n/home/travis/build/dereuromark/cakephp-calendar/vendor/cakephp/cakephp/src/Http/ServerRequestFactory.php:77\r\n/home/travis/build/dereuromark/cakephp-calendar/vendor/cakephp/cakephp/src/Http/ServerRequest.php:304\r\n/home/travis/build/dereuromark/cakephp-calendar/vendor/cakephp/cakephp/src/Http/ServerRequest.php:277\r\n/home/travis/build/dereuromark/cakephp-calendar/tests/TestCase/Controller/Component/CalendarComponentTest.php:24\r\n```\r\nThe code is just\r\n```\r\n$this->Controller = new CalendarComponentTestController(new Request());\r\n```\r\n\r\n### What you expected to happen\r\nAn array cast - so this would not happen - I guess. Or a check on null.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11885","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11885/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11885/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11885/events","html_url":"https://github.com/cakephp/cakephp/issues/11885","id":310173172,"number":11885,"title":"Need to replace deprecated class using with the latest one","user":{"login":"sohelrana820","id":2820810,"avatar_url":"https://avatars2.githubusercontent.com/u/2820810?v=4","gravatar_id":"","url":"https://api.github.com/users/sohelrana820","html_url":"https://github.com/sohelrana820","followers_url":"https://api.github.com/users/sohelrana820/followers","following_url":"https://api.github.com/users/sohelrana820/following{/other_user}","gists_url":"https://api.github.com/users/sohelrana820/gists{/gist_id}","starred_url":"https://api.github.com/users/sohelrana820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohelrana820/subscriptions","organizations_url":"https://api.github.com/users/sohelrana820/orgs","repos_url":"https://api.github.com/users/sohelrana820/repos","events_url":"https://api.github.com/users/sohelrana820/events{/privacy}","received_events_url":"https://api.github.com/users/sohelrana820/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-03-30T21:29:39Z","updated_at":"2018-03-31T01:59:19Z","closed_at":"2018-03-31T01:59:18Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.14\r\n* Platform and Target: Ubuntu 16.04 & PHP 7.1\r\n### What you did\r\nWorking with CakePHP Client and cookie\r\n\r\n### What happened\r\nIn src/Http/Client.php file using a deprecated class (Cake\\Http\\Client\\CookieCollection) \r\n\r\n### What you expected to happen\r\nAnd I think that class should replaced with Cake\\Http\\Cookie\\CookieCollection\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11882","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11882/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11882/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11882/events","html_url":"https://github.com/cakephp/cakephp/issues/11882","id":310001021,"number":11882,"title":"Wrong output by timeAgoInWords on entity date","user":{"login":"narendravaghela","id":1432986,"avatar_url":"https://avatars3.githubusercontent.com/u/1432986?v=4","gravatar_id":"","url":"https://api.github.com/users/narendravaghela","html_url":"https://github.com/narendravaghela","followers_url":"https://api.github.com/users/narendravaghela/followers","following_url":"https://api.github.com/users/narendravaghela/following{/other_user}","gists_url":"https://api.github.com/users/narendravaghela/gists{/gist_id}","starred_url":"https://api.github.com/users/narendravaghela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendravaghela/subscriptions","organizations_url":"https://api.github.com/users/narendravaghela/orgs","repos_url":"https://api.github.com/users/narendravaghela/repos","events_url":"https://api.github.com/users/narendravaghela/events{/privacy}","received_events_url":"https://api.github.com/users/narendravaghela/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60600135,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60504396,"url":"https://api.github.com/repos/cakephp/cakephp/labels/i18n","name":"i18n","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":2,"created_at":"2018-03-30T07:49:39Z","updated_at":"2018-03-30T09:08:36Z","closed_at":"2018-03-30T08:20:43Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.13.\r\n* Platform and Target: WAMP.\r\n\r\n### What you did\r\nI am displaying a date using `timeAgoInWords` function.\r\n```\r\n$entity->created->timeAgoInWords([\r\n    'accuracy' => ['week' => 'week'],\r\n    'format' => 'd/m/Y',\r\n    'end' => '+1 week'\r\n]);\r\n```\r\nIn database, the `created` field has value - 2018-02-16 10:19:31\r\n\r\nTimezone is set to UTC only.\r\n\r\n### What happened\r\nIt is displaying the output as - `on 16/19/2018`\r\n\r\n### What you expected to happen\r\nIt should display `on 16/02/2018`\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11881","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11881/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11881/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11881/events","html_url":"https://github.com/cakephp/cakephp/issues/11881","id":309956235,"number":11881,"title":"Validation::email() deep validation too loose?","user":{"login":"Modicrumb","id":3723383,"avatar_url":"https://avatars2.githubusercontent.com/u/3723383?v=4","gravatar_id":"","url":"https://api.github.com/users/Modicrumb","html_url":"https://github.com/Modicrumb","followers_url":"https://api.github.com/users/Modicrumb/followers","following_url":"https://api.github.com/users/Modicrumb/following{/other_user}","gists_url":"https://api.github.com/users/Modicrumb/gists{/gist_id}","starred_url":"https://api.github.com/users/Modicrumb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Modicrumb/subscriptions","organizations_url":"https://api.github.com/users/Modicrumb/orgs","repos_url":"https://api.github.com/users/Modicrumb/repos","events_url":"https://api.github.com/users/Modicrumb/events{/privacy}","received_events_url":"https://api.github.com/users/Modicrumb/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":3,"created_at":"2018-03-30T02:12:32Z","updated_at":"2018-03-31T01:28:24Z","closed_at":"2018-03-30T19:48:48Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.5\r\n* Platform and Target: Ubuntu 16, Mysql, Homestead Vagrant box\r\n\r\n### What you did\r\nWent to cake console and tried the following:\r\nuse Cake\\Validation\\Validation;\r\nValidation::email('wackasldgkjalksdgjlgd@asldfjalfjkaldsgjlkdgjlkg.com', true);\r\n\r\n### What happened\r\nIt returned true even though I had a deep set to true, I think it should return false with a \"deep\" check. I highly doubt the email up there has valid MX records.\r\n\r\n### What you expected to happen\r\nA return value of false. I think the culprit might have to do with the \r\nreturn is_array(gethostbynamel($regs[1] . '.')); \r\nwhich allows almost anything through. I saw in the test cases this code: https://github.com/cakephp/cakephp/blob/master/tests/TestCase/Validation/ValidationTest.php#L1975 which I think means this is a non-issue since my gethostbynamel does return true for invalid domains. Feel free to close if this is the case. *sigh*\r\n\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11880","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11880/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11880/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11880/events","html_url":"https://github.com/cakephp/cakephp/issues/11880","id":309798105,"number":11880,"title":"ExistsIn array_combine error when saveMany entities","user":{"login":"Nic0tiN","id":978619,"avatar_url":"https://avatars3.githubusercontent.com/u/978619?v=4","gravatar_id":"","url":"https://api.github.com/users/Nic0tiN","html_url":"https://github.com/Nic0tiN","followers_url":"https://api.github.com/users/Nic0tiN/followers","following_url":"https://api.github.com/users/Nic0tiN/following{/other_user}","gists_url":"https://api.github.com/users/Nic0tiN/gists{/gist_id}","starred_url":"https://api.github.com/users/Nic0tiN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nic0tiN/subscriptions","organizations_url":"https://api.github.com/users/Nic0tiN/orgs","repos_url":"https://api.github.com/users/Nic0tiN/repos","events_url":"https://api.github.com/users/Nic0tiN/events{/privacy}","received_events_url":"https://api.github.com/users/Nic0tiN/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false},{"id":83815438,"url":"https://api.github.com/repos/cakephp/cakephp/labels/ORM","name":"ORM","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":3,"created_at":"2018-03-29T15:22:08Z","updated_at":"2018-04-02T03:33:02Z","closed_at":"2018-04-02T03:33:02Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.14\r\n* Platform and Target: Win10 x64/PHP7.1.2 x64 / MySQL 5.5\r\n\r\n### What you did\r\nWhen saving many entities using the rule existsIn, PHP throws `Warning: array_combine(): Both parameters should have an equal number of elements [CORE\\src\\ORM\\Rule\\ExistsIn.php, line 134]`\r\n\r\n### What happened\r\n`ExistsIn::__construct` initializes property `$this->_fields`.\r\nWhen `ExistsIn::__invoke` is invoked with option `allowNullableNulls=true` and come across a null field, it **permanently** alters the `$this->_fields` property by removing the corresponding field.\r\nWhen the next entity with a non-null value is tested, the `$this->_fields` property is still altered and lacks the original fields and the warning array_combine(): Both parameters should have an equal number of elements [CORE\\src\\ORM\\Rule\\ExistsIn.php, line 134] appears.\r\n\r\n### What you expected to happen\r\nA copy of `$this->_fields` should be made at every call of `ExistsIn::__invoke` to be compliant with `saveMany()`.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11876","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11876/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11876/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11876/events","html_url":"https://github.com/cakephp/cakephp/issues/11876","id":309271265,"number":11876,"title":"invalid Exception","user":{"login":"saeideng","id":8215801,"avatar_url":"https://avatars3.githubusercontent.com/u/8215801?v=4","gravatar_id":"","url":"https://api.github.com/users/saeideng","html_url":"https://github.com/saeideng","followers_url":"https://api.github.com/users/saeideng/followers","following_url":"https://api.github.com/users/saeideng/following{/other_user}","gists_url":"https://api.github.com/users/saeideng/gists{/gist_id}","starred_url":"https://api.github.com/users/saeideng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saeideng/subscriptions","organizations_url":"https://api.github.com/users/saeideng/orgs","repos_url":"https://api.github.com/users/saeideng/repos","events_url":"https://api.github.com/users/saeideng/events{/privacy}","received_events_url":"https://api.github.com/users/saeideng/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60506162,"url":"https://api.github.com/repos/cakephp/cakephp/labels/exception","name":"exception","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admi
8000
n":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-03-28T08:39:42Z","updated_at":"2018-03-29T03:52:30Z","closed_at":"2018-03-29T03:52:29Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5x , 3.6.x\r\n\r\n```php\r\n    $routes->connect('/', ['controller' => 'Pages', 'action' => 'index'],\r\n                      ['_name'=>'index']);\r\n   $routes->connect('/home', ['controller' => 'Pages', 'action' => 'home'],\r\n                      ['_name'=>'home','routeClass' => 'NotExistingRoute']);\r\n```\r\nand try to 'http://sitename/` \r\nyou now receive \r\n```\r\n Duplicate Named Route \r\n\r\nError: A route named \"index\" has already been connected to \"/\". \r\n```\r\nTemplate | Defaults | Options\r\n-- | -- | --\r\n/ | [ \t'controller' => 'Pages', \t'action' => 'index', \t'plugin' => null ] | [ \t'_name' => 'index', \t'_ext' => [], \t'routeClass' => 'Cake\\Routing\\Route\\DashedRoute' ]\r\n\r\n\r\n\r\n//\r\n`NotExistingRoute` does not exist ","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11870","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11870/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11870/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11870/events","html_url":"https://github.com/cakephp/cakephp/issues/11870","id":308072756,"number":11870,"title":"No support for  DboSource::expression in Virtual fields","user":{"login":"giboow","id":1560862,"avatar_url":"https://avatars3.githubusercontent.com/u/1560862?v=4","gravatar_id":"","url":"https://api.github.com/users/giboow","html_url":"https://github.com/giboow","followers_url":"https://api.github.com/users/giboow/followers","following_url":"https://api.github.com/users/giboow/following{/other_user}","gists_url":"https://api.github.com/users/giboow/gists{/gist_id}","starred_url":"https://api.github.com/users/giboow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giboow/subscriptions","organizations_url":"https://api.github.com/users/giboow/orgs","repos_url":"https://api.github.com/users/giboow/repos","events_url":"https://api.github.com/users/giboow/events{/privacy}","received_events_url":"https://api.github.com/users/giboow/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60504711,"url":"https://api.github.com/repos/cakephp/cakephp/labels/models","name":"models","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/162","html_url":"https://github.com/cakephp/cakephp/milestone/162","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/162/labels","id":3141227,"number":162,"title":"2.10.9","description":"Bugfixes for 2.10. No new features will be accepted as 2.x is in bugfix only mode.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2018-02-25T03:42:47Z","updated_at":"2018-03-24T15:45:35Z","due_on":"2018-03-23T07:00:00Z","closed_at":"2018-03-24T15:45:35Z"},"comments":2,"created_at":"2018-03-23T15:23:58Z","updated_at":"2018-03-23T19:35:18Z","closed_at":"2018-03-23T19:35:18Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 2.10\r\n* Platform and Target: PHP7 / Mysql \r\n\r\n### What you did\r\nI can't use DboSource::expression in Virtual fields\r\n\r\n### What happened\r\nNo support for this\r\n\r\n### What you expected to happen\r\nin \\DboSource::_constructVirtualFields\r\nadd condition for process expressions\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11858","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11858/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11858/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11858/events","html_url":"https://github.com/cakephp/cakephp/issues/11858","id":307063809,"number":11858,"title":"In case of password input validation error is not rendered","user":{"login":"AdamDomafoldi","id":5314119,"avatar_url":"https://avatars3.githubusercontent.com/u/5314119?v=4","gravatar_id":"","url":"https://api.github.com/users/AdamDomafoldi","html_url":"https://github.com/AdamDomafoldi","followers_url":"https://api.github.com/users/AdamDomafoldi/followers","following_url":"https://api.github.com/users/AdamDomafoldi/following{/other_user}","gists_url":"https://api.github.com/users/AdamDomafoldi/gists{/gist_id}","starred_url":"https://api.github.com/users/AdamDomafoldi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AdamDomafoldi/subscriptions","organizations_url":"https://api.github.com/users/AdamDomafoldi/orgs","repos_url":"https://api.github.com/users/AdamDomafoldi/repos","events_url":"https://api.github.com/users/AdamDomafoldi/events{/privacy}","received_events_url":"https://api.github.com/users/AdamDomafoldi/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":2,"created_at":"2018-03-20T22:37:17Z","updated_at":"2018-03-21T14:14:22Z","closed_at":"2018-03-21T01:11:29Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.12\r\n* Platform and Target: WAMP 3.0.6 64 bit (PHP 7.0.10, MySQL 5.7.14, Apache 2.4.23, Win10 64bit)\r\n\r\n### What you did\r\nI ask the user to give the current password (oldpassword) before the new password (newpassword).\r\n```\r\n         <?= $this->Form->create($user) ?>\r\n          <?= $this->Form->label('oldpassword', __('Jelenlegi jelsz'), ['class' => 'form-label']) ?>\r\n          <?= $this->Form->password('oldpassword', ['class' => 'form-input', 'label' => false]) ?>\r\n           <?= $this->Form->label('newpassword', __('j jelsz'), ['class' => 'form-label']) ?>\r\n           <?= $this->Form->password('newpassword', ['class' => 'form-input', 'label' => false]) ?>\r\n            <?= $this->Form->button(__('Ments'), ['class' => 'btn btn-primary mt-2']) ?> \r\n             <?= $this->Form->end() ?>\r\n```\r\n In the UsersTable.php I validate the fields.\r\n\r\n```\r\n  public function validationDefault(Validator $validator)\r\n    {\r\n        return $validator\r\n            ->notEmpty('oldpassword', __('Hinyz jelsz!'))\r\n            ->add('oldpassword', 'no-misspelling', [\r\n                'rule' => ['compareWith', 'password'],\r\n                'message' => 'Passwords are not equal',\r\n            ])\r\n            ->notEmpty('newpassword', __('Hinyz jelsz!'))\r\n            ->add('newpassword', [\r\n                'validValue' => [\r\n                    'rule' => ['custom', '/^.{6,25}$/i'],\r\n                    'message' => __('Hibs jelsz! (felttel: min 6 max 25 karakter)')\r\n                ]\r\n            ]);\r\n}\r\n```\r\n\r\n### What happened\r\nValidation error is not rendered. When I change\r\n`$this->Form->password`\r\nto\r\n`$this->Form->input`\r\nthe validation error is rendered. \r\n\r\n### What you expected to happen\r\nIf a validation error happened, the error message I defined in the UsersTable.php would be rendered.\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11855","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11855/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11855/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11855/events","html_url":"https://github.com/cakephp/cakephp/issues/11855","id":306936449,"number":11855,"title":"CakePHP Union Problem","user":{"login":"JMente","id":12177414,"avatar_url":"https://avatars2.githubusercontent.com/u/12177414?v=4","gravatar_id":"","url":"https://api.github.com/users/JMente","html_url":"https://github.com/JMente","followers_url":"https://api.github.com/users/JMente/followers","following_url":"https://api.github.com/users/JMente/following{/other_user}","gists_url":"https://api.github.com/users/JMente/gists{/gist_id}","starred_url":"https://api.github.com/users/JMente/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JMente/subscriptions","organizations_url":"https://api.github.com/users/JMente/orgs","repos_url":"https://api.github.com/users/JMente/repos","events_url":"https://api.github.com/users/JMente/events{/privacy}","received_events_url":"https://api.github.com/users/JMente/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":2,"created_at":"2018-03-20T16:15:28Z","updated_at":"2018-03-20T16:30:47Z","closed_at":"2018-03-20T16:19:39Z","author_association":"NONE","body":"Hi, after i'm migrate my website and update the components for PHP7.2 and MariaDB 10.2 my website have a problem when i'm login or query a model the next simple query\r\n\r\n$users = $this->Users->query('SELECT * FROM siso_users WHERE email = ' . \"'example@example.net';\");\r\n\r\nThrows me the next error:\r\n\r\n[PDOException] SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'UNION' at line 2\r\n\r\nPlease somebody help to fix this error.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11851","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11851/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11851/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11851/events","html_url":"https://github.com/cakephp/cakephp/issues/11851","id":306908748,"number":11851,"title":"Filesystem Folder::find PHP Warnings on empty folders","user":{"login":"Nic0tiN","id":978619,"avatar_url":"https://avatars3.githubusercontent.com/u/978619?v=4","gravatar_id":"","url":"https://api.github.com/users/Nic0tiN","html_url":"https://github.com/Nic0tiN","followers_url":"https://api.github.com/users/Nic0tiN/followers","following_url":"https://api.github.com/users/Nic0tiN/following{/other_user}","gists_url":"https://api.github.com/users/Nic0tiN/gists{/gist_id}","starred_url":"https://api.github.com/users/Nic0tiN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nic0tiN/subscriptions","organizations_url":"https://api.github.com/users/Nic0tiN/orgs","repos_url":"https://api.github.com/users/Nic0tiN/repos","events_url":"https://api.github.com/users/Nic0tiN/events{/privacy}","received_events_url":"https://api.github.com/users/Nic0tiN/received_events","type":"User","site_admin":false},"labels":[{"id":177038150,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Invalid","name":"Invalid","color":"e6e6e6","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":1,"created_at":"2018-03-20T15:11:31Z","updated_at":"2018-03-20T15:44:24Z","closed_at":"2018-03-20T15:23:31Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.13.\r\n* Platform and Target: Windows 10 x64 / Apache 2.4.25 x64 / PHP 7.1.2 x64\r\n\r\n### What you did\r\nWhen browsing empty folders, PHP outputs warnings.\r\n```php        \r\n        $dir = new Folder(\"Path/to/my/empty/folder\");\r\n        if (!$dir->pwd()) { // My folder exists\r\n            $this->abort(\"404 Folder\")\r\n            return false;\r\n        }\r\n        if (!$files = $dir->find('*_file.csv')) { // find outputs errors\r\n            return $this->info(\"No files\");\r\n        }\r\n```\r\n\r\n### What happened\r\nFolder::find outputs PHP warnings due to missing values\r\n`Warning Error: preg_grep(): Compilation failed: nothing to repeat at offset 1 in [\\vendor\\cakephp\\cakephp\\src\\Filesystem\\Folder.php, line 262]`\r\n`Warning Error: array_values() expects parameter 1 to be array, boolean given in [\\vendor\\cakephp\\cakephp\\src\\Filesystem\\Folder.php, line 262]\r\n`\r\n\r\n### What you expected to happen\r\nThere should have a check on empty folder or another method to check if folder is empty?\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11850","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11850/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11850/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11850/events","html_url":"https://github.com/cakephp/cakephp/issues/11850","id":306834874,"number":11850,"title":"Incomplete label attributes for widgets due to hardcoded group types","user":{"login":"rchavik","id":39490,"avatar_url":"https://avatars3.githubusercontent.com/u/39490?v=4","gravatar_id":"","url":"https://api.github.com/users/rchavik","html_url":"https://github.com/rchavik","followers_url":"https://api.github.com/users/rchavik/followers","following_url":"https://api.github.com/users/rchavik/following{/other_user}","gists_url":"https://api.github.com/users/rchavik/gists{/gist_id}","starred_url":"https://api.github.com/users/rchavik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rchavik/subscriptions","organizations_url":"https://api.github.com/users/rchavik/orgs","repos_url":"https://api.github.com/users/rchavik/repos","events_url":"https://api.github.com/users/rchavik/events{/privacy}","received_events_url":"https://api.github.com/users/rchavik/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false},{"id":83815377,"url":"https://api.github.com/repos/cakephp/cakephp/labels/helpers","name":"helpers","color":"ffffff","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/140","html_url":"https://github.com/cakephp/cakephp/milestone/140","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/140/labels","id":2671072,"number":140,"title":"3.6.0","description":"New major features that are backwards compatible with 3.x. See the [roadmap](https://github.com/cakephp/cakephp/wiki/3.6-Roadmap) for more details.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":125,"closed_issues":264,"state":"open","created_at":"2017-07-31T11:30:05Z","updated_at":"2018-04-14T17:10:18Z","due_on":"2018-04-14T07:00:00Z","closed_at":null},"comments":0,"created_at":"2018-03-20T11:56:42Z","updated_at":"2018-04-02T19:50:33Z","closed_at":"2018-04-02T19:50:33Z","author_association":"MEMBER","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [X] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.12\r\n* Platform and Target: N/A\r\n\r\n### What you did\r\nCroogo has a [DateTimeWidget](https://github.com/croogo/croogo/blob/master/Core/src/View/Widget/DateTimeWidget.php) that renders a text input for integration with datetimepicker.\r\n\r\n### What happened\r\nThe widget is rendered with its `<label>` element missing the `for` attribute. Eg:\r\n\r\n```html\r\n<div class=\"form-group datetime\">\r\n  <label class=\"col-form-label\">Start Date</label>\r\n  <input name=\"start_date\" value=\"2018-03-19 17:00:00\" id=\"start-date\" type=\"hidden\">\r\n  <div class=\"input-group datetime \">\r\n    <!-- removed for clarity -->\r\n  </div>\r\n</div>\r\n```\r\n\r\n### What you expected to happen\r\nThe `<label>` should contain the appropriate `for` attribute`, eg:\r\n\r\n```html\r\n<div class=\"form-group datetime\">\r\n  <label class=\"col-form-label\" for=\"start-date\">Start Date</label>\r\n  <input name=\"start_date\" value=\"2018-03-19 17:00:00\" id=\"start-date\" type=\"hidden\">\r\n  <div class=\"input-group datetime \">\r\n    <!-- removed for clarity -->\r\n  </div>\r\n</div>\r\n```\r\n\r\nThe reason is https://github.com/cakephp/cakephp/blob/master/src/View/Helper/FormHelper.php#L1505 assumes that a `datetime` is in `$groupTypes` causing forceful set of `for` to `false`.\r\n\r\nThere's no way AFAIK to bypass this aside by overriding the whole `_inputLabel()` method. Ideally, this should be configurable or obtained from the widget.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11849","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11849/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11849/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11849/events","html_url":"https://github.com/cakephp/cakephp/issues/11849","id":306806499,"number":11849,"title":"render() is debug true not working.","user":{"login":"tetsuyusan","id":20703137,"avatar_url":"https://avatars3.githubusercontent.com/u/20703137?v=4","gravatar_id":"","url":"https://api.github.com/users/tetsuyusan","html_url":"https://github.com/tetsuyusan","followers_url":"https://api.github.com/users/tetsuyusan/followers","following_url":"https://api.github.com/users/tetsuyusan/following{/other_user}","gists_url":"https://api.github.com/users/tetsuyusan/gists{/gist_id}","starred_url":"https://api.github.com/users/tetsuyusan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tetsuyusan/subscriptions","organizations_url":"https://api.github.com/users/tetsuyusan/orgs","repos_url":"https://api.github.com/users/tetsuyusan/repos","events_url":"https://api.github.com/users/tetsuyusan/events{/privacy}","received_events_url":"https://api.github.com/users/tetsuyusan/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60525626,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":4,"created_at":"2018-03-20T10:27:21Z","updated_at":"2018-04-02T03:33:33Z","closed_at":"2018-04-02T03:33:33Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.13\r\n* Platform and Target: apache2.4\r\n\r\n### What you did\r\ndebug is true.\r\n```AppController.php\r\n$this->render('hoge');\r\n```\r\nIt changes the view.\r\n\r\ndebug is false.\r\n\r\n```AppController.php\r\n$this->render('hoge');\r\n```\r\nIt dosen't change the view.\r\n\r\nif I change the code like this.\r\n```AppController.php\r\nreturn $this->render('hoge');\r\n```\r\nIt changes the view.\r\n\r\nI used https://book.cakephp.org/3.0/ja/controllers.html as a reference.\r\n\r\n### What happened\r\nNot change view for debug is true.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11845","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11845/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11845/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11845/events","html_url":"https://github.com/cakephp/cakephp/issues/11845","id":306447391,"number":11845,"title":"MemcachedEngine: groups method throws warning after a memcached daemon restart (getMulti return false instead of array)","user":{"login":"xavifr","id":13116609,"avatar_url":"https://avatars3.githubusercontent.com/u/13116609?v=4","gravatar_id":"","url":"https://api.github.com/users/xavifr","html_url":"https://github.com/xavifr","followers_url":"https://api.github.com/users/xavifr/followers","following_url":"https://api.github.com/users/xavifr/following{/other_user}","gists_url":"https://api.github.com/users/xavifr/gists{/gist_id}","starred_url":"https://api.github.com/users/xavifr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xavifr/subscriptions","organizations_url":"https://api.github.com/users/xavifr/orgs","repos_url":"https://api.github.com/users/xavifr/repos","events_url":"https://api.github.com/users/xavifr/events{/privacy}","received_events_url":"https://api.github.com/users/xavifr/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/163","html_url":"https://github.com/cakephp/cakephp/milestone/163","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/163/labels","id":3158815,"number":163,"title":"3.5.14","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2018-03-04T01:59:26Z","updated_at":"2018-03-20T01:27:56Z","due_on":"2018-03-19T07:00:00Z","closed_at":"2018-03-20T01:27:56Z"},"comments":0,"created_at":"2018-03-19T12:44:33Z","updated_at":"2018-03-19T16:12:
8000
45Z","closed_at":"2018-03-19T16:12:45Z","author_association":"NONE","body":"This is a:\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: master.\r\n* Platform and Target: Ubuntu 16.04.\r\n\r\n### What happens\r\nSometimes. after a restart of memcached daemon, the following read/write operations return some warnings\r\n\r\n```\r\nWarning Error: count(): Parameter must be an array or an object that implements Countable in [/opt/cake/app/vendor/cakephp/cakephp/src/Cache/Engine/MemcachedEngine.php, line 504]\r\nWarning Error: array_values() expects parameter 1 to be array, boolean given in [/opt/cake/app/vendor/cakephp/cakephp/src/Cache/Engine/MemcachedEngine.php, line 515]\r\n\r\n```\r\n\r\nAfter looking at MemcachedEngine.php it looks like that getMulti can return false in some cases, but the code doesn't supports that.\r\n\r\n\r\nIt can be reproduced restarting memcached daemon while an script has the Cache object initialized and performs a read operation.\r\n\r\n\r\n### PATCH\r\n\r\n[fix-getMulti-return-false.txt](https://github.com/cakephp/cakephp/files/1824978/fix-getMulti-return-false.txt)\r\n\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11838","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11838/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11838/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11838/events","html_url":"https://github.com/cakephp/cakephp/issues/11838","id":306205512,"number":11838,"title":"ConsoleOptionParser addSubcommand Sorting optional","user":{"login":"t73biz","id":169922,"avatar_url":"https://avatars0.githubusercontent.com/u/169922?v=4","gravatar_id":"","url":"https://api.github.com/users/t73biz","html_url":"https://github.com/t73biz","followers_url":"https://api.github.com/users/t73biz/followers","following_url":"https://api.github.com/users/t73biz/following{/other_user}","gists_url":"https://api.github.com/users/t73biz/gists{/gist_id}","starred_url":"https://api.github.com/users/t73biz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t73biz/subscriptions","organizations_url":"https://api.github.com/users/t73biz/orgs","repos_url":"https://api.github.com/users/t73biz/repos","events_url":"https://api.github.com/users/t73biz/events{/privacy}","received_events_url":"https://api.github.com/users/t73biz/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false},{"id":60507596,"url":"https://api.github.com/repos/cakephp/cakephp/labels/console","name":"console","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/163","html_url":"https://github.com/cakephp/cakephp/milestone/163","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/163/labels","id":3158815,"number":163,"title":"3.5.14","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2018-03-04T01:59:26Z","updated_at":"2018-03-20T01:27:56Z","due_on":"2018-03-19T07:00:00Z","closed_at":"2018-03-20T01:27:56Z"},"comments":1,"created_at":"2018-03-18T01:39:32Z","updated_at":"2018-03-18T16:17:42Z","closed_at":"2018-03-18T07:34:27Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 235c72450449614bce13ee145853183d70f2d7ae\r\n* Platform and Target: Linux Mint 18, PHP 7.1, Shell\r\n\r\n### What you did\r\nWhen adding subcommands to a ShellCommand, I realized that the Tasks first letter spelt a word. I would like to see the help display for subcommands as I enter them.\r\n\r\n```\r\n/**\r\n     * Manage the available sub-commands along with their arguments and help\r\n     *\r\n     * @see http://book.cakephp.org/3.0/en/console-and-shells.html#configuring-options-and-generating-help\r\n     *\r\n     * @return \\Cake\\Console\\ConsoleOptionParser\r\n     */\r\n    public function getOptionParser()\r\n    {\r\n        $parser = parent::getOptionParser();\r\n\r\n        $parser->addSubcommand('generate', [\r\n            'help' => 'Generate the link tables.',\r\n            'parser' => $this->Generate->getOptionParser(),\r\n        ]);\r\n\r\n        $parser->addSubcommand('import', [\r\n            'help' => 'Import the csv data.',\r\n            'parser' => $this->Import->getOptionParser(),\r\n        ]);\r\n\r\n        $parser->addSubcommand('join', [\r\n            'help' => 'Join the habtm models.',\r\n            'parser' => $this->Join->getOptionParser(),\r\n        ]);\r\n\r\n        $parser->addSubcommand('organize', [\r\n            'help' => 'Organize the model mapping.',\r\n            'parser' => $this->Join->getOptionParser(),\r\n        ]);\r\n\r\n        $parser->addSubcommand('erase', [\r\n            'help' => 'Erase the link tables.',\r\n            'parser' => $this->Join->getOptionParser(),\r\n        ]);\r\n\r\n        return $parser;\r\n    }\r\n```\r\n\r\n### What happened\r\nThe subcommands are sorted\r\n```\r\nUsage:\r\ncake csv_migrate [subcommand] [-h] [-q] [-v]\r\n\r\nSubcommands:\r\n\r\nerase     Erase the link tables.\r\ngenerate  Generate the link tables.\r\nimport    Import the csv data.\r\njoin      Join the habtm models.\r\norganize  Organize the model mapping.\r\n\r\nTo see help on a subcommand use `cake csv_migrate [subcommand] --help`\r\n\r\n```\r\n\r\n### What you expected to happen\r\nThe subcommands listed in the same order as I entered them in to the class.\r\n```\r\nUsage:\r\ncake csv_migrate [subcommand] [-h] [-q] [-v]\r\n\r\nSubcommands:\r\n\r\ngenerate  Generate the link tables.\r\nimport    Import the csv data.\r\njoin      Join the habtm models.\r\norganize  Organize the model mapping.\r\nerase     Erase the link tables.\r\n\r\nTo see help on a subcommand use `cake csv_migrate [subcommand] --help`\r\n\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11836","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11836/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11836/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11836/events","html_url":"https://github.com/cakephp/cakephp/issues/11836","id":306165627,"number":11836,"title":" About the method: $this->Auth->identify() and removing random spaces","user":{"login":"patsuckow","id":12321741,"avatar_url":"https://avatars1.githubusercontent.com/u/12321741?v=4","gravatar_id":"","url":"https://api.github.com/users/patsuckow","html_url":"https://github.com/patsuckow","followers_url":"https://api.github.com/users/patsuckow/followers","following_url":"https://api.github.com/users/patsuckow/following{/other_user}","gists_url":"https://api.github.com/users/patsuckow/gists{/gist_id}","starred_url":"https://api.github.com/users/patsuckow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsuckow/subscriptions","organizations_url":"https://api.github.com/users/patsuckow/orgs","repos_url":"https://api.github.com/users/patsuckow/repos","events_url":"https://api.github.com/users/patsuckow/events{/privacy}","received_events_url":"https://api.github.com/users/patsuckow/received_events","type":"User","site_admin":false},"labels":[{"id":60600135,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Question","name":"Question","color":"207de5","default":false},{"id":60504893,"url":"https://api.github.com/repos/cakephp/cakephp/labels/documentation","name":"documentation","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/163","html_url":"https://github.com/cakephp/cakephp/milestone/163","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/163/labels","id":3158815,"number":163,"title":"3.5.14","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2018-03-04T01:59:26Z","updated_at":"2018-03-20T01:27:56Z","due_on":"2018-03-19T07:00:00Z","closed_at":"2018-03-20T01:27:56Z"},"comments":7,"created_at":"2018-03-17T15:35:03Z","updated_at":"2018-03-18T16:42:40Z","closed_at":"2018-03-18T16:33:48Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] enhancement\r\n* [x] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5\r\n\r\n### What happened\r\nI use the method: $this->Auth->identify();\r\nhttps://api.cakephp.org/3.5/source-class-Cake.Controller.Component.AuthComponent.html#801-831\r\n\r\nOn logs of user authorization, I noticed the following:\r\nApparently many users store their logins and passwords in simple text files and to enter the site they simply copy them and insert them into the authorization form.\r\nSome of them copy their login or password with extra spaces at the beginning, but more often at the end of the line. And as a consequence, they can not be authorized, since there is an extra symbol - a space.\r\n\r\n### What you did\r\nTo avoid this, I had to connect js and check the lines in the form of authorization, but I think this - js - is unnecessary.\r\n\r\n### What you expected to happen\r\nCan you add to this method (identify()) - php method trim() by default or as an option?\r\n\r\n### Do you want to address this issue?\r\nI think I'm not good enough to solve this problem correctly and provide a ready-made code for this method and I'm not 100% sure that I'm not mistaken.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11830","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11830/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11830/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11830/events","html_url":"https://github.com/cakephp/cakephp/issues/11830","id":305636185,"number":11830,"title":"Fatal error:  Cannot use 'object' as class name as it is reserved","user":{"login":"odan","id":781074,"avatar_url":"https://avatars0.githubusercontent.com/u/781074?v=4","gravatar_id":"","url":"https://api.github.com/users/odan","html_url":"https://github.com/odan","followers_url":"https://api.github.com/users/odan/followers","following_url":"https://api.github.com/users/odan/following{/other_user}","gists_url":"https://api.github.com/users/odan/gists{/gist_id}","starred_url":"https://api.github.com/users/odan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odan/subscriptions","organizations_url":"https://api.github.com/users/odan/orgs","repos_url":"https://api.github.com/users/odan/repos","events_url":"https://api.github.com/users/odan/events{/privacy}","received_events_url":"https://api.github.com/users/odan/received_events","type":"User","site_admin":false},"labels":[{"id":177038150,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Invalid","name":"Invalid","color":"e6e6e6","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/162","html_url":"https://github.com/cakephp/cakephp/milestone/162","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/162/labels","id":3141227,"number":162,"title":"2.10.9","description":"Bugfixes for 2.10. No new features will be accepted as 2.x is in bugfix only mode.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2018-02-25T03:42:47Z","updated_at":"2018-03-24T15:45:35Z","due_on":"2018-03-23T07:00:00Z","closed_at":"2018-03-24T15:45:35Z"},"comments":4,"created_at":"2018-03-15T16:53:54Z","updated_at":"2018-03-15T17:05:39Z","closed_at":"2018-03-15T16:59:47Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 2.10.8\r\n* CakeDC Migrations Plugin: 2.5.1\r\n* Platform and Target: **PHP 7.2**\r\n\r\n### What you did\r\n\r\nThe following command was executed on the console:\r\n\r\n```bash\r\napp>php Console/cake.php Migrations.migration genenerate -f --compare --overwrite --preview -c schema -i schema\r\n```\r\n\r\n### What happened\r\nThe command stopped with this error message:\r\n\r\n```\r\nCake Migration Shell\r\n---------------------------------------------------------------\r\nPHP Fatal error:  Cannot use 'object' as class name as it is reserved in vendor\\cakephp\\cakephp\\lib\\Cake\\Core\\Object.php on line 18\r\nPHP Stack trace:\r\n....\r\n```\r\n\r\n## Possible (quick) fix\r\n\r\nI removed line 18 in `Object.php`\r\n\r\n```php\r\n// class_alias('CakeObject', 'Object');\r\n```\r\n\r\nand changed line 16 in `CakeMigration.php` to\r\n\r\n```php\r\nclass CakeMigration extends CakeObject {\r\n```\r\n\r\nIt works again.\r\n\r\n### What you expected to happen\r\nNo error message\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11828","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11828/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11828/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11828/events","html_url":"https://github.com/cakephp/cakephp/issues/11828","id":305476354,"number":11828,"title":"HTTP response returning null string","user":{"login":"sdustinh","id":2855100,"avatar_url":"https://avatars1.githubusercontent.com/u/2855100?v=4","gravatar_id":"","url":"https://api.github.com/users/sdustinh","html_url":"https://github.com/sdustinh","followers_url":"https://api.github.com/users/sdustinh/followers","following_url":"https://api.github.com/users/sdustinh/following{/other_user}","gists_url":"https://api.github.com/users/sdustinh/gists{/gist_id}","starred_url":"https://api.github.com/users/sdustinh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdustinh/subscriptions","organizations_url":"https://api.github.com/users/sdustinh/orgs","repos_url":"https://api.github.com/users/sdustinh/repos","events_url":"https://api.github.com/users/sdustinh/events{/privacy}","received_events_url":"https://api.github.com/users/sdustinh/received_events","type":"User","site_admin":false},"labels":[{"id":60525626,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Need%20more%20information","name":"Need more information","color":"eb6420","default":false},{"id":60506670,"url":"https://api.github.com/repos/cakephp/cakephp/labels/testing","name":"testing","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/163","html_url":"https://github.com/cakephp/cakephp/milestone/163","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/163/labels","id":3158815,"number":163,"title":"3.5.14","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2018-03-04T01:59:26Z","updated_at":"2018-03-20T01:27:56Z","due_on":"2018-03-19T07:00:00Z","closed_at":"2018-03-20T01:27:56Z"},"comments":6,"created_at":"2018-03-15T09:38:19Z","updated_at":"2018-03-17T01:54:13Z","closed_at":"2018-03-17T01:54:13Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n```\r\nsdustinh@sdustinh:~/github/app$ php --version\r\nPHP 7.1.15-1+ubuntu16.04.1+deb.sury.org+2 (cli) (built: Mar  6 2018 11:10:13) ( NTS )\r\nCopyright (c) 1997-2018 The PHP Group\r\nZend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies\r\n    with Zend OPcache v7.1.15-1+ubuntu16.04.1+deb.sury.org+2, Copyright (c) 1999-2018, by Zend Technologies\r\n    with Xdebug v2.6.0, Copyright (c) 2002-2018, by Derick Rethans\r\nsdustinh@sdustinh:~/github/app$ mysql --version\r\nmysql  Ver 14.14 Distrib 5.7.21, for Linux (x86_64) using  EditLine wrapper\r\nsdustinh@sdustinh:~/github/app$ composer show cakephp/*\r\ncakephp/bake                1.6.3  Bake plugin for CakePHP 3\r\ncakephp/cakephp             3.5.12 The CakePHP framework\r\ncakephp/cakephp-codesniffer 3.0.3  CakePHP CodeSniffer Standards\r\ncakephp/chronos             1.1.4  A simple API extension for DateTime.\r\ncakephp/debug_kit           3.14.1 CakePHP Debug Kit\r\ncakephp/elastic-search      0.3.5  An Elastic Search datasource and data mapper for CakePHP 3.0\r\ncakephp/migrations          1.7.2  Database Migration plugin for CakePHP 3.0 based on Phinx\r\ncakephp/plugin-installer    1.1.0  A composer installer for CakePHP 3.0+ plugins.\r\n```\r\n\r\n### What you did\r\n\r\n```php\r\n// Controller\r\npublic function add()\r\n{\r\n    $scopes = $this->Scopes->find()\r\n        ->where(['Scopes.id IN' => $this->request->getData('scopes')])\r\n        ->notMatching('Users', function ($query) {\r\n            return $query->where(['Users.id' => $this->user->get('id')]);\r\n        })\r\n        ->toArray();\r\n\r\n    if ($scopes === []) {\r\n        return;\r\n    }\r\n\r\n    $this->response = $this->response->withStatus(201);\r\n\r\n    if ($this->Users->association('Scopes')->link($this->user, $scopes) === false) {\r\n        $this->response = $this->response->withStatus(400);\r\n        $this->set('errors', $this->user->getErrors());\r\n        $this->set('_serialize', ['errors']);\r\n    }\r\n}\r\n\r\n// Test\r\npublic function testAdd()\r\n{\r\n    $data = ['scopes' => [1, 2, 3]];\r\n    $this->post('/api/v1/users/1/scopes', $data);\r\n    $this->assertResponseCode(201);\r\n    $this->assertContentType('application/json');\r\n    $this->assertResponseEmpty();\r\n}\r\n```\r\n\r\n### What happened\r\n\r\nAll of the test passes until that `$this->assertResponseEmpty()` call. That fails with: `Failed asserting that a string is empty.`\r\n\r\n### What you expected to happen\r\n\r\nI didn't expect it to fail. I thought maybe something was being set that I didn't notice so I changed my test to the following:\r\n\r\n```php\r\npublic function testAdd()\r\n{\r\n    $data = ['scopes' => [1, 2, 3]];\r\n    $this->post('/api/v1/users/1/scopes', $data);\r\n\r\n    dd((string)$this->_response->getBody());\r\n    \r\n    $this->assertResponseCode(201);\r\n    $this->assertContentType('application/json');\r\n    $this->assertResponseEmpty();\r\n}\r\n```\r\n\r\n```bash\r\nsdustinh@sdustinh:~/github/app$ vendor/bin/phpunit --stop-on-failure\r\nPHPUnit 6.5.7 by Sebastian Bergmann and contributors.\r\n\r\nRuntime:       PHP 7.1.15-1+ubuntu16.04.1+deb.sury.org+2 with Xdebug 2.6.0\r\nConfiguration: /home/sdustinh/github/app/phpunit.xml\r\n\r\n/plugins/Users/Api/V1/tests/TestCase/Controller/ScopesControllerTest.php (line 70)\r\n########## DEBUG ##########\r\n'null'\r\n###########################\r\n```\r\n\r\nIt seems that a `'null'` string is being returned as the response instead of an empty string. I'm not sure if this is a failure in my code, the `Response` object, the assert method, or a combination.","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11826","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11826/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11826/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11826/events","html_url":"https://github.com/cakephp/cakephp/issues/11826","id":305325317,"number":11826,"title":"PagedResultSet","user":{"login":"xaphalanx","id":41106,"avatar_url":"https://avatars0.githubusercontent.com/u/41106?v=4","gravatar_id":"","url":"https://api.github.com/users/xaphalanx","html_url":"https://github.com/xaphalanx","followers_url":"https://api.github.com/users/xaphalanx/followers","following_url":"https://api.github.com/users/xaphalanx/following{/other_user}","gists_url":"https://api.github.com/users/xaphalanx/gists{/gist_id}","starred_url":"https://api.github.com/users/xaphalanx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xaphalanx/subscriptions","organizations_url":"https://api.github.com/users/xaphalanx/orgs","repos_url":"https://api.github.com/users/xaphalanx/repos","events_url":"https://api.github.com/users/xaphalanx/events{/privacy}","received_events_url":"https://api.github.com/users/xaphalanx/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-14T20:56:02Z","updated_at":"2018-03-14T21:03:52Z","closed_at":"2018-03-14T21:03:52Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [ ] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 4.x\r\n* Platform and Target: Not Relevant.\r\n\r\n### What you did\r\nI need to get a paged results but not in controller context, in a service layer context.\r\n\r\n### What happened\r\nI was writing a service layer object and needed to page results and I wanted total number of pages and other details currently stored in the paginator and passed to the view through the request object in the data/table layer. \r\n\r\n\r\n### What you expected to happen\r\nIt would be great to have a specialized ResultSet object returned, PagedResultSet, that had properties or methods that have page counts and so forth stored in them. I can then access them with out needing a Controller or a Component. PagedResultSet could also be used in the Paginator to pass along counts into the view from there.\r\n\r\nAll this means:  \r\n\r\n1. Updating the find  options to take a ResultSet className\r\n1. Paging would return a modified PagedResultSet\r\n1. Paginator would be updated to use the PagedResultSet\r\n\r\n\r\nP.S. Remember, an issue is not the place to ask questions. You can use [Stack Overflow](https://stackoverflow.com/questions/tagged/cakephp)\r\nfor that or join the #cakephp channel on irc.freenode.net, where we will be more\r\nthan happy to help answer your questions.\r\n\r\nBefore you open an issue, please check if a similar issue already exists or has been closed before.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11824","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11824/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11824/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11824/events","html_url":"https://github.com/cakephp/cakephp/issues/11824","id":305131198,"number":11824,"title":"View::extend() with plugin for element","user":{"login":"mirko-pagliai","id":293199,"avatar_url":"https://avatars3.githubusercontent.com/u/293199?v=4","gravatar_id":"","url":"https://api.github.com/users/mirko-pagliai","html_url":"https://github.com/mirko-pagliai","followers_url":"https://api.github.com/users/mirko-pagliai/followers","following_url":"https://api.github.com/users/mirko-pagliai/following{/other_user}","gists_url":"https://api.github.com/users/mirko-pagliai/gists{/gist_id}","starred_url":"https://api.github.com/users/mirko-pagliai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mirko-pagliai/subscriptions","organizations_url":"https://api.github.com/users/mirko-pagliai/orgs","repos_url":"https://api.github.com/users/mirko-pagliai/repos","events_url":"https://api.github.com/users/mirko-pagliai/events{/privacy}","received_events_url":"https://api.github.com/users/mirko-pagliai/received_events","type":"User","site_admin":false},"labels":[{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false},{"id":60505787,"url":"https://api.github.com/repos/cakephp/cakephp/labels/plugins","name":"plugins","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/140","html_url":"https://github.com/cakephp/cakephp/milestone/140","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/140/labels","id":2671072,"number":140,"title":"3.6.0","description":"New major features that are backwards compatible with 3.x. See the [roadmap](https://github.com/cakephp/cakephp/wiki/3.6-Roadmap) for more details.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":125,"closed_issues":264,"state":"open","created_at":"2017-07-31T11:30:05Z","updated_at":"2018-04-14T17:10:18Z","due_on":"2018-04-14T07:00:00Z","closed_at":null},"comments":9,"created_at":"2018-03-14T12:05:14Z","updated_at":"2018-03-19T10:31:30Z","closed_at":"2018-03-19T10:30:21Z","author_association":"CONTRIBUTOR","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5\r\n\r\n### What you did\r\nI have a plugin called `MeCms` with the common view `src/Template/Common/Element/userbar.ctp` and I want to extend this common view.\r\n\r\n### What happened\r\nIf I try to extend with this code:\r\n\r\n    $this->extend('MeCms.Common/Element/userbar');\r\n\r\nit looks for the view `src/Template/Plugin/MeCms/Element/Common/Element/userbar.ctp`.  \r\nThis already seems strange to me. Because it seems that the relative path is `Element/`.\r\n\r\nIf I try to extend with this code:\r\n\r\n    $this->extend('MeCms./Common/Element/userbar');\r\n\r\nit looks for the view `src/Template/Plugin/MeCms/Element//Common/Element/userbar.ctp` (note the double slash).  \r\nIn this case, it seems that Cake does not understand that the first slash indicates an absolute path (inside the `MeCms` plugin), but it appends it to the relative path.\r\n\r\nNote. If I do not specify the plugin at all, like this:\r\n\r\n    $this->extend('/Common/Element/userbar');\r\n\r\nit works. However in my case I need to specify the plugin.\r\n\r\nMoreover: as regards the `View::extend()` method, the [cookbook](https://book.cakephp.org/3.0/en/views.html#extending-views) does not contain explanations or examples regarding relative paths or plugin paths.\r\n\r\nIs it a bug or am I doing something wrong?","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11823","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11823/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11823/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11823/events","html_url":"https://github.com/cakephp/cakephp/issues/11823","id":305119524,"number":11823,"title":"3.5 content of text email is not included when sending email","user":{"login":"Yetispapa","id":15137276,"avatar_url":"https://avatars2.githubusercontent.com/u/15137276?v=4","gravatar_id":"","url":"https://api.github.com/users/Yetispapa","html_url":"https://github.com/Yetispapa","followers_url":"https://api.github.com/users/Yetispapa/followers","following_url":"https://api.github.com/users/Yetispapa/following{/other_user}","gists_url":"https://api.github.com/users/Yetispapa/gists{/gist_id}","starred_url":"https://api.github.com/users/Yetispapa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yetispapa/subscriptions","organizations_url":"https://api.github.com/users/Yetispapa/orgs","repos_url":"https://api.github.com/users/Yetispapa/repos","events_url":"https://api.github.com/users/Yetispapa/events{/privacy}","received_events_url":"https://api.github.com/users/Yetispapa/received_events","type":"User",
4666
"site_admin":false},"labels":[{"id":177038150,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Invalid","name":"Invalid","color":"e6e6e6","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/163","html_url":"https://github.com/cakephp/cakephp/milestone/163","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/163/labels","id":3158815,"number":163,"title":"3.5.14","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2018-03-04T01:59:26Z","updated_at":"2018-03-20T01:27:56Z","due_on":"2018-03-19T07:00:00Z","closed_at":"2018-03-20T01:27:56Z"},"comments":2,"created_at":"2018-03-14T11:25:46Z","updated_at":"2018-03-15T08:29:31Z","closed_at":"2018-03-14T14:59:28Z","author_association":"NONE","body":"This is a (multiple allowed):\r\n\r\n* [x] bug\r\n* [ ] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.13\r\n* Platform and Target: Apache/2.4.28 on Mac\r\n\r\n### What you did\r\nI want to send a multipart email. In order to do that I set the emailFormat to 'both'. Here the code how I send the email.\r\n\r\n```\r\n$email = new Email($this->_transport());\r\n$email->from([$this->_from => $this->_name])\r\n\t->template('myEmail')\t\r\n\t->helpers(['InlineCss'])\r\n\t->viewVars(['firstname' => 'Kirk'])\r\n        ->to($to)\r\n        ->subject($subject)\r\n\t->emailFormat('both')\r\n        ->send();\r\n```\r\n\r\nMy templates and layouts structure:\r\n\r\n## Templates:\r\n\r\n**src/Template/Email/html/myEmail.ctp**\r\n\r\n```\r\n<div class=\"content\">\r\n\t<h1>\r\n\t\t<?php echo htmlentities('Hello ' . $firstname); ?>\r\n\t</h1>\r\n</div>\r\n```\r\n\r\n**src/Template/Email/text/myEmail.ctp**\r\n\r\n`<?php echo htmlentities('Hello ' . $firstname); ?>`\r\n\r\n## Layouts:\r\n\r\n**src/Template/Api/V1/Layout/Email/html/default.ctp**\r\n\r\n```\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\">\r\n<html>\r\n<head>\r\n    <title><?= $this->fetch('title') ?></title>\r\n</head>\r\n<body>\r\n    <div class=\"main\">\r\n         <?= $this->fetch('content') ?>\r\n    </div>\r\n    <div class=\"footer\">\r\n         <?php echo htmlentities('Copywrite  2018 Name here'); ?>\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\n\r\n\r\n**src/Template/Api/V1/Layout/Email/text/default.ctp**\r\n\r\n```\r\n<?php\r\n\r\n$this->fetch('content');\r\n-----------\r\necho \"\\n\";\r\necho htmlentities('Copywrite  2018 Name here');\r\n\r\n?>\r\n```\r\n\r\nI send the email from a controller which is also in the V1 structure. \r\n`src/Controller/Api/V1/EmailController.php`\r\n\r\n### What happened\r\n\r\nUnfortunately the text email has not the content from the template included. So it's just the layout without the content of **src/Template/Email/text/myEmail.ctp**. So it would look like this:\r\n\r\n\r\n```\r\n -------\r\nCopywrite  2018 Name here\r\n```\r\n\r\n\r\nThe html email works as expected. Also when I try to switch to the emailFormat('text') it does not work. I digg into the Cakephp code and found out that on the following line he wipes out the content for the text email.\r\n\r\n**vendor/cakephp/cakephp/src/View/View.php (1164)**\r\n`$content = $this->_evaluate($viewFile, $data);`\r\n\r\nAlso I'm wondering why I don't have to add a structure for the templates like I did for the layout. I mean like **src/Template/Api/V1/Email/text/default.ctp**. But that's just a minor question cause the code is grabbing the right template.\r\n\r\n### What you expected to happen\r\nThe text email should behave like the html email does.\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11818","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11818/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11818/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11818/events","html_url":"https://github.com/cakephp/cakephp/issues/11818","id":304399635,"number":11818,"title":"Security: increased server load with XXE with internal references","user":{"login":"dorxy","id":9029712,"avatar_url":"https://avatars0.githubusercontent.com/u/9029712?v=4","gravatar_id":"","url":"https://api.github.com/users/dorxy","html_url":"https://github.com/dorxy","followers_url":"https://api.github.com/users/dorxy/followers","following_url":"https://api.github.com/users/dorxy/following{/other_user}","gists_url":"https://api.github.com/users/dorxy/gists{/gist_id}","starred_url":"https://api.github.com/users/dorxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dorxy/subscriptions","organizations_url":"https://api.github.com/users/dorxy/orgs","repos_url":"https://api.github.com/users/dorxy/repos","events_url":"https://api.github.com/users/dorxy/events{/privacy}","received_events_url":"https://api.github.com/users/dorxy/received_events","type":"User","site_admin":false},"labels":[{"id":60504544,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Defect","name":"Defect","color":"f7c6c7","default":false},{"id":60504144,"url":"https://api.github.com/repos/cakephp/cakephp/labels/Enhancement","name":"Enhancement","color":"bfe5bf","default":false},{"id":60506332,"url":"https://api.github.com/repos/cakephp/cakephp/labels/component","name":"component","color":"FFFFFF","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/164","html_url":"https://github.com/cakephp/cakephp/milestone/164","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/164/labels","id":3201474,"number":164,"title":"3.5.15","description":"Bugfixes for 3.5.x","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-03-20T01:27:24Z","updated_at":"2018-04-14T17:33:59Z","due_on":"2018-04-14T07:00:00Z","closed_at":"2018-04-14T17:33:59Z"},"comments":4,"created_at":"2018-03-12T14:42:04Z","updated_at":"2018-03-22T02:52:27Z","closed_at":"2018-03-22T02:52:26Z","author_association":"NONE","body":"This is a:\r\n* [x] bug\r\n* [x] enhancement\r\n* [ ] feature-discussion (RFC)\r\n\r\n* CakePHP Version: 3.5.12 #a6c47f15e2dfbb062fcc547d6eecd0a944dc8b17.\r\n* Platform and Target: nginx 1.10.3, MariaDB 10.0.31, PHP 7.0.22-0ubuntu0.16.04.1\r\n\r\n### Context\r\nOur application was PEN-tested and their requests containing the below XML example did not pass inspection.\r\n\r\n### What you did\r\nParse the following XML using `XML::build`:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE item [\r\n  <!ENTITY item \"item\">\r\n  <!ENTITY item1 \"&item;&item;&item;&item;&item;&item;\">\r\n  <!ENTITY item2 \"&item1;&item1;&item1;&item1;&item1;&item1;&item1;&item1;&item1;\">\r\n  <!ENTITY item3 \"&item2;&item2;&item2;&item2;&item2;&item2;&item2;&item2;&item2;\">\r\n  <!ENTITY item4 \"&item3;&item3;&item3;&item3;&item3;&item3;&item3;&item3;&item3;\">\r\n  <!ENTITY item5 \"&item4;&item4;&item4;&item4;&item4;&item4;&item4;&item4;&item4;\">\r\n  <!ENTITY item6 \"&item5;&item5;&item5;&item5;&item5;&item5;&item5;&item5;&item5;\">\r\n  <!ENTITY item7 \"&item6;&item6;&item6;&item6;&item6;&item6;&item6;&item6;&item6;\">\r\n  <!ENTITY item8 \"&item7;&item7;&item7;&item7;&item7;&item7;&item7;&item7;&item7;\">\r\n]>\r\n<item>\r\n  <description>&item8;</description>\r\n</item>\r\n```\r\n\r\n### What happened\r\nWhen interchanging the item in the <description> tag the memory used for parsing peaks depending on the index used. Using `&item8;` is very noticeable. On our production servers a request using this XML body takes 8 seconds to respond.\r\n\r\nThis is due to the following:\r\n- The RequestHandlerComponent uses `Xml::build` in its `convertXml` function with default options.\r\n- Default build options prevent entity expansion using `libxml_disable_entity_loader` but as mentioned in the PHP docs, this only handles loading of *external* entities.\r\n\r\n### What probably should happen\r\n- The default return type of `XML::_loadXml` is SimpleXML. There is no parameter to prevent SimpleXML from loading internal entity references, making it increase server load.\r\n- If I load the above example into a  `\\DOMDocument` object with the libxml entity loader disabled, it gives the following warning:\r\n```\r\nPHP Warning:  DOMDocument::loadXML(): Detected an entity reference loop in Entity, line: 1 in ~/Desktop/tst.php on line 5\r\n```\r\n- Loading of the XML remains fast using DOMDocument, there are however no childNodes present because of the warning given. In this case, DOMDocument should probably be preferred with regard to SimpleXML. \r\n\r\n### How did I temporarily solve this?\r\nI extended the `RequestHandlerComponent::convertXml` with the following:\r\n```php\r\npublic function convertXml($xml)\r\n{\r\n    try {\r\n        $xml = Xml::build($xml, ['readFile' => false, 'return' => 'domdocument']);\r\n        if ($xml->childNodes->length > 0) {\r\n            return Xml::toArray($xml);\r\n        }\r\n        return [];\r\n    } catch (XmlException $e) {\r\n        return [];\r\n    }\r\n}\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/cakephp/cakephp/issues/11817","repository_url":"https://api.github.com/repos/cakephp/cakephp","labels_url":"https://api.github.com/repos/cakephp/cakephp/issues/11817/labels{/name}","comments_url":"https://api.github.com/repos/cakephp/cakephp/issues/11817/comments","events_url":"https://api.github.com/repos/cakephp/cakephp/issues/11817/events","html_url":"https://github.com/cakephp/cakephp/issues/11817","id":304310060,"number":11817,"title":"3.6.0-beta2 - Deprecation warning displays incorrect method name","user":{"login":"sdustinh","id":2855100,"avatar_url":"https://avatars1.githubusercontent.com/u/2855100?v=4","gravatar_id":"","url":"https://api.github.com/users/sdustinh","html_url":"https://github.com/sdustinh","followers_url":"https://api.github.com/users/sdustinh/followers","following_url":"https://api.github.com/users/sdustinh/following{/other_user}","gists_url":"https://api.github.com/users/sdustinh/gists{/gist_id}","starred_url":"https://api.github.com/users/sdustinh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdustinh/subscriptions","organizations_url":"https://api.github.com/users/sdustinh/orgs","repos_url":"https://api.github.com/users/sdustinh/repos","events_url":"https://api.github.com/users/sdustinh/events{/privacy}","received_events_url":"https://api.github.com/users/sdustinh/received_events","type":"User","site_admin":false},"labels":[{"id":742268651,"url":"https://api.github.com/repos/cakephp/cakephp/labels/deprecations","name":"deprecations","color":"0e0566","default":false}],"state":"closed","locked":false,"assignee":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"assignees":[{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/cakephp/cakephp/milestones/140","html_url":"https://github.com/cakephp/cakephp/milestone/140","labels_url":"https://api.github.com/repos/cakephp/cakephp/milestones/140/labels","id":2671072,"number":140,"title":"3.6.0","description":"New major features that are backwards compatible with 3.x. See the [roadmap](https://github.com/cakephp/cakephp/wiki/3.6-Roadmap) for more details.","creator":{"login":"markstory","id":24086,"avatar_url":"https://avatars3.githubusercontent.com/u/24086?v=4","gravatar_id":"","url":"https://api.github.com/users/markstory","html_url":"https://github.com/markstory","followers_url":"https://api.github.com/users/markstory/followers","following_url":"https://api.github.com/users/markstory/following{/other_user}","gists_url":"https://api.github.com/users/markstory/gists{/gist_id}","starred_url":"https://api.github.com/users/markstory/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markstory/subscriptions","organizations_url":"https://api.github.com/users/markstory/orgs","repos_url":"https://api.github.com/users/markstory/repos","events_url":"https://api.github.com/users/markstory/events{/privacy}","received_events_url":"https://api.github.com/users/markstory/received_events","type":"User","site_admin":false},"open_issues":125,"closed_issues":264,"state":"open","created_at":"2017-07-31T11:30:05Z","updated_at":"2018-04-14T17:10:18Z","due_on":"2018-04-14T07:00:00Z","closed_at":null},"comments":2,"created_at":"2018-03-12T10:13:28Z","updated_at":"2018-03-13T20:03:34Z","closed_at":"2018-03-13T20:03:33Z","author_association":"CONTRIBUTOR","body":"Upgrading my apps and noticed this: https://github.com/cakephp/cakephp/blob/3.6.0-beta2/src/ORM/Table.php#L747","score":1.0}]}
0

