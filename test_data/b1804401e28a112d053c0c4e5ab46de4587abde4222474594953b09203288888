HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 14 Apr 2018 20:38:08 GMT
Link: <https://api.github.com/search/issues?q=repo%3Aslimphp%2FSlim+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Aslimphp%2FSlim+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D3AC:1489:1017DDA:253F256:5AD266AF
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 8
X-Ratelimit-Reset: 1523738338
X-Runtime-Rack: 0.367983
X-Xss-Protection: 1; mode=block

8000
{"total_count":1253,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/slimphp/Slim/issues/2424","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/events","html_url":"https://github.com/slimphp/Slim/issues/2424","id":312216102,"number":2424,"title":"Error handling with \"application/json\" not working","user":{"login":"odan","id":781074,"avatar_url":"https://avatars0.githubusercontent.com/u/781074?v=4","gravatar_id":"","url":"https://api.github.com/users/odan","html_url":"https://github.com/odan","followers_url":"https://api.github.com/users/odan/followers","following_url":"https://api.github.com/users/odan/following{/other_user}","gists_url":"https://api.github.com/users/odan/gists{/gist_id}","starred_url":"https://api.github.com/users/odan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odan/subscriptions","organizations_url":"https://api.github.com/users/odan/orgs","repos_url":"https://api.github.com/users/odan/repos","events_url":"https://api.github.com/users/odan/events{/privacy}","received_events_url":"https://api.github.com/users/odan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-07T15:25:34Z","updated_at":"2018-04-09T12:31:19Z","closed_at":"2018-04-09T12:30:30Z","author_association":"NONE","body":"* [ ] bug\r\n* [x] enhancement\r\n* [x] feature-discussion (RFC)\r\n\r\n* Slim Version: 3 (latest)\r\n* Platform and Target: All\r\n\r\n### What you did\r\nI try to make a Ajax call with Json payload. \r\nThe request header `Accept` is set to `application/json; charset=utf-8`.\r\n\r\nThe PHP application throws an exception. For example: `throw new RuntimeException('error');`\r\n\r\n### What happened\r\nThe response is a Slim standard HTML error page (Content-Type: `text/html`)\r\n\r\n### What you expected to happen\r\nThe response Content-Type: `application/json` or `application/json; charset=utf-8`\r\nand a Json payload with a `message` and `error` element.\r\n\r\n### What you've already tried\r\n\r\n* Set the request header `Accept` to `application/json+json; charset=utf-8`.\r\n  * It works, but it's not the correct (and standard) content type.\r\n* I found this [Issue 1781](https://github.com/slimphp/Slim/pull/1781)\r\n  * Problem: The suffixes syntax in RFC 6839 doesn't work for `application/json`.\r\n* I checked the source code of slim and found the \"Bug\" [here](https://github.com/slimphp/Slim/blob/3.x/Slim/Handlers/AbstractHandler.php#L50)\r\n\r\n### Do you want to address this issue?\r\n\r\nYes, I could do a PR.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2417","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/events","html_url":"https://github.com/slimphp/Slim/issues/2417","id":303276566,"number":2417,"title":"Prevent mysql column conversion to snake case?","user":{"login":"yossicadaner","id":326006,"avatar_url":"https://avatars1.githubusercontent.com/u/326006?v=4","gravatar_id":"","url":"https://api.github.com/users/yossicadaner","html_url":"https://github.com/yossicadaner","followers_url":"https://api.github.com/users/yossicadaner/followers","following_url":"https://api.github.com/users/yossicadaner/following{/other_user}","gists_url":"https://api.github.com/users/yossicadaner/gists{/gist_id}","starred_url":"https://api.github.com/users/yossicadaner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yossicadaner/subscriptions","organizations_url":"https://api.github.com/users/yossicadaner/orgs","repos_url":"https://api.github.com/users/yossicadaner/repos","events_url":"https://api.github.com/users/yossicadaner/events{/privacy}","received_events_url":"https://api.github.com/users/yossicadaner/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-07T22:02:54Z","updated_at":"2018-03-07T22:03:23Z","closed_at":"2018-03-07T22:03:23Z","author_association":"NONE","body":"BS\"D\r\n\r\nIs it possible to prevent column names from being converted to snake-case? I would like to use camel-case.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2413","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/events","html_url":"https://github.com/slimphp/Slim/issues/2413","id":301503930,"number":2413,"title":"Slim 3: Would a getBearerToken method be useful in the Slim\\Http\\Request class?","user":{"login":"RobDWaller","id":634080,"avatar_url":"https://avatars2.githubusercontent.com/u/634080?v=4","gravatar_id":"","url":"https://api.github.com/users/RobDWaller","html_url":"https://github.com/RobDWaller","followers_url":"https://api.github.com/users/RobDWaller/followers","following_url":"https://api.github.com/users/RobDWaller/following{/other_user}","gists_url":"https://api.github.com/users/RobDWaller/gists{/gist_id}","starred_url":"https://api.github.com/users/RobDWaller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobDWaller/subscriptions","organizations_url":"https://api.github.com/users/RobDWaller/orgs","repos_url":"https://api.github.com/users/RobDWaller/repos","events_url":"https://api.github.com/users/RobDWaller/events{/privacy}","received_events_url":"https://api.github.com/users/RobDWaller/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-01T18:05:11Z","updated_at":"2018-03-09T13:46:48Z","closed_at":"2018-03-09T13:46:40Z","author_association":"NONE","body":"I've recently been using Slim to do some API and authorisation research and one of the issues I've come across is accessing authorisation attribute values from the header, for example when using JWTs.\r\n\r\nUnless I've missed something I don't believe you can access authorisation attribute values like bearer tokens directly in Slim 3? You have to write some custom code in your own business logic. I assume that most Slim users would find direct access to authorisation attributes useful?\r\n\r\nAs such I've written some code to achieve this level of functionality, you can see the compare here...\r\nhttps://github.com/slimphp/Slim/compare/3.x...RobDWaller:request-bearer-token-additions\r\n\r\nBefore I bother submitting a pull request though I'd like feedback on whether it's required, whether it's useful, and whether it's appropriate for the Slim framework as I'm acutely aware that I'm new to it and therefore may not fully grasp the underlying principles.\r\n\r\nI'm aware that this isn't part of the PSR-7 standard, but it may be useful and other frameworks offer similar functionality. I've also attempted to align my code style with the Slim style, please let me know if you have any thoughts on this also. \r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2412","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/events","html_url":"https://github.com/slimphp/Slim/issues/2412","id":301483823,"number":2412,"title":"Slim 2 - too long lines.","user":{"login":"ndobromirov","id":1191506,"avatar_url":"https://avatars3.githubusercontent.com/u/1191506?v=4","gravatar_id":"","url":"https://api.github.com/users/ndobromirov","html_url":"https://github.com/ndobromirov","followers_url":"https://api.github.com/users/ndobromirov/followers","following_url":"https://api.github.com/users/ndobromirov/following{/other_user}","gists_url":"https://api.github.com/users/ndobromirov/gists{/gist_id}","starred_url":"https://api.github.com/users/ndobromirov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ndobromirov/subscriptions","organizations_url":"https://api.github.com/users/ndobromirov/orgs","repos_url":"https://api.github.com/users/ndobromirov/repos","events_url":"https://api.github.com/users/ndobromirov/events{/privacy}","received_events_url":"https://api.github.com/users/ndobromirov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-01T17:02:21Z","updated_at":"2018-03-02T19:30:03Z","closed_at":"2018-03-02T19:30:03Z","author_association":"NONE","body":"In the dependency container get method, the expression `$this->data[$this->normalizeKey($key)]` is evaluated 2 or 3 times when the key is present. Consider having a temporary variable for it to spare PHP the function calls and multiple array de-referencing.\r\n\r\n```php\r\n    /**\r\n     * Get data value with key\r\n     * @param  string $key     The data key\r\n     * @param  mixed  $default The value to return if data key does not exist\r\n     * @return mixed           The data value, or the default value\r\n     */\r\n    public function get($key, $default = null)\r\n    {\r\n        if ($this->has($key)) {\r\n            $isInvokable = is_object($this->data[$this->normalizeKey($key)]) && method_exists($this->data[$this->normalizeKey($key)], '__invoke');\r\n            return $isInvokable ? $this->data[$this->normalizeKey($key)]($this) : $this->data[$this->normalizeKey($key)];\r\n        }\r\n        return $default;\r\n    }\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2410","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/events","html_url":"https://github.com/slimphp/Slim/issues/2410","id":300952075,"number":2410,"title":"Should Slim 4 switch to Symfony 4 Router?","user":{"login":"l0gicgate","id":6510935,"avatar_url":"https://avatars2.githubusercontent.com/u/6510935?v=4","gravatar_id":"","url":"https://api.github.com/users/l0gicgate","html_url":"https://github.com/l0gicgate","followers_url":"https://api.github.com/users/l0gicgate/followers","following_url":"https://api.github.com/users/l0gicgate/following{/other_user}","gists_url":"https://api.github.com/users/l0gicgate/gists{/gist_id}","starred_url":"https://api.github.com/users/l0gicgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0gicgate/subscriptions","organizations_url":"https://api.github.com/users/l0gicgate/orgs","repos_url":"https://api.github.com/users/l0gicgate/repos","events_url":"https://api.github.com/users/l0gicgate/events{/privacy}","received_events_url":"https://api.github.com/users/l0gicgate/received_events","type":"User","site_admin":false},"labels":[{"id":372378249,"url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%204","name":"Slim 4","color":"fbca04","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":28,"created_at":"2018-02-28T09:35:50Z","updated_at":"2018-03-13T21:32:03Z","closed_at":"2018-03-13T21:32:03Z","author_association":"NONE","body":"There are some drawbacks with the current routing functionality provided by **Nikic/FastRoute** as discussed in #2409. Unfortunately the proposed fix would most likely degrade performance since it has to iterate over every character in the route patterns.\r\n\r\n**Symfony 4 Router** is advertised as being the fastest out there and provides unicode capabilities as of **3.2**. It is able to achieve this performance by compiling route patterns and using a regex tree which is much faster than the proposed solution in #2409.\r\n\r\n**Nikic/FastRoute** has said that it would not provide support at the moment for this issue.\r\n\r\nIn the hypothetical situation that **Symfony 4 Router** would support all of the route patterns and features in **Slim 3** and hopefully a significant performance boost as well as unicode capabilities, would you be in favor of switching for **Slim 4**?","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2403","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/events","html_url":"https://github.com/slimphp/Slim/issues/2403","id":298445177,"number":2403,"title":"Slim 3.X middleware order verification","user":{"login":"conrad10781","id":238705,"avatar_url":"https://avatars0.githubusercontent.com/u/238705?v=4","gravatar_id":"","url":"https://api.github.com/users/conrad10781","html_url":"https://github.com/conrad10781","followers_url":"https://api.github.com/users/conrad10781/followers","following_url":"https://api.github.com/users/conrad10781/following{/other_user}","gists_url":"https://api.github.com/users/conrad10781/gists{/gist_id}","starred_url":"https://api.github.com/users/conrad10781/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conrad10781/subscriptions","organizations_url":"https://api.github.com/users/conrad10781/orgs","repos_url":"https://api.github.com/users/conrad10781/repos","events_url":"https://api.github.com/users/conrad10781/events{/privacy}","received_events_url":"https://api.github.com/users/conrad10781/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2018-02-20T01:24:37Z","updated_at":"2018-02-28T15:05:06Z","closed_at":"2018-02-28T14:25:02Z","author_association":"NONE","body":"I've done my best to research the documentation or another issue that clarifies this, and I apologize if there is something that provides clarity to this.\r\n\r\nUsing the LIFO ( last in first out ) approach, my thought would be when executing the following:\r\n\r\n```php\r\nclass Middleware_Test\r\n{\r\n    protected $_name;\r\n    \r\n    public function __construct($name)\r\n    {\r\n        $this->_name = $name;\r\n    }\r\n    \r\n    public function __invoke(\\Slim\\Http\\Request $request, \\Slim\\Http\\Response $response, $next)\r\n    {\r\n        print \"\\nHELLO FROM {$this->_name} Middleware\";\r\n        \r\n        $response = $next($request, $response);\r\n        \r\n        return $response;\r\n    }\r\n}\r\n\r\nrequire \"../vendor/autoload.php\";\r\n\r\n$app = new \\Slim\\App();\r\n\r\n$app->add(new Middleware_Test(\"Middleware1\"));\r\n$app->add(new Middleware_Test(\"Middleware2\"));\r\n$app->add(new Middleware_Test(\"Middleware3\"));\r\n\r\n$app->group(\"/some/path\", function ()  {\r\n    $this->get(\"/{testing}\", function ($request, $response, $args) {\r\n        return $response->write(\"Middleware Test Response\");\r\n    })->add(new Middleware_Test(\"Middleware6\"))->add(new Middleware_Test(\"Middleware7\"));\r\n})->add(new Middleware_Test(\"Middleware4\"))->add(new Middleware_Test(\"Middleware5\"));\r\n    \r\n$app->run();\r\n\r\n\r\n\r\n```\r\n\r\nThat the order of execution would be:\r\n\r\n```\r\nHELLO FROM Middleware7 Middleware\r\nHELLO FROM Middleware6 Middleware\r\nHELLO FROM Middleware5 Middleware\r\nHELLO FROM Middleware4 Middleware\r\nHELLO FROM Middleware3 Middleware\r\nHELLO FROM Middleware2 Middleware\r\nHELLO FROM Middleware1 Middleware\r\n```\r\n\r\nThe logic being that the sequence is following what I believe to be the declaration and ultimately the application's logic. \r\n\r\nMiddleware1/Middleware2 are added before any routes are set, before any routing logic was processed.\r\n\r\nThen, as FastRoute matches the group the groups Middleware is added, and finally the matching route's middleware inside the group gets added.\r\n\r\nInstead the order is:\r\n\r\n```\r\nHELLO FROM Middleware3 Middleware\r\nHELLO FROM Middleware2 Middleware\r\nHELLO FROM Middleware1 Middleware\r\nHELLO FROM Middleware5 Middleware\r\nHELLO FROM Middleware4 Middleware\r\nHELLO FROM Middleware7 Middleware\r\nHELLO FROM Middleware6 Middleware\r\n```\r\n\r\nI'm having some difficulty following the logic of the order. It's the LIFO of the application, then the group specific LIFO ( if applicable ), then the route specific LIFO. \r\n\r\nI could /possibly/ see if the order was 5,4,7,6,3,2,1 that the order of the group and specific route were just swapped, but still ahead of the application. However with the application, group and route all seemingly out of order from their declaration order, I'm a bit confused.\r\n\r\nProvided this is expected, can someone provide the explanation on this order of execution?\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2402","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/events","html_url":"https://github.com/slimphp/Slim/issues/2402","id":298431374,"number":2402,"title":"[Questions] Slim 4","user":{"login":"RyanNerd","id":10543911,"avatar_url":"https://avatars2.githubusercontent.com/u/10543911?v=4","gravatar_id":"","url":"https://api.github.com/users/RyanNerd","html_url":"https://github.com/RyanNerd","followers_url":"https://api.github.com/users/RyanNerd/followers","following_url":"https://api.github.com/users/RyanNerd/following{/other_user}","gists_url":"https://api.github.com/users/RyanNerd/gists{/gist_id}","starred_url":"https://api.github.com/users/RyanNerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyanNerd/subscriptions","organizations_url":"https://api.github.com/users/RyanNerd/orgs","repos_url":"https://api.github.com/users/RyanNerd/repos","events_url":"https://api.github.com/users/RyanNerd/events{/privacy}","received_events_url":"https://api.github.com/users/RyanNerd/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-02-19T23:54:30Z","updated_at":"2018-02-21T06:34:33Z","closed_at":"2018-02-21T06:34:33Z","author_association":"NONE","body":"1) Is the current 4.x branch in a _working_ state? (Can i create a simple hello world skeleton app and it will work?)\r\n2) Is Slim 4 going to continue to use Pimple, or switching to PHP-DI, or dropping DI internally? (The reason I ask is that I use `php-di/slim-bridge` exclusively in all my projects that leverage Slim. I also have made contributions to `slim-bridge` and would like to _keep up_ with any changes that may be needed for 4.x.)\r\n3) I've looked through issues marked as _Slim 4_, but haven't found any I feel qualified to help with. Are there any issues for 4.x that need attention but are not posted to issues that I could assist with?\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2401","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/events","html_url":"https://github.com/slimphp/Slim/issues/2401","id":298397979,"number":2401,"title":"README.md has two broken links","user":{"login":"RyanNerd","id":10543911,"avatar_url":"https://avatars2.githubusercontent.com/u/10543911?v=4","gravatar_id":"","url":"https://api.github.com/users/RyanNerd","html_url":"https://github.com/RyanNerd","followers_url":"https://api.github.com/users/RyanNerd/followers","following_url":"https://api.github.com/users/RyanNerd/following{/other_user}","gists_url":"https://api.github.com/users/RyanNerd/gists{/gist_id}","starred_url":"https://api.github.com/users/RyanNerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyanNerd/subscriptions","organizations_url":"https://api.github.com/users/RyanNerd/orgs","repos_url":"https://api.github.com/users/RyanNerd/repos","events_url":"https://api.github.com/users/RyanNerd/events{/privacy}","received_events_url":"https://api.github.com/users/RyanNerd/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-19T20:51:50Z","updated_at":"2018-02-23T20:24:33Z","closed_at":"2018-02-23T20:24:33Z","author_association":"NONE","body":"The pugx.org domain these stats are coming from may be down:\r\n\r\n```\r\n[![Total Downloads](https://poser.pugx.org/slim/slim/downloads)](https://packagist.org/packages/slim/slim)\r\n[![License](https://poser.pugx.org/slim/slim/license)](https://packagist.org/packages/slim/slim)\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2399","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/events","html_url":"https://github.com/slimphp/Slim/issues/2399","id":297712381,"number":2399,"title":"Custom Dispatcher Implementation for 3.x/4.x","user":{"login":"l0gicgate","id":6510935,"avatar_url":"https://avatars2.githubusercontent.com/u/6510935?v=4","gravatar_id":"","url":"https://api.github.com/users/l0gicgate","html_url":"https://github.com/l0gicgate","followers_url":"https://api.github.com/users/l0gicgate/followers","following_url":"https://api.github.com/users/l0gicgate/following{/other_user}","gists_url":"https://api.github.com/users/l0gicgate/gists{/gist_id}","starred_url":"https://api.github.com/users/l0gicgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0gicgate/subscriptions","organizations_url":"https://api.github.com/users/l0gicgate/orgs","repos_url":"https://api.github.com/users/l0gicgate/repos","events_url":"https://api.github.com/users/l0gicgate/events{/privacy}","received_events_url":"https://api.github.com/users/l0gicgate/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-16T08:36:35Z","updated_at":"2018-02-23T22:28:19Z","closed_at":"2018-02-23T22:28:19Z","author_association":"NONE","body":"As discussed on Slack, there are a few issues with the way `FastRoute\\Dispatcher` returns information after a route has been dispatched.\r\n\r\n**Issues**\r\n- `FastRoute\\Dispatcher::dispatch()` returns an array with an inconsistent structure\r\n- It only appends allowed methods to the return value when no allowed methods have been found on the dispatched route.\r\n\r\n**Solution**\r\nAs discussed, I proposed that we implement our own dispatcher based on the logic found in  `FastRoute\\Dispatcher\\GroupCountBased`. Our dispatcher would return a `DispatcherResults` object which would have the following methods:\r\n- `::getStatus()` which would return `Dispatcher::FOUND`, `Dispatcher::NOT_ALLOWED` or `Dispatcher::NOT_FOUND`\r\n- `::getAllowedMethods()` which would return the allowed methods for dispatched route. This would be done dynamically as it has to loop through all the routes in order to compute the allowed methods. This is the exact reason why at the moment it is only done when the `Dispatcher::NOT_ALLOWED` status is being returned. This way, we offset the overhead on the end-user when they call this method.\r\n- `::getHandler()` when the route is found, this is the way we get the handler (callable) associated with the found route.\r\n\r\n**Implementation**\r\n@akrabat mentioned that we could implement this in `3.x` and append the `DispatcherResults` object generated to a request attribute `dispatcherResults` or `dispatchResult` and consequently phase out `routeInfo` on `4.x` which is currently being appended while routing is done.\r\n\r\n**Questions**\r\n- Are you in favor of this implementation?\r\n- Should we implement it in `3.x` and phase out `routeInfo` in `4.x`\r\n- Should the new attribute be called `dispatchResult` or `dispatcherResults`\r\n- Should the object returned by our dispatcher be `DispatcherResults` or `DispatchResults` or something else.\r\n\r\n**Status**\r\n- Proof of concept of custom Dispatcher can be seen [here](https://gist.github.com/l0gicgate/b47f084f7180ca119e06cc4fc55ee99b)\r\n- Need to finalize discussion","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2393","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/events","html_url":"https://github.com/slimphp/Slim/issues/2393","id":295715041,"number":2393,"title":"Difference between displayErrorDetails and printing to error log","user":{"login":"edudobay","id":4432091,"avatar_url":"https://avatars3.githubusercontent.com/u/4432091?v=4","gravatar_id":"","url":"https://api.github.com/users/edudobay","html_url":"https://github.com/edudobay","followers_url":"https://api.github.com/users/edudobay/followers","following_url":"https://api.github.com/users/edudobay/following{/other_user}","gists_url":"https://api.github.com/users/edudobay/gists{/gist_id}","starred_url":"https://api.github.com/users/edudobay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edudobay/subscriptions","organizations_url":"https://api.github.com/users/edudobay/orgs","repos_url":"https://api.github.com/users/edudobay/repos","events_url":"https://api.github.com/users/edudobay/events{/privacy}","received_events_url":"https://api.github.com/users/edudobay/received_events","type":"User","site_admin":false},"labels":[{"id":372378249,"url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%204","name":"Slim 4","color":"fbca04","default":false},{"id":51488,"url":"https://api.github.com/repos/slimphp/Slim/labels/new%20feature","name":"new feature","color":"3cab43","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-02-09T00:32:00Z","updated_at":"2018-03-15T04:04:29Z","closed_at":"2018-03-15T04:04:29Z","author_association":"NONE","body":"Hi! I was configuring error reporting for an application and started to wonder about the `displayErrorDetails` setting: why is displaying errors to the client coupled to *not showing them on the log*? There are use cases during development where I might want to display the errors to the client but also have them at the log (e.g. if the client may be a mobile app or another application which might not give me a chance to look at the full response body).\r\n\r\nOverall, it seems to me that switching displaying of error details and printing to the log are separate concepts and should be independent settings. Does this make sense to implement? Of course Slim is not a logging framework and the implementation for this should be kept simple. I would be happy to contribute a PR for this!","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2392","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/events","html_url":"https://github.com/slimphp/Slim/issues/2392","id":295632143,"number":2392,"title":"Dependency Container Initializes at every request","user":{"login":"oakbani","id":14175871,"avatar_url":"https://avatars1.githubusercontent.com/u/14175871?v=4","gravatar_id":"","url":"https://api.github.com/users/oakbani","html_url":"https://github.com/oakbani","followers_url":"https://api.github.com/users/oakbani/followers","following_url":"https://api.github.com/users/oakbani/following{/other_user}","gists_url":"https://api.github.com/users/oakbani/gists{/gist_id}","starred_url":"https://api.github.com/users/oakbani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oakbani/subscriptions","organizations_url":"https://api.github.com/users/oakbani/orgs","repos_url":"https://api.github.com/users/oakbani/repos","events_url":"https://api.github.com/users/oakbani/events{/privacy}","received_events_url":"https://api.github.com/users/oakbani/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-08T19:13:45Z","updated_at":"2018-02-28T14:19:14Z","closed_at":"2018-02-28T14:19:08Z","author_association":"NONE","body":"Slim docs say that container is initialized once and is provided where it's needed. Is this once in the application lifecycle or the request response cycle? \r\nI have to create a custom library object which I add as a service to the container.  The object is initialized by a JSON file that is downloaded from a http address. The problem that I am facing is that on every single request the datafile is downloaded and object is initialized again. This makes the app very slow. I obseeve similar behavior with any other controller that I register as a service. How do I solve this? I want some sort of static persistence till the server stops","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2391","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/events","html_url":"https://github.com/slimphp/Slim/issues/2391","id":294166333,"number":2391,"title":"Slim always removes port from Host: header","user":{"login":"garnold","id":83754,"avatar_url":"https://avatars0.githubusercontent.com/u/83754?v=4","gravatar_id":"","url":"https://api.github.com/users/garnold","html_url":"https://github.com/garnold","followers_url":"https://api.github.com/users/garnold/followers","following_url":"https://api.github.com/users/garnold/following{/other_user}","gists_url":"https://api.github.com/users/garnold/gists{/gist_id}","starred_url":"https://api.github.com/users/garnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garnold/subscriptions","organizations_url":"https://api.github.com/users/garnold/orgs","repos_url":"https://api.github.com/users/garnold/repos","events_url":"https://api.github.com/users/garnold/events{/privacy}","received_events_url":"https://api.github.com/users/garnold/received_events","type":"User","site_admin":false},"labels":[{"id":340608415,"url":"https://api.github.com/repos/slimphp/Slim/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true},{"id":279496120,"url":"https://a
8000
pi.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-04T03:27:26Z","updated_at":"2018-04-14T09:06:39Z","closed_at":"2018-04-14T09:06:39Z","author_association":"NONE","body":"It appears that Slim is always overwriting the `Host:` header and dropping the port. [I believe the `||` should be an `&&` here](https://github.com/slimphp/Slim/blob/3.x/Slim/Http/Request.php#L200).","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2390","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/events","html_url":"https://github.com/slimphp/Slim/issues/2390","id":294034618,"number":2390,"title":"Unexpected: 404 Not Found response does not trigger notFoundHandler","user":{"login":"garnold","id":83754,"avatar_url":"https://avatars0.githubusercontent.com/u/83754?v=4","gravatar_id":"","url":"https://api.github.com/users/garnold","html_url":"https://github.com/garnold","followers_url":"https://api.github.com/users/garnold/followers","following_url":"https://api.github.com/users/garnold/following{/other_user}","gists_url":"https://api.github.com/users/garnold/gists{/gist_id}","starred_url":"https://api.github.com/users/garnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garnold/subscriptions","organizations_url":"https://api.github.com/users/garnold/orgs","repos_url":"https://api.github.com/users/garnold/repos","events_url":"https://api.github.com/users/garnold/events{/privacy}","received_events_url":"https://api.github.com/users/garnold/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-02T21:52:14Z","updated_at":"2018-02-28T14:18:30Z","closed_at":"2018-02-28T14:18:23Z","author_association":"NONE","body":"Hello,\r\n\r\nI incorrectly assumed that returning `$response->withStatus(404)` from our controllers would trigger our configured `notFoundHandler`, but that doesn't appear to be the case. Should we instead be throwing `NotFoundException` from our controllers?\r\n\r\nThanks,\r\nGeoff.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2389","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/events","html_url":"https://github.com/slimphp/Slim/issues/2389","id":292711683,"number":2389,"title":"how to use it with the swoole?","user":{"login":"salamander-mh","id":16663435,"avatar_url":"https://avatars3.githubusercontent.com/u/16663435?v=4","gravatar_id":"","url":"https://api.github.com/users/salamander-mh","html_url":"https://github.com/salamander-mh","followers_url":"https://api.github.com/users/salamander-mh/followers","following_url":"https://api.github.com/users/salamander-mh/following{/other_user}","gists_url":"https://api.github.com/users/salamander-mh/gists{/gist_id}","starred_url":"https://api.github.com/users/salamander-mh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/salamander-mh/subscriptions","organizations_url":"https://api.github.com/users/salamander-mh/orgs","repos_url":"https://api.github.com/users/salamander-mh/repos","events_url":"https://api.github.com/users/salamander-mh/events{/privacy}","received_events_url":"https://api.github.com/users/salamander-mh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-01-30T09:35:32Z","updated_at":"2018-02-19T11:51:41Z","closed_at":"2018-02-19T11:51:41Z","author_association":"NONE","body":"I have read the source code, the request will get data the the environment:\r\n```\r\nif (!isset($container['environment'])) {\r\n    /**\r\n     * This service MUST return a shared instance\r\n     * of \\Slim\\Interfaces\\Http\\EnvironmentInterface.\r\n     *\r\n     * @return EnvironmentInterface\r\n     */\r\n    $container['environment'] = function () {\r\n        return new Environment($_SERVER);\r\n    };\r\n}\r\n```\r\nso, I should add my custom `environment` dependency??\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2383","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/events","html_url":"https://github.com/slimphp/Slim/issues/2383","id":287933280,"number":2383,"title":"Case insensitive routes v3","user":{"login":"AmirHosseinKarimi","id":17345129,"avatar_url":"https://avatars1.githubusercontent.com/u/17345129?v=4","gravatar_id":"","url":"https://api.github.com/users/AmirHosseinKarimi","html_url":"https://github.com/AmirHosseinKarimi","followers_url":"https://api.github.com/users/AmirHosseinKarimi/followers","following_url":"https://api.github.com/users/AmirHosseinKarimi/following{/other_user}","gists_url":"https://api.github.com/users/AmirHosseinKarimi/gists{/gist_id}","starred_url":"https://api.github.com/users/AmirHosseinKarimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmirHosseinKarimi/subscriptions","organizations_url":"https://api.github.com/users/AmirHosseinKarimi/orgs","repos_url":"https://api.github.com/users/AmirHosseinKarimi/repos","events_url":"https://api.github.com/users/AmirHosseinKarimi/events{/privacy}","received_events_url":"https://api.github.com/users/AmirHosseinKarimi/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-11T21:39:50Z","updated_at":"2018-01-25T18:44:32Z","closed_at":"2018-01-25T18:44:32Z","author_association":"NONE","body":"Hi guys.\r\nI completely read #1449 this issue and test ideas but does not work for me.\r\nI need case insensitive route but does not change place holders parameters.\r\nI try to strtolower uri but it changes place holders value and its not good!\r\nAnyone can help me?!","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2382","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2382/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2382/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2382/events","html_url":"https://github.com/slimphp/Slim/issues/2382","id":287682381,"number":2382,"title":"Proxy","user":{"login":"mrceperka","id":22822651,"avatar_url":"https://avatars0.githubusercontent.com/u/22822651?v=4","gravatar_id":"","url":"https://api.github.com/users/mrceperka","html_url":"https://github.com/mrceperka","followers_url":"https://api.github.com/users/mrceperka/followers","following_url":"https://api.github.com/users/mrceperka/following{/other_user}","gists_url":"https://api.github.com/users/mrceperka/gists{/gist_id}","starred_url":"https://api.github.com/users/mrceperka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrceperka/subscriptions","organizations_url":"https://api.github.com/users/mrceperka/orgs","repos_url":"https://api.github.com/users/mrceperka/repos","events_url":"https://api.github.com/users/mrceperka/events{/privacy}","received_events_url":"https://api.github.com/users/mrceperka/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-11T06:59:49Z","updated_at":"2018-01-15T10:27:44Z","closed_at":"2018-01-15T10:27:44Z","author_association":"NONE","body":"Hi,\r\nI am doing some kind of proxy with **Slim**.\r\n\r\nI was hoping, **that I can process request with the app**, but unfortunately I am always **getting 404** and only way I've managed this **to work was with Guzzle**. I do not like solution with guzzle, because it creates an additional request to the server.\r\n\r\nDo you have any idea, why this approach does not work?\r\n\r\n- Should I create a whole new request and not just replacing URI, which is used for routing?\r\n\r\n```php\r\n<?php declare(strict_types = 1);\r\nclass ApiProxy\r\n{\r\n        //....\r\n\tpublic function __invoke(Request $request, Response $response)\r\n\t{\r\n\t\t$uriString = $request->getQueryParam('uri');\r\n\t\tif ($uriString === null) {\r\n\t\t\treturn $response->withErrorJson(['uri_required' => 'uri param missing in query']);\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t$cred = new OAuth2ClientCredentials($this->clientId, $this->clientSecret);\r\n\t\t\t$ssoResponse = $this->ssoClient->obtainOAuth2Token($cred);\r\n\t\t\tif ($ssoResponse->getStatusCode() === 200) {\r\n\t\t\t\t$uri = Uri::createFromString($uriString);\r\n\t\t\t\t$uriRequest = $request->withUri($uri);\r\n\r\n\t\t\t\t// IMPORTANT PART IS HERE\r\n\t\t\t\t// this is what I want but it does not work\r\n                                // this gives me always 404\r\n\t\t\t\treturn $this->app->process($uriRequest, $response);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn $response->withStatus(403);\r\n\t\t} catch (\\InvalidArgumentException $e) {\r\n\t\t\treturn $response->withErrorJson(['uri_error' => $e->getMessage()]);\r\n\t\t}\r\n\t\t\r\n\t\treturn $response->withStatus(500);\r\n\t}\r\n}\r\n\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2380","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2380/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2380/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2380/events","html_url":"https://github.com/slimphp/Slim/issues/2380","id":287495399,"number":2380,"title":"I am finding slim framework expert","user":{"login":"xiaohan20","id":18366272,"avatar_url":"https://avatars1.githubusercontent.com/u/18366272?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohan20","html_url":"https://github.com/xiaohan20","followers_url":"https://api.github.com/users/xiaohan20/followers","following_url":"https://api.github.com/users/xiaohan20/following{/other_user}","gists_url":"https://api.github.com/users/xiaohan20/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohan20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohan20/subscriptions","organizations_url":"https://api.github.com/users/xiaohan20/orgs","repos_url":"https://api.github.com/users/xiaohan20/repos","events_url":"https://api.github.com/users/xiaohan20/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohan20/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-10T16:27:16Z","updated_at":"2018-01-10T19:23:42Z","closed_at":"2018-01-10T19:23:42Z","author_association":"NONE","body":"My client site was developed using slim framework.\r\nThere are some problems in site so he wants to update site.\r\nI need slim framework expert.\r\nif there is anyone who has interest in my project, then please feel free to contact me.\r\nmy email is saeedmohamed451@yahoo.com \r\nthank you","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2378","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2378/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2378/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2378/events","html_url":"https://github.com/slimphp/Slim/issues/2378","id":285425186,"number":2378,"title":"getQueryParams() and duplicate fields","user":{"login":"kdubuc","id":895661,"avatar_url":"https://avatars3.githubusercontent.com/u/895661?v=4","gravatar_id":"","url":"https://api.github.com/users/kdubuc","html_url":"https://github.com/kdubuc","followers_url":"https://api.github.com/users/kdubuc/followers","following_url":"https://api.github.com/users/kdubuc/following{/other_user}","gists_url":"https://api.github.com/users/kdubuc/gists{/gist_id}","starred_url":"https://api.github.com/users/kdubuc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdubuc/subscriptions","organizations_url":"https://api.github.com/users/kdubuc/orgs","repos_url":"https://api.github.com/users/kdubuc/repos","events_url":"https://api.github.com/users/kdubuc/events{/privacy}","received_events_url":"https://api.github.com/users/kdubuc/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-01-02T13:06:24Z","updated_at":"2018-01-03T09:03:17Z","closed_at":"2018-01-03T09:03:17Z","author_association":"NONE","body":"If multiple fields of the same name exist in a query string, getQueryParams() silently overwrites them (because of parse_str()) :\r\n\r\n```\r\nGET /api/users?id=1&id=2\r\n```\r\nGive this array :\r\n```php\r\n[\r\n  \"id\" => \"2\"\r\n]\r\n```\r\n\r\nThe first id is missing.\r\n\r\nA patch to handle this case can be interesting ? (for 3.X and 4.x because slim-http contains the same code) ?\r\n\r\nEDIT : Oh, and best wishes to all for 2018 ! 🎄 ","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2377","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2377/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2377/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2377/events","html_url":"https://github.com/slimphp/Slim/issues/2377","id":285099409,"number":2377,"title":"Changing Uri works but very wierd","user":{"login":"piernik","id":420691,"avatar_url":"https://avatars1.githubusercontent.com/u/420691?v=4","gravatar_id":"","url":"https://api.github.com/users/piernik","html_url":"https://github.com/piernik","followers_url":"https://api.github.com/users/piernik/followers","following_url":"https://api.github.com/users/piernik/following{/other_user}","gists_url":"https://api.github.com/users/piernik/gists{/gist_id}","starred_url":"https://api.github.com/users/piernik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piernik/subscriptions","organizations_url":"https://api.github.com/users/piernik/orgs","repos_url":"https://api.github.com/users/piernik/repos","events_url":"https://api.github.com/users/piernik/events{/privacy}","received_events_url":"https://api.github.com/users/piernik/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-12-29T14:10:22Z","updated_at":"2018-01-03T15:45:53Z","closed_at":"2018-01-03T15:45:53Z","author_association":"NONE","body":"I have adresses with version number like `https://api.infirma.pl/2.6.0/version`.\r\nI have middleware that strips that version number:\r\n```\r\n$app->add(function (Request $request, Response $response, callable $next) {\r\n    $uri = $request->getUri();\r\n    $path = $uri->getPath();\r\n    $version = file_get_contents(__DIR__ . '/../../VERSION.md');\r\n    if (substr($path, 0, strlen($version) + 1) === '/' . $version) {\r\n        $uri = $uri->withPath(substr($path, strlen($version) + 1));\r\n\r\n//        echo ' ';\r\n\r\n        return $next($request->withUri($uri), $response);\r\n    }\r\n\r\n    return $next($request, $response);\r\n});\r\n```\r\n\r\nWith `echo ' ';` code works. But when I comment it in request stops at 'OPTION' method.\r\nI have no idea  how to fix it.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2376","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2376/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2376/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2376/events","html_url":"https://github.com/slimphp/Slim/issues/2376","id":285094245,"number":2376,"title":"Changing status without effect","user":{"login":"piernik","id":420691,"avatar_url":"https://avatars1.githubusercontent.com/u/420691?v=4","gravatar_id":"","url":"https://api.github.com/users/piernik","html_url":"https://github.com/piernik","followers_url":"https://api.github.com/users/piernik/followers","following_url":"https://api.github.com/users/piernik/following{/other_user}","gists_url":"https://api.github.com/users/piernik/gists{/gist_id}","starred_url":"https://api.github.com/users/piernik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piernik/subscriptions","organizations_url":"https://api.github.com/users/piernik/orgs","repos_url":"https://api.github.com/users/piernik/repos","events_url":"https://api.github.com/users/piernik/events{/privacy}","received_events_url":"https://api.github.com/users/piernik/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-12-29T13:34:29Z","updated_at":"2018-01-02T09:36:11Z","closed_at":"2018-01-02T09:35:46Z","author_association":"NONE","body":"I manually change my status but it's not changed in response. If it matters I'm using phpdi slim bridge: http://php-di.org/doc/frameworks/slim.html\r\n\r\nHere is my sample code:\r\n```\r\n$app->get('/test/406', function (Response $response) {\r\n    return $response\r\n        ->withStatus(406, 'direct')\r\n        ->withJson(['status' => 406]);\r\n});\r\n```\r\n\r\nAs You can see on https://api.infirma.pl/2.6.0/test/406 status isn't changed. Always status is 200\r\n\r\nAlso tried with 202 - the same: https://api.infirma.pl/2.6.0/test/202\r\n\r\n**Edit:**\r\nI looked in old version and it works\r\n```\r\n$app->get(\"/test/406\", function () use ($app, $infirma) {\r\n    echo json_encode(['asas'=>'asa']);\r\n    $app->response()->status(406);\r\n});\r\n```\r\n\r\nhttps://api.infirma.pl/2.5.1/test/406 - displays with good response code.\r\n\r\nIf I strip json in new version I also get 200 status code:\r\n```\r\nreturn $response\r\n        ->withStatus(406, 'direct');\r\n```\r\n\r\n**Edit 2:**\r\nI think it's connected with https://github.com/slimphp/Slim/issues/2377","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2374","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2374/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2374/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2374/events","html_url":"https://github.com/slimphp/Slim/issues/2374","id":284532438,"number":2374,"title":"Response withjson converts the numbers to string","user":{"login":"sheikalthaf","id":22526247,"avatar_url":"https://avatars0.githubusercontent.com/u/22526247?v=4","gravatar_id":"","url":"https://api.github.com/users/sheikalthaf","html_url":"https://github.com/sheikalthaf","followers_url":"https://api.github.com/users/sheikalthaf/followers","following_url":"https://api.github.com/users/sheikalthaf/following{/other_user}","gists_url":"https://api.github.com/users/sheikalthaf/gists{/gist_id}","starred_url":"https://api.github.com/users/sheikalthaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sheikalthaf/subscriptions","organizations_url":"https://api.github.com/users/sheikalthaf/orgs","repos_url":"https://api.github.com/users/sheikalthaf/repos","events_url":"https://api.github.com/users/sheikalthaf/events{/privacy}","received_events_url":"https://api.github.com/users/sheikalthaf/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-26T10:19:55Z","updated_at":"2018-01-09T14:40:03Z","closed_at":"2018-01-09T14:39:55Z","author_association":"NONE","body":"If i use withJson for response, it converts my numbers to string. How to avoid it?\r\nexample:\r\n```php\r\n$data = array('name' => 'Rob', 'age' => 40);\r\n$newResponse = $oldResponse->withJson($data, 201);\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2373","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2373/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2373/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2373/events","html_url":"https://github.com/slimphp/Slim/issues/2373","id":284322332,"number":2373,"title":"Fix minor issue in SmallChunksStream mock - Slim 4.x","user":{"login":"RyanNerd","id":10543911,"avatar_url":"https://avatars2.githubusercontent.com/u/10543911?v=4","gravatar_id":"","url":"https://api.github.com/users/RyanNerd","html_url":"https://github.com/RyanNerd","followers_url":"https://api.github.com/users/RyanNerd/followers","following_url":"https://api.github.com/users/RyanNerd/following{/other_user}","gists_url":"https://api.github.com/users/RyanNerd/gists{/gist_id}","starred_url":"https://api.github.com/users/RyanNerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyanNerd/subscriptions","organizations_url":"https://api.github.com/users/RyanNerd/orgs","repos_url":"https://api.github.com/users/RyanNerd/repos","events_url":"https://api.github.com/users/RyanNerd/events{/privacy}","received_events_url":"https://api.github.com/users/RyanNerd/received_events","type":"User","site_admin":false},"labels":[{"id":372378249,"url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%204","name":"Slim 4","color":"fbca04","default":false},{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-23T19:20:15Z","updated_at":"2018-01-27T10:20:08Z","closed_at":"2018-01-27T10:20:07Z","author_association":"NONE","body":"See https://github.com/slimphp/Slim/pull/2357\r\nThis needs to be merged into 4.x\r\nI'll create a PR for this when I have some time (after the holidays). \r\nI created this as an issue to keep it on the radar. ","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2371","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2371/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2371/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2371/events","html_url":"https://github.com/slimphp/Slim/issues/2371","id":282374568,"number":2371,"title":"Routes behaving strangely in 3.9.2","user":{"login":"cholthi","id":4463755,"avatar_url":"https://avatars3.githubusercontent.com/u/4463755?v=4","gravatar_id":"","url":"https://api.github.com/users/cholthi","html_url":"https://github.com/cholthi","followers_url":"https://api.github.com/users/cholthi/followers","following_url":"https://api.github.com/users/cholthi/following{/other_user}","gists_url":"https://api.github.com/users/cholthi/gists{/gist_id}","starred_url":"https://api.github.com/users/cholthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cholthi/subscriptions","organizations_url":"https://api.github.com/users/cholthi/orgs","repos_url":"https://api.github.com/users/cholthi/repos","events_url":"https://api.github.com/users/cholthi/events{/privacy}","received_events_url":"https://api.github.com/users/cholthi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-15T09:56:47Z","updated_at":"2017-12-26T16:50:56Z","closed_at":"2017-12-26T16:50:56Z","author_association":"NONE","body":"In my application root composer.json, I have slim/slim ^3.1, after few composer updates, my slim installation is now at 3.9.2. \r\nThe problem now is routes in 3.9.2 appear to be cached by default, this is a little odd especially on development where you're changing routes rapidly and expect to see your changes. Even more odd is, the routes seem to be cached with their handlers because even after changing the route to point to a class method which originally was handled by a Closure, continue to point to Closure that doesn't exist anywhere in my routes now\r\nTHEN\r\n`$app->post('/tests/create', function (Resquest $req, Response $res) {\r\n});`\r\nNOW\r\n`$app->post('/tests/create', 'Class:method');`\r\n\r\nI deleted the first route and replaced with the second, but strangely it still points to the first Closure which me make think that it is caching problem","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2370","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2370/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2370/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2370/events","html_url":"https://github.com/slimphp/Slim/issues/2370","id":282157733,"number":2370,"title":"Slim Redirect Displays Headers Only","user":{"login":"UchennaPrudensia","id":12752166,"avatar_url":"https://avatars0.githubusercontent.com/u/12752166?v=4","gravatar_id":"","url":"https://api.github.com/users/UchennaPrudensia","html_url":"https://github.com/UchennaPrudensia","followers_url":"https://api.github.com/users/UchennaPrudensia/followers","following_url":"https://api.github.com/users/UchennaPrudensia/following{/other_user}","gists_url":"https://api.github.com/users/UchennaPrudensia/gists{/gist_id}","starred_url":"https://api.github.com/users/UchennaPrudensia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UchennaPrudensia/subscriptions","organizations_url":"https://api.github.com/users/UchennaPrudensia/orgs","repos_url":"https://api.github.com/users/UchennaPrudensia/repos","events_url":"https://api.github.com/users/UchennaPrudensia/events{/privacy}","received_events_url":"https://api.github.com/users/UchennaPrudensia/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2017-12-14T16:22:11Z","updated_at":"2017-12-15T13:26:31Z","closed_at":"2017-12-15T13:26:31Z","author_association":"NONE","body":"Slim Redirect method returns a 301 status code and nothing more. I will like to redirect to a login page if a user is not signed in. but I keep getting a header that looks like this : \r\n\r\nHTTP/1.1 301 $s\r\nServer: nginx/1.13.7\r\nDate: Thu, 14 Dec 2017 15:56:53 GMT\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\n: /login: \r\n\r\nI expect that the redirect method will call '\\login' route which will then display my login.html page. I  have attached a copy of my server.php file below. When I execute curl -D- localhost/login, it works. What am I doing wrong?\r\n\r\n\r\n> $slim->get('/', function(Request $req, Response $res) use ($provider): Response{\r\n>   $sessionId = $req->getCookieParams()['session'] ?? ' ';\r\n>    if(!$provider->hasSession($sessionId))\r\n>     {\r\n>        return $res->withRedirect('/login');\r\n>     }\r\n\r\n//Login Callback\r\n> $slim->get('/login', function(Request $req, Response $res): Response {\r\n> $res->getBody()->write(file_get_contents('templates/login.html'));\r\n> return $res->withHeader('Content-Type', 'text/html;charset=utf8');\r\n});\r\n\r\n`$adapter = new \\Packt\\Chp6\\Http\\SlimAdapterServer($slim);`\r\n\r\n//Login Route \r\n`$app->route('/', $adapter, ['*']);`\r\n`$app->route('/login', $adapter, ['*']); `\r\n\r\n\r\n\r\n[server.php.zip](https://github.com/slimphp/Slim/files/1559897/server.php.zip)\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2368","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2368/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2368/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2368/events","html_url":"https://github.com/slimphp/Slim/issues/2368","id":281987051,"number":2368,"title":"Cannot using CURL","user":{"login":"gieboyz","id":9793593,"avatar_url":"https://avatars0.githubusercontent.com/u/9793593?v=4","gravatar_id":"","url":"https://api.github.com/users/gieboyz","html_url":"https://github.com/gieboyz","followers_url":"https://api.github.com/users/gieboyz/followers","following_url":"https://api.github.com/users/gieboyz/following{/other_user}","gists_url":"https://api.github.com/users/gieboyz/gists{/gist_id}","starred_url":"https://api.github.com/users/gieboyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gieboyz/subscriptions","organizations_url":"https://api.github.com/users/gieboyz/orgs","repos_url":"https://api.github.com/users/gieboyz/repos","events_url":"https://api.github.com/users/gieboyz/events{/privacy}","received_events_url":"https://api.github.com/users/gieboyz/received_events","type":"User","site_admin":false},"labels":[{"id":340608415,"url":"https://api.github.com/repos/slimphp/Slim/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true},{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true},{"id":84776832,"url":"https://api.github.com/repos/slimphp/Slim/labels/wontfix","name":"wontfix","color":"222222","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-12-14T05:35:55Z","updated_at":"2018-03-09T13:44:15Z","closed_at":"2018-03-09T13:44:05Z","author_association":"NONE","body":"Hello when i update to current version, i cannot using curl anymore. there's always show error 500.\r\nthis is bugs?? or what??","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2365","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2365/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2365/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2365/events","html_url":"https://github.com/slimphp/Slim/issues/2365","id":280399640,"number":2365,"title":"Slim Parse Error ","user":{"login":"jbalbert","id":8281900,"avatar_url":"https://avatars2.githubusercontent.com/u/8281900?v=4","gravatar_id":"","url":"https://api.github.com/users/jbalbert","html_url":"https://github.com/jbalbert","followers_url":"https://api.github.com/users/jbalbert/followers","following_url":"https://api.github.com/users/jbalbert/following{/other_user}","gists_url":"https://api.github.com/users/jbalbert/gists{/gist_id}","starred_url":"https://api.github.com/users/jbalbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbalbert/subscriptions","organizations_url":"https://api.github.com/users/jbalbert/orgs","repos_url":"https://api.github.com/users/jbalbert/repos","events_url":"https://api.github.com/users/jbalbert/events{/privacy}","received_events_url":"https://api.github.com/users/jbalbert/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","de
2914
fault":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-12-08T07:35:04Z","updated_at":"2017-12-11T02:56:14Z","closed_at":"2017-12-08T14:34:02Z","author_association":"NONE","body":"Hi! Is there anyway I could catch 'Parse Error' and 'Warnings' on Slim's Error Handler?\r\n\r\nI already applied these lines of codes on my container. \r\n\r\n$container[\"errorHandler\"] = function ($c) {\r\n    return new \\Slim\\Handlers\\ExceptionErrorHandler($c[\"logger\"]);\r\n};\r\n\r\n$container[\"phpErrorHandler\"] = function ($c) {\r\n    return new \\Slim\\Handlers\\PhpErrorHandler($c[\"logger\"]);\r\n};\r\n\r\nBut when I get these kinds of error the error handlers doesn't work :\r\n1. <br />\r\n<b>Parse error</b>:  syntax error, unexpected '$app_log_error' (T_VARIABLE) in\r\n<b>/var/www/html/myProject/backend/api/module/Handlers/ExceptionErrorHandler.php</b> on line\r\n<b>23</b>\r\n<br />\r\n\r\n2. <br />\r\n<b>Warning</b>:  Division by zero in\r\n<b>/var/www/html/myProject/backend/api/module/Controllers/LoginController.php</b> on line\r\n<b>56</b>\r\n<br />\r\nfloat(INF)\r\n\r\nIs there anyway that I could catch these errors using Slim's Error Handler? ","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2364","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2364/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2364/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2364/events","html_url":"https://github.com/slimphp/Slim/issues/2364","id":280265603,"number":2364,"title":"Minimum PHP version of 7.1 for next major release ?","user":{"login":"MarioBlazek","id":6605175,"avatar_url":"https://avatars3.githubusercontent.com/u/6605175?v=4","gravatar_id":"","url":"https://api.github.com/users/MarioBlazek","html_url":"https://github.com/MarioBlazek","followers_url":"https://api.github.com/users/MarioBlazek/followers","following_url":"https://api.github.com/users/MarioBlazek/following{/other_user}","gists_url":"https://api.github.com/users/MarioBlazek/gists{/gist_id}","starred_url":"https://api.github.com/users/MarioBlazek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarioBlazek/subscriptions","organizations_url":"https://api.github.com/users/MarioBlazek/orgs","repos_url":"https://api.github.com/users/MarioBlazek/repos","events_url":"https://api.github.com/users/MarioBlazek/events{/privacy}","received_events_url":"https://api.github.com/users/MarioBlazek/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-12-07T20:21:25Z","updated_at":"2017-12-08T08:10:47Z","closed_at":"2017-12-07T20:23:02Z","author_association":"NONE","body":"","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2363","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2363/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2363/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2363/events","html_url":"https://github.com/slimphp/Slim/issues/2363","id":280065706,"number":2363,"title":"Slim Error Handling Issue","user":{"login":"jbalbert","id":8281900,"avatar_url":"https://avatars2.githubusercontent.com/u/8281900?v=4","gravatar_id":"","url":"https://api.github.com/users/jbalbert","html_url":"https://github.com/jbalbert","followers_url":"https://api.github.com/users/jbalbert/followers","following_url":"https://api.github.com/users/jbalbert/following{/other_user}","gists_url":"https://api.github.com/users/jbalbert/gists{/gist_id}","starred_url":"https://api.github.com/users/jbalbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbalbert/subscriptions","organizations_url":"https://api.github.com/users/jbalbert/orgs","repos_url":"https://api.github.com/users/jbalbert/repos","events_url":"https://api.github.com/users/jbalbert/events{/privacy}","received_events_url":"https://api.github.com/users/jbalbert/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-07T09:51:52Z","updated_at":"2017-12-07T10:24:59Z","closed_at":"2017-12-07T10:19:35Z","author_association":"NONE","body":"Hi I just want to ask this issue about slim 3's error handling.\r\n\r\nI can added custom error handler and exceptions. Like This:\r\n\r\n**$container[\"errorHandler\"] = function ($c) {\r\n    return new \\Slim\\Handlers\\ApiErrorHandler($c[\"logger\"]);\r\n};\r\n\r\n$container[\"phpErrorHandler\"] = function ($c) {\r\n    return $c[\"errorHandler\"];\r\n};\r\n\r\nclass ApiErrorHandler extends \\Slim\\Handlers\\Error\r\n{\t\r\n\tprotected $logger;\r\n\t\r\n\tpublic function __construct(LoggerInterface $logger)\r\n\t{\r\n\t\t$this->logger = $logger;\r\n\t}\r\n\r\n\tpublic function __invoke(Request $request, Response $response, \\Exception $exception){\r\n\r\n\t$this->logger->critical($exception->getMessage());\r\n        $status = $exception->getCode() ?: 500;\r\n        $message = $exception->getMessage();\r\n\r\n        return $response->withJSON($message, $status);\r\n\r\n\t}\r\n\r\n}**\r\n\r\n\r\nHowever it does not capture fatal errors. I tried this one:\r\n\r\n      **public function test($req, $res, $arg){\r\n\r\n\t\t$numer = 1 / 0;\r\n\t\tvar_dump($numer);exit;\r\n      }**\r\n\r\nBut I get response like this :\r\n\r\n**<br />\r\n<b>Warning</b>:  Division by zero in\r\n<b>/var/www/html/myProject/backend/api/module/Controllers/UserController.php</b> on line\r\n<b>24</b>\r\n<br />\r\nfloat(INF)**\r\n \r\nThat test code supposedly results to an exception. But slim's error handler doesn't catch it.\r\n\r\nBut when i do this : \r\n\r\n**$app->get('/', function () {    \r\n    throw new Exception('Division by zero.');\r\n\t});**\r\n\r\nIt catches the exception.  And I got result like this : \"Division by zero.\" And the error was inserted into my logs file.\r\n\r\nCan you please tell where did I go wrong here? or Can please tell me the correct way to use slim's errorhandler?\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2359","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2359/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2359/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2359/events","html_url":"https://github.com/slimphp/Slim/issues/2359","id":278681933,"number":2359,"title":"Possible Backwards Incompatible Change in 3.9","user":{"login":"it-all","id":5783938,"avatar_url":"https://avatars3.githubusercontent.com/u/5783938?v=4","gravatar_id":"","url":"https://api.github.com/users/it-all","html_url":"https://github.com/it-all","followers_url":"https://api.github.com/users/it-all/followers","following_url":"https://api.github.com/users/it-all/following{/other_user}","gists_url":"https://api.github.com/users/it-all/gists{/gist_id}","starred_url":"https://api.github.com/users/it-all/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/it-all/subscriptions","organizations_url":"https://api.github.com/users/it-all/orgs","repos_url":"https://api.github.com/users/it-all/repos","events_url":"https://api.github.com/users/it-all/events{/privacy}","received_events_url":"https://api.github.com/users/it-all/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-02T12:55:02Z","updated_at":"2017-12-02T14:50:05Z","closed_at":"2017-12-02T14:50:05Z","author_association":"NONE","body":"My custom notFoundHandler works in 3.8.1 but not in 3.9.x. Now I just get the browser error. The redirect line doesn't work. Any idea on what changed and how I can fix it?\r\n\r\n```\r\n//Override the default Not Found Handler\r\n'notFoundHandler' => function ($container) {\r\n    return function ($request, $response) use ($container) {\r\n        return $container['response']\r\n            ->withStatus(404)\r\n            ->withHeader('Content-Type', 'text/html')\r\n            ->withRedirect($container->router->pathFor('pageNotFound'));\r\n    };\r\n}\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2355","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2355/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2355/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2355/events","html_url":"https://github.com/slimphp/Slim/issues/2355","id":276727490,"number":2355,"title":"Redirects with status no longer work in 3.9","user":{"login":"emilorol","id":9518604,"avatar_url":"https://avatars2.githubusercontent.com/u/9518604?v=4","gravatar_id":"","url":"https://api.github.com/users/emilorol","html_url":"https://github.com/emilorol","followers_url":"https://api.github.com/users/emilorol/followers","following_url":"https://api.github.com/users/emilorol/following{/other_user}","gists_url":"https://api.github.com/users/emilorol/gists{/gist_id}","starred_url":"https://api.github.com/users/emilorol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilorol/subscriptions","organizations_url":"https://api.github.com/users/emilorol/orgs","repos_url":"https://api.github.com/users/emilorol/repos","events_url":"https://api.github.com/users/emilorol/events{/privacy}","received_events_url":"https://api.github.com/users/emilorol/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-25T05:33:04Z","updated_at":"2017-11-25T07:19:20Z","closed_at":"2017-11-25T06:57:47Z","author_association":"NONE","body":"I have been doing this before 3.9\r\n\r\n```\r\nreturn $response->withStatus(404)->withRedirect($this->router->pathFor('home'));\r\n```\r\n\r\nNow even if I do it like this:\r\n\r\n```\r\nreturn $response->withRedirect($this->router->pathFor('home'), 404);\r\n```\r\nThe redirection fail.\r\n","score":1.0}]}
0

