HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:11:17 GMT
Link: <https://api.github.com/search/issues?q=repo%3Aslimphp%2FSlim+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Aslimphp%2FSlim+type%3Aissue+state%3Aclosed&page=34>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CE68:57C5:3733830:71A8F0B:5B1B8BA4
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 7
X-Ratelimit-Reset: 1528531917
X-Runtime-Rack: 0.488769
X-Xss-Protection: 1; mode=block

8000
{"total_count":1281,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/slimphp/Slim/issues/2446","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2446/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2446/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2446/events","html_url":"https://github.com/slimphp/Slim/issues/2446","id":325524715,"node_id":"MDU6SXNzdWUzMjU1MjQ3MTU=","number":2446,"title":"dynamic page","user":{"login":"amnek0","id":12832589,"node_id":"MDQ6VXNlcjEyODMyNTg5","avatar_url":"https://avatars1.githubusercontent.com/u/12832589?v=4","gravatar_id":"","url":"https://api.github.com/users/amnek0","html_url":"https://github.com/amnek0","followers_url":"https://api.github.com/users/amnek0/followers","following_url":"https://api.github.com/users/amnek0/following{/other_user}","gists_url":"https://api.github.com/users/amnek0/gists{/gist_id}","starred_url":"https://api.github.com/users/amnek0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amnek0/subscriptions","organizations_url":"https://api.github.com/users/amnek0/orgs","repos_url":"https://api.github.com/users/amnek0/repos","events_url":"https://api.github.com/users/amnek0/events{/privacy}","received_events_url":"https://api.github.com/users/amnek0/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-23T02:16:45Z","updated_at":"2018-05-23T07:23:14Z","closed_at":"2018-05-23T07:23:14Z","author_association":"NONE","body":"Dear masters,\r\n\r\nI want to created a template named random.phtml to show some random results which can be included to other templates(index.phtml, subpage.phtml), the following code requires access to domain.com/random/ to get the results, how can i create the dynamic page without post/get queries?\r\n\r\nat route.php\r\n\r\n```\r\n// random results\r\n$app->get('/random/', function ($request, $response) {\r\n$sth = $this->db->prepare(\"SELECT id,images FROM table ORDER BY RAND() LIMIT 10\");\r\n$sth->execute();\r\n$todos = $sth->fetchAll();\r\nreturn $this->renderer->render($response, 'random.phtml', array(\r\n'results' => $todos,\r\n));\r\n});\r\n```\r\nrandom.phtml\r\n```\r\n<?php\r\nif (!empty($results)) {\r\necho '<ul>';\r\nforeach ($results as $result) {\r\necho '<li>'.$result['id'].' '.$result['images'].'</li>';\r\n}\r\necho '</ul>';\r\n}\r\n?>\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2444","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2444/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2444/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2444/events","html_url":"https://github.com/slimphp/Slim/issues/2444","id":324405517,"node_id":"MDU6SXNzdWUzMjQ0MDU1MTc=","number":2444,"title":"get the name of the route that posted data Slim","user":{"login":"chen7david","id":19669287,"node_id":"MDQ6VXNlcjE5NjY5Mjg3","avatar_url":"https://avatars0.githubusercontent.com/u/19669287?v=4","gravatar_id":"","url":"https://api.github.com/users/chen7david","html_url":"https://github.com/chen7david","followers_url":"https://api.github.com/users/chen7david/followers","following_url":"https://api.github.com/users/chen7david/following{/other_user}","gists_url":"https://api.github.com/users/chen7david/gists{/gist_id}","starred_url":"https://api.github.com/users/chen7david/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chen7david/subscriptions","organizations_url":"https://api.github.com/users/chen7david/orgs","repos_url":"https://api.github.com/users/chen7david/repos","events_url":"https://api.github.com/users/chen7david/events{/privacy}","received_events_url":"https://api.github.com/users/chen7david/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-18T13:13:12Z","updated_at":"2018-06-01T09:51:25Z","closed_at":"2018-06-01T09:51:25Z","author_association":"NONE","body":"Hi, I'm creating a form validation class and I would like it to dynamically post the errors back to the view that posted the data. Is this possible in slim? \r\nIf i could get the route of the view that posted the data than it would be easy to redirect back to any given view. ","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2443","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2443/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2443/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2443/events","html_url":"https://github.com/slimphp/Slim/issues/2443","id":324015763,"node_id":"MDU6SXNzdWUzMjQwMTU3NjM=","number":2443,"title":"How to inject Eloquent DB Facade in Slim?","user":{"login":"imageslr","id":17822028,"node_id":"MDQ6VXNlcjE3ODIyMDI4","avatar_url":"https://avatars1.githubusercontent.com/u/17822028?v=4","gravatar_id":"","url":"https://api.github.com/users/imageslr","html_url":"https://github.com/imageslr","followers_url":"https://api.github.com/users/imageslr/followers","following_url":"https://api.github.com/users/imageslr/following{/other_user}","gists_url":"https://api.github.com/users/imageslr/gists{/gist_id}","starred_url":"https://api.github.com/users/imageslr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imageslr/subscriptions","organizations_url":"https://api.github.com/users/imageslr/orgs","repos_url":"https://api.github.com/users/imageslr/repos","events_url":"https://api.github.com/users/imageslr/events{/privacy}","received_events_url":"https://api.github.com/users/imageslr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-17T13:09:27Z","updated_at":"2018-05-21T14:13:25Z","closed_at":"2018-05-18T07:39:25Z","author_association":"NONE","body":"**UPDATE:**\r\n\r\nI use the following statement to solve the problem. Thank you. Please inform me if you have any better solution.\r\n\r\n```PHP\r\nuse Illuminate\\Database\\Capsule\\Manager as DB;\r\n```\r\n\r\n-----\r\n\r\n\r\nDear developers, I want to use DB Facade of Eloquent in my Controller class directly. I hope I can use it like this:\r\n\r\n```PHP\r\nuse Illuminate\\Supports\\Facades;\r\n\r\nclass MyController {\r\n    public function index(){\r\n        $res = DB::table(DB::raw('select * from users'));\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nBut DB is actually initialized and injected automatically in Laravel. In slim, I have to inject db manually in container:\r\n\r\n```PHP\r\n// 配置Eloquent\r\n// contig Eloquent\r\n$container = $app->getContainer();\r\n$capsule = new \\Illuminate\\Database\\Capsule\\Manager;    // 这些语句必须放在闭包外面\r\n$capsule->addConnection($container['settings']['db']); // 创建一个数据库的链接\r\n$capsule->setAsGlobal(); // 静态可访问\r\n$capsule->bootEloquent(); // 启动Eloquent\r\n$container['db'] = function ($container) use ($capsule){\r\n    return $capsule;\r\n};\r\n\r\n// 添加db属性\r\n// inject db into container\r\n$container[App\\Controllers\\MyController::class] = function ($c) {\r\n    $db = $c->get('db');\r\n    return new App\\Controllers\\MyController($db);\r\n};\r\n\r\n// add route\r\n$app->get('/api/user', 'App\\Controllers\\MyController:index');\r\n```\r\n\r\nAnd thus my Controller becomes to:\r\n\r\n```PHP\r\nclass MyController {\r\n    private $db;\r\n\r\n    public function __construct($db){\r\n        $this->db = $db;\r\n    }\r\n\r\n    public function index(){\r\n        $res = $this->db::table($this->db::raw('select * from users'));\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIt's ugly, And I have to add dependency for each Controller _(or I don't need to do this every time?)_. Could anyone please tell me a more elegant way to use DB Facade in slim3? Thank you!","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2440","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2440/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2440/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2440/events","html_url":"https://github.com/slimphp/Slim/issues/2440","id":323241564,"node_id":"MDU6SXNzdWUzMjMyNDE1NjQ=","number":2440,"title":"Slim Framework return 404","user":{"login":"serdam55","id":30700983,"node_id":"MDQ6VXNlcjMwNzAwOTgz","avatar_url":"https://avatars3.githubusercontent.com/u/30700983?v=4","gravatar_id":"","url":"https://api.github.com/users/serdam55","html_url":"https://github.com/serdam55","followers_url":"https://api.github.com/users/serdam55/followers","following_url":"https://api.github.com/users/serdam55/following{/other_user}","gists_url":"https://api.github.com/users/serdam55/gists{/gist_id}","starred_url":"https://api.github.com/users/serdam55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serdam55/subscriptions","organizations_url":"https://api.github.com/users/serdam55/orgs","repos_url":"https://api.github.com/users/serdam55/repos","events_url":"https://api.github.com/users/serdam55/events{/privacy}","received_events_url":"https://api.github.com/users/serdam55/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-15T14:24:31Z","updated_at":"2018-05-15T14:27:54Z","closed_at":"2018-05-15T14:27:54Z","author_association":"NONE","body":"I'm trying `Slim Framework` for create a simple php API but I get `404`. I installed the framework in a folder called `swp`, enabled the `ModRewrite` and tried to execute this method: `hello/name`.\r\n\r\n**.htaccess**\r\n\r\n```\r\n    <IfModule mod_rewrite.c>\r\n      RewriteEngine On\r\n    \r\n      RewriteCond %{REQUEST_FILENAME} !-d\r\n      RewriteCond %{REQUEST_FILENAME} !-f\r\n      RewriteRule ^ index.php [QSA,L]\r\n    </IfModule>\r\n```\r\n\r\n**index.php**\r\n\r\n```\r\n        <?php\r\n    if (PHP_SAPI == 'cli-server') {\r\n        // To help the built-in PHP dev server, check if the request was actually for\r\n        // something which should probably be served as a static file\r\n        $url  = parse_url($_SERVER['REQUEST_URI']);\r\n        $file = __DIR__ . $url['path'];\r\n        if (is_file($file)) {\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    require __DIR__ . '/../vendor/autoload.php';\r\n    \r\n    session_start();\r\n    \r\n    // Instantiate the app\r\n    $settings = require __DIR__ . '/../src/settings.php';\r\n    $app = new \\Slim\\App($settings);\r\n    \r\n    // Set up dependencies\r\n    require __DIR__ . '/../src/dependencies.php';\r\n    \r\n    // Register middleware\r\n    require __DIR__ . '/../src/middleware.php';\r\n    \r\n    // Register routes\r\n    require __DIR__ . '/../src/routes.php';\r\n    \r\n    $app->get('/hello/{name}', function (Request $request, Response $response, array $args) {\r\n        $name = $args['name'];\r\n        $response->getBody()->write(\"Hello, $name\");\r\n    \r\n        return $response;\r\n    });\r\n    \r\n    // Run app\r\n    $app->run();\r\n\r\n```\r\nFor test this, I'm using `PostMan`, I wrote in the url bar: `http://localhost:8081/swp/public/name/foo`\r\n\r\nthis is the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat I did wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/pvpAs.jpg","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2438","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2438/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2438/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2438/events","html_url":"https://github.com/slimphp/Slim/issues/2438","id":323151293,"node_id":"MDU6SXNzdWUzMjMxNTEyOTM=","number":2438,"title":"Fix `Request` class `getParam` method `$default` argument PHPDoc type hint","user":{"login":"hhovakimyan","id":30544850,"node_id":"MDQ6VXNlcjMwNTQ0ODUw","avatar_url":"https://avatars2.githubusercontent.com/u/30544850?v=4","gravatar_id":"","url":"https://api.github.com/users/hhovakimyan","html_url":"https://github.com/hhovakimyan","followers_url":"https://api.github.com/users/hhovakimyan/followers","following_url":"https://api.github.com/users/hhovakimyan/following{/other_user}","gists_url":"https://api.github.com/users/hhovakimyan/gists{/gist_id}","starred_url":"https://api.github.com/users/hhovakimyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhovakimyan/subscriptions","organizations_url":"https://api.github.com/users/hhovakimyan/orgs","repos_url":"https://api.github.com/users/hhovakimyan/repos","events_url":"https://api.github.com/users/hhovakimyan/events{/privacy}","received_events_url":"https://api.github.com/users/hhovakimyan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-15T10:08:41Z","updated_at":"2018-05-15T12:51:46Z","closed_at":"2018-05-15T12:51:46Z","author_association":"NONE","body":"`Request` class `getParam` method `$default` argument type is marked as `string`, but actually any type of parameters can be passed for `$default` argument and everything will work.\r\n\r\nProblem raised, when I run https://github.com/phpstan/phpstan on my project and get bunch of errors, because on `getParam` method. For example\r\n```\r\nParameter #2 $default of method Slim\\Http\\Request::getParam() expects\r\n         string|null, false given.\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2437","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2437/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2437/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2437/events","html_url":"https://github.com/slimphp/Slim/issues/2437","id":322870991,"node_id":"MDU6SXNzdWUzMjI4NzA5OTE=","number":2437,"title":"It would be nice pass dependencies to controller constructor","user":{"login":"SananGuliyev","id":5057582,"node_id":"MDQ6VXNlcjUwNTc1ODI=","avatar_url":"https://avatars1.githubusercontent.com/u/5057582?v=4","gravatar_id":"","url":"https://api.github.com/users/SananGuliyev","html_url":"https://github.com/SananGuliyev","followers_url":"https://api.github.com/users/SananGuliyev/followers","following_url":"https://api.github.com/users/SananGuliyev/following{/other_user}","gists_url":"https://api.github.com/users/SananGuliyev/gists{/gist_id}","starred_url":"https://api.github.com/users/SananGuliyev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SananGuliyev/subscriptions","organizations_url":"https://api.github.com/users/SananGuliyev/orgs","repos_url":"https://api.github.com/users/SananGuliyev/repos","events_url":"https://api.github.com/users/SananGuliyev/events{/privacy}","received_events_url":"https://api.github.com/users/SananGuliyev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-05-14T15:37:27Z","updated_at":"2018-05-14T17:45:51Z","closed_at":"2018-05-14T17:45:51Z","author_association":"NONE","body":"I think that it would be nice to have something like that.\r\n\r\n```\r\n$app->get(\r\n    '/',\r\n    \\Some\\Controller::class . ':someMethod',\r\n    ['someServiceFromDi']\r\n);\r\n```\r\n\r\nAnd controller:\r\n```\r\nclass SomeController\r\n{\r\n    /**\r\n     * @var SomeService\r\n     */\r\n    private $someService;\r\n\r\n    /**\r\n     * SomeController constructor.\r\n     * @param SomeService $someService\r\n     */\r\n    public function __construct(SomeService $someService)\r\n    {\r\n        $this->someService = $someService;\r\n    }\r\n}\r\n```\r\n\r\nI just want to read your opinions about that. ","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2436","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2436/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2436/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2436/events","html_url":"https://github.com/slimphp/Slim/issues/2436","id":321990094,"node_id":"MDU6SXNzdWUzMjE5OTAwOTQ=","number":2436,"title":"http 500 with $container issue","user":{"login":"SakuraSa233","id":24848528,"node_id":"MDQ6VXNlcjI0ODQ4NTI4","avatar_url":"https://avatars1.githubusercontent.com/u/24848528?v=4","gravatar_id":"","url":"https://api.github.com/users/SakuraSa233","html_url":"https://github.com/SakuraSa233","followers_url":"https://api.github.com/users/SakuraSa233/followers","following_url":"https://api.github.com/users/SakuraSa233/following{/other_user}","gists_url":"https://api.github.com/users/SakuraSa233/gists{/gist_id}","starred_url":"https://api.github.com/users/SakuraSa233/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SakuraSa233/subscriptions","organizations_url":"https://api.github.com/users/SakuraSa233/orgs","repos_url":"https://api.github.com/users/SakuraSa233/repos","events_url":"https://api.github.com/users/SakuraSa233/events{/privacy}","received_events_url":"https://api.github.com/users/SakuraSa233/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-10T16:12:58Z","updated_at":"2018-05-15T13:53:48Z","closed_at":"2018-05-15T13:53:48Z","author_association":"NONE","body":"My current version is 5abbab0 on 4.x. I'm planing to update it to the lastest version. After I ran ```composer update```,it's updated to 83e069e and the web page is on http 500. Log is as follows.\r\n\r\n    [root@sakura test]# php -S 0.0.0.0:8888 -t public public/index.php\r\n    PHP 7.2.5 Development Server started at Fri May 11 00:00:00 2018\r\n    Listening on http://0.0.0.0:8888\r\n    Document root is /home/nginx/test/public\r\n    Press Ctrl-C to quit.\r\n    [Fri May 11 00:00:33 2018] PHP Fatal error:  Uncaught Error: Class 'Slim\\Container' not found in \r\n    /home/nginx/test/config/routes.php:43\r\n    Stack trace:\r\n    #0 /home/nginx/test/public/index.php(11): require()\r\n    #1 {main}\r\n      thrown in /home/nginx/test/config/routes.php on line 43\r\n The Line 43 of routes.php is ```$container = new Container($configuration);```. I have tried to delete the line,and the web page can be accessable,but many functions in my site is down.\r\nI also have tried to update it to 8315e84 which is the next version of my current version,the error is the same.\r\n\r\nCould you give me some help?","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2435","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2435/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2435/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2435/events","html_url":"https://github.com/slimphp/Slim/issues/2435","id":321971156,"node_id":"MDU6SXNzdWUzMjE5NzExNTY=","number":2435,"title":"Possible issue on middleware in route inside a group","user":{"login":"pabloalcaraz","id":2474775,"node_id":"MDQ6VXNlcjI0NzQ3NzU=","avatar_url":"https://avatars1.githubusercontent.com/u/2474775?v=4","gravatar_id":"","url":"https://api.github.com/users/pabloalcaraz","html_url":"https://github.com/pabloalcaraz","followers_url":"https://api.github.com/users/pabloalcaraz/followers","following_url":"https://api.github.com/users/pabloalcaraz/following{/other_user}","gists_url":"https://api.github.com/users/pabloalcaraz/gists{/gist_id}","starred_url":"https://api.github.com/users/pabloalcaraz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pabloalcaraz/subscriptions","organizations_url":"https://api.github.com/users/pabloalcaraz/orgs","repos_url":"https://api.github.com/users/pabloalcaraz/repos","events_url":"https://api.github.com/users/pabloalcaraz/events{/privacy}","received_events_url":"https://api.github.com/users/pabloalcaraz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-10T15:20:11Z","updated_at":"2018-05-11T06:51:20Z","closed_at":"2018-05-11T06:51:20Z","author_association":"NONE","body":"Hi,\r\n\r\nI have a group and inside different routes, I need to apply a middleware to a group and other in a route inside of this group, like this:\r\n\r\n\r\n```\r\n$app->group('/route1', function () {\r\n\r\n  $this->post('/route2/', function ($req, $res, $args) {\r\n    //some code\r\n  })->add($middleware2);\r\n\r\n  $this->post('/route3/', function ($req, $res, $args) {\r\n    //some code\r\n  });\r\n\r\n})->add($middleware1);\r\n```\r\n\r\nThis return to me a 500 always, only if I put the $middleware2.\r\n\r\nI use that middlewares in groups and routes without groups without problems.\r\n\r\n```\r\n\"message\": \"Slim Application Error\",\r\n    \"exception\": [\r\n        {\r\n            \"type\": \"RuntimeException\",\r\n            \"code\": 0,\r\n            \"message\": \" is not resolvable\",\r\n            \"file\": \"...vendor\\\\slim\\\\slim\\\\Slim\\\\CallableResolver.php\",\r\n            \"line\": 104,\r\n```\r\n\r\nI use Slim 3.10.0 and PHP 7","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2432","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2432/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2432/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2432/events","html_url":"https://github.com/slimphp/Slim/issues/2432","id":318456524,"node_id":"MDU6SXNzdWUzMTg0NTY1MjQ=","number":2432,"title":"Should Cookies->get also read from responseCookies?","user":{"login":"carc1n0gen","id":8248986,"node_id":"MDQ6VXNlcjgyNDg5ODY=","avatar_url":"https://avatars0.githubusercontent.com/u/8248986?v=4","gravatar_id":"","url":"https://api.github.com/users/carc1n0gen","html_url":"https://github.com/carc1n0gen","followers_url":"https://api.github.com/users/carc1n0gen/followers","following_url":"https://api.github.com/users/carc1n0gen/following{/other_user}","gists_url":"https://api.github.com/users/carc1n0gen/gists{/gist_id}","starred_url":"https://api.github.com/users/carc1n0gen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carc1n0gen/subscriptions","organizations_url":"https://api.github.com/users/carc1n0gen/orgs","repos_url":"https://api.github.com/users/carc1n0gen/repos","events_url":"https://api.github.com/users/carc1n0gen/events{/privacy}","received_events_url":"https://api.github.com/users/carc1n0gen/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-27T15:39:10Z","updated_at":"2018-05-16T13:20:54Z","closed_at":"2018-05-16T13:20:54Z","author_association":"NONE","body":"I'm using `Slim\\Http\\Cookies` in my app like so:\r\n\r\nRetrieve the cookies\r\n```php\r\n// Container.php\r\n$container[Cookies::class] = function ($c) {\r\n    return new Cookies($c->get('request')->getCookieParams());\r\n};\r\n\r\n$container[CookieMiddleware::class] = function ($c) {\r\n    return new CookieMiddleware($c->get(Cookies::class));\r\n};\r\n```\r\n\r\nSave the cookies\r\n```php\r\n\r\n// CookieMiddleware.php\r\nclass CookieMiddleware\r\n{\r\n    private $cookies;\r\n\r\n    public function __construct(Cookies $cookies)\r\n    {\r\n        $this->cookies = $cookies;\r\n    }\r\n\r\n    public function __invoke($request, $response, $next)\r\n    {\r\n        $response = $next($request, $response);\r\n        return $response->withHeader('Set-Cookie', $this->cookies->toHeaders());\r\n    }\r\n}\r\n```\r\n\r\n```php\r\n// Bootstrap.php\r\n$app->add(CookieMiddleware::class);\r\n```\r\n\r\nBut when I use `$cookies->get('key)` in my app, I noticed it only reads from the internal `$requestCookies` array. While $cookies->set(...) only writes into the `$responseCookies` array. So any cookies I set along the way, cannot be ready until the next request.  Should we also read from `$responseCookies`? I'd happily make a PR\r\n\r\nLet me know if I'm doing this all wrong or if this totally breaks PSR standards or something","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2430","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2430/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2430/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2430/events","html_url":"https://github.com/slimphp/Slim/issues/2430","id":317173585,"node_id":"MDU6SXNzdWUzMTcxNzM1ODU=","number":2430,"title":"Reset Route's attributes on prepare()","user":{"login":"joke2k","id":359076,"node_id":"MDQ6VXNlcjM1OTA3Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/359076?v=4","gravatar_id":"","url":"https://api.github.com/users/joke2k","html_url":"https://github.com/joke2k","followers_url":"https://api.github.com/users/joke2k/followers","following_url":"https://api.github.com/users/joke2k/following{/other_user}","gists_url":"https://api.github.com/users/joke2k/gists{/gist_id}","starred_url":"https://api.github.com/users/joke2k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joke2k/subscriptions","organizations_url":"https://api.github.com/users/joke2k/orgs","repos_url":"https://api.github.com/users/joke2k/repos","events_url":"https://api.github.com/users/joke2k/events{/privacy}","received_events_url":"https://api.github.com/users/joke2k/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true},{"id":84776832,"node_id":"MDU6TGFiZWw4NDc3NjgzMg==","url":"https://api.github.com/repos/slimphp/Slim/labels/wontfix","name":"wontfix","color":"222222","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-24T10:55:43Z","updated_at":"2018-05-15T14:01:38Z","closed_at":"2018-05-15T14:01:21Z","author_association":"NONE","body":"I'm writing some functional tests and I noticed that if I call twice a route like that:\r\n`/view[/{code:[\\w-]+}]`\r\n\r\n`Route::prapare()` method doesn't clean `Route::attributes`.\r\nThen if the first call has `code` attribute (`/view/hello-world`), `prepare()` method set it in `attributes` field.\r\nIf the second call doesn't have `code` attribute (`/view`) when `App` call `Route::prepare()` method with empty `$arguments`, the `code` still remain `hello-world`, breaking my request handler.\r\n\r\nMaybe in `Route::prepare()` we could reset its attributes?","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2428","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2428/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2428/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2428/events","html_url":"https://github.com/slimphp/Slim/issues/2428","id":316140283,"node_id":"MDU6SXNzdWUzMTYxNDAyODM=","number":2428,"title":"Upload Files using controller. (Uploaded file already moved)","user":{"login":"sherwin14","id":6423143,"node_id":"MDQ6VXNlcjY0MjMxNDM=","avatar_url":"https://avatars1.githubusercontent.com/u/6423143?v=4","gravatar_id":"","url":"https://api.github.com/users/sherwin14","html_url":"https://github.com/sherwin14","followers_url":"https://api.github.com/users/sherwin14/followers","following_url":"https://api.github.com/users/sherwin14/following{/other_user}","gists_url":"https://api.github.com/users/sherwin14/gists{/gist_id}","starred_url":"https://api.github.com/users/sherwin14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sherwin14/subscriptions","organizations_url":"https://api.github.com/users/sherwin14/orgs","repos_url":"https://api.github.com/users/sherwin14/repos","events_url":"https://api.github.com/users/sherwin14/events{/privacy}","received_events_url":"https://api.github.com/users/sherwin14/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-20T06:12:46Z","updated_at":"2018-05-18T00:36:32Z","closed_at":"2018-05-15T14:01:55Z","author_association":"NONE","body":"Hi,\r\n\r\nGood day I've got an error when uploading files using controller.\r\n\r\nbtw here my app structure:\r\n\r\napp\r\n- src\r\n- - Controllers\r\n- - - Controller.php\r\n- - - Controller_oAuth2.php\r\n- public\r\n- - index.php\r\n- - .htaccess\r\n- uploads\r\n- vendor\r\n- - slim\r\n\r\nHere's my code:\r\n\r\n**app\\routes.php**\r\n```\r\n$app->group('/upload', function () {\r\n    $this->post('',             _Controller_oAuth2::class.':upload');\r\n});\r\n```\r\n\r\n**app\\src\\Controller\\_Controller_oAuth2.php**\r\n```\r\npublic function upload(Request $request, Response $response, $args){\r\n        \r\n        if ($this->validateToken($request) && isset($this->user)) {\r\n\t    \treturn (parent::upload($request, $response, $args));\r\n    \t} else {\r\n            return $response ->withStatus(400);\r\n    \t}    \r\n    }\r\n```\r\n\r\n**app\\src\\Controller\\_Controller.php**\r\n\r\n```\r\npublic function upload(Request $request, Response $response, $args){\r\n        \t\r\n        $this->logger->info(substr(strrchr(rtrim(__CLASS__, '\\\\'), '\\\\'), 1).': '.__FUNCTION__);\r\n        \r\n        $files = $request->getUploadedFiles()['newfile'];\r\n       \r\n        if (empty($files)) {\r\n            throw new \\Exception('Expected a newfile');\r\n        }\r\n\r\n        $uploadFileName = $files->getClientFilename();\r\n\r\n        $basepath = __DIR__. '/../../../uploads/'.$uploadFileName;\r\n        \r\n        var_dump($basepath);\r\n        \r\n        if ($files->getError() === UPLOAD_ERR_OK) $files->moveTo($basepath);\r\n    }\r\n```\r\n\r\nThen I Got this Error:\r\n\r\n```\r\nSlim Application Error\r\nThe application could not run because of the following error:\r\n\r\nDetails\r\n\r\nType: RuntimeException\r\nMessage: Uploaded file already moved\r\nFile: C:\\xampp\\htdocs\\RestAPI\\vendor\\slim\\slim\\Slim\\Http\\UploadedFile.php\r\nLine: 226\r\n```\r\n\r\nBut it'll work when I put the uploading codes on **app\\routes.php** using this code.\r\n\r\n```\r\n$app->post('/upload', function ($request, $response, $args) {\r\n    $files = $request->getUploadedFiles();\r\n    if (empty($files['newfile'])) {\r\n        throw new \\Exception('Expected a newfile');\r\n    }\r\n    $newfile = $files['newfile'];\r\n    if ($newfile->getError() === UPLOAD_ERR_OK) {\r\n       $uploadFileName = $newfile->getClientFilename();\r\n       $newfile->moveTo(__DIR__. '/../../../uploads/'.$uploadFileName);\r\n    }\r\n});\r\n```\r\n\r\nBut I want to put the code on controller so I can implement oAuth2 before using the upload route.\r\n\r\n\r\nThanks\r\n","score
8000
":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2424","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2424/events","html_url":"https://github.com/slimphp/Slim/issues/2424","id":312216102,"node_id":"MDU6SXNzdWUzMTIyMTYxMDI=","number":2424,"title":"Error handling with \"application/json\" not working","user":{"login":"odan","id":781074,"node_id":"MDQ6VXNlcjc4MTA3NA==","avatar_url":"https://avatars0.githubusercontent.com/u/781074?v=4","gravatar_id":"","url":"https://api.github.com/users/odan","html_url":"https://github.com/odan","followers_url":"https://api.github.com/users/odan/followers","following_url":"https://api.github.com/users/odan/following{/other_user}","gists_url":"https://api.github.com/users/odan/gists{/gist_id}","starred_url":"https://api.github.com/users/odan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odan/subscriptions","organizations_url":"https://api.github.com/users/odan/orgs","repos_url":"https://api.github.com/users/odan/repos","events_url":"https://api.github.com/users/odan/events{/privacy}","received_events_url":"https://api.github.com/users/odan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-07T15:25:34Z","updated_at":"2018-04-09T12:31:19Z","closed_at":"2018-04-09T12:30:30Z","author_association":"NONE","body":"* [ ] bug\r\n* [x] enhancement\r\n* [x] feature-discussion (RFC)\r\n\r\n* Slim Version: 3 (latest)\r\n* Platform and Target: All\r\n\r\n### What you did\r\nI try to make a Ajax call with Json payload. \r\nThe request header `Accept` is set to `application/json; charset=utf-8`.\r\n\r\nThe PHP application throws an exception. For example: `throw new RuntimeException('error');`\r\n\r\n### What happened\r\nThe response is a Slim standard HTML error page (Content-Type: `text/html`)\r\n\r\n### What you expected to happen\r\nThe response Content-Type: `application/json` or `application/json; charset=utf-8`\r\nand a Json payload with a `message` and `error` element.\r\n\r\n### What you've already tried\r\n\r\n* Set the request header `Accept` to `application/json+json; charset=utf-8`.\r\n  * It works, but it's not the correct (and standard) content type.\r\n* I found this [Issue 1781](https://github.com/slimphp/Slim/pull/1781)\r\n  * Problem: The suffixes syntax in RFC 6839 doesn't work for `application/json`.\r\n* I checked the source code of slim and found the \"Bug\" [here](https://github.com/slimphp/Slim/blob/3.x/Slim/Handlers/AbstractHandler.php#L50)\r\n\r\n### Do you want to address this issue?\r\n\r\nYes, I could do a PR.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2420","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2420/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2420/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2420/events","html_url":"https://github.com/slimphp/Slim/issues/2420","id":309332730,"node_id":"MDU6SXNzdWUzMDkzMzI3MzA=","number":2420,"title":"Request headers not present on $request->getHeaders()","user":{"login":"dmelo","id":89710,"node_id":"MDQ6VXNlcjg5NzEw","avatar_url":"https://avatars2.githubusercontent.com/u/89710?v=4","gravatar_id":"","url":"https://api.github.com/users/dmelo","html_url":"https://github.com/dmelo","followers_url":"https://api.github.com/users/dmelo/followers","following_url":"https://api.github.com/users/dmelo/following{/other_user}","gists_url":"https://api.github.com/users/dmelo/gists{/gist_id}","starred_url":"https://api.github.com/users/dmelo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmelo/subscriptions","organizations_url":"https://api.github.com/users/dmelo/orgs","repos_url":"https://api.github.com/users/dmelo/repos","events_url":"https://api.github.com/users/dmelo/events{/privacy}","received_events_url":"https://api.github.com/users/dmelo/received_events","type":"User","site_admin":false},"labels":[{"id":210765052,"node_id":"MDU6TGFiZWwyMTA3NjUwNTI=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%202","name":"Slim 2","color":"0052cc","default":false},{"id":84776832,"node_id":"MDU6TGFiZWw4NDc3NjgzMg==","url":"https://api.github.com/repos/slimphp/Slim/labels/wontfix","name":"wontfix","color":"222222","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-28T11:47:19Z","updated_at":"2018-05-15T20:43:00Z","closed_at":"2018-05-15T14:04:58Z","author_association":"NONE","body":"I'm using Slim 2.9.2, and it seems to be neglecting custom request headers I have set on apache virtualhost configuration. My apache virtualhost configuration have the following settings:\r\n\r\n```\r\n        RequestHeader set SSL_CLIENT_S_DN    \"a\"\r\n        RequestHeader set SSL_CLIENT_I_DN    \"a\"\r\n        RequestHeader set SSL_SERVER_S_DN_OU \"a\"\r\n        RequestHeader set SSL_CLIENT_VERIFY  \"a\"\r\n        RequestHeader set SSL_CLIENT_S_DN_CN  \"a\"\r\n        RequestHeader set HTTP_TEST1 \"1\"\r\n        RequestHeader set X_TEST2 \"2\"\r\n        RequestHeader set X_HTTP_TEST2 \"2\"\r\n```\r\n\r\nInside the method handling the request, I have the following:\r\n\r\n```php\r\n\t$response->write(print_r($request->getHeaders(), true));\r\n\t$response->write(print_r(apache_request_headers(), true));\r\n\treturn $response;\r\n```\r\n\r\nWhen I curl the server (with `curl -H 'CURLHEADER: CURLSVALUE' http://localhost:8003/ping/a/b`), I get the following response:\r\n\r\n```\r\nArray\r\n(\r\n    [Host] => Array\r\n        (\r\n            [0] => localhost\r\n        )\r\n\r\n    [HTTP_USER_AGENT] => Array\r\n        (\r\n            [0] => curl/7.53.1\r\n        )\r\n\r\n    [HTTP_CURLHEADER] => Array\r\n        (\r\n            [0] => CURLSVALUE\r\n        )\r\n)\r\nArray\r\n(\r\n    [Host] => localhost:8003\r\n    [User-Agent] => curl/7.53.1\r\n    [CURLHEADER] => CURLSVALUE\r\n    [SSL_CLIENT_S_DN] => a\r\n    [SSL_CLIENT_I_DN] => a\r\n    [SSL_SERVER_S_DN_OU] => a\r\n    [SSL_CLIENT_VERIFY] => a\r\n    [SSL_CLIENT_S_DN_CN] => a\r\n    [HTTP_TEST1] => 1\r\n    [X_TEST2] => 2\r\n    [X_HTTP_TEST2] => 2\r\n)\r\n```\r\n\r\nThe first array shows the headers from `$request->getHeaders()`. It has the header I have set while calling curl but it is missing all custom headers I have set on apache. All the headers are present on `apache_request_headers()`, which means apache is indeed setting does headers.\r\n\r\nWhy is Slim not showing/processing my custom headers? Am I doing something wrong? How can I make it work?","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2419","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2419/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2419/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2419/events","html_url":"https://github.com/slimphp/Slim/issues/2419","id":305682423,"node_id":"MDU6SXNzdWUzMDU2ODI0MjM=","number":2419,"title":"Stream using fopen from AWS S3 bucket returning file not found.","user":{"login":"J-Kelley","id":5348592,"node_id":"MDQ6VXNlcjUzNDg1OTI=","avatar_url":"https://avatars0.githubusercontent.com/u/5348592?v=4","gravatar_id":"","url":"https://api.github.com/users/J-Kelley","html_url":"https://github.com/J-Kelley","followers_url":"https://api.github.com/users/J-Kelley/followers","following_url":"https://api.github.com/users/J-Kelley/following{/other_user}","gists_url":"https://api.github.com/users/J-Kelley/gists{/gist_id}","starred_url":"https://api.github.com/users/J-Kelley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/J-Kelley/subscriptions","organizations_url":"https://api.github.com/users/J-Kelley/orgs","repos_url":"https://api.github.com/users/J-Kelley/repos","events_url":"https://api.github.com/users/J-Kelley/events{/privacy}","received_events_url":"https://api.github.com/users/J-Kelley/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T19:05:48Z","updated_at":"2018-05-15T14:08:49Z","closed_at":"2018-05-15T14:08:40Z","author_association":"NONE","body":"Attempting to download files from an AWS S3 bucket to the user in Slim3 using the following code:\r\n```\r\n $s3Path = 's3://mybucket/' . $file['path'] . $file['storedfile'];\r\n\r\n if (file_exists($s3Path) == false) {\r\n     echo 'File does not exist.';\r\n }\r\n\r\n try {\r\n    $fh = fopen($s3Path, 'r');\r\n }\r\n catch (Aws\\S3\\Exception\\S3Exception $e) {\r\n    echo \"There was an error downloading the file. \" . $e->getMessage() . \"\\n\";\r\n }\r\n\r\n #$fh = fopen($file['path'] . $file['storedfile'], 'r');\r\n $basename = $file['alternative'] === 'file' ? 'file' : $file['name'];\r\n $this->sitelog->logAction('downloaded an attached file', 'downloaded \"' . $basename . \"'\");\r\n $stream = new \\Slim\\Http\\Stream($fh);\r\n\r\n return $response\r\n     ->withHeader('Content-Type', 'application/force-download')\r\n     ->withHeader('Content-Type', 'application/octet-stream')\r\n     ->withHeader('Content-Type', 'application/download')\r\n     ->withHeader('Content-Description', 'File Transfer')\r\n     ->withHeader('Content-Transfer-Encoding', 'binary')\r\n     ->withHeader('Content-Disposition', 'attachment; filename=\"' . basename($file['name']) . '\"')\r\n     ->withHeader('Expires', '0')\r\n     ->withHeader('Cache-Control', 'must-revalidate, post-check=0, pre-check=0')\r\n     ->withHeader('Pragma', 'public')\r\n     ->withBody($stream);\r\n```\r\n\r\nThis returns the following error: File not found\r\n\r\nFirefox can’t find the file at http://mydomain/attachments/1491/657833117/groupID/download.\r\n\r\n-Standard context returns that error.\r\n\r\n-Seekable context returns an empty file.\r\n\r\n-Using fread on the stream followed by an exit (instead of the withBody response) outputs the file correctly but means I can't send a proper response.\r\n\r\n-Opening the file with an s3 GET object works correctly, but means I have to load the whole file into memory.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2417","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2417/events","html_url":"https://github.com/slimphp/Slim/issues/2417","id":303276566,"node_id":"MDU6SXNzdWUzMDMyNzY1NjY=","number":2417,"title":"Prevent mysql column conversion to snake case?","user":{"login":"yossicadaner","id":326006,"node_id":"MDQ6VXNlcjMyNjAwNg==","avatar_url":"https://avatars1.githubusercontent.com/u/326006?v=4","gravatar_id":"","url":"https://api.github.com/users/yossicadaner","html_url":"https://github.com/yossicadaner","followers_url":"https://api.github.com/users/yossicadaner/followers","following_url":"https://api.github.com/users/yossicadaner/following{/other_user}","gists_url":"https://api.github.com/users/yossicadaner/gists{/gist_id}","starred_url":"https://api.github.com/users/yossicadaner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yossicadaner/subscriptions","organizations_url":"https://api.github.com/users/yossicadaner/orgs","repos_url":"https://api.github.com/users/yossicadaner/repos","events_url":"https://api.github.com/users/yossicadaner/events{/privacy}","received_events_url":"https://api.github.com/users/yossicadaner/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-07T22:02:54Z","updated_at":"2018-03-07T22:03:23Z","closed_at":"2018-03-07T22:03:23Z","author_association":"NONE","body":"BS\"D\r\n\r\nIs it possible to prevent column names from being converted to snake-case? I would like to use camel-case.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2413","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2413/events","html_url":"https://github.com/slimphp/Slim/issues/2413","id":301503930,"node_id":"MDU6SXNzdWUzMDE1MDM5MzA=","number":2413,"title":"Slim 3: Would a getBearerToken method be useful in the Slim\\Http\\Request class?","user":{"login":"RobDWaller","id":634080,"node_id":"MDQ6VXNlcjYzNDA4MA==","avatar_url":"https://avatars2.githubusercontent.com/u/634080?v=4","gravatar_id":"","url":"https://api.github.com/users/RobDWaller","html_url":"https://github.com/RobDWaller","followers_url":"https://api.github.com/users/RobDWaller/followers","following_url":"https://api.github.com/users/RobDWaller/following{/other_user}","gists_url":"https://api.github.com/users/RobDWaller/gists{/gist_id}","starred_url":"https://api.github.com/users/RobDWaller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobDWaller/subscriptions","organizations_url":"https://api.github.com/users/RobDWaller/orgs","repos_url":"https://api.github.com/users/RobDWaller/repos","events_url":"https://api.github.com/users/RobDWaller/events{/privacy}","received_events_url":"https://api.github.com/users/RobDWaller/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-01T18:05:11Z","updated_at":"2018-03-09T13:46:48Z","closed_at":"2018-03-09T13:46:40Z","author_association":"NONE","body":"I've recently been using Slim to do some API and authorisation research and one of the issues I've come across is accessing authorisation attribute values from the header, for example when using JWTs.\r\n\r\nUnless I've missed something I don't believe you can access authorisation attribute values like bearer tokens directly in Slim 3? You have to write some custom code in your own business logic. I assume that most Slim users would find direct access to authorisation attributes useful?\r\n\r\nAs such I've written some code to achieve this level of functionality, you can see the compare here...\r\nhttps://github.com/slimphp/Slim/compare/3.x...RobDWaller:request-bearer-token-additions\r\n\r\nBefore I bother submitting a pull request though I'd like feedback on whether it's required, whether it's useful, and whether it's appropriate for the Slim framework as I'm acutely aware that I'm new to it and therefore may not fully grasp the underlying principles.\r\n\r\nI'm aware that this isn't part of the PSR-7 standard, but it may be useful and other frameworks offer similar functionality. I've also attempted to align my code style with the Slim style, please let me know if you have any thoughts on this also. \r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2412","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2412/events","html_url":"https://github.com/slimphp/Slim/issues/2412","id":301483823,"node_id":"MDU6SXNzdWUzMDE0ODM4MjM=","number":2412,"title":"Slim 2 - too long lines.","user":{"login":"ndobromirov","id":1191506,"node_id":"MDQ6VXNlcjExOTE1MDY=","avatar_url":"https://avatars3.githubusercontent.com/u/1191506?v=4","gravatar_id":"","url":"https://api.github.com/users/ndobromirov","html_url":"https://github.com/ndobromirov","followers_url":"https://api.github.com/users/ndobromirov/followers","following_url":"https://api.github.com/users/ndobromirov/following{/other_user}","gists_url":"https://api.github.com/users/ndobromirov/gists{/gist_id}","starred_url":"https://api.github.com/users/ndobromirov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ndobromirov/subscriptions","organizations_url":"https://api.github.com/users/ndobromirov/orgs","repos_url":"https://api.github.com/users/ndobromirov/repos","events_url":"https://api.github.com/users/ndobromirov/events{/privacy}","received_events_url":"https://api.github.com/users/ndobromirov/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-01T17:02:21Z","updated_at":"2018-03-02T19:30:03Z","closed_at":"2018-03-02T19:30:03Z","author_association":"NONE","body":"In the dependency container get method, the expression `$this->data[$this->normalizeKey($key)]` is evaluated 2 or 3 times when the key is present. Consider having a temporary variable for it to spare PHP the function calls and multiple array de-referencing.\r\n\r\n```php\r\n    /**\r\n     * Get data value with key\r\n     * @param  string $key     The data key\r\n     * @param  mixed  $default The value to return if data key does not exist\r\n     * @return mixed           The data value, or the default value\r\n     */\r\n    public function get($key, $default = null)\r\n    {\r\n        if ($this->has($key)) {\r\n            $isInvokable = is_object($this->data[$this->normalizeKey($key)]) && method_exists($this->data[$this->normalizeKey($key)], '__invoke');\r\n            return $isInvokable ? $this->data[$this->normalizeKey($key)]($this) : $this->data[$this->normalizeKey($key)];\r\n        }\r\n        return $default;\r\n    }\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2410","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2410/events","html_url":"https://github.com/slimphp/Slim/issues/2410","id":300952075,"node_id":"MDU6SXNzdWUzMDA5NTIwNzU=","number":2410,"title":"Should Slim 4 switch to Symfony 4 Router?","user":{"login":"l0gicgate","id":6510935,"node_id":"MDQ6VXNlcjY1MTA5MzU=","avatar_url":"https://avatars2.githubusercontent.com/u/6510935?v=4","gravatar_id":"","url":"https://api.github.com/users/l0gicgate","html_url":"https://github.com/l0gicgate","followers_url":"https://api.github.com/users/l0gicgate/followers","following_url":"https://api.github.com/users/l0gicgate/following{/other_user}","gists_url":"https://api.github.com/users/l0gicgate/gists{/gist_id}","starred_url":"https://api.github.com/users/l0gicgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0gicgate/subscriptions","organizations_url":"https://api.github.com/users/l0gicgate/orgs","repos_url":"https://api.github.com/users/l0gicgate/repos","events_url":"https://api.github.com/users/l0gicgate/events{/privacy}","received_events_url":"https://api.github.com/users/l0gicgate/received_events","type":"User","site_admin":false},"labels":[{"id":372378249,"node_id":"MDU6TGFiZWwzNzIzNzgyNDk=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%204","name":"Slim 4","color":"fbca04","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":28,"created_at":"2018-02-28T09:35:50Z","updated_at":"2018-03-13T21:32:03Z","closed_at":"2018-03-13T21:32:03Z","author_association":"NONE","body":"There are some drawbacks with the current routing functionality provided by **Nikic/FastRoute** as discussed in #2409. Unfortunately the proposed fix would most likely degrade performance since it has to iterate over every character in the route patterns.\r\n\r\n**Symfony 4 Router** is advertised as being the fastest out there and provides unicode capabilities as of **3.2**. It is able to achieve this performance by compiling route patterns and using a regex tree which is much faster than the proposed solution in #2409.\r\n\r\n**Nikic/FastRoute** has said that it would not provide support at the moment for this issue.\r\n\r\nIn the hypothetical situation that **Symfony 4 Router** would support all of the route patterns and features in **Slim 3** and hopefully a significant performance boost as well as unicode capabilities, would you be in favor of switching for **Slim 4**?","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2403","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2403/events","html_url":"https://github.com/slimphp/Slim/issues/2403","id":298445177,"node_id":"MDU6SXNzdWUyOTg0NDUxNzc=","number":2403,"title":"Slim 3.X middleware order verification","user":{"login":"conrad10781","id":238705,"node_id":"MDQ6VXNlcjIzODcwNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/238705?v=4","gravatar_id":"","url":"https://api.github.com/users/conrad10781","html_url":"https://github.com/conrad10781","followers_url":"https://api.github.com/users/conrad10781/followers","following_url":"https://api.github.com/users/conrad10781/following{/other_user}","gists_url":"https://api.github.com/users/conrad10781/gists{/gist_id}","starred_url":"https://api.github.com/users/conrad10781/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conrad10781/subscriptions","organizations_url":"https://api.github.com/users/conrad10781/orgs","repos_url":"https://api.github.com/users/conrad10781/repos","events_url":"https://api.github.com/users/conrad10781/events{/privacy}","received_events_url":"https://api.github.com/users/conrad10781/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2018-02-20T01:24:37Z","updated_at":"2018-02-28T15:05:06Z","closed_at":"2018-02-28T14:25:02Z","author_association":"NONE","body":"I've done my best to research the documentation or another issue that clarifies this, and I apologize if there is something that provides clarity to this.\r\n\r\nUsing the LIFO ( last in first out ) approach, my thought would be when executing the following:\r\n\r\n```php\r\nclass Middleware_Test\r\n{\r\n    protected $_name;\r\n    \r\n    public function __construct($name)\r\n    {\r\n        $this->_name = $name;\r\n    }\r\n    \r\n    public function __invoke(\\Slim\\Http\\Request $request, \\Slim\\Http\\Response $response, $next)\r\n    {\r\n        print \"\\nHELLO FROM {$this->_name} Middleware\";\r\n        \r\n        $response = $next($request, $response);\r\n        \r\n        return $response;\r\n    }\r\n}\r\n\r\nrequire \"../vendor/autoload.php\";\r\n\r\n$app = new \\Slim\\App();\r\n\r\n$app->add(new Middleware_Test(\"Middleware1\"));\r\n$app->add(new Middleware_Test(\"Middleware2\"));\r\n$app->add(new Middleware_Test(\"Middleware3\"));\r\n\r\n$app->group(\"/some/path\", function ()  {\r\n    $this->get(\"/{testing}\", function ($request, $response, $args) {\r\n        return $response->write(\"Middleware Test Response\");\r\n    })->add(new Middleware_Test(\"Middleware6\"))->add(new Middleware_Test(\"Middleware7\"));\r\n})->add(new Middleware_Test(\"Middleware4\"))->add(new Middleware_Test(\"Middleware5\"));\r\n    \r\n$app->run();\r\n\r\n\r\n\r\n```\r\n\r\nThat the order of execution would be:\r\n\r\n```\r\nHELLO FROM Middleware7 Middleware\r\nHELLO FROM Middleware6 Middleware\r\nHELLO FROM Middleware5 Middleware\r\nHELLO FROM Middleware4 Middleware\r\nHELLO FROM Middleware3 Middleware\r\nHELLO FROM Middleware2 Middleware\r\nHELLO FROM Middleware1 Middleware\r\n```\r\n\r\nThe logic being that the sequence is following what I believe to be the declaration and ultimately the application's logic. \r\n\r\nMiddleware1/Middleware2 are added before any routes are set, before any routing logic was processed.\r\n\r\nThen, as FastRoute matches the group the groups Middleware is added, and finally the matching route's middleware inside the group gets added.\r\n\r\nInstead the order is:\r\n\r\n```\r\nHELLO FROM Middleware3 Middleware\r\nHELLO FROM Middleware2 Middleware\r\nHELLO FROM Middleware1 Middleware\r\nHELLO FROM Middleware5 Middleware\r\nHELLO FROM Middleware4 Middleware\r\nHELLO FROM Middleware7 Middleware\r\nHELLO FROM Middleware6 Middleware\r\n```\r\n\r\nI'm having some difficulty following the logic of the order. It's the LIFO of the application, then the group specific LIFO ( if applicable ), then the route specific LIFO. \r\n\r\nI could /possibly/ see if the order was 5,4,7,6,3,2,1 that the order of the group and specific route were just swapped, but still ahead of the application. However with the application, group and route all seemingly out of order from their declaration order, I'm a bit confused.\r\n\r\nProvided this is expected, can someone provide the explanation on this order of execution?\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2402","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2402/events","html_url":"https://github.com/slimphp/Slim/issues/2402","id":298431374,"node_id":"MDU6SXNzdWUyOTg0MzEzNzQ=","number":2402,"title":"[Questions] Slim 4","user":{"login":"RyanNerd","id":10543911,"node_id":"MDQ6VXNlcjEwNTQzOTEx","avatar_url":"https://avatars2.githubusercontent.com/u/10543911?v=4","gravatar_id":"","url":"https://api.github.com/users/RyanNerd","html_url":"https://github.com/RyanNerd","followers_url":"https://api.github.com/users/RyanNerd/followers","following_url":"https://api.github.com/users/RyanNerd/following{/other_user}","gists_url":"https://api.github.com/users/RyanNerd/gists{/gist_id}","starred_url":"https://api.github.com/users/RyanNerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyanNerd/subscriptions","organizations_url":"https://api.github.com/users/RyanNerd/orgs","repos_url":"https://api.github.com/users/RyanNerd/repos","events_url":"https://api.github.com/users/RyanNerd/events{/privacy}","received_events_url":"https://api.github.com/users/RyanNerd/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-02-19T23:54:30Z","updated_at":"2018-02-21T06:34:33Z","closed_at":"2018-02-21T06:34:33Z","author_association":"NONE","body":"1) Is the current 4.x branch in a _working_ state? (Can i create a simple hello world skeleton app and it will work?)\r\n2) Is Slim 4 going to continue to use Pimple, or switching to PHP-DI, or dropping DI internally? (The reason I ask is that I use `php-di/slim-bridge` exclusively in all my projects that leverage Slim. I also have made contributions to `slim-bridge` and would like to _keep up_ with any changes that may be needed for 4.x.)\r\n3) I've looked through issues marked as _Slim 4_, but haven't found any I feel qualified to help with. Are there any issues for 4.x that need attention but are not posted to issues that I could assist with?\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2401","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2401/events","html_url":"https://github.com/slimphp/Slim/issues/2401","id":298397979,"node_id":"MDU6SXNzdWUyOTgzOTc5Nzk=","number":2401,"title":"README.md has two broken links","user":{"login":"RyanNerd","id":10543911,"node_id":"MDQ6VXNlcjEwNTQzOTEx","avatar_url":"https://avatars2.githubusercontent.com/u/10543911?v=4","gravatar_id":"","url":"https://api.github.com/users/RyanNerd","html_url":"https://github.com/RyanNerd","followers_url":"https://api.github.com/users/RyanNerd/followers","following_url":"https://api.github.com/users/RyanNerd/following{/other_user}","gists_url":"https://api.github.com/users/RyanNerd/gists{/gist_id}","starred_url":"https://api.github.com/users/RyanNerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RyanNerd/subscriptions","organizations_url":"https://api.github.com/users/RyanNerd/orgs","repos_url":"https://api.github.com/users/RyanNerd/repos","events_url":"https://api.github.com/users/RyanNerd/events{/privacy}","received_events_url":"https://api.github.com/users/RyanNerd/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-19T20:51:50Z","updated_at":"2018-02-23T20:24:33Z","closed_at":"2018-02-23T20:24:33Z","author_association":"NONE","body":"The pugx.org domain these stats are coming from may be down:\r\n\r\n```\r\n[![Total Downloads](https://poser.pugx.org/slim/slim/downloads)](https://packagist.org/packages/slim/slim)\r\n[![License](https://poser.pugx.org/slim/slim/license)](https://packagist.org/packages/slim/slim)\r\n```","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2399","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2399/events","html_url":"https://github.com/slimphp/Slim/issues/2399","id":297712381,"node_id":"MDU6SXNzdWUyOTc3MTIzODE=","number":2399,"title":"Custom Dispatcher Implementation for 3.x/4.x","user":{"login":"l0gicgate","id":6510935,"node_id":"MDQ6VXNlcjY1MTA5MzU=","avatar_url":"https://avatars2.githubusercontent.com/u/6510935?v=4","gravatar_id":"","url":"https://api.github.com/users/l0gicgate","html_url":"https://github.com/l0gicgate","followers_url":"https://api.github.com/users/l0gicgate/followers","following_url":"https://api.github.com/users/l0gicgate/following{/other_user}","gists_url":"https://api.github.com/users/l0gicgate/gists{/gist_id}","starred_url":"https://api.github.com/users/l0gicgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0gicgate/subscriptions","organizations_url":"https://api.github.com/users/l0gicgate/orgs","repos_url":"https://api.github.com/users/l0gicgate/repos","events_url":"https://api.github.com/users/l0gicgate/events{/privacy}","received_events_url":"https://api.github.com/users/l0gicgate/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-16T08:36:35Z","updated_at":"2018-02-23T22:28:19Z","closed_at":"2018-02-23T22:28:19Z","aut
56b3
hor_association":"NONE","body":"As discussed on Slack, there are a few issues with the way `FastRoute\\Dispatcher` returns information after a route has been dispatched.\r\n\r\n**Issues**\r\n- `FastRoute\\Dispatcher::dispatch()` returns an array with an inconsistent structure\r\n- It only appends allowed methods to the return value when no allowed methods have been found on the dispatched route.\r\n\r\n**Solution**\r\nAs discussed, I proposed that we implement our own dispatcher based on the logic found in  `FastRoute\\Dispatcher\\GroupCountBased`. Our dispatcher would return a `DispatcherResults` object which would have the following methods:\r\n- `::getStatus()` which would return `Dispatcher::FOUND`, `Dispatcher::NOT_ALLOWED` or `Dispatcher::NOT_FOUND`\r\n- `::getAllowedMethods()` which would return the allowed methods for dispatched route. This would be done dynamically as it has to loop through all the routes in order to compute the allowed methods. This is the exact reason why at the moment it is only done when the `Dispatcher::NOT_ALLOWED` status is being returned. This way, we offset the overhead on the end-user when they call this method.\r\n- `::getHandler()` when the route is found, this is the way we get the handler (callable) associated with the found route.\r\n\r\n**Implementation**\r\n@akrabat mentioned that we could implement this in `3.x` and append the `DispatcherResults` object generated to a request attribute `dispatcherResults` or `dispatchResult` and consequently phase out `routeInfo` on `4.x` which is currently being appended while routing is done.\r\n\r\n**Questions**\r\n- Are you in favor of this implementation?\r\n- Should we implement it in `3.x` and phase out `routeInfo` in `4.x`\r\n- Should the new attribute be called `dispatchResult` or `dispatcherResults`\r\n- Should the object returned by our dispatcher be `DispatcherResults` or `DispatchResults` or something else.\r\n\r\n**Status**\r\n- Proof of concept of custom Dispatcher can be seen [here](https://gist.github.com/l0gicgate/b47f084f7180ca119e06cc4fc55ee99b)\r\n- Need to finalize discussion","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2394","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2394/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2394/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2394/events","html_url":"https://github.com/slimphp/Slim/issues/2394","id":296010564,"node_id":"MDU6SXNzdWUyOTYwMTA1NjQ=","number":2394,"title":"getBaseUrl returns the wrong port when using ngrok","user":{"login":"jamiemtdwyer","id":16005948,"node_id":"MDQ6VXNlcjE2MDA1OTQ4","avatar_url":"https://avatars0.githubusercontent.com/u/16005948?v=4","gravatar_id":"","url":"https://api.github.com/users/jamiemtdwyer","html_url":"https://github.com/jamiemtdwyer","followers_url":"https://api.github.com/users/jamiemtdwyer/followers","following_url":"https://api.github.com/users/jamiemtdwyer/following{/other_user}","gists_url":"https://api.github.com/users/jamiemtdwyer/gists{/gist_id}","starred_url":"https://api.github.com/users/jamiemtdwyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamiemtdwyer/subscriptions","organizations_url":"https://api.github.com/users/jamiemtdwyer/orgs","repos_url":"https://api.github.com/users/jamiemtdwyer/repos","events_url":"https://api.github.com/users/jamiemtdwyer/events{/privacy}","received_events_url":"https://api.github.com/users/jamiemtdwyer/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-09T21:01:15Z","updated_at":"2018-05-15T14:16:50Z","closed_at":"2018-05-15T14:16:49Z","author_association":"NONE","body":"I'm building an example application that interfaces with an OAuth Provider (in this case, Shopify).\r\n\r\nThe `redirect_uri` must be passed in to the external service as an absolute URL, so I am using the following code to accomplish this:\r\n\r\n```\r\n$baseUrl = $request->getUri()->getBaseUrl();\r\n$redirectUri = $baseUrl . $this->router->pathFor('oAuthCallback');\r\n$installUrl = \"https://{$shop}/admin/oauth/authorize?client_id={$apiKey}&scope={$scope}&redirect_uri={$redirectUri}\";\r\n```\r\n\r\nwhere `oAuthCallback` is the name of my OAuth callback route that the user should be redirected to after authorizing the application.\r\n\r\nThis works fine except when using a tunnelling service (ngrok), in which case `getBaseUrl` returns `http://b6008d35.ngrok.io:8000`. My PHP server is running locally on port 8000, but the tunnelling service is running on port 80. I would expect that `getBaseUrl` would return `http://b6008d35.ngrok.io:80` or better yet, simply `http://b6008d35.ngrok.io`.\r\n\r\nI'm trying to avoid the need for hard coding the expected path in an environment variable, but at this point it seems inevitable.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2393","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2393/events","html_url":"https://github.com/slimphp/Slim/issues/2393","id":295715041,"node_id":"MDU6SXNzdWUyOTU3MTUwNDE=","number":2393,"title":"Difference between displayErrorDetails and printing to error log","user":{"login":"edudobay","id":4432091,"node_id":"MDQ6VXNlcjQ0MzIwOTE=","avatar_url":"https://avatars3.githubusercontent.com/u/4432091?v=4","gravatar_id":"","url":"https://api.github.com/users/edudobay","html_url":"https://github.com/edudobay","followers_url":"https://api.github.com/users/edudobay/followers","following_url":"https://api.github.com/users/edudobay/following{/other_user}","gists_url":"https://api.github.com/users/edudobay/gists{/gist_id}","starred_url":"https://api.github.com/users/edudobay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edudobay/subscriptions","organizations_url":"https://api.github.com/users/edudobay/orgs","repos_url":"https://api.github.com/users/edudobay/repos","events_url":"https://api.github.com/users/edudobay/events{/privacy}","received_events_url":"https://api.github.com/users/edudobay/received_events","type":"User","site_admin":false},"labels":[{"id":372378249,"node_id":"MDU6TGFiZWwzNzIzNzgyNDk=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%204","name":"Slim 4","color":"fbca04","default":false},{"id":51488,"node_id":"MDU6TGFiZWw1MTQ4OA==","url":"https://api.github.com/repos/slimphp/Slim/labels/new%20feature","name":"new feature","color":"3cab43","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-02-09T00:32:00Z","updated_at":"2018-03-15T04:04:29Z","closed_at":"2018-03-15T04:04:29Z","author_association":"NONE","body":"Hi! I was configuring error reporting for an application and started to wonder about the `displayErrorDetails` setting: why is displaying errors to the client coupled to *not showing them on the log*? There are use cases during development where I might want to display the errors to the client but also have them at the log (e.g. if the client may be a mobile app or another application which might not give me a chance to look at the full response body).\r\n\r\nOverall, it seems to me that switching displaying of error details and printing to the log are separate concepts and should be independent settings. Does this make sense to implement? Of course Slim is not a logging framework and the implementation for this should be kept simple. I would be happy to contribute a PR for this!","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2392","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2392/events","html_url":"https://github.com/slimphp/Slim/issues/2392","id":295632143,"node_id":"MDU6SXNzdWUyOTU2MzIxNDM=","number":2392,"title":"Dependency Container Initializes at every request","user":{"login":"oakbani","id":14175871,"node_id":"MDQ6VXNlcjE0MTc1ODcx","avatar_url":"https://avatars1.githubusercontent.com/u/14175871?v=4","gravatar_id":"","url":"https://api.github.com/users/oakbani","html_url":"https://github.com/oakbani","followers_url":"https://api.github.com/users/oakbani/followers","following_url":"https://api.github.com/users/oakbani/following{/other_user}","gists_url":"https://api.github.com/users/oakbani/gists{/gist_id}","starred_url":"https://api.github.com/users/oakbani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oakbani/subscriptions","organizations_url":"https://api.github.com/users/oakbani/orgs","repos_url":"https://api.github.com/users/oakbani/repos","events_url":"https://api.github.com/users/oakbani/events{/privacy}","received_events_url":"https://api.github.com/users/oakbani/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-08T19:13:45Z","updated_at":"2018-02-28T14:19:14Z","closed_at":"2018-02-28T14:19:08Z","author_association":"NONE","body":"Slim docs say that container is initialized once and is provided where it's needed. Is this once in the application lifecycle or the request response cycle? \r\nI have to create a custom library object which I add as a service to the container.  The object is initialized by a JSON file that is downloaded from a http address. The problem that I am facing is that on every single request the datafile is downloaded and object is initialized again. This makes the app very slow. I obseeve similar behavior with any other controller that I register as a service. How do I solve this? I want some sort of static persistence till the server stops","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2391","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2391/events","html_url":"https://github.com/slimphp/Slim/issues/2391","id":294166333,"node_id":"MDU6SXNzdWUyOTQxNjYzMzM=","number":2391,"title":"Slim always removes port from Host: header","user":{"login":"garnold","id":83754,"node_id":"MDQ6VXNlcjgzNzU0","avatar_url":"https://avatars0.githubusercontent.com/u/83754?v=4","gravatar_id":"","url":"https://api.github.com/users/garnold","html_url":"https://github.com/garnold","followers_url":"https://api.github.com/users/garnold/followers","following_url":"https://api.github.com/users/garnold/following{/other_user}","gists_url":"https://api.github.com/users/garnold/gists{/gist_id}","starred_url":"https://api.github.com/users/garnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garnold/subscriptions","organizations_url":"https://api.github.com/users/garnold/orgs","repos_url":"https://api.github.com/users/garnold/repos","events_url":"https://api.github.com/users/garnold/events{/privacy}","received_events_url":"https://api.github.com/users/garnold/received_events","type":"User","site_admin":false},"labels":[{"id":340608415,"node_id":"MDU6TGFiZWwzNDA2MDg0MTU=","url":"https://api.github.com/repos/slimphp/Slim/labels/help%20wanted","name":"help wanted","color":"d4c5f9","default":true},{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-04T03:27:26Z","updated_at":"2018-04-14T09:06:39Z","closed_at":"2018-04-14T09:06:39Z","author_association":"NONE","body":"It appears that Slim is always overwriting the `Host:` header and dropping the port. [I believe the `||` should be an `&&` here](https://github.com/slimphp/Slim/blob/3.x/Slim/Http/Request.php#L200).","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2390","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2390/events","html_url":"https://github.com/slimphp/Slim/issues/2390","id":294034618,"node_id":"MDU6SXNzdWUyOTQwMzQ2MTg=","number":2390,"title":"Unexpected: 404 Not Found response does not trigger notFoundHandler","user":{"login":"garnold","id":83754,"node_id":"MDQ6VXNlcjgzNzU0","avatar_url":"https://avatars0.githubusercontent.com/u/83754?v=4","gravatar_id":"","url":"https://api.github.com/users/garnold","html_url":"https://github.com/garnold","followers_url":"https://api.github.com/users/garnold/followers","following_url":"https://api.github.com/users/garnold/following{/other_user}","gists_url":"https://api.github.com/users/garnold/gists{/gist_id}","starred_url":"https://api.github.com/users/garnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garnold/subscriptions","organizations_url":"https://api.github.com/users/garnold/orgs","repos_url":"https://api.github.com/users/garnold/repos","events_url":"https://api.github.com/users/garnold/events{/privacy}","received_events_url":"https://api.github.com/users/garnold/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-02T21:52:14Z","updated_at":"2018-02-28T14:18:30Z","closed_at":"2018-02-28T14:18:23Z","author_association":"NONE","body":"Hello,\r\n\r\nI incorrectly assumed that returning `$response->withStatus(404)` from our controllers would trigger our configured `notFoundHandler`, but that doesn't appear to be the case. Should we instead be throwing `NotFoundException` from our controllers?\r\n\r\nThanks,\r\nGeoff.","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2389","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2389/events","html_url":"https://github.com/slimphp/Slim/issues/2389","id":292711683,"node_id":"MDU6SXNzdWUyOTI3MTE2ODM=","number":2389,"title":"how to use it with the swoole?","user":{"login":"salamander-mh","id":16663435,"node_id":"MDQ6VXNlcjE2NjYzNDM1","avatar_url":"https://avatars3.githubusercontent.com/u/16663435?v=4","gravatar_id":"","url":"https://api.github.com/users/salamander-mh","html_url":"https://github.com/salamander-mh","followers_url":"https://api.github.com/users/salamander-mh/followers","following_url":"https://api.github.com/users/salamander-mh/following{/other_user}","gists_url":"https://api.github.com/users/salamander-mh/gists{/gist_id}","starred_url":"https://api.github.com/users/salamander-mh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/salamander-mh/subscriptions","organizations_url":"https://api.github.com/users/salamander-mh/orgs","repos_url":"https://api.github.com/users/salamander-mh/repos","events_url":"https://api.github.com/users/salamander-mh/events{/privacy}","received_events_url":"https://api.github.com/users/salamander-mh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-01-30T09:35:32Z","updated_at":"2018-02-19T11:51:41Z","closed_at":"2018-02-19T11:51:41Z","author_association":"NONE","body":"I have read the source code, the request will get data the the environment:\r\n```\r\nif (!isset($container['environment'])) {\r\n    /**\r\n     * This service MUST return a shared instance\r\n     * of \\Slim\\Interfaces\\Http\\EnvironmentInterface.\r\n     *\r\n     * @return EnvironmentInterface\r\n     */\r\n    $container['environment'] = function () {\r\n        return new Environment($_SERVER);\r\n    };\r\n}\r\n```\r\nso, I should add my custom `environment` dependency??\r\n","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2387","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2387/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2387/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2387/events","html_url":"https://github.com/slimphp/Slim/issues/2387","id":292384338,"node_id":"MDU6SXNzdWUyOTIzODQzMzg=","number":2387,"title":"Not possible to use SameSite in cookies","user":{"login":"sg3s","id":1511674,"node_id":"MDQ6VXNlcjE1MTE2NzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1511674?v=4","gravatar_id":"","url":"https://api.github.com/users/sg3s","html_url":"https://github.com/sg3s","followers_url":"https://api.github.com/users/sg3s/followers","following_url":"https://api.github.com/users/sg3s/following{/other_user}","gists_url":"https://api.github.com/users/sg3s/gists{/gist_id}","starred_url":"https://api.github.com/users/sg3s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sg3s/subscriptions","organizations_url":"https://api.github.com/users/sg3s/orgs","repos_url":"https://api.github.com/users/sg3s/repos","events_url":"https://api.github.com/users/sg3s/events{/privacy}","received_events_url":"https://api.github.com/users/sg3s/received_events","type":"User","site_admin":false},"labels":[{"id":210765075,"node_id":"MDU6TGFiZWwyMTA3NjUwNzU=","url":"https://api.github.com/repos/slimphp/Slim/labels/Slim%203","name":"Slim 3","color":"009800","default":false},{"id":51489,"node_id":"MDU6TGFiZWw1MTQ4OQ==","url":"https://api.github.com/repos/slimphp/Slim/labels/improvement","name":"improvement","color":"ffea00","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-01-29T12:11:45Z","updated_at":"2018-04-19T19:18:19Z","closed_at":"2018-04-19T19:18:19Z","author_association":"NONE","body":"It is currently not possible to use the SameSite flag with lax or strict.\r\n\r\nThis flag is fairly new (inception in middle 2016) and intended to mitigate CSRF attacks. \r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\r\n\r\nThis is due to how cookies are built in [Http/Cookies.php](Slim/Slim/Http/Cookies.php), it skips unknown flags.\r\n\r\nAdding this flag should be rather simple, but I've never contributed. I will try to make a proper PR for it (code standard / tests etc).","score":1.0},{"url":"https://api.github.com/repos/slimphp/Slim/issues/2383","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/2383/events","html_url":"https://github.com/slimphp/Slim/issues/2383","id":287933280,"node_id":"MDU6SXNzdWUyODc5MzMyODA=","number":2383,"title":"Case insensitive routes v3","user":{"login":"AmirHosseinKarimi","id":17345129,"node_id":"MDQ6VXNlcjE3MzQ1MTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17345129?v=4","gravatar_id":"","url":"https://api.github.com/users/AmirHosseinKarimi","html_url":"https://github.com/AmirHosseinKarimi","followers_url":"https://api.github.com/users/AmirHosseinKarimi/followers","following_url":"https://api.github.com/users/AmirHosseinKarimi/following{/other_user}","gists_url":"https://api.github.com/users/AmirHosseinKarimi/gists{/gist_id}","starred_url":"https://api.github.com/users/AmirHosseinKarimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmirHosseinKarimi/subscriptions","organizations_url":"https://api.github.com/users/AmirHosseinKarimi/orgs","repos_url":"https://api.github.com/users/AmirHosseinKarimi/repos","events_url":"https://api.github.com/users/AmirHosseinKarimi/events{/privacy}","received_events_url":"https://api.github.com/users/AmirHosseinKarimi/received_events","type":"User","site_admin":false},"labels":[{"id":279496120,"node_id":"MDU6TGFiZWwyNzk0OTYxMjA=","url":"https://api.github.com/repos/slimphp/Slim/labels/question","name":"question","color":"5319e7","default":true}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-11T21:39:50Z","updated_at":"2018-01-25T18:44:32Z","closed_at":"2018-01-25T18:44:32Z","author_association":"NONE","body":"Hi guys.\r\nI completely read #1449 this issue and test ideas but does not work for me.\r\nI need case insensitive route but does not change place holders parameters.\r\nI try to strtolower uri but it changes place holders value and its not good!\r\nAnyone can help me?!","score":1.0}]}
0

