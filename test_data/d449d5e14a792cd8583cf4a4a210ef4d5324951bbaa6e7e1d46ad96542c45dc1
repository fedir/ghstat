HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sat, 09 Jun 2018 08:08:19 GMT
Link: <https://api.github.com/search/issues?q=repo%3Ayesodweb%2Fyesod+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Ayesodweb%2Fyesod+type%3Aissue+state%3Aclosed&page=27>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: CB56:57C5:372DC0F:719E9C1:5B1B8AF3
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 16
X-Ratelimit-Reset: 1528531742
X-Runtime-Rack: 0.305878
X-Xss-Protection: 1; mode=block

8000
{"total_count":809,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1519","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1519/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1519/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1519/events","html_url":"https://github.com/yesodweb/yesod/issues/1519","id":329926815,"node_id":"MDU6SXNzdWUzMjk5MjY4MTU=","number":1519,"title":"yesod subsite function ","user":{"login":"yunis-ali","id":9249408,"node_id":"MDQ6VXNlcjkyNDk0MDg=","avatar_url":"https://avatars2.githubusercontent.com/u/9249408?v=4","gravatar_id":"","url":"https://api.github.com/users/yunis-ali","html_url":"https://github.com/yunis-ali","followers_url":"https://api.github.com/users/yunis-ali/followers","following_url":"https://api.github.com/users/yunis-ali/following{/other_user}","gists_url":"https://api.github.com/users/yunis-ali/gists{/gist_id}","starred_url":"https://api.github.com/users/yunis-ali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yunis-ali/subscriptions","organizations_url":"https://api.github.com/users/yunis-ali/orgs","repos_url":"https://api.github.com/users/yunis-ali/repos","events_url":"https://api.github.com/users/yunis-ali/events{/privacy}","received_events_url":"https://api.github.com/users/yunis-ali/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-06T15:45:58Z","updated_at":"2018-06-06T20:10:55Z","closed_at":"2018-06-06T20:10:55Z","author_association":"NONE","body":"Hi,\r\n\r\nI have an exposed function (a simple function with one Text argument, that performs IO operations and then returns a bool) in my subsite. But every time i call it from my main site `boolVal <- Sub.getVal \"abc\"` it throws the following error: \r\n\r\n`Couldn't match type ‘Sub’ with ‘App’'` <br />\r\n`Expected type: HandlerT App IO Bool` <br />\r\n`Actual type: HandlerT Sub (HandlerT master0 IO) Bool`\r\n\r\nsubsite code snippet\r\n\r\n`type SubHandler a = forall master. Yesod master => HandlerT Sub (HandlerT master IO) a`\r\n\r\n`getVal :: Text -> SubHandler Bool`\r\n`getVal name = do`\r\n    `-- some operations including IO`\r\n    `return False`\r\n\r\nmain site code snippet\r\n\r\n`import Sub`\r\n\r\n`getHomeR :: Handler Html`\r\n`getHomeR = do`\r\n    `boolVal <- Sub.getVal \"abc\"`\r\n    `defaultLayout $ do`\r\n        `$(widgetFile \"home/index\")`\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1512","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1512/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1512/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1512/events","html_url":"https://github.com/yesodweb/yesod/issues/1512","id":326797972,"node_id":"MDU6SXNzdWUzMjY3OTc5NzI=","number":1512,"title":"Textarea instance of ISString class","user":{"login":"pythonissam","id":13606968,"node_id":"MDQ6VXNlcjEzNjA2OTY4","avatar_url":"https://avatars1.githubusercontent.com/u/13606968?v=4","gravatar_id":"","url":"https://api.github.com/users/pythonissam","html_url":"https://github.com/pythonissam","followers_url":"https://api.github.com/users/pythonissam/followers","following_url":"https://api.github.com/users/pythonissam/following{/other_user}","gists_url":"https://api.github.com/users/pythonissam/gists{/gist_id}","starred_url":"https://api.github.com/users/pythonissam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pythonissam/subscriptions","organizations_url":"https://api.github.com/users/pythonissam/orgs","repos_url":"https://api.github.com/users/pythonissam/repos","events_url":"https://api.github.com/users/pythonissam/events{/privacy}","received_events_url":"https://api.github.com/users/pythonissam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-27T08:26:06Z","updated_at":"2018-06-09T05:52:46Z","closed_at":"2018-06-09T05:52:46Z","author_association":"CONTRIBUTOR","body":"Can I make it like this?\r\n\r\n```haskell\r\ninstance IsString Textarea where\r\n  fromString = Textarea . pack\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1511","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1511/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1511/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1511/events","html_url":"https://github.com/yesodweb/yesod/issues/1511","id":322571818,"node_id":"MDU6SXNzdWUzMjI1NzE4MTg=","number":1511,"title":"yesod-bin-1.6.0.2 build failure with GHC 8.4 (cabal 2.2)","user":{"login":"DanBurton","id":713692,"node_id":"MDQ6VXNlcjcxMzY5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/713692?v=4","gravatar_id":"","url":"https://api.github.com/users/DanBurton","html_url":"https://github.com/DanBurton","followers_url":"https://api.github.com/users/DanBurton/followers","following_url":"https://api.github.com/users/DanBurton/following{/other_user}","gists_url":"https://api.github.com/users/DanBurton/gists{/gist_id}","starred_url":"https://api.github.com/users/DanBurton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanBurton/subscriptions","organizations_url":"https://api.github.com/users/DanBurton/orgs","repos_url":"https://api.github.com/users/DanBurton/repos","events_url":"https://api.github.com/users/DanBurton/events{/privacy}","received_events_url":"https://api.github.com/users/DanBurton/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-13T07:31:47Z","updated_at":"2018-05-13T12:14:19Z","closed_at":"2018-05-13T12:14:19Z","author_association":"CONTRIBUTOR","body":"```\r\n[1 of 7] Compiling AddHandler       ( AddHandler.hs, .stack-work/dist/x86_64-osx/Cabal-2.2.0.1/build/yesod/yesod-tmp/AddHandler.o )\r\n\r\n/Users/dan/scratch/yesod-bin-1.6.0.2/AddHandler.hs:13:1: error:\r\n    Could not find module ‘Distribution.PackageDescription.Parse’\r\n    Perhaps you meant\r\n      Distribution.PackageDescription.Parsec (from Cabal-2.2.0.1)\r\n      Distribution.PackageDescription.Check (from Cabal-2.2.0.1)\r\n      Distribution.PackageDescription.Quirks (from Cabal-2.2.0.1)\r\n    Use -v to see a list of the files searched for.\r\n   |\r\n13 | import Distribution.PackageDescription.Parse (readGenericPackageDescription)\r\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\nI was able to reproduce this locally like so:\r\n\r\n```bash\r\nstack unpack yesod-bin-1.6.0.2 && cd yesod-bin-1.6.0.2\r\nedit stack.yaml # add the following stack.yaml\r\nstack build --test --bench --no-run-benchmarks\r\n```\r\n\r\n```yaml\r\n# stack.yaml\r\nresolver: nightly-2018-05-13\r\nextra-deps:\r\n- http-reverse-proxy-0.6.0\r\n```\r\n\r\nSee also: https://github.com/fpco/stackage/issues/3550","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1509","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1509/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1509/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1509/events","html_url":"https://github.com/yesodweb/yesod/issues/1509","id":322060046,"node_id":"MDU6SXNzdWUzMjIwNjAwNDY=","number":1509,"title":"requireAuthId responds with a 303 when according to the docs should respond with a 401","user":{"login":"MarcCoquand","id":182469,"node_id":"MDQ6VXNlcjE4MjQ2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/182469?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcCoquand","html_url":"https://github.com/MarcCoquand","followers_url":"https://api.github.com/users/MarcCoquand/followers","following_url":"https://api.github.com/users/MarcCoquand/following{/other_user}","gists_url":"https://api.github.com/users/MarcCoquand/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcCoquand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcCoquand/subscriptions","organizations_url":"https://api.github.com/users/MarcCoquand/orgs","repos_url":"https://api.github.com/users/MarcCoquand/repos","events_url":"https://api.github.com/users/MarcCoquand/events{/privacy}","received_events_url":"https://api.github.com/users/MarcCoquand/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-10T19:48:17Z","updated_at":"2018-05-12T00:17:00Z","closed_at":"2018-05-12T00:17:00Z","author_association":"NONE","body":"If you modify the default scaffolded yesod website just a little bit to add a requirement that you must be logged in to post a comment like so\r\n\r\n```\r\npostCommentR :: Handler Value\r\npostCommentR = do\r\n    comment <- (requireJsonBody :: Handler Comment)\r\n    requireAuthId\r\n\r\n    insertedComment <- runDB $ insertEntity comment\r\n    returnJson insertedComment\r\n```\r\nif an unauthorized user now tries to post a comment the server will respond with a 303:\r\n```\r\nPOST /comments\r\n  Request Body: {\"message\":\"astt\"}\r\n  Accept: */*\r\n  Status: 303 See Other 0.000244s\r\n```\r\nwhereas the documentation says the following \r\n```Similar to maybeAuthId, but redirects to a login page if user is not authenticated or responds with error 401 if this is an API client (expecting JSON).``` ([source](http://hackage.haskell.org/package/yesod-auth-1.6.3/docs/Yesod-Auth.html#v:loginHandler)). The issue then is that the ajax call in homepage.julius considers this a success and adds an empty comment (but at least that doesn't get added to the database). The homepage.julius looks like the following so it should be correct:\r\n```\r\n$(function() {\r\n  $(\"##{rawJS commentFormId}\").submit(function(event) {\r\n    event.preventDefault();\r\n\r\n    var message = $(\"##{rawJS commentTextareaId}\").val();\r\n    // (Browsers that enforce the \"required\" attribute on the textarea won't see this alert)\r\n    if (!message) {\r\n      alert(\"Please fill out the comment form first.\");\r\n      return;\r\n    }\r\n\r\n    // Make an AJAX request to the server to create a new comment\r\n    $.ajax({\r\n      url: '@{CommentR}',\r\n      type: 'POST',\r\n      contentType: \"application/json\",\r\n      data: JSON.stringify({\r\n        message: message,\r\n      }),\r\n      success: function (data) {\r\n        var newNode = $(\"<li></li>\");\r\n        newNode.text(data.message);\r\n        console.log(data);\r\n        $(\"##{rawJS commentListId}\").append(newNode);\r\n      },\r\n      error: function (data) {\r\n        console.log(\"Error creating comment: \" + data);\r\n      },\r\n    });\r\n\r\n  });\r\n});\r\n```","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1500","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1500/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1500/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1500/events","html_url":"https://github.com/yesodweb/yesod/issues/1500","id":311997128,"node_id":"MDU6SXNzdWUzMTE5OTcxMjg=","number":1500,"title":"type signature of GoogleEmail2.getPerson seems wrong","user":{"login":"rnons","id":1082650,"node_id":"MDQ6VXNlcjEwODI2NTA=","avatar_url":"https://avatars3.githubusercontent.com/u/1082650?v=4","gravatar_id":"","url":"https://api.github.com/users/rnons","html_url":"https://github.com/rnons","followers_url":"https://api.github.com/users/rnons/followers","following_url":"https://api.github.com/users/rnons/following{/other_user}","gists_url":"https://api.github.com/users/rnons/gists{/gist_id}","starred_url":"https://api.github.com/users/rnons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnons/subscriptions","organizations_url":"https://api.github.com/users/rnons/orgs","repos_url":"https://api.github.com/users/rnons/repos","events_url":"https://api.github.com/users/rnons/events{/privacy}","received_events_url":"https://api.github.com/users/rnons/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-06T14:27:51Z","updated_at":"2018-04-09T13:38:31Z","closed_at":"2018-04-09T13:38:31Z","author_association":"CONTRIBUTOR","body":"Not exactly sure if it's an issue. Playing with a newly scaffolded yesod-1.6.0 site, I added following code to `Foundation.hs`\r\n\r\n```haskell\r\nimport Yesod.Auth.GoogleEmail2 as G\r\n...\r\n    authenticate :: (MonadHandler m, HandlerSite m ~ App)\r\n                 => Creds App -> m (AuthenticationResult App)\r\n    authenticate (Creds _ email _) = do\r\n      mToken <- G.getUserAccessToken\r\n      case mToken of\r\n        Nothing -> pure $ ServerError \"failed to get user token.\"\r\n        Just token -> do\r\n          manager <- authHttpManager\r\n          mPerson <- G.getPerson manager token\r\n          pure $ ServerError \"undefined\"\r\n```\r\nAnd get the following error\r\n\r\n```error\r\n    • Could not deduce: SubHandlerSite m ~ Auth\r\n      from the context: (MonadHandler m, HandlerSite m ~ App)\r\n        bound by the type signature for:\r\n                   authenticate :: forall (m :: * -> *).\r\n                                   (MonadHandler m, HandlerSite m ~ App) =>\r\n                                   Creds App -> m (AuthenticationResult App)\r\n```\r\n\r\nIf I change the type signature of `getPerson`\r\n\r\n```diff\r\n- getPerson :: Manager -> Token -> AuthHandler site (Maybe Person)\r\n+ getPerson :: MonadHandler m => Manager -> Token -> m (Maybe Person)\r\n```\r\nit compiles.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1498","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1498/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1498/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1498/events","html_url":"https://github.com/yesodweb/yesod/issues/1498","id":309237535,"node_id":"MDU6SXNzdWUzMDkyMzc1MzU=","number":1498,"title":"[Suggestion] Implement `delete` like `post` or `get`","user":{"login":"pythonissam","id":13606968,"node_id":"MDQ6VXNlcjEzNjA2OTY4","avatar_url":"https://avatars1.githubusercontent.com/u/13606968?v=4","gravatar_id":"","url":"https://api.github.com/users/pythonissam","html_url":"https://github.com/pythonissam","followers_url":"https://api.github.com/users/pythonissam/followers","following_url":"https://api.github.com/users/pythonissam/following{/other_user}","gists_url":"https://api.github.com/users/pythonissam/gists{/gist_id}","starred_url":"https://api.github.com/users/pythonissam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pythonissam/subscriptions","organizations_url":"https://api.github.com/users/pythonissam/orgs","repos_url":"https://api.github.com/users/pythonissam/repos","events_url":"https://api.github.com/users/pythonissam/events{/privacy}","received_events_url":"https://api.github.com/users/pythonissam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-28T06:32:53Z","updated_at":"2018-06-09T06:13:47Z","closed_at":"2018-06-09T06:13:47Z","author_association":"CONTRIBUTOR","body":"There're [`get`](https://www.stackage.org/haddock/lts-11.2/yesod-test-1.6.2/src/Yesod.Test.html#get) and [`post`](https://www.stackage.org/haddock/lts-11.2/yesod-test-1.6.2/src/Yesod.Test.html#post), but there's no `delete`. Why don't we implement the `delete` version of them?","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1497","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1497/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1497/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1497/events","html_url":"https://github.com/yesodweb/yesod/issues/1497","id":308989795,"node_id":"MDU6SXNzdWUzMDg5ODk3OTU=","number":1497,"title":"How to migrate to yesod-core-1.6","user":{"login":"uuhan","id":3286111,"node_id":"MDQ6VXNlcjMyODYxMTE=","avatar_url":"https://avatars1.githubusercontent.com/u/3286111?v=4","gravatar_id":"","url":"https://api.github.com/users/uuhan","html_url":"https://github.com/uuhan","followers_url":"https://api.github.com/users/uuhan/followers","following_url":"https://api.github.com/users/uuhan/following{/other_user}","gists_url":"https://api.github.com/users/uuhan/gists{/gist_id}","starred_url":"https://api.github.com/users/uuhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uuhan/subscriptions","organizations_url":"https://api.github.com/users/uuhan/orgs","repos_url":"https://api.github.com/users/uuhan/repos","events_url":"https://api.github.com/users/uuhan/events{/privacy}","received_events_url":"https://api.github.com/users/uuhan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-27T14:19:02Z","updated_at":"2018-03-27T14:32:04Z","closed_at":"2018-03-27T14:32:03Z","author_association":"NONE","body":"### Support\r\n\r\nI want to migrate my app to the new version of yesod. Almost everything goes well but the \"catch\" statement.\r\nI need to catch some errors in my app like this:\r\n\r\n```\r\nimport Control.Monad.Catch (catch)\r\n...\r\nputDestR :: Handler ()\r\nputDestR = do\r\n    ...\r\n    maybe\r\n         (sendResponseStatus status503 ())\r\n         (\\m -> catch\r\n                        (do ...some liftIO...)\r\n                        (do ...some log staff...)\r\n         someVar\r\n    ...\r\n```\r\n\r\nBut it seems that \"**catch**\" is no long supported due to [this link](https://www.yesodweb.com/blog/2018/01/upcoming-yesod-breaking-changes).\r\nHow to catch errors in yesod-core-1.6 ?","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1496","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1496/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1496/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1496/events","html_url":"https://github.com/yesodweb/yesod/issues/1496","id":308476266,"node_id":"MDU6SXNzdWUzMDg0NzYyNjY=","number":1496,"title":"Adding `assertFailure` to yesod-test","user":{"login":"pythonissam","id":13606968,"node_id":"MDQ6VXNlcjEzNjA2OTY4","avatar_url":"https://avatars1.githubusercontent.com/u/13606968?v=4","gravatar_id":"","url":"https://api.github.com/users/pythonissam","html_url":"https://github.com/pythonissam","followers_url":"https://api.github.com/users/pythonissam/followers","following_url":"https://api.github.com/users/pythonissam/following{/other_user}","gists_url":"https://api.github.com/users/pythonissam/gists{/gist_id}","starred_url":"https://api.github.com/users/pythonissam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pythonissam/subscriptions","organizations_url":"https://api.github.com/users/pythonissam/orgs","repos_url":"https://api.github.com/users/pythonissam/repos","events_url":"https://api.github.com/users/pythonissam/events{/privacy}","received_events_url":"https://api.github.com/users/pythonissam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-26T08:28:26Z","updated_at":"2018-04-04T08:14:28Z","closed_at":"2018-04-04T08:14:28Z","author_association":"CONTRIBUTOR","body":"[`assertFailure`](https://www.stackage.org/haddock/lts-11.2/HUnit-1.6.0.0/Test-HUnit-Base.html#v:assertFailure) is useful, so I suggest introducing it in `yesod-test`. The implementation would be like this:\r\n\r\n```haskell\r\nimport qualified Test.HUnit.Base as HUnit (assertFailure)\r\n\r\nassertFailure :: HasCallStack => String -> YesodExample site ()\r\nassertFailure = liftIO . HUnit.assertFailure\r\n```\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1491","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1491/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1491/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1491/events","html_url":"https://github.com/yesodweb/yesod/issues/1491","id":302075169,"node_id":"MDU6SXNzdWUzMDIwNzUxNjk=","number":1491,"title":"Hyperlinks in lists are leaking","user":{"login":"yohad","id":10259244,"node_id":"MDQ6VXNlcjEwMjU5MjQ0","avatar_url":"https://avatars1.githubusercontent.com/u/10259244?v=4","gravatar_id":"","url":"https://api.github.com/users/yohad","html_url":"https://github.com/yohad","followers_url":"https://api.github.com/users/yohad/followers","following_url":"https://api.github.com/users/yohad/following{/other_user}","gists_url":"https://api.github.com/users/yohad/gists{/gist_id}","starred_url":"https://api.github.com/users/yohad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yohad/subscriptions","organizations_url":"https://api.github.com/users/yohad/orgs","repos_url":"https://api.github.com/users/yohad/repos","events_url":"https://api.github.com/users/yohad/events{/privacy}","received_events_url":"https://api.github.com/users/yohad/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-04T10:39:21Z","updated_at":"2018-03-04T13:29:43Z","closed_at":"2018-03-04T13:29:42Z","author_association":"NONE","body":"<!---\r\n\r\n### Bug Reports\r\n\r\nReporting a bug? If relevant, we recommend including:\r\n\r\n* Your OS name and version\r\n* The versions of tools you're using (e.g. `stack`, `yesod` `ghc`).\r\n* The versions of dependencies you're using\r\n\r\nFor your convenience, we recommend pasting this script into bash and uploading the output [as a gist](https://gist.github.com/).\r\n\r\n```\r\ncommand -v sw_vers && sw_vers # OS X only\r\ncommand -v uname && uname -a # Kernel version\r\ncommand -v stack && stack --version\r\ncommand -v stack && stack ghc -- --version\r\ncommand -v stack && stack list-dependencies\r\ncommand -v yesod && yesod version\r\n```\r\n\r\n* Also, is there anything custom or unusual about your setup? i.e. new or prerelease versions of GHC, stack, etc.\r\n\r\n* Finally, if possible, please reproduce the error in a small script, or if necessary create a new Github repo with the smallest possible reproducing case. [Stack's scripting support](https://docs.haskellstack.org/en/stable/GUIDE/#script-interpreter) might be useful for creating your reproduction example.\r\n\r\n### Support\r\n\r\nPlease direct support questions to [Stack Overflow](https://stackoverflow.com/questions/tagged/yesod+haskell) or the [Yesod Google Group](https://groups.google.com/forum/#!forum/yesodweb). If you don't get a response there, or you suspect there may be a bug in Yesod causing your problem, you're welcome to ask here.\r\n-->\r\nHi,\r\nI have the following hamlet template:\r\n```\r\n[hamlet|\r\n           <html>\r\n             <head>\r\n               <p>Head\r\n             <body>\r\n               <article>\r\n                 <ul>\r\n                   <li><a href=@{HomeR}>Home\r\n                 <p>Content!\r\n           |]\r\n```\r\nwhich translate to \r\n```\r\n<html>\r\n  <head></head>\r\n  <body>\r\n    <p>Head</p>\r\n    <article>\r\n      <ul>\r\n        <li><a href=\"/\">Home</a></li>\r\n        <a href=\"/\"></a>\r\n      </ul>\r\n      <a href=\"/\"><p>Content!</p></a>\r\n    </article>\r\n    <a href=\"/\"></a>\r\n  </body>\r\n</html>\r\n```\r\nAs you can see, there are hyperlinks in every tag which is quite annoying and not expected.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1489","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1489/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1489/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1489/events","html_url":"https://github.com/yesodweb/yesod/issues/1489","id":302037940,"node_id":"MDU6SXNzdWUzMDIwMzc5NDA=","number":1489,"title":"Yesod.Auth.authHttpManager API change","user":{"login":"psibi","id":737477,"node_id":"MDQ6VXNlcjczNzQ3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/737477?v=4","gravatar_id":"","url":"https://api.github.com/users/psibi","html_url":"https://github.com/psibi","followers_url":"https://api.github.com/users/psibi/followers","following_url":"https://api.github.com/users/psibi/following{/other_user}","gists_url":"https://api.github.com/users/psibi/gists{/gist_id}","starred_url":"https://api.github.com/users/psibi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psibi/subscriptions","organizations_url":"https://api.github.com/users/psibi/orgs","repos_url":"https://api.github.com/users/psibi/repos","events_url":"https://api.github.com/users/psibi/events{/privacy}","received_events_url":"https://api.github.com/users/psibi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-03T22:29:15Z","updated_at":"2018-03-04T13:38:45Z","closed_at":"2018-03-04T13:38:45Z","author_association":"MEMBER","body":"In the recent `unliftio` rewrite, there has been API change of `authHttpManager` from\r\n\r\n```\r\nauthHttpManager :: master -> Manager\r\n```\r\n\r\nto\r\n\r\n```\r\nauthHttpManager :: AuthHandler master Manager\r\n```\r\n\r\nIs this an intended change ? I don't see any specific reason why the old API wouldn't work in the new setup.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1488","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1488/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1488/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1488/events","html_url":"https://github.com/yesodweb/yesod/issues/1488","id":298397499,"node_id":"MDU6SXNzdWUyOTgzOTc0OTk=","number":1488,"title":"Calling maybeAuth and friends in version 1.6","user":{"login":"paul-rouse","id":3332071,"node_id":"MDQ6VXNlcjMzMzIwNzE=","avatar_url":"https://avatars1.githubusercontent.com/u/3332071?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rouse","html_url":"https://github.com/paul-rouse","followers_url":"https://api.github.com/users/paul-rouse/followers","following_url":"https://api.github.com/users/paul-rouse/following{/other_user}","gists_url":"https://api.github.com/users/paul-rouse/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rouse/subscriptions","organizations_url":"https://api.github.com/users/paul-rouse/orgs","repos_url":"https://api.github.com/users/paul-rouse/repos","events_url":"https://api.github.com/users/paul-rouse/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rouse/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-02-19T20:49:36Z","updated_at":"2018-02-20T12:28:24Z","closed_at":"2018-02-20T12:28:24Z","author_association":"CONTRIBUTOR","body":"Am I being totally thick (entirely possible :smile:)?  What is the intended way to upgrade this sort of code to version 1.6, now that `maybeAuth` is in `AuthHandler`?\r\n\r\n```\r\ngetHomeR :: Handler Html\r\ngetHomeR = do\r\n    mauth <- maybeAuth\r\n    ...\r\n```\r\n\r\nI can write a function that runs it, but it messes with the `RunHandlerEnv`, which hardly seems right!  Have I missed something?","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1486","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1486/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1486/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1486/events","html_url":"https://github.com/yesodweb/yesod/issues/1486","id":296746185,"node_id":"MDU6SXNzdWUyOTY3NDYxODU=","number":1486,"title":"Error handling as SomeException","user":{"login":"pbrisbin","id":50812,"node_id":"MDQ6VXNlcjUwODEy","avatar_url":"https://avatars3.githubusercontent.com/u/50812?v=4","gravatar_id":"","url":"https://api.github.com/users/pbrisbin","html_url":"https://github.com/pbrisbin","followers_url":"https://api.github.com/users/pbrisbin/followers","following_url":"https://api.github.com/users/pbrisbin/following{/other_user}","gists_url":"https://api.github.com/users/pbrisbin/gists{/gist_id}","starred_url":"https://api.github.com/users/pbrisbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbrisbin/subscriptions","organizations_url":"https://api.github.com/users/pbrisbin/orgs","repos_url":"https://api.github.com/users/pbrisbin/repos","events_url":"https://api.github.com/users/pbrisbin/events{/privacy}","received_events_url":"https://api.github.com/users/pbrisbin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-13T13:58:21Z","updated_at":"2018-02-13T16:38:58Z","closed_at":"2018-02-13T15:57:28Z","author_association":"MEMBER","body":"We're currently incorporating Bugsnag into our application. To do so effectively, we really want to see the application-level errors as a `SomeException`, so we can report them with an accurate `errorClass` and/or take further action such as custom grouping, ignoring, etc based on exception-specific data.\r\n\r\nCustomizing the `errorHandler` member of `Yesod` only gets access to an already stringified error message in the `InternalError` case, which is not very useful.\r\n\r\nWarp's `onException` setting is the interface we're looking for, but it seems application-level exceptions don't make it out here.\r\n\r\nI really don't want to resort to wrapping every individual handler body with something.\r\n\r\nAm I missing another extension point? If not, would a PR to add one be accepted? If so, any pointers on where or how to do that?","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1480","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1480/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1480/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1480/events","html_url":"https://github.com/yesodweb/yesod/issues/1480","id":292188067,"node_id":"MDU6SXNzdWUyOTIxODgwNjc=","number":1480,"title":"[Suggestion] byLabelContain","user":{"login":"pythonissam","id":13606968,"node_id":"MDQ6VXNlcjEzNjA2OTY4","avatar_url":"https://avatars1.githubusercontent.com/u/13606968?v=4","gravatar_id":"","url":"https://api.github.com/users/pythonissam","html_url":"https://github.com/pythonissam","followers_url":"https://api.github.com/users/pythonissam/followers","following_url":"https://api.github.com/users/pythonissam/following{/other_user}","gists_url":"https://api.github.com/users/pythonissam/gists{/gist_id}","starred_url":"https:/
8000
/api.github.com/users/pythonissam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pythonissam/subscriptions","organizations_url":"https://api.github.com/users/pythonissam/orgs","repos_url":"https://api.github.com/users/pythonissam/repos","events_url":"https://api.github.com/users/pythonissam/events{/privacy}","received_events_url":"https://api.github.com/users/pythonissam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-28T08:32:07Z","updated_at":"2018-02-11T08:22:30Z","closed_at":"2018-02-11T08:22:30Z","author_association":"CONTRIBUTOR","body":"In #1454, we put `byLabel` into deprecated. However, it might be useful when we have labels that are too long to write. Since `byLabel` matches over the prefix of labels, we can shorten their names and pass them to `byLabel`. So I think it's nice if we can rename it as `byLabelContain` and fix existing bugs. Thank you for your consideration.\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1472","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1472/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1472/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1472/events","html_url":"https://github.com/yesodweb/yesod/issues/1472","id":284714687,"node_id":"MDU6SXNzdWUyODQ3MTQ2ODc=","number":1472,"title":"`stack exec -- yesod keter` does not respect `--stack-yaml` option","user":{"login":"jezen","id":1926747,"node_id":"MDQ6VXNlcjE5MjY3NDc=","avatar_url":"https://avatars0.githubusercontent.com/u/1926747?v=4","gravatar_id":"","url":"https://api.github.com/users/jezen","html_url":"https://github.com/jezen","followers_url":"https://api.github.com/users/jezen/followers","following_url":"https://api.github.com/users/jezen/following{/other_user}","gists_url":"https://api.github.com/users/jezen/gists{/gist_id}","starred_url":"https://api.github.com/users/jezen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jezen/subscriptions","organizations_url":"https://api.github.com/users/jezen/orgs","repos_url":"https://api.github.com/users/jezen/repos","events_url":"https://api.github.com/users/jezen/events{/privacy}","received_events_url":"https://api.github.com/users/jezen/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-12-27T12:31:13Z","updated_at":"2017-12-30T16:42:13Z","closed_at":"2017-12-30T16:42:13Z","author_association":"NONE","body":"I'm using a custom `stack.yaml`, which doesn't include a stanza for Nix. Specifying the custom `stack.yaml` works in all cases I've tried, except for with `yesod keter`.\r\n\r\n### Example 1:  With `yesod --help`\r\n\r\nThis fails as I expect\r\n\r\n```\r\n$ stack exec -- yesod --help\r\nExecutable named nix-shell not found on path: [\"/usr/local/sbin\",\"/usr/local/bin\",\"/usr/sbin\",\"/usr/bin\",\"/sbin\",\"/bin\",\"/usr/games\",\"/usr/local/games\"]\r\n```\r\n\r\n…And this works as I expect\r\n\r\n```\r\n$ stack --stack-yaml stack.production.yaml exec -- yesod --help\r\nYesod Web Framework command line utility\r\n\r\nUsage: yesod [-d|--dev] [-v|--verbose] COMMAND\r\n\r\n...etc\r\n```\r\n\r\n### Example 2: With `yesod keter`\r\n\r\nThis fails as I expect\r\n\r\n```\r\n$ stack exec -- yesod keter\r\nExecutable named nix-shell not found on path: [\"/usr/local/sbin\",\"/usr/local/bin\",\"/usr/sbin\",\"/usr/bin\",\"/sbin\",\"/bin\",\"/usr/games\",\"/usr/local/games\"]\r\n```\r\n\r\nI expect the following to work, but it fails.\r\n\r\n```\r\n$ stack --stack-yaml stack.production.yaml exec -- yesod keter\r\nExecutable named nix-shell not found on path: [\"/root/newbusinessmonitor.co.uk/.stack-work/install/x86_64-linux/lts-9.18/8.0.2/bin\",\"/root/.stack/snapshots/x86_64-linux/lts-9.18/8.0.2/bin\",\"/root/.stack/compiler-tools/x86_64-linux/ghc-8.0.2/bin\",\"/root/.stack/programs/x86_64-linux/ghc-8.0.2/bin\",\"/usr/local/sbin\",\"/usr/local/bin\",\"/usr/sbin\",\"/usr/bin\",\"/sbin\",\"/bin\",\"/usr/games\",\"/usr/local/games\"]\r\n```\r\n_I don't know, but it may be interesting that the path described in this failure is not the same as the path described in the previous failure_.\r\n\r\nCuriously enough, specifying the custom `stack.yaml` with an environment variable (which I discovered you could do [here](https://github.com/yesodweb/yesod/blob/master/yesod-bin/Keter.hs#L86)), works just fine\r\n\r\n```\r\n$ STACK_YAML=stack.production.yaml stack exec -- yesod keter\r\nGetting project config file from STACK_YAML environment\r\nnbm-0.0.0: unregistering (local file changes: app/DevelMain.hs app/main.hs nbm.cabal package.yaml src/Application.hs src/Foundation.hs src/GoCa...)\r\nBuilding all executables for `nbm' once. After a successful build of all of them, only specified executables will be rebuilt.\r\nnbm-0.0.0: configure (lib + exe)\r\nConfiguring nbm-0.0.0...\r\netc\r\n```","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1467","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1467/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1467/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1467/events","html_url":"https://github.com/yesodweb/yesod/issues/1467","id":283162894,"node_id":"MDU6SXNzdWUyODMxNjI4OTQ=","number":1467,"title":"yesod-bin-1.5.2.6: Variable not in scope: createSource :: StreamSpec 'STOutput stdout","user":{"login":"juhp","id":82731,"node_id":"MDQ6VXNlcjgyNzMx","avatar_url":"https://avatars3.githubusercontent.com/u/82731?v=4","gravatar_id":"","url":"https://api.github.com/users/juhp","html_url":"https://github.com/juhp","followers_url":"https://api.github.com/users/juhp/followers","following_url":"https://api.github.com/users/juhp/following{/other_user}","gists_url":"https://api.github.com/users/juhp/gists{/gist_id}","starred_url":"https://api.github.com/users/juhp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juhp/subscriptions","organizations_url":"https://api.github.com/users/juhp/orgs","repos_url":"https://api.github.com/users/juhp/repos","events_url":"https://api.github.com/users/juhp/events{/privacy}","received_events_url":"https://api.github.com/users/juhp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-19T09:45:37Z","updated_at":"2017-12-19T10:08:27Z","closed_at":"2017-12-19T10:06:01Z","author_association":"NONE","body":"In Stackage:\r\n\r\n```\r\nDevel.hs:333:36: error:\r\n    Variable not in scope: createSource :: StreamSpec 'STOutput stdout\r\n    |\r\n333 |         let procConfig = setStdout createSource\r\n    |                                    ^^^^^^^^^^^^\r\n\r\nDevel.hs:334:36: error:\r\n    Variable not in scope: createSource :: StreamSpec 'STOutput stderr\r\n    |\r\n334 |                        $ setStderr createSource\r\n    |                                    ^^^^^^^^^^^^\r\n```","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1458","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1458/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1458/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1458/events","html_url":"https://github.com/yesodweb/yesod/issues/1458","id":277657052,"node_id":"MDU6SXNzdWUyNzc2NTcwNTI=","number":1458,"title":"devel.hs not found when using yesod-minimal template","user":{"login":"Asalle","id":4975074,"node_id":"MDQ6VXNlcjQ5NzUwNzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/4975074?v=4","gravatar_id":"","url":"https://api.github.com/users/Asalle","html_url":"https://github.com/Asalle","followers_url":"https://api.github.com/users/Asalle/followers","following_url":"https://api.github.com/users/Asalle/following{/other_user}","gists_url":"https://api.github.com/users/Asalle/gists{/gist_id}","starred_url":"https://api.github.com/users/Asalle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asalle/subscriptions","organizations_url":"https://api.github.com/users/Asalle/orgs","repos_url":"https://api.github.com/users/Asalle/repos","events_url":"https://api.github.com/users/Asalle/events{/privacy}","received_events_url":"https://api.github.com/users/Asalle/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-29T07:40:54Z","updated_at":"2017-11-29T14:09:13Z","closed_at":"2017-11-29T14:09:13Z","author_association":"NONE","body":"### Issue\r\nI'm trying to setup a simple toy-project to get to know yesod, following this [quickstart](https://www.yesodweb.com/page/quickstart).\r\n\r\n`stack new` and `stack build` work fine, but `stack exec -- yesod devel` gives me the following\r\n```\r\n$ stack exec -- yesod devel\r\nYesod devel server. Enter 'quit' or hit Ctrl-C to quit.\r\nyesod: file devel.hs not found, checked: [\"app/devel.hs\",\"devel.hs\",\"src/devel.hs\"]\r\nCallStack (from HasCallStack):\r\n  error, called at ./Devel.hs:222:15 in main:Devel\r\n```\r\n\r\n### Characteristics\r\nOS\r\n ` Ubuntu 17.04`\r\nstack --version\r\n `Version 1.5.1, Git revision 600c1f01435a10d127938709556c1682ecfd694e (4861 commits) x86_64 hpack-0.17.1`\r\nyesod-bin version\r\n` 1.5.2.6`\r\nThe Glorious Glasgow Haskell Compilation System\r\n` version 8.0.2`\r\n/bin/uname\r\n`Linux tux-HP-EliteBook-840-G3 4.10.0-40-generic #44-Ubuntu SMP 2017 x86_64 x86_64 x86_64 GNU/Linux`\r\nstack dependencies\r\n```\r\n/usr/local/bin/stack\r\nCabal 1.24.2.0\r\nReadArgs 1.2.3\r\nStateVar 1.1.0.4\r\nadjunctions 4.3\r\naeson 1.1.2.0\r\naeson-compat 0.3.6\r\naeson-pretty 0.8.5\r\nansi-terminal 0.6.3.1\r\nansi-wl-pprint 0.6.7.3\r\nappar 0.1.4\r\narray 0.5.1.1\r\nasn1-encoding 0.9.5\r\nasn1-parse 0.9.4\r\nasn1-types 0.3.2\r\nasync 2.1.1.1\r\nattoparsec 0.13.1.0\r\nattoparsec-iso8601 1.0.0.0\r\nauto-update 0.1.4\r\nbase 4.9.1.0\r\nbase-compat 0.9.3\r\nbase-orphans 0.6\r\nbase16-bytestring 0.1.1.6\r\nbase64-bytestring 1.0.0.1\r\nbasement 0.0.4\r\nbasic-prelude 0.6.1.1\r\nbifunctors 5.4.2\r\nbinary 0.8.3.0\r\nblaze-builder 0.4.0.2\r\nblaze-html 0.9.0.1\r\nblaze-markup 0.8.0.0\r\nbyteable 0.1.1\r\nbyteorder 1.0.4\r\nbytestring 0.10.8.1\r\nbytestring-builder 0.10.8.1.0\r\ncabal-doctest 1.0.3\r\ncase-insensitive 1.2.0.10\r\ncereal 0.5.4.0\r\nchunked-data 0.3.0\r\ncipher-aes 0.2.11\r\nclassy-prelude 1.2.0.1\r\nclassy-prelude-conduit 1.2.0\r\nclassy-prelude-yesod 1.2.0\r\nclientsession 0.9.1.2\r\ncmdargs 0.10.18\r\ncomonad 5.0.2\r\nconduit 1.2.12.1\r\nconduit-combinators 1.1.1\r\nconduit-extra 1.1.17\r\nconnection 0.2.8\r\nconstraints 0.9.1\r\ncontainers 0.5.7.1\r\ncontravariant 1.4\r\ncookie 0.4.3\r\ncprng-aes 0.6.1\r\ncrypto-api 0.13.2\r\ncrypto-cipher-types 0.0.9\r\ncrypto-random 0.0.9\r\ncryptonite 0.23\r\ncryptonite-conduit 0.2.2\r\ncss-text 0.1.2.2\r\ndata-default 0.7.1.1\r\ndata-default-class 0.1.2.0\r\ndata-default-instances-containers 0.0.1\r\ndata-default-instances-dlist 0.0.1\r\ndata-default-instances-old-locale 0.0.1\r\ndeepseq 1.4.2.0\r\ndeepseq-generics 0.2.0.0\r\ndirectory 1.3.0.0\r\ndistributive 0.5.3\r\ndlist 0.8.0.3\r\ndlist-instances 0.1.1.1\r\neasy-file 0.2.1\r\nemail-validate 2.3.2\r\nentropy 0.3.8\r\nexceptions 0.8.3\r\nfail 4.9.0.0\r\nfast-logger 2.4.10\r\nfile-embed 0.0.10\r\nfilepath 1.4.1.1\r\nfoundation 0.0.17\r\nfree 4.12.4\r\nghc-boot-th 8.0.2\r\nghc-prim 0.5.0.0\r\nhashable 1.2.6.1\r\nhex 0.1.2\r\nhjsmin 0.2.0.2\r\nhourglass 0.2.10\r\nhttp-api-data 0.3.7.1\r\nhttp-client 0.5.7.1\r\nhttp-client-tls 0.3.5.1\r\nhttp-conduit 2.2.3.2\r\nhttp-date 0.0.6.1\r\nhttp-types 0.9.1\r\nhttp2 1.6.3\r\ninteger-gmp 1.0.0.1\r\ninteger-logarithms 1.0.2\r\niproute 1.7.1\r\nkan-extensions 5.0.2\r\nkek 0.0.0\r\nkeys 3.11\r\nlanguage-javascript 0.6.0.10\r\nlifted-async 0.9.3\r\nlifted-base 0.2.3.11\r\nmath-functions 0.2.1.0\r\nmemory 0.14.8\r\nmime-types 0.1.0.7\r\nmmorph 1.0.9\r\nmonad-control 1.0.2.2\r\nmonad-logger 0.3.25.1\r\nmonad-loops 0.4.3\r\nmonad-unlift 0.2.0\r\nmono-traversable 1.0.4.0\r\nmono-traversable-instances 0.1.0.0\r\nmtl 2.2.1\r\nmutable-containers 0.3.3\r\nmwc-random 0.13.6.0\r\nnats 1.1.1\r\nnetwork 2.6.3.2\r\nnetwork-uri 2.6.1.0\r\nold-locale 1.0.0.7\r\nold-time 1.1.0.3\r\noptparse-applicative 0.13.2.0\r\nparsec 3.1.11\r\npath-pieces 0.2.1\r\npem 0.2.2\r\npersistent 2.7.1\r\npersistent-template 2.5.3\r\npointed 5\r\nprelude-extras 0.4.0.3\r\npretty 1.1.3.3\r\nprimitive 0.6.2.0\r\nprocess 1.4.3.0\r\nprofunctors 5.2.1\r\npsqueues 0.2.4.0\r\nrandom 1.1\r\nresource-pool 0.2.3.2\r\nresourcet 1.1.9\r\nrts 1.0\r\nsafe 0.3.15\r\nsafe-exceptions 0.1.6.0\r\nsay 0.1.0.0\r\nscientific 0.3.5.2\r\nsecuremem 0.1.9\r\nsemigroupoids 5.2.1\r\nsemigroups 0.18.3\r\nsetenv 0.1.1.3\r\nshakespeare 2.0.14\r\nsilently 1.2.5\r\nsimple-sendfile 0.2.25\r\nskein 1.0.9.4\r\nsocks 0.5.5\r\nsplit 0.2.3.2\r\nstm 2.4.4.1\r\nstm-chans 3.0.0.4\r\nstreaming-commons 0.1.17\r\nstringsearch 0.3.6.6\r\nsystem-filepath 0.4.13.4\r\ntagged 0.8.5\r\ntagsoup 0.14.1\r\ntemplate-haskell 2.11.1.0\r\ntext 1.2.2.2\r\nth-lift 0.7.7\r\nth-lift-instances 0.1.11\r\ntime 1.6.0.1\r\ntime-locale-compat 0.1.1.3\r\ntls 1.3.11\r\ntransformers 0.5.2.0\r\ntransformers-base 0.4.4\r\ntransformers-compat 0.5.1.4\r\nunix 2.7.2.1\r\nunix-compat 0.4.3.1\r\nunix-time 0.3.7\r\nunordered-containers 0.2.8.0\r\nuri-bytestring 0.2.3.3\r\nutf8-string 1.0.1.1\r\nuuid-types 1.0.3\r\nvault 0.3.0.7\r\nvector 0.12.0.1\r\nvector-algorithms 0.7.0.1\r\nvector-instances 3.4\r\nvector-th-unbox 0.2.1.6\r\nvoid 0.7.2\r\nwai 3.2.1.1\r\nwai-app-static 3.1.6.1\r\nwai-extra 3.0.20.0\r\nwai-logger 2.3.0\r\nwarp 3.2.13\r\nword8 0.1.3\r\nx509 1.7.2\r\nx509-store 1.6.5\r\nx509-system 1.6.6\r\nx509-validation 1.6.9\r\nxml-conduit 1.5.1\r\nxml-types 0.3.6\r\nxss-sanitize 0.3.5.7\r\nyaml 0.8.25\r\nyesod 1.4.5\r\nyesod-core 1.4.37\r\nyesod-form 1.4.16\r\nyesod-newsfeed 1.6\r\nyesod-persistent 1.4.2\r\nyesod-static 1.5.3.1\r\nzlib 0.6.1.2\r\n```\r\n### Logs\r\n\r\n`stack new` log:\r\n```\r\n$ stack new kek yesod-minimal\r\nDownloading template \"yesod-minimal\" to create project \"kek\" in kek/ ...\r\nLooking for .cabal or package.yaml files to use to init the project.\r\nUsing cabal packages:\r\n- kek/kek.cabal\r\n\r\nSelecting the best among 11 snapshots...\r\n\r\n* Matches lts-9.14\r\n\r\nSelected resolver: lts-9.14\r\nInitialising configuration using resolver: lts-9.14\r\nTotal number of user packages considered: 1\r\nWriting configuration to file: kek/stack.yaml\r\nAll done.\r\n\r\n```\r\n`stack build` log:\r\n```\r\n$ stack build\r\ndeepseq-generics-0.2.0.0: configure\r\ndeepseq-generics-0.2.0.0: build\r\ndata-default-instances-containers-0.0.1: configure\r\ndeepseq-generics-0.2.0.0: copy/register\r\ndata-default-instances-containers-0.0.1: build\r\ndata-default-instances-old-locale-0.0.1: configure\r\ndata-default-instances-containers-0.0.1: copy/register\r\ndata-default-instances-old-locale-0.0.1: build\r\ndata-default-instances-dlist-0.0.1: configure\r\ndata-default-instances-old-locale-0.0.1: copy/register\r\ndata-default-instances-dlist-0.0.1: build\r\nentropy-0.3.8: configure\r\ndata-default-instances-dlist-0.0.1: copy/register\r\nentropy-0.3.8: build\r\nmonad-loops-0.4.3: configure\r\nmonad-loops-0.4.3: build\r\npath-pieces-0.2.1: configure\r\npath-pieces-0.2.1: build\r\ndata-default-0.7.1.1: configure\r\nentropy-0.3.8: copy/register\r\ndata-default-0.7.1.1: build\r\ncrypto-api-0.13.2: configure\r\nmonad-loops-0.4.3: copy/register\r\ndata-default-0.7.1.1: copy/register\r\ncrypto-api-0.13.2: build\r\nsafe-0.3.15: configure\r\npath-pieces-0.2.1: copy/register\r\nsafe-0.3.15: build\r\nsecuremem-0.1.9: configure\r\nsecuremem-0.1.9: build\r\nsetenv-0.1.1.3: configure\r\nsetenv-0.1.1.3: build\r\nsecuremem-0.1.9: copy/register\r\nsetenv-0.1.1.3: copy/register\r\ncrypto-cipher-types-0.0.9: configure\r\nsafe-0.3.15: copy/register\r\ncrypto-cipher-types-0.0.9: build\r\ncrypto-random-0.0.9: configure\r\ncrypto-random-0.0.9: build\r\nstm-chans-3.0.0.4: configure\r\ncrypto-cipher-types-0.0.9: copy/register\r\ncrypto-random-0.0.9: copy/register\r\ncrypto-api-0.13.2: copy/register\r\nstm-chans-3.0.0.4: build\r\ncipher-aes-0.2.11: configure\r\ncipher-aes-0.2.11: build\r\nvector-th-unbox-0.2.1.6: configure\r\nvector-th-unbox-0.2.1.6: build\r\nskein-1.0.9.4: configure\r\nstm-chans-3.0.0.4: copy/register\r\nskein-1.0.9.4: build\r\nmonad-logger-0.3.25.1: configure\r\nmonad-logger-0.3.25.1: build\r\nvector-th-unbox-0.2.1.6: copy/register\r\nmath-functions-0.2.1.0: configure\r\nmath-functions-0.2.1.0: build\r\ncipher-aes-0.2.11: copy/register\r\ncprng-aes-0.6.1: configure\r\ncprng-aes-0.6.1: build\r\nskein-1.0.9.4: copy/register\r\nmonad-logger-0.3.25.1: copy/register\r\ncprng-aes-0.6.1: copy/register\r\nclientsession-0.9.1.2: configure\r\nclientsession-0.9.1.2: build\r\nclientsession-0.9.1.2: copy/register\r\nmath-functions-0.2.1.0: copy/register\r\nmwc-random-0.13.6.0: configure\r\nmwc-random-0.13.6.0: build\r\nmwc-random-0.13.6.0: copy/register\r\nyesod-core-1.4.37: configure\r\nyesod-core-1.4.37: build\r\nyesod-core-1.4.37: copy/register\r\nkek-0.0.0: configure (lib + exe)\r\nConfiguring kek-0.0.0...\r\nkek-0.0.0: build (lib + exe)\r\nPreprocessing library kek-0.0.0...\r\n[1 of 4] Compiling Foundation       ( src/Foundation.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/Foundation.o )\r\n[2 of 4] Compiling Home             ( src/Home.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/Home.o )\r\n[3 of 4] Compiling Add              ( src/Add.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/Add.o )\r\n[4 of 4] Compiling Application      ( src/Application.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/Application.o )\r\nPreprocessing executable 'kek' for kek-0.0.0...\r\n[1 of 1] Compiling Main             ( app/Main.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/kek/kek-tmp/Main.o )\r\nLinking .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/kek/kek ...\r\nkek-0.0.0: copy/register\r\nInstalling library in\r\n/home/mirzaiev/me/haskell/webservices/kek/.stack-work/install/x86_64-linux-nopie/lts-9.14/8.0.2/lib/x86_64-linux-ghc-8.0.2/kek-0.0.0-5HgSD5li19RBhLdvc21rFF\r\nInstalling executable(s) in\r\n/home/mirzaiev/me/haskell/webservices/kek/.stack-work/install/x86_64-linux-nopie/lts-9.14/8.0.2/bin\r\nRegistering kek-0.0.0...\r\nCompleted 25 action(s).\r\n```\r\n\r\n\r\n\r\n<!---\r\n\r\n### Bug Reports\r\n\r\nReporting a bug? If relevant, we recommend including:\r\n\r\n* Your OS name and version\r\n* The versions of tools you're using (e.g. `stack`, `yesod` `ghc`).\r\n* The versions of dependencies you're using\r\n\r\nFor your convenience, we recommend pasting this script into bash and uploading the output [as a gist](https://gist.github.com/).\r\n\r\n```\r\ncommand -v sw_vers && sw_vers # OS X only\r\ncommand -v uname && uname -a # Kernel version\r\ncommand -v stack && stack --version\r\ncommand -v stack && stack ghc -- --version\r\ncommand -v stack && stack list-dependencies\r\ncommand -v yesod && yesod version\r\n```\r\n\r\n* Also, is there anything custom or unusual about your setup? i.e. new or prerelease versions of GHC, stack, etc.\r\n\r\n* Finally, if possible, please reproduce the error in a small script, or if necessary create a new Github repo with the smallest possible reproducing case. [Stack's scripting support](https://docs.haskellstack.org/en/stable/GUIDE/#script-interpreter) might be useful for creating your reproduction example.\r\n\r\n### Support\r\n\r\nPlease direct support questions to [Stack Overflow](https://stackoverflow.com/questions/tagged/yesod+haskell) or the [Yesod Google Group](https://groups.google.com/forum/#!forum/yesodweb). If you don't get a response there, or you suspect there may be a bug in Yesod causing your problem, you're welcome to ask here.\r\n-->\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1454","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1454/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1454/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1454/events","html_url":"https://github.com/yesodweb/yesod/issues/1454","id":273217714,"node_id":"MDU6SXNzdWUyNzMyMTc3MTQ=","number":1454,"title":"`byLabel` fails if multiple label names start with the given label name","user":{"login":"pythonissam","id":13606968,"node_id":"MDQ6VXNlcjEzNjA2OTY4","avatar_url":"https://avatars1.githubusercontent.com/u/13606968?v=4","gravatar_id":"","url":"https://api.github.com/users/pythonissam","html_url":"https://github.com/pythonissam","followers_url":"https://api.github.com/users/pythonissam/followers","following_url":"https://api.github.com/users/pythonissam/following{/other_user}","gists_url":"https://api.github.com/users/pythonissam/gists{/gist_id}","starred_url":"https://api.github.com/users/pythonissam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pythonissam/subscriptions","organizations_url":"https://api.github.com/users/pythonissam/orgs","repos_url":"https://api.github.com/users/pythonissam/repos","events_url":"https://api.github.com/users/pythonissam/events{/privacy}","received_events_url":"https://api.github.com/users/pythonissam/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-11-12T10:09:02Z","updated_at":"2018-02-11T08:22:04Z","closed_at":"2018-02-11T08:22:04Z","author_association":"CONTRIBUTOR","body":"ex.) Call `byLabel \"hobby\" \"fishing\"` and if the form has `<label for=\"hobby\">hobby</label>` and `<label for=\"hobby2\">hobby2</label>`. Then, it fails with `\"More than one label contained \"` **ALTHOUGH THEIR NAMES ARE DIFFERENT**.\r\n\r\n`Yesod.Test.byLabel` calls `nameFromLabel` in its definition. `nameFromLabel` looks up the name of a field based on the contents of the label pointing to it. In its definition, label names which start with `label` are assigned into `mlabel`\r\n\r\n```haskell\r\nmlabel = parseHTML body\r\n                $// C.element \"label\"\r\n                >=> contentContains label\r\n\r\ncontentContains x c\r\n        | x `T.isInfixOf` T.concat (c $// content) = [c]\r\n        | otherwise = []\r\n```\r\n\r\nThen, the definition follows:\r\n\r\n```haskell\r\nmfor = mlabel >>= attribute \"for\"\r\n\r\ncase mfor of\r\n    for:[] -> do\r\n      let mname = parseHTML body\r\n                    $// attributeIs \"id\" for\r\n                    >=> attribute \"name\"\r\n      case mname of\r\n        \"\":_ -> failure $ T.concat\r\n            [ \"Label \"\r\n            , label\r\n            , \" resolved to id \"\r\n            , for\r\n            , \" which was not found. \"\r\n            ]\r\n        name:_ -> return name\r\n        [] -> failure $ \"No input with id \" <> for\r\n    [] ->\r\n      case filter (/= \"\") $ mlabel >>= (child >=> C.element \"input\" >=> attribute \"name\") of\r\n        [] -> failure $ \"No label contained: \" <> label\r\n        name:_ -> return name\r\n    _ -> failure $ \"More than one label contained \" <> label\r\n```\r\n\r\nHere, the first example fails. Apparently, the cause is that we used `T.isInfixOf` in `contentContains` and not only `\"hobby\"`, but also `\"hobby2\"` is taken because it contains \"hobby\" at the beginning.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1452","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1452/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1452/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1452/events","html_url":"https://github.com/yesodweb/yesod/issues/1452","id":271150546,"node_id":"MDU6SXNzdWUyNzExNTA1NDY=","number":1452,"title":"Code of conduct needs work","user":{"login":"spdegabrielle","id":108047,"node_id":"MDQ6VXNlcjEwODA0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/108047?v=4","gravatar_id":"","url":"https://api.github.com/users/spdegabrielle","html_url":"https://github.com/spdegabrielle","followers_url":"https://api.github.com/users/spdegabrielle/followers","following_url":"https://api.github.com/users/spdegabrielle/following{/other_user}","gists_url":"https://api.github.com/users/spdegabrielle/gists{/gist_id}","starred_url":"https://api.github.com/users/spdegabrielle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spdegabrielle/subscriptions","organizations_url":"https://api.github.com/users/spdegabrielle/orgs","repos_url":"https://api.github.com/users/spdegabrielle/repos","events_url":"https://api.github.com/users/spdegabrielle/events{/privacy}","received_events_url":"https://api.github.com/users/spdegabrielle/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-11-04T00:16:47Z","updated_at":"2018-04-26T17:26:53Z","closed_at":"2017-12-10T16:23:05Z","author_association":"NONE","body":"https://github.com/yesodweb/yesod/blob/master/CODE_OF_CONDUCT.md\r\nIt’s good that it has been started. Consider copying a mature code of conduct and establishing appropriate governance to ensure it is enforced.\r\n","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1450","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1450/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1450/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1450/events","html_url":"https://github.com/yesodweb/yesod/issues/1450","id":270183247,"node_id":"MDU6SXNzdWUyNzAxODMyNDc=","number":1450,"title":"[For all yesodweb projects] Adding an PR/issue template","user":{"login":"MaxGabriel","id":1274145,"node_id":"MDQ6VXNlcjEyNzQxNDU=","avatar_url":"https://avatars3.githubusercontent.com/u/1274145?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGabriel","html_url":"https://github.com/MaxGabriel","followers_url":"https://api.github.com/users/MaxGabriel/followers","following_url":"https://api.github.com/users/MaxGabriel/following{/other_user}","gists_url":"https://api.github.com/users/MaxGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGabriel/subscriptions","organizations_url":"https://api.github.com/users/MaxGabriel/orgs","repos_url":"https://api.github.com/users/MaxGabriel/repos","events_url":"https://api.github.com/users/MaxGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGabriel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-11-01T03:30:57Z","updated_at":"2017-11-16T17:28:23Z","closed_at":"2017-11-16T17:28:23Z","author_association":"MEMBER","body":"@snoyberg's [recent blog post](https://www.snoyman.com/blog/2017/10/manipulating-maintainers) has a number of suggestions for improving bug reports:\r\n\r\n* \"include the error message, full code, OS, compiler version, and other such things\"\r\n* Be concise. Start off with the most highly pertinent information. Make it clear what you're trying to do. If you have a 400 line error message, perhaps put it in an lpaste or Gist and link to it.\r\n* Provide a minimal repro.\r\n* Make sure to mention any custom configuration.\r\n\r\nA potential way to get these quality bug reports for the yesodweb family of projects would be to have an issue template suggesting what information to include. This is done by creating a .github folder and including an [issue/PR template](https://github.com/blog/2111-issue-and-pull-request-templates) inside it. Rough example of what it would look like:\r\n\r\n>Reporting a bug? If relevant, we recommend including:\r\n>\r\n>* Your OS name and version\r\n>* The versions of tools you're using (e.g. `stack`, `yesod` `ghc`).\r\n>* The versions of dependencies you're using\r\n>\r\n>For your convenience, we recommend pasting this script into bash and uploading the output [as a gist](https://gist.github.com/).\r\n>\r\n>```\r\n>command -v sw_vers && sw_vers # OS X only\r\n>command -v uname && uname -a # Kernel version\r\n>command -v stack && stack --version\r\n>command -v stack && stack ghc -- --version\r\n>command -v stack && stack list-dependencies\r\n>command -v yesod && yesod version\r\n>```\r\n>\r\n> Also, is there anything custom or unusual about your setup? i.e. new or prerelease versions of GHC, stack, etc.\r\n>\r\n> Finally, if possible, please reproduce the error in a small script, or if necessary create a new Github repo with the smallest possible reproducing case.\r\n\r\nAn example of a project using such a template that I liked was Fish shell: https://github.com/fish-shell/fish-shell/issues/new\r\n\r\n<hr>\r\n\r\nFor pull requests, I think almost all first-time contributors to the Yesod family of projects miss one of these things:\r\n\r\n1. Updating the changelog\r\n2. Documenting new APIs\r\n3. Adding `@since` declarations\r\n\r\nWhich requires someone to ask for those changes. This introduces delays into getting PRs merged, wastes peoples time, might make the contributor frustrated that they have to make additional edits, and might make maintainers feel like they're nagging. An easy fix would be having those items as a checklist in the template for PRs like so:\r\n\r\n> Before submitting your PR, check that you've\r\n> \r\n> - [ ] Documented new APIs with Haddock markup\r\n> - [ ] Adding [`@since` declarations](http://haskell-haddock.readthedocs.io/en/latest/markup.html#since) to the Haddock \r\n>\r\n> After submitting your PR, make a new commit linking to that PR in the Changelog.md file:\r\n> - [ ] Updated the changelog \r\n>\r\n> Thanks so much for contributing! :)\r\n\r\n<hr>\r\n\r\nRelevant questions:\r\n\r\n1. Do you think this is a good idea?\r\n2. Is there any specific information you think should be included in either the issue or PR templates? Possible examples: Common questions like \"Are you using Stack or Cabal?\", or recommendations to try Stackoverflow/the Yesod mailing list for help before asking for help via Github issues\r\n3. Is there anything you'd want to avoid in the templates?\r\n\r\nThis issue is reported to `yesod`, but I think most of this is generic enough to paste into the other yesodweb projects. Possibly specific projects should have some custom information, like the Persistent repo explaining how to create a reproducible test case for Persistent.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1447","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1447/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1447/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1447/events","html_url":"https://github.com/yesodweb/yesod/issues/1447","id":261253323,"node_id":"MDU6SXNzdWUyNjEyNTMzMjM=","number":1447,"title":"Feature / Question: forcing a protocol in rendered URL","user":{"login":"netom","id":695195,"node_id":"MDQ6VXNlcjY5NTE5NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/695195?v=4","gravatar_id":"","url":"https://api.github.com/users/netom","html_url":"https://github.com/netom","followers_url":"https://api.github.com/users/netom/followers","following_url":"https://api.github.com/users/netom/following{/other_user}","gists_url":"https://api.github.com/users/netom/gists{/gist_id}","starred_url":"https://api.github.com/users/netom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netom/subscriptions","organizations_url":"https://api.github.com/users/netom/orgs","repos_url":"https://api.github.com/users/netom/repos","events_url":"h
7b66
ttps://api.github.com/users/netom/events{/privacy}","received_events_url":"https://api.github.com/users/netom/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-09-28T09:34:26Z","updated_at":"2017-11-03T09:10:34Z","closed_at":"2017-11-03T09:10:34Z","author_association":"NONE","body":"I'm running a toy site for instant messaging. It uses websockets.\r\n\r\nOne route in particular (WallR key) handles HTTP and Websocket traffic too, normally it returns some html and JS which in turn connects back on websocket (e.g.: https://donotsavemy.info/wall/thisisthekeyforthemessagewall123).\r\n\r\nIf I get the URL renderer function, it will always return an URL for the page with the https protocol. This is fine. :)\r\n\r\nHowever, I need a websocket (wss://) url to connect back to the server.\r\n\r\nAs one can see on the page above, I currently do this by monkey-patching the https://... url from javascript: ...replace(/^http/, \"ws\") which is I think less than optimal.\r\n\r\nIs it possible to get the URL renderer function to use one desired protocol?\r\n\r\nIf not, where this feature should go? Is this has a place in yesod, or yesod-websockets (to deal with ws/wss urls in particular)?\r\n\r\nThank you,\r\n\r\nTamas","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1445","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1445/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1445/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1445/events","html_url":"https://github.com/yesodweb/yesod/issues/1445","id":257254740,"node_id":"MDU6SXNzdWUyNTcyNTQ3NDA=","number":1445,"title":"yesod-simple: ELF section name out of range","user":{"login":"bradrn","id":17613703,"node_id":"MDQ6VXNlcjE3NjEzNzAz","avatar_url":"https://avatars1.githubusercontent.com/u/17613703?v=4","gravatar_id":"","url":"https://api.github.com/users/bradrn","html_url":"https://github.com/bradrn","followers_url":"https://api.github.com/users/bradrn/followers","following_url":"https://api.github.com/users/bradrn/following{/other_user}","gists_url":"https://api.github.com/users/bradrn/gists{/gist_id}","starred_url":"https://api.github.com/users/bradrn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradrn/subscriptions","organizations_url":"https://api.github.com/users/bradrn/orgs","repos_url":"https://api.github.com/users/bradrn/repos","events_url":"https://api.github.com/users/bradrn/events{/privacy}","received_events_url":"https://api.github.com/users/bradrn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2017-09-13T04:31:28Z","updated_at":"2017-09-14T10:48:41Z","closed_at":"2017-09-14T10:39:20Z","author_association":"NONE","body":"When I try to `stack build` the yesod-simple template, I get this error:\r\n```\r\n$ stack build\r\nyesod-static-1.5.3.1: configure\r\nyesod-static-1.5.3.1: build\r\nProgress: 0/3\r\n--  While building package yesod-static-1.5.3.1 using:\r\n      /home/bradn/.stack/setup-exe-cache/x86_64-linux/Cabal-simple_mPHDZzAJ_1.24.2.0_ghc-8.0.2 --builddir=.stack-work/dist/x86_64-linux/Cabal-1.24.2.0 build --ghc-options \" -ddump-hi -ddump-to-file\"\r\n    Process exited with code: ExitFailure 1\r\n    Logs have been written to: /home/bradn/Documents/Haskell/Yesod/scaffolded/.stack-work/logs/yesod-static-1.5.3.1.log\r\n\r\n    Configuring yesod-static-1.5.3.1...\r\n    Building yesod-static-1.5.3.1...\r\n    Preprocessing library yesod-static-1.5.3.1...\r\n    [1 of 7] Compiling Yesod.Static     ( Yesod/Static.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/Static.o )\r\n    [2 of 7] Compiling Yesod.EmbeddedStatic.Types ( Yesod/EmbeddedStatic/Types.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic/Types.o )\r\n    [3 of 7] Compiling Yesod.EmbeddedStatic.Internal ( Yesod/EmbeddedStatic/Internal.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic/Internal.o )\r\n    [4 of 7] Compiling Yesod.EmbeddedStatic.Generators ( Yesod/EmbeddedStatic/Generators.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic/Generators.o )\r\n    [5 of 7] Compiling Yesod.EmbeddedStatic ( Yesod/EmbeddedStatic.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic.o )\r\n    [6 of 7] Compiling Yesod.EmbeddedStatic.Css.Util ( Yesod/EmbeddedStatic/Css/Util.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic/Css/Util.o )\r\n    [7 of 7] Compiling Yesod.EmbeddedStatic.Css.AbsoluteUrl ( Yesod/EmbeddedStatic/Css/AbsoluteUrl.hs, .stack-work/dist/x86_64-linux/Cabal-1.24.2.0/build/Yesod/EmbeddedStatic/Css/AbsoluteUrl.o )\r\n    /usr/bin/ld: error: /home/bradn/.stack/snapshots/x86_64-linux/lts-9.2/8.0.2/lib/x86_64-linux-ghc-8.0.2/libHSlanguage-javascript-0.6.0.10-Ezx2Fisyp5jD0cJzGS7dUU-ghc8.0.2.so: ELF section name out of range\r\n    collect2: error: ld returned 1 exit status\r\n    `gcc' failed in phase `Linker'. (Exit code: 1)\r\nProgress: 1/3\r\n```","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1441","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1441/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1441/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1441/events","html_url":"https://github.com/yesodweb/yesod/issues/1441","id":254867115,"node_id":"MDU6SXNzdWUyNTQ4NjcxMTU=","number":1441,"title":"Proposal: Compile-time checking globally loaded scripts for Yesod","user":{"login":"owickstrom","id":1464328,"node_id":"MDQ6VXNlcjE0NjQzMjg=","avatar_url":"https://avatars2.githubusercontent.com/u/1464328?v=4","gravatar_id":"","url":"https://api.github.com/users/owickstrom","html_url":"https://github.com/owickstrom","followers_url":"https://api.github.com/users/owickstrom/followers","following_url":"https://api.github.com/users/owickstrom/following{/other_user}","gists_url":"https://api.github.com/users/owickstrom/gists{/gist_id}","starred_url":"https://api.github.com/users/owickstrom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owickstrom/subscriptions","organizations_url":"https://api.github.com/users/owickstrom/orgs","repos_url":"https://api.github.com/users/owickstrom/repos","events_url":"https://api.github.com/users/owickstrom/events{/privacy}","received_events_url":"https://api.github.com/users/owickstrom/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-09-03T10:47:45Z","updated_at":"2017-09-06T05:19:58Z","closed_at":"2017-09-06T05:19:58Z","author_association":"NONE","body":"This is more of a feature request/proposal than an issue. Or maybe just a discussion if this should go into Yesod, or in to a separate library. I have done some hacking to try out my ideas, available in this gist: https://gist.github.com/owickstrom/91615af9d0de89cf2107efaa57a8b019. The example does not build on Yesod, just to keep it simple and illustrate the technique. I hope it is clear enough, anyway. :smile: \r\n\r\n## Summary (same as in the gist)\r\n\r\nYesod has powerful features for including dynamic scripts, using widgets. In many cases this is exactly what I want, but in some, I want scripts to be loaded globally in all pages.\r\n\r\nThe primary motivation for globally loaded scripts, appearing in the `<head>` element in all pages, is for using something like PJAX, possibly together with HTML5 custom elements. I'd like to declare a number of custom elements, and only use HTML markup in the widgets using the custom elements, i.e. no dynamic script tags added to the page by the widgets. By doing so, the PJAX-variant could be much simpler, not having to inject scripts in the page sent in the PJAX response. All custom elements' Javascript would already be loaded, and the DOM insertions of the widget markup would trigger the scripts to run.\r\n\r\nA complication with these global scripts are that all _possibly needed scripts have to be loaded_. For this to be statically known, at compile-time, the globally loaded scripts need to represented in types somehow. This demonstration is a dumbed down version of Yesod, just to illustrate the design, and some machinery for associating global scripts with an application (Foundation type).\r\n\r\n\r\n## Questions/Remarks\r\n\r\n* Could this be integrated into Yesod itself, or should it be a separate library? The upside of integrating into Yesod would be not having to remember to also include the `scriptSources (globalScripts app)` in your code.\r\n* It only supports separate data types implementing `ScriptSource`, like `JQuery` and `MyCustomElements` from the example. It would be nice to support Yesod route types and be able to point to static assets, perhaps without the intermediate data type, e.g. `MyCustomElements`.\r\n* There's no support for local declarations of scripts, like `toWidget [hamlet| ... |]`. Not sure if it would be possible to do that using the Symbol kind. Such local scripts would then be globally added to all pages.\r\n* The term \"global\" might be confusing. What I mean is scripts that are loaded for all pages -- basically a way for widgets and handlers to signal that they require some script be included in the \"master\" layout.\r\n\r\nAny feedback on this would be very welcome! I can try creating a library first, as I need this for a work project, but it would be helpful to get some input before hacking away.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1440","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1440/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1440/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1440/events","html_url":"https://github.com/yesodweb/yesod/issues/1440","id":254865865,"node_id":"MDU6SXNzdWUyNTQ4NjU4NjU=","number":1440,"title":"Regression:  parseRoutes TH no longer accepts tab indentation","user":{"login":"mounty1","id":5706809,"node_id":"MDQ6VXNlcjU3MDY4MDk=","avatar_url":"https://avatars1.githubusercontent.com/u/5706809?v=4","gravatar_id":"","url":"https://api.github.com/users/mounty1","html_url":"https://github.com/mounty1","followers_url":"https://api.github.com/users/mounty1/followers","following_url":"https://api.github.com/users/mounty1/following{/other_user}","gists_url":"https://api.github.com/users/mounty1/gists{/gist_id}","starred_url":"https://api.github.com/users/mounty1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mounty1/subscriptions","organizations_url":"https://api.github.com/users/mounty1/orgs","repos_url":"https://api.github.com/users/mounty1/repos","events_url":"https://api.github.com/users/mounty1/events{/privacy}","received_events_url":"https://api.github.com/users/mounty1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-09-03T10:16:56Z","updated_at":"2017-10-27T08:51:23Z","closed_at":"2017-10-27T08:51:23Z","author_association":"NONE","body":"If the routes are indented by one or more tabs, the following error message is produced:\r\n\r\n    • Exception when trying to run compile-time code:\r\n        Invalid resource line\r\n\r\nWhen the tabs are replaced with spaces, the code is compled.\r\n\r\nI hope, I just hope, that this is an accident, and that Michael has not fallen for the current fascism of forbidding tabs because some people cannot work them.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1436","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1436/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1436/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1436/events","html_url":"https://github.com/yesodweb/yesod/issues/1436","id":253579807,"node_id":"MDU6SXNzdWUyNTM1Nzk4MDc=","number":1436,"title":"Proposal: expose Yesod.PasswordStore","user":{"login":"paul-rouse","id":3332071,"node_id":"MDQ6VXNlcjMzMzIwNzE=","avatar_url":"https://avatars1.githubusercontent.com/u/3332071?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rouse","html_url":"https://github.com/paul-rouse","followers_url":"https://api.github.com/users/paul-rouse/followers","following_url":"https://api.github.com/users/paul-rouse/following{/other_user}","gists_url":"https://api.github.com/users/paul-rouse/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rouse/subscriptions","organizations_url":"https://api.github.com/users/paul-rouse/orgs","repos_url":"https://api.github.com/users/paul-rouse/repos","events_url":"https://api.github.com/users/paul-rouse/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rouse/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-29T09:06:55Z","updated_at":"2017-08-29T14:21:54Z","closed_at":"2017-08-29T14:21:54Z","author_association":"CONTRIBUTOR","body":"The motivation for this is that `yesod-auth-hashdb` still uses `pwstore-fast`, but now that Yesod.PasswordStore has diverged significantly from it (#1399), with different dependencies, I would like to move over to using the same version as the core yesod-auth modules.\r\n\r\nI am quite happy to do a PR, of course, but I'd like to ask for some opinions first:\r\n  1. Are there any objections in principle?\r\n  2. Exposing it at the top level of the Yesod hierarchy seems slightly wrong to me - how about moving it to Yesod.Auth.Util.PasswordStore?","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1434","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1434/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1434/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1434/events","html_url":"https://github.com/yesodweb/yesod/issues/1434","id":252935197,"node_id":"MDU6SXNzdWUyNTI5MzUxOTc=","number":1434,"title":"Streaming pathtracer","user":{"login":"lobachevzky","id":10344742,"node_id":"MDQ6VXNlcjEwMzQ0NzQy","avatar_url":"https://avatars2.githubusercontent.com/u/10344742?v=4","gravatar_id":"","url":"https://api.github.com/users/lobachevzky","html_url":"https://github.com/lobachevzky","followers_url":"https://api.github.com/users/lobachevzky/followers","following_url":"https://api.github.com/users/lobachevzky/following{/other_user}","gists_url":"https://api.github.com/users/lobachevzky/gists{/gist_id}","starred_url":"https://api.github.com/users/lobachevzky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lobachevzky/subscriptions","organizations_url":"https://api.github.com/users/lobachevzky/orgs","repos_url":"https://api.github.com/users/lobachevzky/repos","events_url":"https://api.github.com/users/lobachevzky/events{/privacy}","received_events_url":"https://api.github.com/users/lobachevzky/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-08-25T15:22:33Z","updated_at":"2017-08-28T14:50:45Z","closed_at":"2017-08-28T14:50:45Z","author_association":"NONE","body":"I have written a pathtracer in Haskell and I would like to display the pathtraced images in a browser. My goal is for the image to dynamically change as follows:\r\n\r\n1. The pathtracer should iterate continuously and the image should update accordingly in the browser.\r\n2. The camera should be able to zoom and pan.\r\n3. Objects in the image should move in response to mouse clicks.\r\n\r\nI have read most of the yesod book and several of Mr. Snoyman's posts and presentations on conduits. However, I am a little new to web programming. These are my questions:\r\n\r\n1. Is Yesod a good tool for this or am I better off using a GUI-based approach, using libraries like Yampa, Reflex, or Reactive Banana?\r\n2. If I use Yesod, how would I actually get the image to update live? I have experimented a little with `respondSource` but I do not understand how to write streams to HTML content.\r\n\r\nI have mostly been experimenting with the following simple example:\r\n\r\n```haskell\r\ndata HelloWorld =\r\n  HelloWorld\r\n\r\nmkYesod\r\n  \"HelloWorld\"\r\n  [parseRoutes|\r\n/ HomeR GET\r\n|]\r\n\r\ninstance Yesod HelloWorld\r\n\r\ngetHomeR :: Handler TypedContent\r\ngetHomeR =\r\n  respondSource \"text/csv\" $ do\r\n    sendChunkText \"number,plus1\\n\"\r\n    forM_ [1 .. 100 :: Int] $ \\i -> do\r\n      threadDelay 1000000\r\n      sendChunkText $ mconcat [tshow i, \",\", tshow (i + 1), \"\\n\"]\r\n\r\n\r\nmain :: IO ()\r\nmain = warp 3000 HelloWorld\r\n```\r\n\r\nAs I'm sure you know, this just downloads a file when you navigate to `localhost:3000` in the browser. How would I get the browser to actually display this stream of numbers? Is this even the right starting point to eventually get a stream of images from my pathtracer to show up in a browser? \r\n\r\nThanks for your advice. Long live Haskell.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1431","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1431/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1431/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1431/events","html_url":"https://github.com/yesodweb/yesod/issues/1431","id":251248176,"node_id":"MDU6SXNzdWUyNTEyNDgxNzY=","number":1431,"title":"yesod-form: Reduce verbosity using Monadic Forms","user":{"login":"sestrella","id":2049686,"node_id":"MDQ6VXNlcjIwNDk2ODY=","avatar_url":"https://avatars2.githubusercontent.com/u/2049686?v=4","gravatar_id":"","url":"https://api.github.com/users/sestrella","html_url":"https://github.com/sestrella","followers_url":"https://api.github.com/users/sestrella/followers","following_url":"https://api.github.com/users/sestrella/following{/other_user}","gists_url":"https://api.github.com/users/sestrella/gists{/gist_id}","starred_url":"https://api.github.com/users/sestrella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sestrella/subscriptions","organizations_url":"https://api.github.com/users/sestrella/orgs","repos_url":"https://api.github.com/users/sestrella/repos","events_url":"https://api.github.com/users/sestrella/events{/privacy}","received_events_url":"https://api.github.com/users/sestrella/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-18T13:38:35Z","updated_at":"2017-08-22T12:57:41Z","closed_at":"2017-08-22T12:57:41Z","author_association":"CONTRIBUTOR","body":"Building forms where some fields validations depend on other fields is simple using Monadic Forms, but as the own Yesod website mentioned:\r\n\r\n> it does so at the cost of being more verbose.\r\n\r\nSome of this verbosity is caused by the need of grouping the `FiedView site` returned by either `mreq` or `mopt`. Also on the other hand, `formToAForm` requires a Monadic Form like `MForm m (FormResult a, [FieldView site])` to able to transform to `AForm m a`. Consider the following scenario:\r\n\r\n```hs\r\nformToAForm $ do\r\n  (field1F, field1V) <- mreq textField MsgField1 Nothing\r\n  (field2F, field2V) <- mreq (checkWith field1F textField) MsgField2 Nothing\r\n  (field3F, field3V) <- mreq (checkWith field1F textField) MsgField3 Nothing\r\n  return\r\n    ( MyForm <$> field1F\r\n                     <*> field2F\r\n                     <*> field3F\r\n    , [field1V, field2V, field3V]\r\n    )\r\n```\r\n\r\nWhile the previous example could be refactored to use Applicative Form style, it requires combining the fields in order to be able to run a custom check. Doing that for more than one field that depends on one value is a little bit tricky using Applicative style.\r\n\r\nI'll like to propose adding the following variant of a Monadic Form:\r\n\r\n```hs\r\ntype WForm m a = MForm (WriterT [FieldView (HandlerSite m)] m) a\r\n```\r\n\r\nAnd the correspondent `req` and `opt` functions like:\r\n\r\n```hs\r\nwreq :: (...) => Field m a -> FieldSettings site -> Maybe a -> WForm m (FormResult a)\r\n\r\nwopt :: (...) => Field m a -> FieldSettings site -> Maybe (Maybe a) -> WForm m (FormResult (Maybe a))\r\n\r\nwFormToAForm ::  WForm  m (FormResult a) -> AForm m a\r\n```\r\n\r\nThe example above then could be rewritten as follows:\r\n\r\n```hs\r\nwFormToAForm $ do\r\n  field1F <- wreq textField MsgField1 Nothing\r\n  field2F <- wreq (checkWith field1F textField) MsgField2 Nothing\r\n  field3F <- wreq (checkWith field1F textField) MsgField3 Nothing\r\n  return $\r\n      MyForm <$> field1F\r\n                    <*> field2F\r\n                    <*> field3F\r\n```\r\n\r\nI'll be more than happy to submit a PR if this proposal makes sense to the maintainers.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1430","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1430/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1430/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1430/events","html_url":"https://github.com/yesodweb/yesod/issues/1430","id":249856099,"node_id":"MDU6SXNzdWUyNDk4NTYwOTk=","number":1430,"title":"yesod-form: remove line break in postHelper function","user":{"login":"waddlaw","id":24648398,"node_id":"MDQ6VXNlcjI0NjQ4Mzk4","avatar_url":"https://avatars3.githubusercontent.com/u/24648398?v=4","gravatar_id":"","url":"https://api.github.com/users/waddlaw","html_url":"https://github.com/waddlaw","followers_url":"https://api.github.com/users/waddlaw/followers","following_url":"https://api.github.com/users/waddlaw/following{/other_user}","gists_url":"https://api.github.com/users/waddlaw/gists{/gist_id}","starred_url":"https://api.github.com/users/waddlaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waddlaw/subscriptions","organizations_url":"https://api.github.com/users/waddlaw/orgs","repos_url":"https://api.github.com/users/waddlaw/repos","events_url":"https://api.github.com/users/waddlaw/events{/privacy}","received_events_url":"https://api.github.com/users/waddlaw/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-08-13T06:40:32Z","updated_at":"2017-08-21T01:11:21Z","closed_at":"2017-08-21T01:11:21Z","author_association":"NONE","body":"It will be always added newline after input tag for token.\r\n\r\n```html\r\n<form method=\"post\" action=\"http://localhost:3000/contact\" enctype=\"application/x-www-form-urlencoded\"><input type=\"hidden\" name=\"_token\" value=\"xxxxxxx\">\r\n<div>\r\n<!-- folowing form html -->\r\n```\r\n\r\nThe cause is [postHelper](https://github.com/yesodweb/yesod/blob/master/yesod-form/Yesod/Form/Functions.hs#L219) function.\r\n\r\n```haskell\r\npostHelper form env = do\r\n    req <- getRequest\r\n    let tokenKey = defaultCsrfParamName\r\n    let token =\r\n            case reqToken req of\r\n                Nothing -> Data.Monoid.mempty\r\n                Just n -> [shamlet|<input type=hidden name=#{tokenKey} value=#{n}>|]\r\n```\r\n\r\nI think that better behave to add `$newline never` in `shamlet`.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1425","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1425/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1425/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1425/events","html_url":"https://github.com/yesodweb/yesod/issues/1425","id":246556029,"node_id":"MDU6SXNzdWUyNDY1NTYwMjk=","number":1425,"title":"Cassius/Lucius changes trigger recompilation","user":{"login":"alx741","id":2545720,"node_id":"MDQ6VXNlcjI1NDU3MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/2545720?v=4","gravatar_id":"","url":"https://api.github.com/users/alx741","html_url":"https://github.com/alx741","followers_url":"https://api.github.com/users/alx741/followers","following_url":"https://api.github.com/users/alx741/following{/other_user}","gists_url":"https://api.github.com/users/alx741/gists{/gist_id}","starred_url":"https://api.github.com/users/alx741/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alx741/subscriptions","organizations_url":"https://api.github.com/users/alx741/orgs","repos_url":"https://api.github.com/users/alx741/repos","events_url":"https://api.github.com/users/alx741/events{/privacy}","received_events_url":"https://api.github.com/users/alx741/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2017-07-30T01:32:49Z","updated_at":"2017-08-08T05:27:12Z","closed_at":"2017-08-08T05:27:12Z","author_association":"CONTRIBUTOR","body":"When a change is made in a `cassius` or `lucius` file, the change takes effect immediately and can be observed if the page is refresh within <1s after saving the change to the file (time in which `yesod devel` hasn't started recompilation yet). Although the change takes effect, `yesod devel` detects the change in the file system and triggers recompilation of the module that invokes the template file, forcing a ~10s *unnecessary* wait on the `The application isn’t built` page.\r\n\r\nAfter saving the change in the template file, the output of `yesod devel` is:\r\n> [ 9 of 11] Compiling Handler.Home     ( src/Handler/Home.hs, .stack-work/dist/x86_64-linux-nopie/Cabal-1.24.2.0/build/Handler/Home.o ) [templates/homepage.lucius changed]\r\n\r\nFollowed by usual recompilation output.\r\n\r\nA few months ago a change in a `cassius` or `lucius` file didn't use to trigger recompilation (reload mode).\r\nNot sure if this new behavior arises from a yesod-bin, or scaffolding update though.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1423","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1423/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1423/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1423/events","html_url":"https://github.com/yesodweb/yesod/issues/1423","id":244611940,"node_id":"MDU6SXNzdWUyNDQ2MTE5NDA=","number":1423,"title":"yesod-persistent's persistent version requirement on hackage is confused","user":{"login":"QuLogic","id":302469,"node_id":"MDQ6VXNlcjMwMjQ2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/302469?v=4","gravatar_id":"","url":"https://api.github.com/users/QuLogic","html_url":"https://github.com/QuLogic","followers_url":"https://api.github.com/users/QuLogic/followers","following_url":"https://api.github.com/users/QuLogic/following{/other_user}","gists_url":"https://api.github.com/users/QuLogic/gists{/gist_id}","starred_url":"https://api.github.com/users/QuLogic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QuLogic/subscriptions","organizations_url":"https://api.github.com/users/QuLogic/orgs","repos_url":"https://api.github.com/users/QuLogic/repos","events_url":"https://api.github.com/users/QuLogic/events{/privacy}","received_events_url":"https://api.github.com/users/QuLogic/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-07-21T09:20:27Z","updated_at":"2017-11-07T23:37:32Z","closed_at":"2017-11-07T23:37:32Z","author_association":"CONTRIBUTOR","body":"If you look at [the dependencies](https://hackage.haskell.org/package/yesod-persistent-1.4.2/dependencies), it says:\r\n* persistent (>=2.1 && <2.8)\r\n* persistent-template (>=2.1 && <2.8)\r\n\r\nbut if you look at the [cabal file in the tarball](https://hackage.haskell.org/package/yesod-persistent-1.4.2/src/yesod-persistent.cabal), it says:\r\n```haskell\r\n                   , persistent                >= 2.1      && < 2.7\r\n                   , persistent-template       >= 2.1      && < 2.7\r\n```\r\nConsequently, one cannot build `yesod-persistent-1.4.2` against `persistent-2.7`.","score":1.0},{"url":"https://api.github.com/repos/yesodweb/yesod/issues/1422","repository_url":"https://api.github.com/repos/yesodweb/yesod","labels_url":"https://api.github.com/repos/yesodweb/yesod/issues/1422/labels{/name}","comments_url":"https://api.github.com/repos/yesodweb/yesod/issues/1422/comments","events_url":"https://api.github.com/repos/yesodweb/yesod/issues/1422/events","html_url":"https://github.com/yesodweb/yesod/issues/1422","id":243920675,"node_id":"MDU6SXNzdWUyNDM5MjA2NzU=","number":1422,"title":"yesod-test error messages are not localizable","user":{"login":"sestrella","id":2049686,"node_id":"MDQ6VXNlcjIwNDk2ODY=","avatar_url":"https://avatars2.githubusercontent.com/u/2049686?v=4","gravatar_id":"","url":"https://api.github.com/users/sestrella","html_url":"https://github.com/sestrella","followers_url":"https://api.github.com/users/sestrella/followers","following_url":"https://api.github.com/users/sestrella/following{/other_user}","gists_url":"https://api.github.com/users/sestrella/gists{/gist_id}","starred_url":"https://api.github.com/users/sestrella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sestrella/subscriptions","organizations_url":"https://api.github.com/users/sestrella/orgs","repos_url":"https://api.github.com/users/sestrella/repos","events_url":"https://api.github.com/users/sestrella/events{/privacy}","received_events_url":"https://api.github.com/users/sestrella/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-07-19T04:40:42Z","updated_at":"2017-07-21T15:25:50Z","closed_at":"2017-07-21T15:25:50Z","author_association":"CONTRIBUTOR","body":"`yesod-test` current error messages looks like follows:\r\n\r\n```\r\n./Yesod/Test.hs:351: \r\n  1) testing status code\r\n       Expected status was 401 but received status was 400\r\n```\r\nThe error message is not easy to localize since it points to the module and line number where the assertion is defined instead of the place where it is called.","score":1.0}]}
0

