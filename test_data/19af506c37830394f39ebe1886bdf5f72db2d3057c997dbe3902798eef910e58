HTTP/1.1 200 OK
Transfer-Encoding: chunked
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: ETag, Link, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Cache-Control: no-cache
Content-Security-Policy: default-src 'none'
Content-Type: application/json; charset=utf-8
Date: Sun, 13 May 2018 13:08:02 GMT
Link: <https://api.github.com/search/issues?q=repo%3Atreefrogframework%2Ftreefrog-framework+type%3Aissue+state%3Aclosed&page=2>; rel="next", <https://api.github.com/search/issues?q=repo%3Atreefrogframework%2Ftreefrog-framework+type%3Aissue+state%3Aclosed&page=4>; rel="last"
Referrer-Policy: origin-when-cross-origin, strict-origin-when-cross-origin
Server: GitHub.com
Status: 200 OK
Strict-Transport-Security: max-age=31536000; includeSubdomains; preload
X-Accepted-Oauth-Scopes: 
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Github-Media-Type: github.v3; format=json
X-Github-Request-Id: D086:4F40:2601FCF:573B0F2:5AF838B1
X-Oauth-Scopes: 
X-Ratelimit-Limit: 30
X-Ratelimit-Remaining: 28
X-Ratelimit-Reset: 1526216942
X-Runtime-Rack: 0.396309
X-Xss-Protection: 1; mode=block

8000
{"total_count":111,"incomplete_results":false,"items":[{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/201","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/201/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/201/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/201/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/201","id":314099139,"number":201,"title":"TreeFrog stops writing logs just after server start","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-13T13:03:57Z","updated_at":"2018-04-17T05:23:35Z","closed_at":"2018-04-17T05:22:50Z","author_association":"NONE","body":"This happens only on some machines with Windows.\r\nTreeFrog writes only 1-2 lines in treefrog.log and next log mesages \r\ndoes not appear in log (both in release and debug mode).\r\n\r\nIt turned out that this was due to incorrect checking\r\nof WriteFile() error code in the TFileAioWriter::write() function.\r\nTreeFrog shouldn't check GetLastError() after WriteFile(), if WriteFile() succeed.\r\nI my case WriteFile() returns TRUE (success), but GetLastError() gives ERROR_ALREADY_EXISTS.\r\n\r\nHere is a similar problem I experience:\r\nhttp://microsoft.public.win32.programmer.kernel.narkive.com/NOV4blbZ/writefile-causes-getlasterror-to-return-183-cannot-create-a-file-when-that-file-already-exists\r\n\r\nSo the code should look like this (sorry I have no time to create a pull request)\r\n```\r\n// tfileaiowriter_win.cpp, line 99\r\n\r\nint TFileAioWriter::write(const char *data, int length)\r\n{\r\n    // ...\r\n\r\n    if (!WriteFile(d->fileHandle, ab->aio_buf, (DWORD)len, NULL, &ab->aio_overlap)) {\r\n        if (GetLastError() != ERROR_IO_PENDING) {\r\n            //fprintf(stderr, \"WriteFile error str: %s\\n\", data);\r\n            delete (char *)ab->aio_buf;\r\n            delete ab;\r\n\r\n            close();\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    // ....\r\n}\r\n\r\n```\r\n\r\nConfig:\r\nWindows 7 x64\r\nMSVC 2015 32-bit\r\nQt 5.9.4\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/198","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/198/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/198/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/198/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/198","id":311060454,"number":198,"title":"Accept-Range Support expect!","user":{"login":"AnsonRR","id":19593932,"avatar_url":"https://avatars3.githubusercontent.com/u/19593932?v=4","gravatar_id":"","url":"https://api.github.com/users/AnsonRR","html_url":"https://github.com/AnsonRR","followers_url":"https://api.github.com/users/AnsonRR/followers","following_url":"https://api.github.com/users/AnsonRR/following{/other_user}","gists_url":"https://api.github.com/users/AnsonRR/gists{/gist_id}","starred_url":"https://api.github.com/users/AnsonRR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnsonRR/subscriptions","organizations_url":"https://api.github.com/users/AnsonRR/orgs","repos_url":"https://api.github.com/users/AnsonRR/repos","events_url":"https://api.github.com/users/AnsonRR/events{/privacy}","received_events_url":"https://api.github.com/users/AnsonRR/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-04T02:10:19Z","updated_at":"2018-04-17T01:08:55Z","closed_at":"2018-04-17T01:08:55Z","author_association":"NONE","body":"Dear author,Is treefrog support \"Accept-Range\"? When i play a MIME resource，i cannt seek or sometime player frozen at the play beginning，so，is treefrog already supported it or it well be in the future?","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/197","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/197/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/197/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/197","id":302654851,"number":197,"title":"项目部署","user":{"login":"AnsonRR","id":19593932,"avatar_url":"https://avatars3.githubusercontent.com/u/19593932?v=4","gravatar_id":"","url":"https://api.github.com/users/AnsonRR","html_url":"https://github.com/AnsonRR","followers_url":"https://api.github.com/users/AnsonRR/followers","following_url":"https://api.github.com/users/AnsonRR/following{/other_user}","gists_url":"https://api.github.com/users/AnsonRR/gists{/gist_id}","starred_url":"https://api.github.com/users/AnsonRR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnsonRR/subscriptions","organizations_url":"https://api.github.com/users/AnsonRR/orgs","repos_url":"https://api.github.com/users/AnsonRR/repos","events_url":"https://api.github.com/users/AnsonRR/events{/privacy}","received_events_url":"https://api.github.com/users/AnsonRR/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-06T10:58:40Z","updated_at":"2018-03-14T15:00:41Z","closed_at":"2018-03-14T15:00:41Z","author_association":"NONE","body":"当我在WindowsServer上部署我的工程的时候，我把Qt的.dll拷贝到了Treefrog/bin下面，把libmysql.dll、qsqlmysql.dll都拷贝到了Treefrog/bin下面，treefrog能正常启动，为什么MYSQL driver总是提示加载失败，我这样做对吗？不对的话，我改如何做，不现在尚不清除treefrog加载库的逻辑？能否告知一下，我只是想联系到你，这是我的邮箱rs472714695@foxmail.com，我希望得到你的回复，非常感谢！","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/194","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/194/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/194/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/194/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/194","id":290792155,"number":194,"title":"ドクターは一括でゴミ箱に捨てることが可能","user":{"login":"treefrogframework","id":2995876,"avatar_url":"https://avatars0.githubusercontent.com/u/2995876?v=4","gravatar_id":"","url":"https://api.github.com/users/treefrogframework","html_url":"https://github.com/treefrogframework","followers_url":"https://api.github.com/users/treefrogframework/followers","following_url":"https://api.github.com/users/treefrogframework/following{/other_user}","gists_url":"https://api.github.com/users/treefrogframework/gists{/gist_id}","starred_url":"https://api.github.com/users/treefrogframework/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treefrogframework/subscriptions","organizations_url":"https://api.github.com/users/treefrogframework/orgs","repos_url":"https://api.github.com/users/treefrogframework/repos","events_url":"https://api.github.com/users/treefrogframework/events{/privacy}","received_events_url":"https://api.github.com/users/treefrogframework/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-23T10:54:10Z","updated_at":"2018-01-23T10:54:37Z","closed_at":"2018-01-23T10:54:37Z","author_association":"OWNER","body":"あ\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/193","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/193/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/193/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/193/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/193","id":290724162,"number":193,"title":"Dynamic link to mongo-c-driver","user":{"login":"treefrogframework","id":2995876,"avatar_url":"https://avatars0.githubusercontent.com/u/2995876?v=4","gravatar_id":"","url":"https://api.github.com/users/treefrogframework","html_url":"https://github.com/treefrogframework","followers_url":"https://api.github.com/users/treefrogframework/followers","following_url":"https://api.github.com/users/treefrogframework/following{/other_user}","gists_url":"https://api.github.com/users/treefrogframework/gists{/gist_id}","starred_url":"https://api.github.com/users/treefrogframework/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treefrogframework/subscriptions","organizations_url":"https://api.github.com/users/treefrogframework/orgs","repos_url":"https://api.github.com/users/treefrogframework/repos","events_url":"https://api.github.com/users/treefrogframework/events{/privacy}","received_events_url":"https://api.github.com/users/treefrogframework/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-23T06:35:25Z","updated_at":"2018-03-25T00:13:55Z","closed_at":"2018-03-25T00:13:55Z","author_association":"OWNER","body":"TODO: Dynamic link to mongo-c-driver","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/192","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/192/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/192/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/192/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/192","id":288726636,"number":192,"title":"Add short information in docs how to debug websockets in QtCreator","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-01-15T21:57:14Z","updated_at":"2018-02-03T09:17:56Z","closed_at":"2018-02-03T09:17:56Z","author_association":"NONE","body":"Recently, there have been several questions on the TreeFrog forum regarding\r\ndebugging websockets in QtCreator:\r\n\r\nhttps://groups.google.com/forum/#!topic/treefrogframework/deKoB9FazX4\r\nhttps://groups.google.com/forum/#!topic/treefrogframework/uvrU52o0IMc\r\n\r\nI remember I had the same problem described here: https://github.com/treefrogframework/treefrog-framework/issues/140 \r\n\r\nSo I thought it would be good if one of the the following pages:\r\n\r\nhttp://www.treefrogframework.org/en/user-guide/debug/\r\nhttp://www.treefrogframework.org/en/user-guide/websocket/\r\n\r\nhad a brief information that in order to debug a project containing websockets,\r\nyou must start the treefrog server: \r\n`treefrogd -e dev` \r\nand then attach to tadpoled process.\r\n\r\nSo that new users of TreeFrog will not encounter the same problems in the future.\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/191","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/191/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/191/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/191/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/191","id":285648916,"number":191,"title":"how to get all table's field column when use setjoin()?","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-01-03T10:33:07Z","updated_at":"2018-01-23T09:10:37Z","closed_at":"2018-01-23T09:10:37Z","author_association":"CONTRIBUTOR","body":"Now sqlormapper  template only return one table's field. \r\nif want to get some fields from joined table and get some fields from  join table also, how to do?\r\nI think if we can use setjoin on two table,  that means we need to get both of them once.\r\n\r\n```c++\r\ntemplate <class T>\r\ninline T TSqlORMapper<T>::value(int i) const\r\n{\r\n    T rec;\r\n    if (i >= 0 && i < rowCount()) {\r\n        rec.setRecord(record(i), QSqlError());\r\n    } else {\r\n        tSystemDebug(\"no such record, index: %d  rowCount:%d\", i, rowCount());\r\n    }\r\n    return rec;\r\n}\r\n```\r\nsetRecord() ignore  other table's fields, only table T.","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/189","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/189/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/189/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/189/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/189","id":285248606,"number":189,"title":"ApplicationController::staticRelease() method should be called when event loop is available","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-12-31T09:28:31Z","updated_at":"2018-01-23T06:58:30Z","closed_at":"2018-01-23T06:58:30Z","author_association":"NONE","body":"This is because there is no way to free resources of job schedulers.\r\n\r\nSince there is no official example of TScheduler class I had to find myself how to start and stop job schedulers. So I tried the following ways:\r\n\r\nFirst, my job scheduler:\r\n\r\n```\r\nclass MyScheduledJob : public TScheduler\r\n{\r\npublic:\r\n     MyScheduledJob(QObject *parent=NULL) : TScheduler(parent) {\r\n        tInfo(\"MyScheduledJob\");\r\n     }\r\n  ~MyScheduledJob() {\r\n        tInfo(\"~MyScheduledJob\");\r\n    }\r\n\r\nprotected:\r\n    void job() {\r\n        tInfo(\"MyScheduledJob::job()\");\r\n    }\r\n}\r\n```\r\n\r\n**Case 1. Declare job scheduler as member of ApplicationController.**\r\n\r\nThis doesn't work - the docs says that the controller should not have member variables (last paragraph of http://www.treefrogframework.org/en/user-guide/controller/)\r\n\r\n**Case 2. Declare job scheduler as static member in ApplicationController:**\r\n\r\n```\r\nclass T_CONTROLLER_EXPORT ApplicationController : public TActionController\r\n{\r\n    Q_OBJECT\r\npublic:\r\n    ApplicationController()\r\n        : TActionController() { }\r\npublic slots:\r\n    void staticInitialize();\r\n    void staticRelease();\r\nprivate:\r\n    static MyScheduledJob m_myScheduledJob;\r\n};\r\n\r\nMyScheduledJob ApplicationController::m_myScheduledJob;\r\n\r\nvoid ApplicationController::staticInitialize()\r\n{\r\n    m_myScheduledJob.start(60*1000);\r\n}\r\nvoid ApplicationController::staticRelease()\r\n{\r\n    m_myScheduledJob.stop();\r\n}\r\n```\r\nThe above code crashes my unit test at startup when controller.dll is loaded - I link my unit test with controller library (mytest.pro):\r\n\r\nLIBS += -L$$PWD/../lib -lcontroller -lhelper -lmodel -lview\r\n\r\n**Case 3. Declare job scheduler as static pointer member in ApplicationController:**\r\n\r\n```\r\nclass T_CONTROLLER_EXPORT ApplicationController : public TActionController\r\n{\r\n    Q_OBJECT\r\npublic:\r\n    ApplicationController()\r\n        : TActionController() { }\r\npublic slots:\r\n    void staticInitialize();\r\n    void staticRelease();\r\nprivate:\r\n    static MyScheduledJob *m_myScheduledJob;\r\n};\r\n\r\nMyScheduledJob ApplicationController::*m_myScheduledJob = NULL;\r\n\r\nvoid ApplicationController::staticInitialize()\r\n{\r\n    m_myScheduledJob = new MyScheduledJob();\r\n    m_myScheduledJob->start(60*1000);\r\n}\r\nvoid ApplicationController::staticRelease()\r\n{\r\n    m_myScheduledJob->stop();\r\n    delete m_myScheduledJob;\r\n}\r\n```\r\n\r\nThis works, but I get the following warning in treefrog.log:\r\n\r\n> WARN  [7760] QObject::killTimer: Timers cannot be stopped from another thread (kernel\\qobject.cpp:1688 void __thiscall QObject::killTimer(int))\r\n> WARN  [7760] QObject::~QObject: Timers cannot be stopped from another thread (kernel\\qobject.cpp:247 __thiscall QObjectPrivate::~QObjectPrivate(void))\r\n\r\n**Case 4. Same as case 3 but use deleteLater() instead of delete.**\r\n\r\n```\r\nMyScheduledJob ApplicationController::*m_myScheduledJob = NULL;\r\n\r\nvoid ApplicationController::staticInitialize()\r\n{\r\n        m_myScheduledJob = new MyScheduledJob();\r\n        m_myScheduledJob->start(60*1000);\r\n}\r\nvoid ApplicationController::staticRelease()\r\n{\r\n    m_myScheduledJob->stop();\r\n    m_myScheduledJob->deleteLater();\r\n}\r\n```\r\n\r\nWorks, but the destructor of MyScheduledJob is not called and causes a memory leak.\r\nThis is because the staticRelease() is called when the main event loop has already stopped (see http://doc.qt.io/qt-5/qobject.html#deleteLater)\r\n\r\n**My suggested solution:**\r\n\r\nIn order the case 4 to work the ApplicationController::staticRelease() should be called when event loop is still running, possibly by connecting to QCoreApplication::aboutToQuit() signal (http://doc.qt.io/qt-5/qcoreapplication.html#aboutToQuit).\r\n\r\nThe change should be done in main():\r\nhttps://github.com/treefrogframework/treefrog-framework/blob/master/tools/tfserver/main.cpp\r\n\r\n```\r\nint main(int argc, char *argv[])\r\n{\r\n    TWebApplication webapp(argc, argv);\r\n    TApplicationServerBase *server = 0;\r\n\r\n    // ....\r\n\r\n    if (!server->start(debug)) {\r\n        tSystemError(\"Server open failed\");\r\n        fprintf(stderr, \"Server open failed\\n\");\r\n        goto finish;\r\n    }\r\n\r\n    ret = webapp.exec();        // runs the event loop\r\n    server->stop();             // this calls ApplicationController::staticRelease(),\r\n                                // when the event loop has already stopped.\r\n                                // SUGGESTED SOLUTION:\r\n                                // Try change these lines to (not tested):\r\n                                //  connect(&webapp, SIGNAL(aboutToQuit()),\r\n                                            server, SLOT(deleteLater()));\r\n                                // ret = webapp.exec(); \r\n                                // and make sure the the destructor of server\r\n                                // ~TThreadApplicationServer() calls stop()\r\nfinish:\r\n    // Release loggers\r\n    Tf::releaseAppLoggers();\r\n    Tf::releaseQueryLogger();\r\n    Tf::releaseAccessLogger();\r\n    Tf::releaseSystemLogger();\r\n\r\n    _exit(ret);\r\n    return ret;\r\n}\r\n```\r\nBTW: There is no `delete server` after `server->stop() `- another memory leak ?\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/188","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/188/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/188/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/188/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/188","id":285236817,"number":188,"title":"need sqlormapper new function setSelectedFields","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-31T03:01:26Z","updated_at":"2018-01-23T09:09:43Z","closed_at":"2018-01-23T09:09:43Z","author_association":"CONTRIBUTOR","body":"current sqlormapper  all ways get all fields from a table when run query.\r\nin case the table have many fields, but you just want to one or two, current ormapper's query get too many  unnecessary fileds. \r\nso if the ormapper could set the fields you want to get, could  improve the performance.","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/187","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/187/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/187/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/187/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/187","id":282625876,"number":187,"title":"should return 500 or 404? when access a url with a doesn't exist action(current return 500).","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-12-16T14:09:48Z","updated_at":"2018-01-23T09:16:12Z","closed_at":"2018-01-23T09:16:12Z","author_association":"CONTRIBUTOR","body":"such as, Acontroller have 2 actions: B/C,\r\nif access url A/D, D is not a action. the status is 500, rather 404. \r\nDoes this should be change?  \r\nSometimes, source code is typing error in the url , if status is 404, could let develop more quickly found the error. ","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/185","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/185/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/185/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/185/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/185","id":279095427,"number":185,"title":"missing files when using TfTest","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-04T18:15:34Z","updated_at":"2017-12-09T04:25:53Z","closed_at":"2017-12-09T04:25:53Z","author_association":"CONTRIBUTOR","body":"Missing these files:\r\nthazardptr.h/thazardobject.h/tstack.h/tkvsdatabasepool.h/tsqldatabasepool.h \r\nI need copy them form the src folder  to the install folder.\r\nplease confirm it. ","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/184","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/184/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/184/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/184/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/184","id":278199816,"number":184,"title":"Process job another thread ","user":{"login":"mobilemindtec","id":8561714,"avatar_url":"https://avatars1.githubusercontent.com/u/8561714?v=4","gravatar_id":"","url":"https://api.github.com/users/mobilemindtec","html_url":"https://github.com/mobilemindtec","followers_url":"https://api.github.com/users/mobilemindtec/followers","following_url":"https://api.github.com/users/mobilemindtec/following{/other_user}","gists_url":"https://api.github.com/users/mobilemindtec/gists{/gist_id}","starred_url":"https://api.github.com/users/mobilemindtec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mobilemindtec/subscriptions","organizations_url":"https://api.github.com/users/mobilemindtec/orgs","repos_url":"https://api.github.com/users/mobilemindtec/repos","events_url":"https://api.github.com/users/mobilemindtec/events{/privacy}","received_events_url":"https://api.github.com/users/mobilemindtec/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-30T17:12:24Z","updated_at":"2018-01-04T13:47:12Z","closed_at":"2018-01-04T13:47:12Z","author_association":"NONE","body":"Hi,\r\n\r\nWhy can't I create a new thread to process data of MongoDB? For example:\r\n\r\n```\r\n// run into job\r\nvoid TestTimer::job(){\r\n    QThread *t = new QThread(NULL);\r\n    TestTimer *timer = new TestTimer();\r\n    QObject::connect(t, SIGNAL(started()), timer, SLOT(test()));\r\n    t->start();\r\n    QThread::currentThread()->sleep(2);\r\n}\r\n\r\nvoid TestTimer::test(){\r\n    qint32 count = 0;\r\n    auto query = TMongoQuery(\"applicationpool\");\r\n    if(query.find()){\r\n        while(query.next()){\r\n            auto value = query.value();\r\n            tDebug() << value[\"name\"];\r\n            count++;\r\n        }\r\n\r\n        tDebug() << \"no has next \" << count;\r\n\r\n    } else {\r\n        tDebug() << \"no has find\";\r\n    }\r\n}\r\n```\r\n\r\nThis code causes this error:\r\n\r\n```\r\n2017-11-30 14:53:55 ERROR [28255] tfserver error detected(1). [/usr/bin/tadpole]\r\n2017-11-30 14:53:55 ERROR [28255] Detected a server crashed. exitCode:6  exitStatus:1\r\n2017-11-30 14:53:56 WARN  [28255] treefrog stderr: terminate called after throwing an instance of 'RuntimeException'\r\n  what():  std::exception\r\n\r\n2017-11-30 14:53:56 ERROR [29364] Aborted at 1512060836 (unix time) try \"date -d @1512060836\" if you are usin
8000
g GNU date\r\nSIGABRT (@0x3e8000072b4) received by PID 29364 (TID 29364) ; stack trace:\r\nPC: @     0x7f3e370de067  (unknown)\r\n    @     0x7f3e37c85890  (unknown)\r\n    @     0x7f3e370de067  (unknown)\r\n    @     0x7f3e370df448  (unknown)\r\n    @     0x7f3e379cbb3d  (unknown)\r\n    @     0x7f3e379c9bb6  (unknown)\r\n    @     0x7f3e379c9c01  (unknown)\r\n    @     0x7f3e379c9e19  (unknown)\r\n    @     0x7f3e3948b6bf  (unknown)\r\n    @     0x7f3e394dd351  (unknown)\r\n    @     0x7f3e32c36860  TestTimer::test()\r\n    @     0x7f3e32c3732b  TestTimer::qt_static_metacall()\r\n    @     0x7f3e381373c1  (unknown)\r\n    @     0x7f3e3810bea3  (unknown)\r\n    @     0x7f3e3810e54b  (unknown)\r\n    @     0x7f3e3815ead3  (unknown)\r\n    @     0x7f3e34354c5d  (unknown)\r\n    @     0x7f3e34354f48  (unknown)\r\n    @     0x7f3e34354ffc  (unknown)\r\n    @     0x7f3e3815e11f  (unknown)\r\n    @     0x7f3e3810a4aa  (unknown)\r\n    @     0x7f3e38112d34  (unknown)\r\n    @     0x7f3e39415740  (unknown)\r\n    @           0x4037dd  (unknown)\r\n    @     0x7f3e370cab45  (unknown)\r\n    @           0x403b97  (unknown)\r\n    @                0x0  (unknown)\r\n```\r\n\r\nI'm trying to make a email sender app. This app receive emails from many applications to dispatch. Each app have an different  email configuration, and each app run in a job `TScheduler`. Apparently, all jobs run in same thread and `TMongoQuery` is not threadsafe, right? This concurrency causes a strange behavior, so I need to run each Job in one thread, but this way does not work. How can I achieve?","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/183","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/183/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/183/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/183","id":275346476,"number":183,"title":"Help: error LNK2019 using Qt 5.9.2 with msvc2017-x86. ","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-20T12:56:33Z","updated_at":"2017-12-15T08:52:39Z","closed_at":"2017-12-15T08:52:39Z","author_association":"CONTRIBUTOR","body":"Once include one sqlobjects header to one controller source file, \"error LNK2019 : unresolved external symbol\" comes out.  \r\nwhat should I do?  I just feel using mingw32-make compile is too slowly, so I try to use ms nmake. \r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/181","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/181/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/181/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/181/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/181","id":272824954,"number":181,"title":"Suggestion: new TrimMode for <script type=\"text/javascript\">js code</script>","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-10T05:39:29Z","updated_at":"2017-11-10T15:49:36Z","closed_at":"2017-11-10T15:49:36Z","author_association":"CONTRIBUTOR","body":"If write some js code directly with  <script type=\"text/javascript\">js code</script> in ERB,  in order to make them readable, normally these js code is beautified/tidied, the result is a lot blank space or tab in each line of the js code.  all blank space or tab of these js code be take into c++ source file also.\r\nso i think, if tamke could remove them, the source file would be shorter and clean.\r\n ","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/180","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/180/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/180/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/180/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/180","id":271492861,"number":180,"title":"Missing include files when building unit test","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-11-06T14:26:23Z","updated_at":"2017-12-06T22:22:03Z","closed_at":"2017-12-06T22:22:03Z","author_association":"NONE","body":"I created unit test for my project following the directions on this page:\r\nhttp://www.treefrogframework.org/en/user-guide/test/\r\n\r\nBut when I build it, I get this error:\r\n![tf1](https://user-images.githubusercontent.com/9396016/32445182-4860776a-c305-11e7-9957-2cfe4aca40d9.png)\r\n\r\nI checked TFDIR\\include directory, and there is no tkvsdatabasepool.h and tsqldatabasepool.h files.\r\nIt seems that qmake && nmake install commands don't copy these files from src directory.\r\n\r\nConfig:\r\nWindows 10 x64\r\nTreeFrog 1.19.0\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/179","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/179/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/179/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/179/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/179","id":267410586,"number":179,"title":"Get raw body","user":{"login":"mobilemindtec","id":8561714,"avatar_url":"https://avatars1.githubusercontent.com/u/8561714?v=4","gravatar_id":"","url":"https://api.github.com/users/mobilemindtec","html_url":"https://github.com/mobilemindtec","followers_url":"https://api.github.com/users/mobilemindtec/followers","following_url":"https://api.github.com/users/mobilemindtec/following{/other_user}","gists_url":"https://api.github.com/users/mobilemindtec/gists{/gist_id}","starred_url":"https://api.github.com/users/mobilemindtec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mobilemindtec/subscriptions","organizations_url":"https://api.github.com/users/mobilemindtec/orgs","repos_url":"https://api.github.com/users/mobilemindtec/repos","events_url":"https://api.github.com/users/mobilemindtec/events{/privacy}","received_events_url":"https://api.github.com/users/mobilemindtec/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-10-21T20:12:31Z","updated_at":"2017-11-06T15:55:09Z","closed_at":"2017-11-06T15:55:09Z","author_association":"NONE","body":"How do I get the raw body from HttpRequest? I need to implement hmac validation on json data, also to generate a hash I need the original raw json content. If I extract the hmac hash from `httpRequest().jsonData()` it fails, because `json.toBinaryData()` fields' order is different than received. Can I get the raw body data from HttpRequest?\r\n\r\nThanks!","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/177","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/177/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/177/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/177/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/177","id":263618077,"number":177,"title":"Csrf + ajax","user":{"login":"mobilemindtec","id":8561714,"avatar_url":"https://avatars1.githubusercontent.com/u/8561714?v=4","gravatar_id":"","url":"https://api.github.com/users/mobilemindtec","html_url":"https://github.com/mobilemindtec","followers_url":"https://api.github.com/users/mobilemindtec/followers","following_url":"https://api.github.com/users/mobilemindtec/following{/other_user}","gists_url":"https://api.github.com/users/mobilemindtec/gists{/gist_id}","starred_url":"https://api.github.com/users/mobilemindtec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mobilemindtec/subscriptions","organizations_url":"https://api.github.com/users/mobilemindtec/orgs","repos_url":"https://api.github.com/users/mobilemindtec/repos","events_url":"https://api.github.com/users/mobilemindtec/events{/privacy}","received_events_url":"https://api.github.com/users/mobilemindtec/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-07T05:25:22Z","updated_at":"2017-10-21T19:57:22Z","closed_at":"2017-10-21T19:57:22Z","author_association":"NONE","body":"Hi!\r\n\r\nI'm getting this exception `Caught SecurityException: Invalid authenticity token` but I do not know what happening.\r\n\r\n1 - Enable csrf protection\r\n2 - Render the view \"a\"\r\n3 - Call ajax another view \"b\" to populate select\r\n4 - Post \"a\" data, without ajax\r\n5 - the exception is throw\r\n\r\nThis did should work, right? It looks like the ajax call to view \"b\" is changeging the view \"a\" csrf token.\r\n\r\nThanks!\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/176","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/176/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/176/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/176/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/176","id":261531147,"number":176,"title":"Question: TFSESSION string very long when store with cookie, is it normal?","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-09-29T04:50:26Z","updated_at":"2017-10-02T03:33:48Z","closed_at":"2017-10-02T03:33:48Z","author_association":"CONTRIBUTOR","body":"Set-Cookie:TFSESSION=0000000b000000400065003200620032003600640039003400370034003000310061003900630039003400330062003500330038003800390034003800370036003600340064003900000002000000000100000040006400350061003600620032006400370062006400390066003400370063003900340066006500340065003500350030006200620065006400630063003200630000000200000000010000001a00630075007200720065006e00740055007300650072005a00680000000a00000000067ba1740654580000001a00630075007200720065006e00740055007300650072004900640000000200000000010000001a00630075007200720065006e007400550073006500720045006e0000000a000000000a00410064006d0069006e0000001c005f006c006f00670069006e0055007300650072004e0061006d00650000000a000000000a00610064006d0069006e0000000e005f0063007300720066004900640000000c0000000028613064373966373534613637346438303435313738653362333962353662333633383965393632330000004000340036003100350039006600360035003200380030003500340034003300320035003400310061006500320030003700650061003800370032003800300065000000020000000001000000400033006300650036006300640039006200620064003000640030003900380065003200320031006400330038003900610039006300610038006300640064003000000002000000000100000040003200650061003300660039003900330037006300650064003200630036003100340038003100310033003600390036003000610066003300320031003800320000000200000000010000004000320031006300650033006600310065003100630063006300350035003000300032003900610064003300640038003600640061003300380030003000320038000000020000000001_e6004daf1bc67dc79a0add5deaf256d1b0069dc0; HttpOnly; path=/","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/173","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/173/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/173/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/173/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/173","id":254767604,"number":173,"title":"Missing return statement in TUrlRoute::findRouting()","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-01T22:50:16Z","updated_at":"2017-09-04T08:38:27Z","closed_at":"2017-09-04T08:38:27Z","author_association":"NONE","body":"src/turlroute.cpp, line 157:\r\n\r\nif (_routes.isEmpty()) {\r\n     TRouting();      // MISSING return\r\n}\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/172","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/172/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/172/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/172/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/172","id":254651252,"number":172,"title":"Duplicate QDir::separator in TSqlQuery::queryDirPath()","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-01T14:05:29Z","updated_at":"2017-09-04T06:39:06Z","closed_at":"2017-09-04T06:39:06Z","author_association":"CONTRIBUTOR","body":"```C++\r\nQString TSqlQuery::queryDirPath() const\r\n{\r\n    QString dir = Tf::app()->webRootPath() + QDir::separator() + Tf::appSettings()->value(Tf::SqlQueriesStoredDirectory).toString();\r\n\r\n    dir.replace(QChar('/'), QDir::separator());\r\n    return dir;\r\n}\r\n```\r\n```C++\r\nQDir webRoot(webRootAbsolutePath);\r\n    if (webRoot.exists()) {\r\n        webRootAbsolutePath = webRoot.absolutePath() + QDir::separator();\r\n    }\r\n```\r\ntreefrog.log is \r\n2017-09-01 21:39:15 DEBUG [10868] filename: C:/Users/Administrator/Desktop/test//sql/ajax.sql","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/171","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/171/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/171/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/171/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/171","id":254545809,"number":171,"title":"TWebApplication without delete loggerSetting/validationSetting/mediaTypes/set/mongoSetting/redisSetting pointer","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-01T06:14:09Z","updated_at":"2018-01-20T03:11:59Z","closed_at":"2018-01-20T03:11:59Z","author_association":"CONTRIBUTOR","body":"In other .cpp files, there have qAddPostRoutine(fnc) to do the pointers cleans up.\r\nbut I didn't see it in TWebApplication.","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/170","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/170/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/170/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/170","id":253991480,"number":170,"title":"Socket write error message in log when sending empty response body","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-30T13:03:17Z","updated_at":"2017-09-02T21:51:09Z","closed_at":"2017-09-02T21:51:09Z","author_association":"NONE","body":"I get warnings in app.log:\r\n\r\n> 2017-08-30 13:58:27.639 WARN  [11144] socket write error: total:0 (0)\r\n> 2017-08-30 14:01:45.563 WARN  [11352] socket write error: total:0 (0)\r\n> 2017-08-30 14:05:45.497 WARN  [12580] socket write error: total:0 (0)\r\n> 2017-08-30 14:08:22.743 WARN  [13944] socket write error: total:0 (0)\r\n> 2017-08-30 14:14:01.300 WARN  [13944] socket write error: total:0 (0)\r\n\r\nwhen I set empty response body in my controller:\r\n\r\n`httpResponse().setBody(QByteArray(\"\"));\r\n`\r\n\r\nThe problem is in the following code (thttpsocket.cpp, line 139):\r\n\r\n```\r\nqint64 written = QTcpSocket::write(data + total, qMin(size - total, WRITE_LENGTH));\r\nif (Q_UNLIKELY(written <= 0)) {\r\n    tWarn(\"socket write error: total:%d (%d)\", (int)total, (int)written);\r\n    return -1;\r\n}\r\n```\r\n\r\nPlease change condition from:\r\n`if (Q_UNLIKELY(written <= 0)) {`\r\nto:\r\n`if (Q_UNLIKELY(written < 0)) {`\r\n\r\nQTcpSocket::write(const char *data, qint64 maxSize) returns -1 on error, see Qt documentation.\r\n\r\n\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/169","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/169/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/169/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/169/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/169","id":253854169,"number":169,"title":"Warning: Faild to find xxx.moc When run make in views directory.","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-08-30T01:48:44Z","updated_at":"2017-09-14T15:23:37Z","closed_at":"2017-09-14T15:23:37Z","author_association":"CONTRIBUTOR","body":"In ViewConverter\r\n```c++\r\nbool ViewConverter::createSourceList(const QStringList &classNameList, const QStringList &viewFileList) const\r\n{\r\n    QString string;\r\n    for (const auto &c : classNameList) {\r\n        string += QLatin1String(\"HEADERS += \");\r\n        string += c;\r\n        string += QLatin1String(\".moc\\nSOURCES += \");\r\n        string += c;\r\n        string += QLatin1String(\".cpp\\n\");\r\n    }\r\n\r\n    if (! viewFileList.isEmpty()) {\r\n        string += QLatin1String(\"\\n# include view files in the project\\n\");\r\n        for (const auto &v : viewFileList) {\r\n            string += QLatin1String(\"views.files += \");\r\n            string += v;\r\n            string += '\\n';\r\n        }\r\n        string += QLatin1String(\"views.path = .dummy\\n\");\r\n        string += QLatin1String(\"INSTALLS += views\\n\");\r\n    }\r\n    return write(outputDir.filePath(\"source.list\"), string);\r\n}\r\n```\r\nDoes it really need add \".moc\" to the HEADERS? Without moc in HEADERS, it could also works and have no error message: Warning: Faild to find xxx.moc.\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/168","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/168/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/168/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/168/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/168","id":253658219,"number":168,"title":"HTTP 304 response must not contain message-body","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-29T13:23:52Z","updated_at":"2017-09-02T21:50:36Z","closed_at":"2017-09-02T21:50:36Z","author_association":"NONE","body":"See explanation:\r\nhttps://serverfault.com/questions/168345/sending-content-message-body-along-with-304-not-modified-header\r\n\r\nAlso Content-Type and Content-Lenght should not be sent - see what headers are sent by Apache HTTP Server. \r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/164","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/164/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/164/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/164/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/164","id":253296605,"number":164,"title":"Treefrog running as Windows Service not stopped correctly","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-28T11:06:05Z","updated_at":"2017-09-04T10:06:48Z","closed_at":"2017-09-04T10:06:48Z","author_association":"NONE","body":"Sometimes when Treefrog service is stopped from SCM, service status changes to STOPPED, but treefrog.exe process is still running for about 30 seconds. This happens very rarely (1 in 10 times or less)\r\n\r\nI spent last two days to track this bug and found that the code executed after call SetServiceStatus(statusHandle, SERVICE_STOPPED) in winServiceMain() might not be executed at all,\r\nso not all resources/locks might be freed by Treefrog.\r\n\r\nAccording to MSDN documentation:\r\n\r\n> Do not attempt to perform any additional work after calling SetServiceStatus with SERVICE_STOPPED, because the service process can be terminated at any time.\r\n\r\nLink:\r\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/ms686241(v=vs.85).aspx\r\n\r\nHere is current implementation of Treefrog winServiceMain():\r\n\r\n```\r\nvoid WINAPI winServiceMain(DWORD, LPTSTR *)\r\n{\r\n    // ...\r\n\r\n    // Service status\r\n    serviceStatus.dwCurrentState = SERVICE_RUNNING;\r\n    SetServiceStatus(statusHandle, &serviceStatus);\r\n\r\n    // Main function\r\n    // ....\r\n\r\n    // Service status\r\n    s
309e
erviceStatus.dwCurrentState = SERVICE_STOPPED;\r\n    serviceStatus.dwWin32ExitCode = ret;\r\n    SetServiceStatus(statusHandle, &serviceStatus);\r\n    tSystemInfo(\"Windows service stopped\");            <-- This code might not be executed\r\n}\r\n```\r\n\r\nI added the following lines after tSystemInfo(\"Windows service stopped\") for debugging:\r\n\r\n```\r\n    QFile f(\"D:/file.txt\"); \r\n    if (f.open(QIODevice::WriteOnly))\r\n    {\r\n        f.write(\"test\");\r\n        f.flush();\r\n    }\r\n```\r\n\r\nand file.txt sometimes was created, sometimes not, and sometimes it was empty.\r\n\r\nSo I suggest to print message and close system log before SetServiceStatus(), like this:\r\n\r\n```\r\nvoid WINAPI winServiceMain(DWORD, LPTSTR *)\r\n{\r\n    // ...\r\n\r\n    // Service status\r\n    serviceStatus.dwCurrentState = SERVICE_RUNNING;\r\n    SetServiceStatus(statusHandle, &serviceStatus);\r\n\r\n    // Main function\r\n    // ....\r\n\r\n    tSystemInfo(\"Windows service stopped\");\r\n    Tf::releaseSystemLogger();\r\n\r\n    // Service status\r\n    serviceStatus.dwCurrentState = SERVICE_STOPPED;\r\n    serviceStatus.dwWin32ExitCode = ret;\r\n    SetServiceStatus(statusHandle, &serviceStatus);\r\n}\r\n```\r\n\r\nAnd add check:\r\n```\r\nif (!isOpen())\r\n return;\r\n```\r\nat the beginning of TFileAioWriter::close() to prevent it to execute from destructor of systemLog global variable.\r\n\r\nService install command:\r\n`sc create MyService DisplayName= \"MyService\" start= auto binPath= \"\\\"C:\\TreeFrog\\1.18.0\\bin\\treefrog.exe\\\" -w -e product \\\"C:\\Users\\Administrator\\Documents\\QtProjects\\TreeFrog\\MyServiceProject\"\" depend= RpcSs/Tcpip obj= LocalSystem`\r\n\r\nConfig:\r\nWindows 10\r\nTreefrog 1.18.0\r\nMSVC2015 + Qt 5.9\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/163","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/163/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/163/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/163/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/163","id":253240136,"number":163,"title":"All helper header auto included in to each view source file.","user":{"login":"hks2002","id":8808496,"avatar_url":"https://avatars0.githubusercontent.com/u/8808496?v=4","gravatar_id":"","url":"https://api.github.com/users/hks2002","html_url":"https://github.com/hks2002","followers_url":"https://api.github.com/users/hks2002/followers","following_url":"https://api.github.com/users/hks2002/following{/other_user}","gists_url":"https://api.github.com/users/hks2002/gists{/gist_id}","starred_url":"https://api.github.com/users/hks2002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hks2002/subscriptions","organizations_url":"https://api.github.com/users/hks2002/orgs","repos_url":"https://api.github.com/users/hks2002/repos","events_url":"https://api.github.com/users/hks2002/events{/privacy}","received_events_url":"https://api.github.com/users/hks2002/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-08-28T06:43:28Z","updated_at":"2018-01-20T03:08:08Z","closed_at":"2018-01-20T03:08:08Z","author_association":"CONTRIBUTOR","body":"tmake auto include all helper header to all views source file. \r\nEven all validators, one validator is normally used for one form. \r\nmaybe let developer manually include these helper headers as required is better.","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/162","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/162/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/162/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/162/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/162","id":253086102,"number":162,"title":"Allow access to POSTed data other than 'application/json' and 'application/x-www-form-url-encoded'","user":{"login":"proostas","id":5458475,"avatar_url":"https://avatars2.githubusercontent.com/u/5458475?v=4","gravatar_id":"","url":"https://api.github.com/users/proostas","html_url":"https://github.com/proostas","followers_url":"https://api.github.com/users/proostas/followers","following_url":"https://api.github.com/users/proostas/following{/other_user}","gists_url":"https://api.github.com/users/proostas/gists{/gist_id}","starred_url":"https://api.github.com/users/proostas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/proostas/subscriptions","organizations_url":"https://api.github.com/users/proostas/orgs","repos_url":"https://api.github.com/users/proostas/repos","events_url":"https://api.github.com/users/proostas/events{/privacy}","received_events_url":"https://api.github.com/users/proostas/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-08-26T11:37:00Z","updated_at":"2017-11-08T16:05:55Z","closed_at":"2017-11-08T16:05:55Z","author_association":"NONE","body":"Now the handler just ignores other types with `tSystemWarn(\"unsupported content-type: %s\", qPrintable(ctype));`\r\n\r\nBut it would be more flexible to give a user (especially if Treefrog is used as an application server) the opportunity to decide what to do with the raw unknown data without trying to parse it. Maybe write it to a file and store the path `httpRequest()->rawDataPath()` or something like that. To prevent possible system overload or DDoS attacks, it could be configurable in the config file, e.g. `StoreUnknownTypesOnDisk=true`, with default false.\r\n\r\nIt would be a nice improvement as it doesn't make TreeFrog support a particular type internally and allows devs to deal with as many custom types as they can think about. That is, your type - your responsibility how to parse it.","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/161","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/161/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/161/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/161/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/161","id":252591588,"number":161,"title":"HTTP 500 status code sent for empty files","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-24T12:52:35Z","updated_at":"2017-08-26T20:39:55Z","closed_at":"2017-08-26T20:39:55Z","author_association":"NONE","body":"To reproduce this bug:\r\n1. Create empty file in TreeFrog /public directory named empty.txt\r\n2. Visit URL http://localhost:8800/empty.txt in web browser\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/160","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/160/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/160/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/160/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/160","id":252540802,"number":160,"title":"Increase wait time for stopping treefrog daemon","user":{"login":"AmiArt","id":9396016,"avatar_url":"https://avatars0.githubusercontent.com/u/9396016?v=4","gravatar_id":"","url":"https://api.github.com/users/AmiArt","html_url":"https://github.com/AmiArt","followers_url":"https://api.github.com/users/AmiArt/followers","following_url":"https://api.github.com/users/AmiArt/following{/other_user}","gists_url":"https://api.github.com/users/AmiArt/gists{/gist_id}","starred_url":"https://api.github.com/users/AmiArt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AmiArt/subscriptions","organizations_url":"https://api.github.com/users/AmiArt/orgs","repos_url":"https://api.github.com/users/AmiArt/repos","events_url":"https://api.github.com/users/AmiArt/events{/privacy}","received_events_url":"https://api.github.com/users/AmiArt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-24T09:27:51Z","updated_at":"2017-08-26T20:25:01Z","closed_at":"2017-08-26T20:25:01Z","author_association":"NONE","body":"When I use command 'treefrog.exe -k stop <application_dir>' I always get message:\r\n\r\n`TreeFrog application servers shutdown failed`\r\n\r\nafter 10 seconds. But my treefrog daemon needs ~13 sec to stop (I use both HTTP and WebSockets connections). Please increase time in waitForTerminated() (tools/tfmanager/main.cpp, line 384).\r\n\r\nConfig:\r\nWindows 10\r\nTreeFrog 1.18.0\r\nQt 5.9 + MSVC2015 x32\r\n","score":1.0},{"url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/159","repository_url":"https://api.github.com/repos/treefrogframework/treefrog-framework","labels_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/159/labels{/name}","comments_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/159/comments","events_url":"https://api.github.com/repos/treefrogframework/treefrog-framework/issues/159/events","html_url":"https://github.com/treefrogframework/treefrog-framework/issues/159","id":247940192,"number":159,"title":"Don't print usage with qDebug","user":{"login":"cheese","id":303331,"avatar_url":"https://avatars0.githubusercontent.com/u/303331?v=4","gravatar_id":"","url":"https://api.github.com/users/cheese","html_url":"https://github.com/cheese","followers_url":"https://api.github.com/users/cheese/followers","following_url":"https://api.github.com/users/cheese/following{/other_user}","gists_url":"https://api.github.com/users/cheese/gists{/gist_id}","starred_url":"https://api.github.com/users/cheese/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheese/subscriptions","organizations_url":"https://api.github.com/users/cheese/orgs","repos_url":"https://api.github.com/users/cheese/repos","events_url":"https://api.github.com/users/cheese/events{/privacy}","received_events_url":"https://api.github.com/users/cheese/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-04T08:40:42Z","updated_at":"2017-11-07T22:43:26Z","closed_at":"2017-11-07T22:43:26Z","author_association":"NONE","body":"On some systems like Fedora, qDebug is ignored by default globally. So --help command of the tools will print nothing.\r\nPrinting to stdout is better.","score":1.0}]}
0

